{"version":3,"file":"AuthWithPasswordDocs-CRjh170N.js","sources":["../../src/components/collections/docs/AuthWithPasswordDocs.svelte"],"sourcesContent":["<script>\n    import CodeBlock from \"@/components/base/CodeBlock.svelte\";\n    import FieldsQueryParam from \"@/components/collections/docs/FieldsQueryParam.svelte\";\n    import SdkTabs from \"@/components/base/SdkTabs.svelte\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    export let collection;\n\n    let responseTab = 200;\n    let responses = [];\n\n    $: backendAbsUrl = CommonHelper.getApiExampleUrl(ApiClient.baseURL);\n\n    $: identityFields = collection?.passwordAuth?.identityFields || [];\n\n    $: exampleIdentityLabel =\n        identityFields.length == 0 ? \"NONE\" : \"YOUR_\" + identityFields.join(\"_OR_\").toUpperCase();\n\n    $: responses = [\n        {\n            code: 200,\n            body: JSON.stringify(\n                {\n                    token: \"JWT_TOKEN\",\n                    record: CommonHelper.dummyCollectionRecord(collection),\n                },\n                null,\n                2,\n            ),\n        },\n        {\n            code: 400,\n            body: `\n                {\n                  \"status\": 400,\n                  \"message\": \"Failed to authenticate.\",\n                  \"data\": {\n                    \"identity\": {\n                      \"code\": \"validation_required\",\n                      \"message\": \"Missing required value.\"\n                    }\n                  }\n                }\n            `,\n        },\n    ];\n</script>\n\n<h3 class=\"m-b-sm\">Auth with password ({collection.name})</h3>\n<div class=\"content txt-lg m-b-sm\">\n    <p>\n        Authenticate with combination of\n        <strong>{identityFields.join(\"/\")}</strong> and <strong>password</strong>.\n    </p>\n</div>\n\n<SdkTabs\n    js={`\n        import PocketBase from 'pocketbase';\n\n        const pb = new PocketBase('${backendAbsUrl}');\n\n        ...\n\n        const authData = await pb.collection('${collection?.name}').authWithPassword(\n            '${exampleIdentityLabel}',\n            'YOUR_PASSWORD',\n        );\n\n        // after the above you can also access the auth data from the authStore\n        console.log(pb.authStore.isValid);\n        console.log(pb.authStore.token);\n        console.log(pb.authStore.record.id);\n\n        // \"logout\"\n        pb.authStore.clear();\n    `}\n    dart={`\n        import 'package:pocketbase/pocketbase.dart';\n\n        final pb = PocketBase('${backendAbsUrl}');\n\n        ...\n\n        final authData = await pb.collection('${collection?.name}').authWithPassword(\n          '${exampleIdentityLabel}',\n          'YOUR_PASSWORD',\n        );\n\n        // after the above you can also access the auth data from the authStore\n        print(pb.authStore.isValid);\n        print(pb.authStore.token);\n        print(pb.authStore.record.id);\n\n        // \"logout\"\n        pb.authStore.clear();\n    `}\n/>\n\n<h6 class=\"m-b-xs\">API details</h6>\n<div class=\"alert alert-success\">\n    <strong class=\"label label-primary\">POST</strong>\n    <div class=\"content\">\n        <p>\n            /api/collections/<strong>{collection.name}</strong>/auth-with-password\n        </p>\n    </div>\n</div>\n\n<div class=\"section-title\">Body Parameters</div>\n<table class=\"table-compact table-border m-b-base\">\n    <thead>\n        <tr>\n            <th>Param</th>\n            <th>Type</th>\n            <th width=\"50%\">Description</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>\n                <div class=\"inline-flex\">\n                    <span class=\"label label-success\">Required</span>\n                    <span>identity</span>\n                </div>\n            </td>\n            <td>\n                <span class=\"label\">String</span>\n            </td>\n            <td>\n                {#each identityFields as name, i}\n                    {#if i > 0}or{/if}\n                    <strong>{name}</strong>\n                {/each}\n                of the record to authenticate.\n            </td>\n        </tr>\n        <tr>\n            <td>\n                <div class=\"inline-flex\">\n                    <span class=\"label label-success\">Required</span>\n                    <span>password</span>\n                </div>\n            </td>\n            <td>\n                <span class=\"label\">String</span>\n            </td>\n            <td>The auth record password.</td>\n        </tr>\n    </tbody>\n</table>\n\n<div class=\"section-title\">Query parameters</div>\n<table class=\"table-compact table-border m-b-base\">\n    <thead>\n        <tr>\n            <th>Param</th>\n            <th>Type</th>\n            <th width=\"60%\">Description</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>expand</td>\n            <td>\n                <span class=\"label\">String</span>\n            </td>\n            <td>\n                Auto expand record relations. Ex.:\n                <CodeBlock content={`?expand=relField1,relField2.subRelField`} />\n                Supports up to 6-levels depth nested relations expansion. <br />\n                The expanded relations will be appended to the record under the\n                <code>expand</code> property (eg. <code>{`\"expand\": {\"relField1\": {...}, ...}`}</code>).\n                <br />\n                Only the relations to which the request user has permissions to <strong>view</strong> will be expanded.\n            </td>\n        </tr>\n        <FieldsQueryParam prefix=\"record.\" />\n    </tbody>\n</table>\n\n<div class=\"section-title\">Responses</div>\n<div class=\"tabs\">\n    <div class=\"tabs-header compact combined left\">\n        {#each responses as response (response.code)}\n            <button\n                class=\"tab-item\"\n                class:active={responseTab === response.code}\n                on:click={() => (responseTab = response.code)}\n            >\n                {response.code}\n            </button>\n        {/each}\n    </div>\n    <div class=\"tabs-content\">\n        {#each responses as response (response.code)}\n            <div class=\"tab-item\" class:active={responseTab === response.code}>\n                <CodeBlock content={response.body} />\n            </div>\n        {/each}\n    </div>\n</div>\n"],"names":["ctx","if_block","create_if_block","insert","target","strong","anchor","set_data","t1","t1_value","t0_value","button","dirty","t0","div","codeblock_changes","t16_value","_a","_b","i","get_key","get_key_1","h3","div0","append","p0","strong0","strong1","h6","div2","strong2","div1","p1","strong3","div3","table0","thead0","tbody0","tr1","td0","td1","td2","tr2","div6","table1","thead1","tbody1","tr4","td6","td7","td8","br0","code0","code1","br1","strong4","div7","div10","div8","div9","current","t5","t5_value","t16","collection","$$props","responseTab","responses","response","identityFields","exampleIdentityLabel","CommonHelper","$$invalidate","backendAbsUrl","ApiClient"],"mappings":"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"}