{"version":3,"file":"EmailChangeDocs-CYJzDVw_.js","sources":["../../src/components/collections/docs/EmailChangeApiConfirmDocs.svelte","../../src/components/collections/docs/EmailChangeApiRequestDocs.svelte","../../src/components/collections/docs/EmailChangeDocs.svelte"],"sourcesContent":["<script>\n    import CodeBlock from \"@/components/base/CodeBlock.svelte\";\n\n    export let collection;\n\n    let responseTab = 204;\n    let responses = [];\n\n    $: responses = [\n        {\n            code: 204,\n            body: \"null\",\n        },\n        {\n            code: 400,\n            body: `\n                {\n                  \"status\": 400,\n                  \"message\": \"An error occurred while validating the submitted data.\",\n                  \"data\": {\n                    \"token\": {\n                      \"code\": \"validation_required\",\n                      \"message\": \"Missing required value.\"\n                    }\n                  }\n                }\n            `,\n        },\n    ];\n</script>\n\n<div class=\"alert alert-success\">\n    <strong class=\"label label-primary\">POST</strong>\n    <div class=\"content\">\n        <p>\n            /api/collections/<strong>{collection.name}</strong>/confirm-email-change\n        </p>\n    </div>\n</div>\n\n<div class=\"section-title\">Body Parameters</div>\n<table class=\"table-compact table-border m-b-base\">\n    <thead>\n        <tr>\n            <th>Param</th>\n            <th>Type</th>\n            <th width=\"50%\">Description</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>\n                <div class=\"inline-flex\">\n                    <span class=\"label label-success\">Required</span>\n                    <span>token</span>\n                </div>\n            </td>\n            <td>\n                <span class=\"label\">String</span>\n            </td>\n            <td>The token from the change email request email.</td>\n        </tr>\n        <tr>\n            <td>\n                <div class=\"inline-flex\">\n                    <span class=\"label label-success\">Required</span>\n                    <span>password</span>\n                </div>\n            </td>\n            <td>\n                <span class=\"label\">String</span>\n            </td>\n            <td>The account password to confirm the email change.</td>\n        </tr>\n    </tbody>\n</table>\n\n<div class=\"section-title\">Responses</div>\n<div class=\"tabs\">\n    <div class=\"tabs-header compact combined left\">\n        {#each responses as response (response.code)}\n            <button\n                class=\"tab-item\"\n                class:active={responseTab === response.code}\n                on:click={() => (responseTab = response.code)}\n            >\n                {response.code}\n            </button>\n        {/each}\n    </div>\n    <div class=\"tabs-content\">\n        {#each responses as response (response.code)}\n            <div class=\"tab-item\" class:active={responseTab === response.code}>\n                <CodeBlock content={response.body} />\n            </div>\n        {/each}\n    </div>\n</div>\n","<script>\n    import CodeBlock from \"@/components/base/CodeBlock.svelte\";\n\n    export let collection;\n\n    let responseTab = 204;\n    let responses = [];\n\n    $: responses = [\n        {\n            code: 204,\n            body: \"null\",\n        },\n        {\n            code: 400,\n            body: `\n                {\n                  \"status\": 400,\n                  \"message\": \"An error occurred while validating the submitted data.\",\n                  \"data\": {\n                    \"newEmail\": {\n                      \"code\": \"validation_required\",\n                      \"message\": \"Missing required value.\"\n                    }\n                  }\n                }\n            `,\n        },\n        {\n            code: 401,\n            body: `\n                {\n                  \"status\": 401,\n                  \"message\": \"The request requires valid record authorization token to be set.\",\n                  \"data\": {}\n                }\n            `,\n        },\n        {\n            code: 403,\n            body: `\n                {\n                  \"status\": 403,\n                  \"message\": \"The authorized record model is not allowed to perform this action.\",\n                  \"data\": {}\n                }\n            `,\n        },\n    ];\n</script>\n\n<div class=\"alert alert-success\">\n    <strong class=\"label label-primary\">POST</strong>\n    <div class=\"content\">\n        <p>\n            /api/collections/<strong>{collection.name}</strong>/request-email-change\n        </p>\n    </div>\n    <p class=\"txt-hint txt-sm txt-right\">Requires <code>Authorization:TOKEN</code></p>\n</div>\n\n<div class=\"section-title\">Body Parameters</div>\n<table class=\"table-compact table-border m-b-base\">\n    <thead>\n        <tr>\n            <th>Param</th>\n            <th>Type</th>\n            <th width=\"50%\">Description</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>\n                <div class=\"inline-flex\">\n                    <span class=\"label label-success\">Required</span>\n                    <span>newEmail</span>\n                </div>\n            </td>\n            <td>\n                <span class=\"label\">String</span>\n            </td>\n            <td>The new email address to send the change email request.</td>\n        </tr>\n    </tbody>\n</table>\n\n<div class=\"section-title\">Responses</div>\n<div class=\"tabs\">\n    <div class=\"tabs-header compact combined left\">\n        {#each responses as response (response.code)}\n            <button\n                class=\"tab-item\"\n                class:active={responseTab === response.code}\n                on:click={() => (responseTab = response.code)}\n            >\n                {response.code}\n            </button>\n        {/each}\n    </div>\n    <div class=\"tabs-content\">\n        {#each responses as response (response.code)}\n            <div class=\"tab-item\" class:active={responseTab === response.code}>\n                <CodeBlock content={response.body} />\n            </div>\n        {/each}\n    </div>\n</div>\n","<script>\n    import EmailChangeApiConfirmDocs from \"@/components/collections/docs/EmailChangeApiConfirmDocs.svelte\";\n    import EmailChangeApiRequestDocs from \"@/components/collections/docs/EmailChangeApiRequestDocs.svelte\";\n    import SdkTabs from \"@/components/base/SdkTabs.svelte\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    export let collection;\n\n    const apiTabs = [\n        { title: \"Request email change\", component: EmailChangeApiRequestDocs },\n        { title: \"Confirm email change\", component: EmailChangeApiConfirmDocs },\n    ];\n\n    let activeApiTab = 0;\n\n    $: backendAbsUrl = CommonHelper.getApiExampleUrl(ApiClient.baseURL);\n</script>\n\n<h3 class=\"m-b-sm\">Email change ({collection.name})</h3>\n<div class=\"content txt-lg m-b-sm\">\n    <p>Sends <strong>{collection.name}</strong> email change request.</p>\n    <p>\n        On successful email change all previously issued auth tokens for the specific record will be\n        automatically invalidated.\n    </p>\n</div>\n\n<SdkTabs\n    js={`\n        import PocketBase from 'pocketbase';\n\n        const pb = new PocketBase('${backendAbsUrl}');\n\n        ...\n\n        await pb.collection('${collection?.name}').authWithPassword('test@example.com', '1234567890');\n\n        await pb.collection('${collection?.name}').requestEmailChange('new@example.com');\n\n        // ---\n        // (optional) in your custom confirmation page:\n        // ---\n\n        // note: after this call all previously issued auth tokens are invalidated\n        await pb.collection('${collection?.name}').confirmEmailChange(\n            'EMAIL_CHANGE_TOKEN',\n            'YOUR_PASSWORD',\n        );\n    `}\n    dart={`\n        import 'package:pocketbase/pocketbase.dart';\n\n        final pb = PocketBase('${backendAbsUrl}');\n\n        ...\n\n        await pb.collection('${collection?.name}').authWithPassword('test@example.com', '1234567890');\n\n        await pb.collection('${collection?.name}').requestEmailChange('new@example.com');\n\n        ...\n\n        // ---\n        // (optional) in your custom confirmation page:\n        // ---\n\n        // note: after this call all previously issued auth tokens are invalidated\n        await pb.collection('${collection?.name}').confirmEmailChange(\n          'EMAIL_CHANGE_TOKEN',\n          'YOUR_PASSWORD',\n        );\n    `}\n/>\n\n<h6 class=\"m-b-xs\">API details</h6>\n<div class=\"tabs\">\n    <div class=\"tabs-header compact\">\n        {#each apiTabs as tab, i}\n            <button class=\"tab-item\" class:active={activeApiTab == i} on:click={() => (activeApiTab = i)}>\n                <div class=\"txt\">{tab.title}</div>\n            </button>\n        {/each}\n    </div>\n    <div class=\"tabs-content\">\n        {#each apiTabs as tab, i}\n            <div class=\"tab-item\" class:active={activeApiTab == i}>\n                <svelte:component this={tab.component} {collection} />\n            </div>\n        {/each}\n    </div>\n</div>\n"],"names":["t0_value","ctx","insert","target","button","anchor","dirty","set_data","t0","div","codeblock_changes","t3_value","get_key","i","get_key_1","div1","append","strong0","div0","p","strong1","div2","table","div5","div8","div6","div7","current","t3","collection","$$props","responseTab","responses","response","p0","p1","div4","toggle_class","switch_value","t1_value","t5_value","_a","_b","_c","_d","_e","_f","h3","strong","h6","div3","t1","t5","each_blocks","apiTabs","EmailChangeApiRequestDocs","EmailChangeApiConfirmDocs","activeApiTab","click_handler","$$invalidate","backendAbsUrl","CommonHelper","ApiClient"],"mappings":"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"}