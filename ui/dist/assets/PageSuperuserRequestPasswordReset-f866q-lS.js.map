{"version":3,"file":"PageSuperuserRequestPasswordReset-f866q-lS.js","sources":["../../src/components/superusers/PageSuperuserRequestPasswordReset.svelte"],"sourcesContent":["<script>\n    import { link } from \"svelte-spa-router\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import FullPage from \"@/components/base/FullPage.svelte\";\n    import Field from \"@/components/base/Field.svelte\";\n\n    let email = \"\";\n    let isLoading = false;\n    let success = false;\n\n    async function submit() {\n        if (isLoading) {\n            return;\n        }\n\n        isLoading = true;\n\n        try {\n            await ApiClient.collection(\"_superusers\").requestPasswordReset(email);\n            success = true;\n        } catch (err) {\n            ApiClient.error(err);\n        }\n\n        isLoading = false;\n    }\n</script>\n\n<FullPage>\n    {#if success}\n        <div class=\"alert alert-success\">\n            <div class=\"icon\"><i class=\"ri-checkbox-circle-line\" /></div>\n            <div class=\"content\">\n                <p>Check <strong class=\"txt-nowrap\">{email}</strong> for the recovery link.</p>\n            </div>\n        </div>\n    {:else}\n        <form class=\"m-b-base\" on:submit|preventDefault={submit}>\n            <div class=\"content txt-center m-b-sm\">\n                <h4 class=\"m-b-xs\">Forgotten superuser password</h4>\n                <p>Enter the email associated with your account and weâ€™ll send you a recovery link:</p>\n            </div>\n\n            <Field class=\"form-field required\" name=\"email\" let:uniqueId>\n                <label for={uniqueId}>Email</label>\n                <!-- svelte-ignore a11y-autofocus -->\n                <input type=\"email\" id={uniqueId} required autofocus bind:value={email} />\n            </Field>\n\n            <button\n                type=\"submit\"\n                class=\"btn btn-lg btn-block\"\n                class:btn-loading={isLoading}\n                disabled={isLoading}\n            >\n                <i class=\"ri-mail-send-line\" />\n                <span class=\"txt\">Send recovery link</span>\n            </button>\n        </form>\n    {/if}\n\n    <div class=\"content txt-center\">\n        <a href=\"/login\" class=\"link-hint\" use:link>Back to login</a>\n    </div>\n</FullPage>\n"],"names":["ctx","insert","target","form","anchor","append","div","button","i","span","div2","div0","div1","p","strong","label","input","a","email","isLoading","success","submit","$$invalidate","ApiClient","err"],"mappings":"81BAqD0BA,EAAS,CAAA,oBADAA,EAAS,CAAA,CAAA,kCAfpCC,EAqBMC,EAAAC,EAAAC,CAAA,EApBFC,EAGKF,EAAAG,CAAA,4BAQLD,EAQQF,EAAAI,CAAA,EAFJF,EAA8BE,EAAAC,CAAA,SAC9BH,EAA0CE,EAAAE,CAAA,4BAnBDT,EAAM,CAAA,CAAA,CAAA,8FAgBrCA,EAAS,CAAA,gCADAA,EAAS,CAAA,CAAA,0PAnBzB,QAAM,oBAA4BA,EAAK,CAAA,CAAA,MAAU,yBAAuB,kHAHnFC,EAKKC,EAAAQ,EAAAN,CAAA,EAJDC,EAA4DK,EAAAC,CAAA,SAC5DN,EAEKK,EAAAE,CAAA,EADDP,EAA8EO,EAAAC,CAAA,SAArER,EAA2CQ,EAAAC,CAAA,iCAAfd,EAAK,CAAA,CAAA,wFAWpB,OAAK,iCAAfA,EAAQ,CAAA,CAAA,iCAEIA,EAAQ,CAAA,CAAA,uCAFhCC,EAAkCC,EAAAa,EAAAX,CAAA,kBAElCH,EAAyEC,EAAAc,EAAAZ,CAAA,MAARJ,EAAK,CAAA,CAAA,+DAF1DA,EAAQ,CAAA,8BAEIA,EAAQ,CAAA,+BAAiCA,EAAK,CAAA,OAALA,EAAK,CAAA,CAAA,mHAjB7EA,EAAO,CAAA,EAAA,iNAgCZC,EAEKC,EAAAI,EAAAF,CAAA,EADDC,EAA4DC,EAAAW,CAAA,4iBAxD5D,IAAAC,EAAQ,GACRC,EAAY,GACZC,EAAU,kBAECC,GAAM,IACb,CAAAF,EAIJ,CAAAG,EAAA,EAAAH,EAAY,EAAI,MAGN,MAAAI,EAAU,WAAW,aAAa,EAAE,qBAAqBL,CAAK,EACpEI,EAAA,EAAAF,EAAU,EAAI,QACTI,EAAG,CACRD,EAAU,MAAMC,CAAG,EAGvBF,EAAA,EAAAH,EAAY,EAAK,gBAsBwDD,EAAK,KAAA"}