{"version":3,"file":"ViewApiDocs-CXwGGxQ-.js","sources":["../../src/components/collections/docs/ViewApiDocs.svelte"],"sourcesContent":["<script>\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import CodeBlock from \"@/components/base/CodeBlock.svelte\";\n    import SdkTabs from \"@/components/base/SdkTabs.svelte\";\n    import FieldsQueryParam from \"@/components/collections/docs/FieldsQueryParam.svelte\";\n\n    export let collection;\n\n    let responseTab = 200;\n    let responses = [];\n\n    $: superusersOnly = collection?.viewRule === null;\n\n    $: backendAbsUrl = CommonHelper.getApiExampleUrl(ApiClient.baseURL);\n\n    $: if (collection?.id) {\n        responses.push({\n            code: 200,\n            body: JSON.stringify(CommonHelper.dummyCollectionRecord(collection), null, 2),\n        });\n\n        if (superusersOnly) {\n            responses.push({\n                code: 403,\n                body: `\n                    {\n                      \"status\": 403,\n                      \"message\": \"Only superusers can access this action.\",\n                      \"data\": {}\n                    }\n                `,\n            });\n        }\n\n        responses.push({\n            code: 404,\n            body: `\n                {\n                  \"status\": 404,\n                  \"message\": \"The requested resource wasn't found.\",\n                  \"data\": {}\n                }\n            `,\n        });\n    }\n</script>\n\n<h3 class=\"m-b-sm\">View ({collection.name})</h3>\n<div class=\"content txt-lg m-b-sm\">\n    <p>Fetch a single <strong>{collection.name}</strong> record.</p>\n</div>\n\n<SdkTabs\n    js={`\n        import PocketBase from 'pocketbase';\n\n        const pb = new PocketBase('${backendAbsUrl}');\n\n        ...\n\n        const record = await pb.collection('${collection?.name}').getOne('RECORD_ID', {\n            expand: 'relField1,relField2.subRelField',\n        });\n    `}\n    dart={`\n        import 'package:pocketbase/pocketbase.dart';\n\n        final pb = PocketBase('${backendAbsUrl}');\n\n        ...\n\n        final record = await pb.collection('${collection?.name}').getOne('RECORD_ID',\n          expand: 'relField1,relField2.subRelField',\n        );\n    `}\n/>\n\n<h6 class=\"m-b-xs\">API details</h6>\n<div class=\"alert alert-info\">\n    <strong class=\"label label-primary\">GET</strong>\n    <div class=\"content\">\n        <p>\n            /api/collections/<strong>{collection.name}</strong>/records/<strong>:id</strong>\n        </p>\n    </div>\n    {#if superusersOnly}\n        <p class=\"txt-hint txt-sm txt-right\">Requires superuser <code>Authorization:TOKEN</code> header</p>\n    {/if}\n</div>\n\n<div class=\"section-title\">Path Parameters</div>\n<table class=\"table-compact table-border m-b-base\">\n    <thead>\n        <tr>\n            <th>Param</th>\n            <th>Type</th>\n            <th width=\"60%\">Description</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>id</td>\n            <td>\n                <span class=\"label\">String</span>\n            </td>\n            <td>ID of the record to view.</td>\n        </tr>\n    </tbody>\n</table>\n\n<div class=\"section-title\">Query parameters</div>\n<table class=\"table-compact table-border m-b-base\">\n    <thead>\n        <tr>\n            <th>Param</th>\n            <th>Type</th>\n            <th width=\"60%\">Description</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>expand</td>\n            <td>\n                <span class=\"label\">String</span>\n            </td>\n            <td>\n                Auto expand record relations. Ex.:\n                <CodeBlock content={`?expand=relField1,relField2.subRelField`} />\n                Supports up to 6-levels depth nested relations expansion. <br />\n                The expanded relations will be appended to the record under the\n                <code>expand</code> property (eg. <code>{`\"expand\": {\"relField1\": {...}, ...}`}</code>).\n                <br />\n                Only the relations to which the request user has permissions to <strong>view</strong> will be expanded.\n            </td>\n        </tr>\n        <FieldsQueryParam />\n    </tbody>\n</table>\n\n<div class=\"section-title\">Responses</div>\n<div class=\"tabs\">\n    <div class=\"tabs-header compact combined left\">\n        {#each responses as response (response.code)}\n            <button\n                class=\"tab-item\"\n                class:active={responseTab === response.code}\n                on:click={() => (responseTab = response.code)}\n            >\n                {response.code}\n            </button>\n        {/each}\n    </div>\n    <div class=\"tabs-content\">\n        {#each responses as response (response.code)}\n            <div class=\"tab-item\" class:active={responseTab === response.code}>\n                <CodeBlock content={response.body} />\n            </div>\n        {/each}\n    </div>\n</div>\n"],"names":["insert","target","p","anchor","button","ctx","div","t1_value","t5_value","t14_value","_a","_b","create_if_block","get_key","i","get_key_1","h3","div0","append","p0","strong0","h6","div2","strong1","div1","p1","strong2","strong3","div3","table0","div4","table1","thead1","tbody1","tr3","td3","td4","td5","br0","code0","code1","br1","strong4","div5","div8","div6","div7","current","dirty","set_data","t1","t5","t14","collection","$$props","responseTab","responses","response","superusersOnly","CommonHelper","$$invalidate","backendAbsUrl","ApiClient"],"mappings":"0jBAuFQA,EAAkGC,EAAAC,EAAAC,CAAA,sHA8DzFC,EAAA,YAAA,GAAAC,KAAS,IAAI,yCAHAA,EAAW,CAAA,IAAKA,EAAQ,CAAA,EAAC,IAAI,uBAF/CL,EAMQC,EAAAG,EAAAD,CAAA,6DAJUE,EAAW,CAAA,IAAKA,EAAQ,CAAA,EAAC,IAAI,yEAUvB,MAAA,CAAA,QAAAA,KAAS,IAAI,iGADDA,EAAW,CAAA,IAAKA,EAAQ,CAAA,EAAC,IAAI,uBAAjEL,EAEKC,EAAAK,EAAAH,CAAA,+DAF+BE,EAAW,CAAA,IAAKA,EAAQ,CAAA,EAAC,IAAI,yHA3GnDE,EAAAF,KAAW,KAAI,kBAEVG,EAAAH,KAAW,KAAI,uCAiCRI,EAAAJ,KAAW,KAAI;;;qCA1BhBA,EAAa,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA,+CAIJK,GAAAL,OAAA,YAAAK,GAAY,IAAI;AAAA;AAAA;AAAA;;;iCAO7BL,EAAa,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA,+CAIAM,GAAAN,OAAA,YAAAM,GAAY,IAAI;AAAA;AAAA;AAAA,eAcrDN,EAAc,CAAA,GAAAO,GAAA,6FAyDRP,EAAS,CAAA,CAAA,EAAc,MAAAQ,GAAAR,GAAAA,KAAS,qBAArC,OAAIS,GAAA,EAAA,wDAWCT,EAAS,CAAA,CAAA,EAAc,MAAAU,GAAAV,GAAAA,KAAS,qBAArC,OAAIS,GAAA,EAAA,yEA1GK,QAAM,aAAiB,GAAC,gCAEpC,iBAAe,8BAAkC,UAAQ,2JAgCtD,mBACmB,8BAAkC,WAAS,upBA2CzD;AAAA,iBAEC,wBAAgE;AAAA,2EACN,kBAAK;AAAA;AAAA,iBAE/D,4CAAmB,iBAAe,yEAAoD;AAAA,iBACtF,kBAAK;AAAA,iFAC2D,4CAAqB,oBACzF,gpBAtFZd,EAA+CC,EAAAe,EAAAb,CAAA,gCAC/CH,EAEKC,EAAAgB,EAAAd,CAAA,EADDe,EAA+DD,EAAAE,CAAA,SAA7CD,EAAkCC,EAAAC,EAAA,gDA4BxDpB,EAAkCC,EAAAoB,EAAAlB,CAAA,YAClCH,EAUKC,EAAAqB,EAAAnB,CAAA,EATDe,EAA+CI,EAAAC,CAAA,UAC/CL,EAIKI,EAAAE,CAAA,EAHDN,EAEGM,EAAAC,CAAA,UADkBP,EAAkCO,EAAAC,EAAA,mBAASR,EAAmBO,EAAAE,EAAA,mCAQ3F3B,EAA+CC,EAAA2B,EAAAzB,CAAA,YAC/CH,EAiBOC,EAAA4B,EAAA1B,CAAA,YAEPH,EAAgDC,EAAA6B,EAAA3B,CAAA,YAChDH,EA0BOC,EAAA8B,EAAA5B,CAAA,EAzBHe,EAMOa,EAAAC,EAAA,UACPd,EAiBOa,EAAAE,CAAA,EAhBHf,EAcIe,EAAAC,CAAA,EAbAhB,EAAcgB,EAAAC,EAAA,UACdjB,EAEIgB,EAAAE,EAAA,UACJlB,EAQIgB,EAAAG,CAAA,8BAL0DnB,EAAKmB,EAAAC,EAAA,UAE/DpB,EAAmBmB,EAAAE,EAAA,UAAerB,EAAoDmB,EAAAG,EAAA,UACtFtB,EAAKmB,EAAAI,EAAA,UAC2DvB,EAAqBmB,EAAAK,EAAA,wCAOrG1C,EAAyCC,EAAA0C,EAAAxC,CAAA,YACzCH,EAmBKC,EAAA2C,EAAAzC,CAAA,EAlBDe,EAUK0B,EAAAC,CAAA,2DACL3B,EAMK0B,EAAAE,CAAA,6EA/GiB,CAAAC,GAAAC,EAAA,IAAAzC,KAAAA,EAAAF,KAAW,KAAI,KAAA4C,GAAAC,EAAA3C,CAAA,GAEV,CAAAwC,GAAAC,EAAA,IAAAxC,KAAAA,EAAAH,KAAW,KAAI,KAAA4C,GAAAE,GAAA3C,CAAA;;;qCAOTH,EAAa,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA,+CAIJK,GAAAL,OAAA,YAAAK,GAAY,IAAI;AAAA;AAAA;AAAA;;;iCAO7BL,EAAa,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA,+CAIAM,GAAAN,OAAA,YAAAM,GAAY,IAAI;AAAA;AAAA;AAAA,kBAWxB,CAAAoC,GAAAC,EAAA,IAAAvC,KAAAA,EAAAJ,KAAW,KAAI,KAAA4C,GAAAG,GAAA3C,CAAA,EAG5CJ,EAAc,CAAA,8DAyDRA,EAAS,CAAA,CAAA,oDAWTA,EAAS,CAAA,CAAA,yIAAd,OAAIS,GAAA,kXAnJC,WAAAuC,CAAU,EAAAC,EAEjBC,EAAc,IACdC,EAAS,CAAA,iBAyIgBD,EAAcE,EAAS,IAAI,+FAvIrDC,GAAiBL,GAAA,YAAAA,EAAY,YAAa,IAAI,gBAI1CA,GAAA,MAAAA,EAAY,KACfG,EAAU,KAAI,CACV,KAAM,IACN,KAAM,KAAK,UAAUG,GAAa,sBAAsBN,CAAU,EAAG,KAAM,CAAC,IAG5EK,GACAF,EAAU,KAAI,CACV,KAAM,IACN,KAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAUZA,EAAU,KAAI,CACV,KAAM,IACN,KAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAvBXI,EAAA,EAAEC,EAAgBF,GAAa,iBAAiBG,GAAU,OAAO,CAAA"}