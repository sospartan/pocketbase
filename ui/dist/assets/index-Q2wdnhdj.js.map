{"version":3,"mappings":"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UAAAilE,EAAW,EAAK,EAAAjlE,EAChB,OAAAktC,EAAQ,oBAAoB,EAAAltC,eAQKt8B,EAAO,QAAO,+BAIdA,EAAO,SAAQ,+BAIfA,EAAO,YAAW,8LAd3DinG,EAAa1F,IAAYvhG,GAAA,YAAAA,EAAQ,QAAO,yHCU/C,MAAeknG,GAAA,CACX,CACI,IAAK,QACL,MAAO,QACP,KAAM,YACN,iBAAkBC,EACrB,EACD,CACI,IAAK,SACL,MAAO,SACP,KAAM,YACT,EACD,CACI,IAAK,YACL,MAAO,YACP,KAAM,gBACN,iBAAkBC,EACrB,EACD,CACI,IAAK,SACL,MAAO,SACP,KAAM,YACT,EACD,CACI,IAAK,WACL,MAAO,WACP,KAAM,cACT,EACD,CACI,IAAK,aACL,MAAO,YACP,KAAM,eACT,EACD,CACI,IAAK,SACL,MAAO,SACP,KAAM,YACT,EACD,CACI,IAAK,SACL,MAAO,SACP,KAAM,aACN,iBAAkBC,GAClB,sBAAuB,CAAE,MAAO,kCAAoC,CACvE,EACD,CACI,IAAK,YACL,MAAO,YACP,KAAM,eACT,EACD,CACI,IAAK,QACL,MAAO,QACP,KAAM,WACT,EACD,CACI,IAAK,QACL,MAAO,QACP,KAAM,YACN,iBAAkBA,GAClB,sBAAuB,CAAE,MAAO,kCAAoC,CACvE,EACD,CACI,IAAK,SACL,MAAO,SACP,KAAM,YACT,EACD,CACI,IAAK,UACL,MAAO,UACP,KAAM,aACT,EACD,CACI,IAAK,UACL,MAAO,UACP,KAAM,aACT,EACD,CACI,IAAK,QACL,MAAO,QACP,KAAM,WACT,EACD,CACI,IAAK,KACL,MAAO,KACP,KAAM,QACT,EACD,CACI,IAAO,SACP,MAAO,SACP,KAAO,YACV,EACD,CACI,IAAO,SACP,MAAO,aACP,KAAO,YACV,EACD,CACI,IAAK,UACL,MAAO,UACP,KAAM,aACT,EACD,CACI,IAAK,QACL,MAAO,QACP,KAAM,WACT,EACD,CACI,IAAK,SACL,MAAO,SACP,KAAM,YACT,EACD,CACI,IAAK,UACL,MAAO,eACP,KAAM,aACT,EACD,CACI,IAAK,SACL,MAAO,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","names":["noop","identity","x","assign","tar","src","k","is_promise","value","run","fn","blank_object","run_all","fns","is_function","thing","safe_not_equal","a","b","src_url_equal_anchor","src_url_equal","element_src","url","is_empty","obj","subscribe","store","callbacks","callback","unsub","get_store_value","_","component_subscribe","component","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","get_slot_changes","dirty","lets","merged","len","i","update_slot_base","slot","slot_definition","slot_changes","get_slot_context_fn","slot_context","get_all_dirty_from_scope","length","exclude_internal_props","props","result","compute_rest_props","keys","rest","null_to_empty","set_store_value","ret","action_destroyer","action_result","split_css_unit","split","is_client","now","raf","cb","tasks","run_tasks","task","loop","fulfill","append","target","node","get_root_for_style","root","append_empty_stylesheet","style_element","element","append_stylesheet","style","insert","anchor","detach","destroy_each","iterations","detaching","name","text","data","space","empty","listen","event","handler","options","prevent_default","stop_propagation","attr","attribute","always_set_through_set_attribute","set_attributes","attributes","descriptors","key","init_binding_group","group","_inputs","inputs","input","to_number","children","set_data","set_input_value","set_style","important","toggle_class","toggle","custom_event","type","detail","bubbles","cancelable","construct_svelte_component","managed_styles","active","hash","str","create_style_information","doc","info","create_rule","duration","delay","ease","uid","step","keyframes","p","t","rule","stylesheet","rules","animation","delete_rule","previous","next","anim","deleted","clear_rules","ownerNode","create_animation","from","params","to","easing","linear","start_time","end","tick","css","running","started","start","stop","fix_position","width","height","add_transform","transform","current_component","set_current_component","get_current_component","onMount","afterUpdate","onDestroy","createEventDispatcher","bubble","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","update_scheduled","schedule_update","flush","add_render_callback","add_flush_callback","seen_callbacks","flushidx","saved_component","update","$$","flush_render_callbacks","filtered","targets","c","promise","wait","dispatch","direction","kind","outroing","outros","group_outros","check_outros","transition_in","block","local","transition_out","null_transition","create_in_transition","config","animation_name","cleanup","go","end_time","create_out_transition","original_inert_value","reset","create_bidirectional_transition","intro","running_program","pending_program","clear_animation","init","program","d","handle_promise","token","index","child_ctx","needs_flush","error","update_await_block_branch","resolved","ensure_array_like","array_like_or_iterator","destroy_block","lookup","outro_and_destroy_block","fix_and_outro_and_destroy_block","update_keyed_each","old_blocks","get_key","dynamic","list","destroy","create_each_block","get_context","o","n","old_indexes","new_blocks","new_lookup","deltas","updates","will_move","did_move","new_block","old_block","new_key","old_key","get_spread_update","levels","to_null_out","accounted_for","get_spread_object","spread_props","bind","create_component","mount_component","fragment","after_update","new_on_destroy","destroy_component","make_dirty","instance","create_fragment","not_equal","append_styles","parent_component","ready","nodes","SvelteComponent","__publicField","PUBLIC_VERSION","LuxonError","InvalidDateTimeError","reason","InvalidIntervalError","InvalidDurationError","ConflictingSpecificationError","InvalidUnitError","unit","InvalidArgumentError","ZoneIsAbstractError","s","l","DATE_SHORT","DATE_MED","DATE_MED_WITH_WEEKDAY","DATE_FULL","DATE_HUGE","TIME_SIMPLE","TIME_WITH_SECONDS","TIME_WITH_SHORT_OFFSET","TIME_WITH_LONG_OFFSET","TIME_24_SIMPLE","TIME_24_WITH_SECONDS","TIME_24_WITH_SHORT_OFFSET","TIME_24_WITH_LONG_OFFSET","DATETIME_SHORT","DATETIME_SHORT_WITH_SECONDS","DATETIME_MED","DATETIME_MED_WITH_SECONDS","DATETIME_MED_WITH_WEEKDAY","DATETIME_FULL","DATETIME_FULL_WITH_SECONDS","DATETIME_HUGE","DATETIME_HUGE_WITH_SECONDS","Zone","ts","opts","format","otherZone","singleton","SystemZone","locale","parseZoneInfo","formatOffset","dtfCache","makeDTF","zoneName","dtf","typeToPos","hackyOffset","date","formatted","parsed","fMonth","fDay","fYear","fadOrBc","fHour","fMinute","fSecond","partsOffset","filled","pos","isUndefined","ianaZoneCache","IANAZone","zone","year","month","day","adOrBc","hour","minute","second","asUTC","objToLocalTS","asTS","over","intlLFCache","getCachedLF","locString","intlDTCache","getCachedDTF","intlNumCache","getCachedINF","inf","intlRelCache","getCachedRTF","base","cacheKeyOpts","sysLocaleCache","systemLocale","intlResolvedOptionsCache","getCachedIntResolvedOptions","weekInfoCache","getCachedWeekInfo","fallbackWeekSettings","parseLocaleString","localeStr","xIndex","uIndex","selectedStr","smaller","numberingSystem","calendar","intlConfigString","outputCalendar","mapMonths","f","ms","dt","DateTime","mapWeekdays","listStuff","loc","englishFn","intlFn","mode","supportsFastNumbers","PolyNumberFormatter","intl","forceSimple","padTo","floor","otherOpts","intlOpts","fixed","roundTo","padStart","PolyDateFormatter","z","gmtOffset","offsetZ","parts","part","offsetName","PolyRelFormatter","isEnglish","hasRelative","count","English.formatRelativeTime","Locale","weekSettings","defaultToEN","specifiedLocale","Settings","localeR","numberingSystemR","outputCalendarR","weekSettingsR","validateWeekSettings","numbering","parsedLocale","parsedNumberingSystem","parsedOutputCalendar","isActuallyEn","hasNoWeirdness","alts","English.months","formatStr","English.weekdays","English.meridiems","English.eras","field","df","results","matching","m","hasLocaleWeekInfo","other","FixedOffsetZone","offset","r","signedOffset","InvalidZone","normalizeZone","defaultZone","isString","lowered","isNumber","numberingSystems","numberingSystemsUTF16","hanidecChars","parseDigits","code","min","max","digitRegexCache","resetDigitRegexCache","digitRegex","ns","appendCache","regex","defaultLocale","defaultNumberingSystem","defaultOutputCalendar","twoDigitCutoffYear","throwOnInvalid","defaultWeekSettings","cutoffYear","Invalid","explanation","nonLeapLadder","leapLadder","unitOutOfRange","dayOfWeek","js","computeOrdinal","isLeapYear","uncomputeOrdinal","ordinal","table","month0","isoWeekdayToLocal","isoWeekday","startOfWeek","gregorianToWeek","gregObj","minDaysInFirstWeek","weekday","weekNumber","weekYear","weeksInWeekYear","timeObject","weekToGregorian","weekData","weekdayOfJan4","yearInDays","daysInYear","gregorianToOrdinal","gregData","ordinalToGregorian","ordinalData","usesLocalWeekValues","hasInvalidWeekData","validYear","isInteger","validWeek","integerBetween","validWeekday","hasInvalidOrdinalData","validOrdinal","hasInvalidGregorianData","validMonth","validDay","daysInMonth","hasInvalidTimeData","millisecond","validHour","validMinute","validSecond","validMillisecond","isDate","maybeArray","bestBy","arr","by","compare","best","pair","pick","hasOwnProperty","prop","settings","v","bottom","top","floorMod","isNeg","padded","parseInteger","string","parseFloating","parseMillis","fraction","number","digits","towardZero","factor","modMonth","modYear","firstWeekOffset","weekOffset","weekOffsetNext","untruncateYear","offsetFormat","timeZone","modified","offHourStr","offMinuteStr","offHour","offMin","offMinSigned","asNumber","numericValue","normalizeObject","normalizer","normalized","u","hours","minutes","sign","monthsLong","monthsShort","monthsNarrow","months","weekdaysLong","weekdaysShort","weekdaysNarrow","weekdays","meridiems","erasLong","erasShort","erasNarrow","eras","meridiemForDateTime","weekdayForDateTime","monthForDateTime","eraForDateTime","formatRelativeTime","numeric","narrow","units","lastable","isDay","isInPast","fmtValue","singular","lilUnits","fmtUnit","stringifyTokens","splits","tokenToString","macroTokenToFormatOpts","Formats.DATE_SHORT","Formats.DATE_MED","Formats.DATE_FULL","Formats.DATE_HUGE","Formats.TIME_SIMPLE","Formats.TIME_WITH_SECONDS","Formats.TIME_WITH_SHORT_OFFSET","Formats.TIME_WITH_LONG_OFFSET","Formats.TIME_24_SIMPLE","Formats.TIME_24_WITH_SECONDS","Formats.TIME_24_WITH_SHORT_OFFSET","Formats.TIME_24_WITH_LONG_OFFSET","Formats.DATETIME_SHORT","Formats.DATETIME_MED","Formats.DATETIME_FULL","Formats.DATETIME_HUGE","Formats.DATETIME_SHORT_WITH_SECONDS","Formats.DATETIME_MED_WITH_SECONDS","Formats.DATETIME_FULL_WITH_SECONDS","Formats.DATETIME_HUGE_WITH_SECONDS","Formatter","fmt","current","currentFull","bracketed","formatOpts","interval","knownEnglish","useDateTimeFormatter","extract","meridiem","English.meridiemForDateTime","standalone","English.monthForDateTime","English.weekdayForDateTime","maybeMacro","era","English.eraForDateTime","dur","tokenToField","lildur","mapped","tokens","realTokens","found","literal","val","collapsed","ianaRegex","combineRegexes","regexes","full","combineExtractors","extractors","mergedVals","mergedZone","cursor","ex","parse","patterns","extractor","simpleParse","match","offsetRegex","isoExtendedZone","isoTimeBaseRegex","isoTimeRegex","isoTimeExtensionRegex","isoYmdRegex","isoWeekRegex","isoOrdinalRegex","extractISOWeekData","extractISOOrdinalData","sqlYmdRegex","sqlTimeRegex","sqlTimeExtensionRegex","int","fallback","extractISOYmd","extractISOTime","extractISOOffset","fullOffset","extractIANAZone","isoTimeOnly","isoDuration","extractISODuration","yearStr","monthStr","weekStr","dayStr","hourStr","minuteStr","secondStr","millisecondsStr","hasNegativePrefix","negativeSeconds","maybeNegate","num","force","obsOffsets","fromStrings","weekdayStr","English.monthsShort","English.weekdaysLong","English.weekdaysShort","rfc2822","extractRFC2822","obsOffset","milOffset","preprocessRFC2822","rfc1123","rfc850","ascii","extractRFC1123Or850","extractASCII","isoYmdWithTimeExtensionRegex","isoWeekWithTimeExtensionRegex","isoOrdinalWithTimeExtensionRegex","isoTimeCombinedRegex","extractISOYmdTimeAndOffset","extractISOWeekTimeAndOffset","extractISOOrdinalDateAndTime","extractISOTimeAndOffset","parseISODate","parseRFC2822Date","parseHTTPDate","parseISODuration","extractISOTimeOnly","parseISOTimeOnly","sqlYmdWithTimeExtensionRegex","sqlTimeCombinedRegex","extractISOTimeOffsetAndIANAZone","parseSQL","INVALID","lowOrderMatrix","casualMatrix","daysInYearAccurate","daysInMonthAccurate","accurateMatrix","orderedUnits","reverseUnits","clone","clear","conf","Duration","durationToMillis","matrix","vals","sum","normalizeValues","previousVal","conv","rollUp","removeZeroes","newVals","accurate","durationLike","invalid","fmtOpts","millis","values","mixed","conversionAccuracy","built","accumulated","lastUnit","own","ak","negated","eq","v1","v2","validateStartEnd","Interval","builtStart","friendlyDateTime","builtEnd","validateError","e","startIsValid","endIsValid","dateTime","dateTimes","sorted","added","idx","numberOfParts","intervals","final","sofar","item","currentCount","ends","flattened","dateFormat","separator","mapFn","Info","proto","locObj","dayDiff","earlier","later","utcDayStart","highOrderDiffs","differs","days","lowestOrder","highWater","differ","diff","remainingMillis","lowerOrderUnits","MISSING_FTP","intUnit","post","NBSP","spaceOrNBSP","spaceOrNBSPRegExp","fixListRegex","stripInsensitivities","oneOf","strings","startIndex","groups","h","simple","escapeToken","unitForToken","one","two","three","four","six","oneOrTwo","oneToThree","oneToSix","oneToNine","twoToFour","fourToSix","partTypeStyleToTokenVal","tokenForPart","resolvedOpts","isSpace","actualType","buildRegex","handlers","matches","all","matchIndex","dateTimeFromMatches","toField","specificOffset","dummyDateTimeCache","getDummyDateTime","maybeExpandMacroToken","formatOptsToTokens","expandMacroTokens","TokenParser","regexString","rawMatches","explainFromTokens","parseFromTokens","invalidReason","MAX_DATE","unsupportedZone","possiblyCachedWeekData","possiblyCachedLocalWeekData","inst","fixOffset","localTS","tz","utcGuess","o2","o3","tsToObj","objToTS","adjustTime","oPre","millisToAdd","parseDataToDateTime","parsedZone","setZone","interpretationZone","toTechFormat","allowZ","toISODate","extended","longFormat","toISOTime","suppressSeconds","suppressMilliseconds","includeOffset","extendedZone","defaultUnitValues","defaultWeekUnitValues","defaultOrdinalUnitValues","orderedWeekUnits","orderedOrdinalUnits","normalizeUnit","normalizeUnitWithLocalWeeks","guessOffsetForZone","zoneOffsetTs","offsetGuess","zoneOffsetGuessCache","quickDT","offsetProvis","diffRelative","round","lastOpts","argList","args","ot","zoneToUse","milliseconds","seconds","tsNow","containsOrdinal","containsGregorYear","containsGregorMD","containsGregor","definiteWeekDef","useWeekData","defaultValues","objNow","foundFirst","higherOrderInvalid","gregorian","tsFinal","offsetFinal","localeToUse","localeOpts","tokenList","dayMs","minuteMs","oEarlier","oLater","o1","ts1","ts2","c1","c2","keepLocalTime","keepCalendarTime","newTS","asObj","settingWeekStuff","useLocaleWeeks","normalizedUnit","q","ext","includePrefix","includeZone","includeOffsetSpace","otherDateTime","durOpts","otherIsLater","diffed","inputMs","adjustedToZone","padding","formatParser","Formats.DATE_MED_WITH_WEEKDAY","Formats.DATETIME_MED_WITH_WEEKDAY","dateTimeish","imageExtensions","videoExtensions","audioExtensions","documentExtensions","arraybleFields","stringFields","logLevels","CommonHelper","tagName","allowEmpty","targetArr","valuesArr","objectsArr","uniqueMap","mask","path","defaultVal","delimiter","newValue","lastPart","alphabet","stopCheck","lastChar","dots","truncated","preserved","specialCharsMap","items","trimmedSeparator","size","formats","_a","err","tempLink","blob","jwt","raw","encodedPayload","filename","file","resolve","reader","img","canvas","imgWidth","imgHeight","formData","collection","forSubmit","fields","dummy","oldCollection","newCollection","withDeleteMissing","oldFields","newFields","removedFields","oldField","addedFields","newField","changedFields","collections","auth","view","sortNames","baseRelField","maxNestedLevel","nestedExpands","expand","allowedPasteNodes","unwrap","parent","cleanupPastedNode","child","editor","meta","id","blobCache","base64","blobInfo","lastDirectionKey","lastDirection","model","displayFields","missingValue","fallbackProps","truncateLength","selectQuery","groupReplacement","expressions","expr","column","prefix","col","collectionNameOrId","level","subKeys","ref","baseCollectionName","authCollections","authKeys","sqlQuoteRegex","_b","namePair","rawColumns","colMatches","colOrExpr","_d","_c","_e","indexParts","nonEmptyCols","newTableName","oldColumn","newColumn","hasChange","searchTerm","fallbackFields","opChars","op","extraFallbackFields","query","queryStart","href","hashIndex","showTimeoutId","tooltipContainer","defaultTooltipClass","normalize","rawData","getTooltip","refreshTooltip","tooltip","hideTooltip","tooltipHeight","tooltipWidth","nodeRect","left","tolerance","showTooltip","tooltipData","showEventHandler","hideEventHandler","newTooltipData","cubicOut","fade","fly","y","opacity","target_opacity","od","xValue","xUnit","yValue","yUnit","slide","axis","primary_property","primary_property_value","secondary_properties","capitalized_secondary_properties","padding_start_value","padding_end_value","margin_start_value","margin_end_value","border_width_start_value","border_width_end_value","scale","sd","_t","if_block0","create_if_block_2","if_block1","create_if_block_1","div4","div4_class_value","div5","div0","div1","div2","div3","div0_transition","transitionSpeed","button","button_transition","create_if_block","div","holder","activePanels","getHolder","highestZIndex","classes","$$props","popup","overlayClose","btnClose","escClose","beforeOpen","beforeHide","uniqueId","wrapper","contentPanel","oldFocusedElem","contentScrollThrottle","contentScrollClass","oldActive","show","$$invalidate","hide","isActive","onActiveChange","newState","zIndexUpdate","registerActivePanel","unregisterActivePanel","handleEscPress","handleResize","handleContentScroll","panel","wrapperCopy","$$value","scroll_handler","subscriber_queue","readable","writable","subscribers","set","new_value","run_queue","subscriber","invalidate","derived","stores","initial_value","single","stores_array","auto","pending","sync","unsubscribers","confirmation","confirm","yesCallback","noCallback","resetConfirmation","t_value","h4","button0","span0","button1","span1","confirmationPopup","isConfirmationBusy","confirmed","$confirmation","textarea","createScriptLoader","state","injectScript","script","load","scriptLoader","getTinymce","inline","disabled","scriptSrc","modelEvents","cssClass","validEvents","bindHandlers","eventName","container","editorRef","lastVal","disablindCache","finalInit","flip","ox","oy","dx","dy","sx","sy","toasts","addInfoToast","message","addToast","addSuccessToast","addErrorToast","toast","removeToast","removeToastFromArray","messageOrToast","removeAllToasts","t1_value","t1","stop_animation","rect","div2_intro","div2_outro","div_transition","trigger","autoScroll","closableClass","containerChild","activeTrigger","scrollTimeoutId","hideTimeoutId","isOutsideMouseDown","hideWithDelay","isClosable","elem","bindTrigger","newTrigger","handleContainerClick","handleContainerKeydown","handleTriggerClick","handleTriggerKeydown","handleFocusChange","handleOutsideMousedown","handleOutsideClick","pageTitle","appName","hideControls","errors","setErrors","newErrors","removeError","superuser","setSuperuser","ClientResponseError","cookieParse","defaultDecode","cookieSerialize","defaultEncode","getTokenPayload","isTokenExpired","BaseAuthStore","LocalAuthStore","BaseService","SettingsService","normalizeUnknownQueryParams","serializeQueryParams","prepareQueryParamValue","RealtimeService","listener","CrudService","request","normalizeLegacyOptionsArgs","resetAutoRefresh","RecordService","openBrowserPopup","Client","CollectionService","LogService","HealthService","FileService","BackupService","CronService","isFile","isFormData","hasFileField","inferFormDataValue","BatchService","SubBatchService","activeCollection","isCollectionsLoading","protectedFilesCollectionsCache","scaffolds","notifyChannel","loadCollections","get","notifyOtherTabs","changeActiveCollectionByIdOrName","collectionIdOrName","addCollection","refreshProtectedFilesCollectionsCache","removeCollection","activeIdOrName","promises","ApiClient","resultScaffolds","resultCollections","cache","loose","tmp","pattern","switch_instance_spread_levels","getLocation","hashPosition","location","qsPosition","querystring","_loc","replace","dest","link","linkOpts","updateLink","updated","restoreScroll","scrollstateHistoryHandler","routes","restoreScrollState","RouteItem","out","routesList","route","componentParams","dispatchNextTick","previousScrollState","popStateChanged","lastLoc","componentObj","unsubscribeLoc","newLoc","loaded","superuserFileTokenKey","PocketBase","redirect","notify","defaultMsg","statusCode","responseData","msg","collectionId","needToken","protectedCollections","AppAuthStore","storageKey","record","pb","status","checkActive","el","matchesLocation","toggleClasses","className","shouldAdd","cls","each_blocks","getErrorMessage","i_transition","t0_value","pre","t0","defaultError","inlineError","fieldErrors","changed","$errors","span2","a0","a1","if_block","main","footer","center","input_placeholder_value","switch_instance_changes","if_block2","form","label","placeholder","autocompleteCollection","extraAutocompleteKeys","filterComponent","isFilterComponentLoading","searchInput","tempValue","focusInput","submit","loadFilterComponent","__vitePreload","__vite_default__","value$1","refreshTimeoutId","refresh","oldTooltipData","div0_class_value","vThreshold","hThreshold","dispatchOnNoScroll","scrollClasses","throttleTimeoutId","hDiff","vDiff","wrapperWidth","wrapperHeight","observer","resetVerticalScroll","resetHorizontalScroll","throttleRefresh","th","sort","disable","toggleSort","span","constants_0","constants_1","getLogPreviewKeys","input_disabled_value","create_if_block_4","create_if_block_5","tr","td","h6","t2_value","t2","create_if_block_3","t3_value","loglevel","LogLevel","logdate","LogDate","input_id_value","label_for_value","td0","td1","td2","td3","td4","loglevel_changes","t3","logdate_changes","create_if_block_6","thead","th0","th1","tbody","each_1_else","strong","div2_transition","perPage","dateFilenameRegex","log","requestKeys","allKeys","filter","presets","zoom","logs","currentPage","lastLoadCount","isLoading","yieldedId","bulkSelected","page","breakTasks","normalizedFilter","clearList","currentYieldId","subset","toggleSelectAllLogs","areAllLogsSelected","deselectAllLogs","selectAllLogs","toggleSelectLog","downloadSelected","selected","change_handler_1","click_handler_2","canLoadMore","totalBulkSelected","lim","p2b","n2b","b2n","n2p","map$1","hex","h1","h2","isShort","hexParse","alpha","hexString","HUE_RE","hsl2rgbn","hsv2rgbn","hwb2rgbn","w","rgb","hueValue","g","rgb2hsl","calln","hsl2rgb","hwb2rgb","hsv2rgb","hue","hueParse","p1","p2","rotate","deg","hslString","map","names$1","unpack","unpacked","tkeys","j","ok","nk","names","nameParse","RGB_RE","rgbParse","rgbString","interpolate","rgb1","rgb2","modHSL","ratio","fromObject","functionParse","Color","color","weight","w2","w1","isNullOrUndef","isArray","isObject","isNumberFinite","finiteOrDefault","defaultValue","valueOrDefault","toDimension","dimension","thisArg","each","loopable","reverse","_elementsEqual","ilen","v0","source","klen","isValidKey","_merger","tval","sval","merge","sources","merger","mergeIf","_mergerIf","keyResolvers","_splitKey","_getKeyResolver","resolveObjectKey","_capitalize","defined","isFunction","setsEqual","_isClickEvent","PI","TAU","PITAU","INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","almostEquals","epsilon","niceNum","range","roundedRange","niceRange","_factorize","sqrt","isNonPrimitive","almostWhole","rounded","_setMinAndMaxByKey","array","property","toRadians","degrees","toDegrees","radians","_decimalPlaces","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","angle","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","sameAngleIsFullCircle","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_int16Range","_isBetween","_lookup","cmp","hi","lo","mid","_lookupByKey","last","ti","_rlookupByKey","_filterBetween","arrayEvents","listenArrayEvents","method","res","object","unlistenArrayEvents","stub","listeners","_arrayUnique","requestAnimFrame","throttled","argsToUse","ticking","debounce","timeout","_toLeftRightCenter","align","_alignStartEnd","_getStartAndCountOfVisiblePoints","points","animationsDisabled","pointCount","iScale","vScale","_parsed","spanGaps","minDefined","maxDefined","distanceToDefinedLo","point","distanceToDefinedHi","_scaleRangesChanged","xScale","yScale","_scaleRanges","newRanges","atEdge","elasticIn","elasticOut","effects","isPatternOrGradient","getHoverColor","numbers","colors","applyAnimationsDefaults","defaults","applyLayoutsDefaults","intlCache","getNumberFormat","cacheKey","formatter","formatNumber","formatters","tickValue","ticks","notation","delta","maxTick","calculateDelta","logDelta","numDecimal","Ticks","applyScaleDefaults","_ctx","overrides","getScope$1","scope","Defaults","_descriptors","_appliers","context","targetScope","targetName","scopeObject","targetScopeObject","privateName","appliers","apply","toFontString","font","_measureText","gc","longest","textWidth","_alignPixel","chart","pixel","devicePixelRatio","halfWidth","clearCanvas","drawPoint","drawPointLegend","xOffset","yOffset","cornerRadius","xOffsetW","yOffsetW","rotation","radius","rad","_isPointInArea","area","margin","clipArea","unclipArea","_steppedLineTo","midpoint","_bezierCurveTo","setRenderOpts","decorateText","line","metrics","right","yDecoration","drawBackdrop","oldColor","renderText","lines","stroke","addRoundedRectPath","LINE_HEIGHT","FONT_STYLE","toLineHeight","numberOrZero","_readValueToProps","objProps","read","toTRBL","toTRBLCorners","toPadding","toFont","_addGrace","minmax","grace","beginAtZero","change","keepZero","add","createContext","parentContext","_createResolver","scopes","prefixes","rootScopes","getTarget","finalRootScopes","_resolve","_cached","_resolveWithPrefixes","getKeysFromAllScopes","storage","_attachContext","proxy","subProxy","descriptorDefaults","receiver","_resolveWithContext","_scriptable","_indexable","_allKeys","readKey","needsSubResolver","_proxy","_context","_subProxy","_resolveScriptable","_resolveArray","getValue","_stack","createSubResolver","isIndexable","resolver","resolveFallback","getScope","addScopes","parentScopes","parentFallback","allScopes","addScopesFromKey","subGetTarget","resolveKeysFromAllScopes","EPSILON","getPoint","getValueAxis","indexAxis","splineCurve","firstPoint","middlePoint","afterPoint","d01","d12","s01","s12","fa","fb","monotoneAdjust","deltaK","mK","pointsLen","alphaK","betaK","tauK","squaredMagnitude","pointCurrent","pointAfter","monotoneCompute","valueAxis","pointBefore","iPixel","vPixel","splineCurveMonotone","slopeDelta","capControlPoint","pt","capBezierPoints","inArea","inAreaPrev","inAreaNext","_updateBezierControlPoints","controlPoints","prev","_isDomSupported","_getParentNode","domNode","parseMaxStyle","styleValue","parentProperty","valueInPixels","getComputedStyle","getStyle","positions","getPositionedStyle","styles","suffix","useOffsetPos","getCanvasPosition","touches","offsetX","offsetY","box","getRelativePosition","currentDevicePixelRatio","borderBox","paddings","borders","getContainerSize","maxWidth","maxHeight","containerStyle","containerBorder","containerPadding","round1","getMaximumSize","bbWidth","bbHeight","aspectRatio","margins","containerSize","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","supportsEventListenerOptions","passiveSupported","readUsedSize","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","getRightToLeftAdapter","rectX","itemWidth","getLeftToRightAdapter","_itemWidth","getRtlAdapter","rtl","overrideTextDirection","original","restoreTextDirection","propertyFn","normalizeSegment","getSegment","segment","bounds","startBound","endBound","between","_boundSegment","inside","subStart","prevValue","startIsBefore","endIsBefore","shouldStart","shouldStop","_boundSegments","segments","sub","findStartAndEnd","solidSegments","cur","_computeSegments","segmentOptions","splitByStyles","completeLoop","doSplitByStyles","chartContext","baseStyle","readStyle","datasetIndex","prevStyle","addStyle","st","dir","styleChanged","replacer","getSizeForArea","chartArea","getDatasetArea","getDatasetClipArea","clip","Animator","anims","numSteps","remaining","draw","charts","acc","animator","transparent","interpolators","c0","Animation","cfg","currentValue","elapsed","remain","rej","Animations","animationOptions","animatedProps","option","newOptions","resolveTargetOptions","animations","awaitAll","properties","scaleClip","allowedOverflow","defaultClip","toClip","getSortedDatasetIndices","filterVisible","metasets","applyStack","stack","dsIndex","singleMode","otherValue","convertObjectDataToArray","iAxisKey","vAxisKey","adata","isStacked","stacked","getStackKey","indexScale","valueScale","getUserBounds","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","positive","updateStacks","controller","iAxis","vAxis","itemStacks","visualValues","getFirstScaleId","scales","createDatasetContext","createDataContext","clearStacks","isDirectUpdateMode","cloneIfNotShared","cached","shared","createStack","canStack","DatasetController","dataset","chooseId","xid","yid","rid","iid","vid","scaleID","_data","resetNewElements","stackChanged","oldStacked","scopeKeys","_stacked","isNotInOrderComparedToPrev","labels","singleScale","xAxisKey","yAxisKey","parsedValue","otherScale","otherMin","otherMax","_skip","elements","drawActiveElementsOnTop","elementType","sharing","transition","sharedOptions","firstOpts","previouslySharedOptions","includeOptions","arg1","arg2","numMeta","numData","move","removed","newCount","LineController","_dataset","maxGapLength","directUpdate","pointsCount","prevParsed","nullData","border","lastPoint","abstract","DateAdapterBase","members","adapters","binarySearch","metaset","intersect","_sorted","lookupMethod","evaluateInteractionItems","position","getDistanceMetricForAxis","useX","useY","deltaX","deltaY","getIntersectItems","useFinalPosition","includeInvisible","getNearestRadialItems","evaluationFunc","startAngle","endAngle","getNearestCartesianItems","distanceMetric","minDistance","inRange","distance","getNearestItems","getAxisItems","rangeMethod","intersectsItem","Interaction","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","wrapBoxes","boxes","layoutBoxes","stackWeight","buildStacks","layouts","wrap","setLayoutDims","vBoxMaxWidth","hBoxMaxHeight","layout","fullSize","buildLayoutBoxes","centerHorizontal","centerVertical","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","newWidth","newHeight","widthChanged","heightChanged","handleMaxPadding","updatePos","getMargins","horizontal","marginForPositions","fitBoxes","refitBoxes","refit","same","setBoxDims","placeBoxes","userPadding","layoutItem","minPadding","availableWidth","availableHeight","verticalBoxes","horizontalBoxes","visibleVerticalBoxCount","total","BasePlatform","BasicPlatform","EXPANDO_KEY","EVENT_TYPES","isNullOrEmpty","initCanvas","renderHeight","renderWidth","displayWidth","displayHeight","eventListenerOptions","addListener","removeListener","fromNativeEvent","nodeListContains","nodeList","createAttachObserver","entries","entry","createDetachObserver","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","resize","listenDevicePixelRatioChanges","unlistenDevicePixelRatioChanges","createResizeObserver","releaseObserver","createProxyAndListen","DomPlatform","initial","proxies","_detectPlatform","Element","autoSkip","tickOpts","determinedMaxTicks","determineMaxTicks","ticksLimit","majorIndices","getMajorIndices","numMajorIndices","first","newTicks","skipMajors","spacing","calculateSpacing","avgMajorSpacing","skip","tickLength","maxScale","maxChart","evenMajorSpacing","getEvenSpacing","factors","majorStart","majorEnd","reverseAlign","offsetFromEdge","edge","getTicksLimit","ticksLength","maxTicksLimit","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","lineValue","garbageCollect","caches","gcLen","getTickMarkLength","getTitleHeight","createScaleContext","createTickContext","titleAlign","titleArgs","titleX","titleY","positionAxisID","Scale","_userMin","_userMax","_suggestedMin","_suggestedMax","metas","sampleSize","samplingEnabled","reversePixels","startPixel","endPixel","numTicks","minRotation","maxRotation","labelRotation","tickWidth","maxLabelDiagonal","labelSizes","maxLabelWidth","maxLabelHeight","minSize","titleOpts","gridOpts","display","isHorizontal","titleHeight","widest","highest","tickPadding","angleRadians","cos","sin","labelHeight","labelWidth","isRotated","labelsBelowTicks","offsetLeft","offsetRight","paddingLeft","paddingRight","paddingTop","paddingBottom","widths","heights","widestLabelSize","highestLabelSize","jlen","tickFont","fontString","lineHeight","nestedLabel","valueAt","decimal","optionTicks","rot","grid","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","limit","optsAtIndex","optsAtIndexBorder","lineWidth","lineColor","borderDash","borderDashOffset","tickColor","tickBorderDash","tickBorderDashOffset","crossAlign","mirror","tickAndPadding","hTickAndPadding","textAlign","lineCount","textOffset","textBaseline","halfCount","strokeColor","strokeWidth","tickTextAlign","backdrop","labelPadding","backgroundColor","drawLine","lastLineWidth","renderTextOptions","title","gz","bz","axisID","fontSize","TypedRegistry","override","parentScope","isIChartComponent","registerDefaults","itemDefaults","routeDefaults","propertyParts","sourceName","sourceScope","Registry","typedRegistry","arg","reg","itemReg","registry","camelMethod","PluginService","hook","descriptor","plugin","plugins","allPlugins","createDescriptors","previousDescriptors","localIds","getOpts","pluginOpts","getIndexAxis","datasetDefaults","getAxisFromDefaultScaleID","getDefaultScaleIDFromAxis","idMatchesAxis","axisFromPosition","determineAxis","scaleOptions","getAxisFromDataset","retrieveAxisFromDatasets","boundDs","mergeScaleConfig","chartDefaults","configScales","chartIndexAxis","scaleConf","defaultId","defaultScaleOptions","defaultID","initOptions","initData","initConfig","keyCache","keysCached","cachedKeys","generate","addIfFound","Config","datasetType","mainScope","resetCache","_scopeCache","keyLists","subPrefixes","getResolver","needContext","subResolver","resolverCache","hasFunction","isScriptable","scriptable","indexable","version","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onAnimationProgress","getCanvas","instances","getChart","moveNumericKeys","intKey","determineLastEvent","lastEvent","inChartArea","isClick","Chart","invalidatePlugins","userConfig","initialCanvas","existingChart","maintainAspectRatio","_aspectRatio","newSize","newRatio","scalesOptions","axisOptions","scaleOpts","isRadial","scaleType","scaleClass","hasUpdated","datasets","newControllers","ControllerClass","datasetElementType","dataElementType","animsDisabled","_active","_lastEvent","existingEvents","newEvents","_hiddenIndices","changes","_dataChanges","datasetCount","makeSet","changeSet","noArea","layers","visible","dataIndex","platform","_add","_remove","detached","attached","enabled","activeElements","lastActive","pluginId","replay","hoverOptions","deactivated","activated","eventFilter","setStyle","lineTo","getLineMethod","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","fastPathSegment","avgX","countX","prevX","minY","maxY","lastY","pointIndex","drawX","truncX","_getSegmentMethod","_getInterpolationMethod","strokePathWithCache","strokePathDirect","segmentMethod","usePath2D","LineElement","_interpolate","interpolated","inRange$1","PointElement","mouseX","mouseY","borderWidth","_segments","tpoints","_findSegmentEnd","_getBounds","targetSegments","tgt","subBounds","fillSources","fillSource","_getEdge","_pointsFromSegments","boundary","linePoints","_createBoundaryLine","_loop","_shouldApplyFill","_resolveTarget","propagate","fill","visited","_decodeFill","parseFillOption","decodeTargetIndex","firstCh","_getTargetPixel","_getTargetValue","startValue","fillOption","_buildStackLine","sourcePoints","linesBelow","getLinesBelow","addPointsBelow","below","sourcePoint","postponed","findPoint","pointValue","firstValue","lastValue","simpleArc","_getTarget","getLineByIndex","computeBoundary","computeCircularBoundary","computeLinearBoundary","_drawfill","lineOpts","above","doFill","clipVertical","clipY","lineLoop","notShape","clipBounds","interpolatedLineTo","targetLoop","interpolatedPoint","_args","positioners","xSet","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","createTooltipItem","getTooltipSize","body","boxWidth","boxHeight","bodyFont","titleFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","bodyLineHeight","widthPadding","maxLineWidth","determineYAlign","doesNotFitWithAlign","xAlign","caret","determineXAlign","yAlign","chartWidth","determineAlignment","alignX","alignY","paddingAndSize","getBackgroundPoint","alignment","caretSize","caretPadding","topLeft","topRight","bottomLeft","bottomRight","getAlignedX","getBeforeAfterBodyLines","createTooltipContext","tooltipItems","overrideCallbacks","defaultCallbacks","labelCount","tooltipItem","invokeCallbackWithFallback","Tooltip","beforeTitle","afterTitle","bodyItems","scoped","beforeFooter","afterFooter","labelColors","labelPointStyles","labelTextColors","positionAndSize","backgroundPoint","tooltipPoint","caretPosition","ptX","ptY","x3","y3","titleSpacing","rtlHelper","labelColor","labelPointStyle","colorX","rtlColorX","yOffSet","colorY","drawOptions","centerX","centerY","outerX","innerX","borderRadius","bodySpacing","bodyAlign","displayColors","xLinePadding","fillLineOfText","bodyAlignForCalculation","textColor","tooltipSize","animX","animY","hasTooltipContent","positionChanged","caretX","caretY","plugin_tooltip","generateTicks$1","generationOptions","dataRange","precision","maxTicks","maxDigits","includeBounds","maxSpaces","rmin","rmax","countDefined","minSpacing","niceMin","niceMax","numSpaces","decimalPlaces","relativeLabelSize","LinearScaleBase","setMin","setMax","minSign","maxSign","stepSize","numericGeneratorOptions","LinearScale","INTERVALS","UNITS","sorter","adapter","parser","determineUnitForAutoTicks","minUnit","capacity","determineUnitForFormatting","determineMajorUnit","addTick","time","timestamps","timestamp","setMajorTicks","majorUnit","major","ticksFromTimestamps","TimeScale","_applyBounds","timeOpts","minor","hasWeekday","minorFormat","majorFormat","offsets","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","displayFormats","exampleLabel","prevSource","nextSource","prevTarget","nextTarget","TimeSeriesScale","curr","FORMATS","_adapters","chartOptions","datetime","amount","window","document","exportName","undefined","VENDOR_PREFIXES","TEST_ELEMENT","TYPE_FUNCTION","abs","setTimeoutContext","bindFn","invokeArrayArg","iterator","deprecate","deprecationMessage","output","nextKey","extend","inherit","baseP","childP","boolOrFn","ifUndefined","val1","val2","addEventListeners","types","splitStr","removeEventListeners","hasParent","inStr","find","inArray","findByKey","toArray","uniqueArray","prefixed","camelProp","_uniqueId","getWindowForElement","MOBILE_REGEX","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","INPUT_TYPE_TOUCH","INPUT_TYPE_PEN","INPUT_TYPE_MOUSE","INPUT_TYPE_KINECT","COMPUTE_INTERVAL","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","PROPS_XY","PROPS_CLIENT_XY","Input","manager","self","ev","createInputInstance","Type","inputClass","PointerEventInput","TouchInput","TouchMouseInput","MouseInput","inputHandler","eventType","pointersLen","changedPointersLen","isFirst","isFinal","computeInputData","session","pointers","pointersLength","simpleCloneInputData","firstInput","firstMultiple","offsetCenter","getCenter","getAngle","getDistance","computeDeltaXY","getDirection","overallVelocity","getVelocity","getScale","getRotation","computeIntervalInputData","prevDelta","prevInput","deltaTime","velocity","velocityX","velocityY","MOUSE_INPUT_MAP","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","POINTER_INPUT_MAP","IE10_POINTER_TYPE_ENUM","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","removePointer","eventTypeNormalized","pointerType","isTouch","storeIndex","SINGLE_TOUCH_INPUT_MAP","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","normalizeSingleTouches","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","getTouches","allTouches","targetIds","targetTouches","changedTouches","changedTargetTouches","touch","DEDUP_TIMEOUT","DEDUP_DISTANCE","inputEvent","inputData","isMouse","recordTouches","isSyntheticEvent","eventData","setLastTouch","lastTouch","lts","removeLastTouch","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_COMPUTE","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","getTouchActionProps","TouchAction","actions","recognizer","cleanTouchActions","srcEvent","hasNone","hasPanY","hasPanX","isTapPointer","isTapMovement","isTapTouchTime","touchMap","cssSupports","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","STATE_FAILED","Recognizer","otherRecognizer","simultaneous","getRecognizerByNameIfManager","requireFail","emit","stateStr","inputDataClone","directionStr","AttrRecognizer","optionPointers","isRecognized","isValid","PanRecognizer","hasMoved","PinchRecognizer","inOut","PressRecognizer","validPointers","validMovement","validTime","RotateRecognizer","SwipeRecognizer","TapRecognizer","validTouchTime","validInterval","validMultiTap","tapCount","Hammer","Manager","STOP","FORCED_STOP","toggleCssProps","recognizers","curRecognizer","existing","events","triggerDomEvent","gestureEvent","freeGlobal","module","getModifierKey","keyPressed","keyNotPressed","directionEnabled","directionsEnabled","getScaleUnderPoint","scaleIds","getEnabledScalesByPoint","scaleMode","overScaleMode","scaleEnabled","overScaleEnabled","enabledScales","scaleItem","chartStates","getState","removeState","zoomDelta","newRange","minPercent","maxPercent","getValueAtPoint","linearZoomDelta","centerValue","logarithmicZoomRange","logMin","logMax","logCenter","logRange","newLogRange","getScaleLimits","limits","getLimit","scaleLimits","linearRange","pixel0","pixel1","fixRange","minLimit","maxLimit","originalLimits","origMin","origMax","updateRange","minRange","scaleRange","zoomNumericalScale","zoomLogarithmicScale","zoomRectNumericalScale","integerChange","existCategoryFromMaxZoom","maxIndex","zoomCategoryScale","scaleLength","panCategoryScale","lastLabelIndex","stepDelta","applied","OFFSETS","panNumericalScale","pan","prevStart","prevEnd","newMin","newMax","panNonLinearScale","zoomFunctions","zoomRectFunctions","panFunctions","shouldUpdateScaleLimits","originalScaleLimits","updatedScaleLimits","removeMissingScales","opt","storeOriginalScaleLimits","doZoom","doZoomRect","ca","focalPoint","zoomOptions","xEnabled","yEnabled","zoomRect","p0","zoomScale","scaleId","resetZoom","getOriginalRange","getZoomLevel","origRange","panScale","panDelta","storedDelta","panOptions","onPan","getInitialScaleBounds","scaleBounds","getZoomedScaleBounds","isZoomedOrPanned","originalMin","originalMax","isZoomingOrPanning","clamp","removeHandler","addHandler","oldHandler","passive","mouseMove","keyDown","getPointPosition","canvasArea","zoomStart","onZoomStart","onZoomRejected","mouseDown","applyAspectRatio","begin","applyMinMaxProps","getRelativePoints","pointEvents","computeDragRect","chartHeight","mouseUp","onZoomComplete","threshold","distanceX","distanceY","wheelPreconditions","wheel","speed","percentage","addDebouncedHandler","addListeners","wheelOptions","dragOptions","removeListeners","createEnabler","pinchAxes","pinchX","pinchY","handlePinch","zoomPercent","pinch","startPinch","endPinch","handlePan","startPan","onPanStart","onPanRejected","endPan","hammers","startHammer","mc","stopHammer","hammerOptionsChanged","oldOptions","oldPan","oldZoom","newPan","newZoom","caller","dragStart","dragEnd","panScales","previousOptions","chartCanvas","chartInst","chartData","totalLogs","resetData","Filler","zoomPlugin","content","language","formattedContent","highlight","idleClasses","successClasses","successDuration","copyTimeout","copy","constants_2","copyicon0","CopyIcon","copyicon1","copyicon2","create_if_block_7","tr0","tr1","tr2","td5","copyicon0_changes","copyicon1_changes","copyicon2_changes","copyicon","copyicon_changes","codeblock_changes","LOG_REQUEST_KEY","logPanel","modelOrId","resolveModel","onShow","priotizedKeys","extractKeys","downloadJson","onHide","isRequest","button1_disabled_value","formId","isSaving","originalFormSettings","formSettings","loadSettings","save","hasChanges","initialHash","header","nav","LOG_QUERY_KEY","ADMIN_REQUESTS_QUERY_KEY","ADMIN_REQUESTS_STORAGE_KEY","$pageTitle","initialQueryParams","$querystring","logViewPanel","logsSettingsPanel","refreshKey","withSuperuserLogs","initialWithSuperuserLogs","updateQueryParams","extra","queryParams","click_handler","submit_handler","select_handler","hr","show_if","aside","baseTabs","authTabs","docsPanel","activeTab","tabs","changeTab","newTab","click_handler_1","div_class_value","accordionElem","expandTimeoutId","draggable","interactive","isDragOver","isExpanded","collapseSiblings","collapse","dragstart_handler","switch_instance_props","dispose","cachedEditorComponent","placeholders","accordion","editorComponent","isEditorComponentLoading","loadEditorComponent","param","$$self","hasErrors","label_1","secret","tokenfield_props","tokenfield_changes","tokensList","hasTokenError","isSuperusers","small","tooltip_action","cachedRuleComponent","formKey","required","superuserToggle","ruleInputComponent","isRuleComponentLoading","unlock","lock","isSuperuserOnly","isDisabled","each_1_else_1","div0_tabindex_value","defaultSearchFunc","search","normalizedSearch","normalizedItem","noOptionsText","selectPlaceholder","searchPlaceholder","multiple","readonly","upside","zeroFunc","closable","labelComponent","labelComponentProps","optionComponent","optionComponentProps","searchable","searchFunc","toggler","labelDiv","deselectItem","selectItem","toggleItem","isSelected","showDropdown","hideDropdown","ensureSelectedExist","selectedArray","unselectedArray","selectedItem","resetSearch","filterItems","filterFunc","handleOptionSelect","handleOptionKeypress","onDropdownShow","onLabelClick","keydown_handler","filteredItems","inputElem","redactedpasswordinput_props","redactedpasswordinput_changes","switch_value","img_src_value","img_alt_value","t4_value","figure","t4","uiOptions","isNew","maskSecret","providerIndex","showOptions","showConfig","showIndex","errPrefix","remove","maxDuration","clientId","teamId","keyId","privateKey","isSubmitting","canSubmit","generatorPopup","i_class_value","BaseSelectOption","selectionKey","keyOfSelected","oldKeyOfSelectedHash","handleKeyOfSelectedChange","newKeyOfSelected","newSelected","handleSelectedChange","extractedKeys","input_type_value","valueStr","userInfoOptions","hasUserInfoURL","refreshUserInfoState","isRequired","providersList","AppleOptions","MicrosoftOptions","SelfHostedOptions","OIDCOptions","em","filteredProviders","clearSearch","select","provider","filterProviders","div5_transition","select_props","select_changes","t6_value","t6","func_4","oauth2providerslistpanel_changes","excludedFieldNames","allowedRegularTypes","allowedRegularAndFileTypes","providersListPanel","providerPanel","showMappedFields","regularFieldOptions","regularAndFileFieldOptions","refreshFieldOptions","getProviderUIOptions","providersUIList","providerConfig","totalProviders","identityFieldsOptions","oldIndexes","refreshIdentityFieldsOptions","indexes","objectselect_changes","emailStorageKey","testRequestKey","templateOptions","email","template","testTimeoutId","isAuthCollectionsLoading","showAuthCollections","collectionArg","emailArg","templateArg","loadAuthCollections","emailtemplateaccordion_props","emailtemplateaccordion_changes","h40","h41","h42","emailTemplatesList","emailTestPopup","resetPasswordTemplate","verificationTemplate","confirmEmailChangeTemplate","otpTemplate","authAlertTemplate","dragHandleClass","dragging","dragover","onDrag","onDrop","dragData","drop_handler","input_checked_value","field1_changes","codeEditorComponent","isCodeEditorComponentLoading","showKey","blankIndex","indexColumns","toggleColumn","click_handler_3","presetColumns","i_1","i_1_transition","func","button_class_value","each_value","upsertPanel","pushOrReplace","oldIndex","newIndex","rawIndex","fieldType","create_if_block_9","create_if_block_8","input_value_value","button_aria_label_value","show_if_2","if_block3","create_if_block_10","div1_transition","siblings","componentId","customRequiredLabels","authHideNonemptyToggle","authHideHiddenToggle","authHidePresentableToggle","nameInput","restore","duplicate","normalizeFieldName","oldName","isAuthCollection","requiredLabel","ON_CREATE","ON_UPDATE","ON_CREATE_UPDATE","selectedOption","optionFromField","updateField","HOOKS","givenDate","week1","english","nth","pad","bool","_this","arrayify","toggleClass","createElement","tag","clearNode","findParent","condition","createNumberInput","inputClassName","numInput","arrowUp","arrowDown","getEventTarget","doNothing","monthToStr","monthNumber","shorthand","revFormat","dateObj","monthName","amPM","shortMonth","unixSeconds","weekNum","ISODate","unixMillSeconds","tokenRegex","createDateFormatter","l10n","isMobile","frmt","overrideLocale","createDateParser","givenFormat","timeless","customLocale","parsedDate","dateOrig","datestr","matched","ops","regexStr","isBackSlash","escaped","compareDates","date1","date2","isBetween","calculateSecondsSinceMidnight","parseSeconds","secondsSinceMidnight","getDefaultHours","minHour","minMinutes","minSeconds","maxHr","maxMinutes","_i","_loop_1","args_1","__assign","__spreadArrays","il","jl","DEBOUNCED_CHANGE_MS","FlatpickrInstance","instanceConfig","defaultOptions","flatpickr","English","setHoursFromDate","positionCalendar","changeMonth","changeYear","close","onMouseOver","createDay","isEnabled","jumpToDate","updateValue","open","redraw","setDate","setupHelperFunctions","yr","parseConfig","setupLocale","setupInputs","setupDates","build","bindEvents","setCalendarWidth","isSafari","triggerEvent","getClosestActiveElement","bindToInstance","daysWidth","updateTime","defaultDate","timeWrapper","setHoursFromInputs","ampm2military","military2ampm","limitMinHours","limitMaxHours","minBound","maxBound","currentTime","maxTime","minTime","setHours","onYearInput","eventTarget","triggerChange","evt","setupMobile","debouncedResize","onResize","onKeyDown","documentClick","onMonthNavClick","selectDate","selText","timeIncrement","onBlur","jumpDate","jumpTo","oldYear","oldMonth","buildMonthSwitch","incrementNumInput","createEvent","buildMonthNav","buildWeeks","weekWrapper","weekNumbers","buildWeekdays","buildDays","buildTime","customAppend","_dayNumber","dateIsEnabled","dayElement","isDateSelected","isDateInRange","focusOnDayElem","targetNode","getFirstAvailableDay","startMonth","endMonth","endIndex","getNextAvailableDay","givenMonth","loopDelta","numMonthDays","focusOnDay","activeElement","dayFocused","isInView","startElem","buildMonthDays","firstOfMonth","prevMonthDays","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayNumber","dayIndex","dayNum","dayContainer","frag","shouldBuildMonth","buildMonth","monthNavFragment","monthElement","selectedMonth","yearInput","yearElement","currentMonth","buildMonths","updateNavigationCurrentMonth","hourInput","minuteInput","secondInput","updateWeekdays","firstDayOfWeek","isOffset","triggerChangeEvent","toInitial","isCalendarElem","eventTarget_1","isCalendarElement","isInput","lostFocus","isIgnored","newYear","newYearNum","isNewYear","dateToCheck","valueChanged","getDateStr","allowInput","allowKeydown","allowInlineKeydown","isTimeObj","focusAndClose","delta_1","elems","cellClass","hoverDate","initialDate","rangeStartDate","rangeEndDate","containsDisabled","maxRange","hoverableCells","dayElem","outOfRange","positionElement","wasOpen","minMaxDateSetter","inverseDateObj","boolOpts","dates","parseDateRules","timeMode","defaultDateFormat","defaultAltFormat","minMaxTimeSetter","pluginConf","getInputElem","customPositionElement","calendarHeight","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","distanceFromBottom","showOnTop","isCenter","isRight","rightMost","centerMost","getDocumentStyleSheet","bodyWidth","centerLeft","centerBefore","centerAfter","centerIndex","centerStyle","editableSheet","sheet","createStyleSheet","isSelectable","selectedDate","shouldChangeMonth","selectedIndex","CALLBACKS","updatePositionElement","setSelectedDate","inputDate","preloadedDate","inputType","hooks","specificFormat","dObj","isPrevMonth","isNextMonth","isKeyDown","curValue","isHourElem","isMinuteElem","_flatpickr","selector","input_1","stripOn","getModeValue","selectedDates","areValuesEqual","formattedValue","fp","addHooks","dateStr","firer","newModeValue","flatpickr_props","flatpickr_changes","pickerMinValue","pickerMaxValue","onClose","close_handler","close_handler_1","input_handler","multiplevalueinput_props","multiplevalueinput_changes","baseMimeTypesList","button2","button3","MimeTypeSelectOption","objectselect_props","i0","i1","ul","isSingleOptions","mimeTypesList","isSingle","oldIsSingle","loadDefaults","appendMissingMimeTypes","missing","code0","code1","code2","li0","li1","li2","li3","li4","code7","li5","li6","li7","code8","showInfo","input_min_value","selectCollections","$collections","selectedColection","draggable_changes","emptyPlaceholder","newPlaceholder","newInput","newInputVal","hide_handler","dynamicoptionsselect_props","dynamicoptionsselect_changes","input_handler_1","draggable_props","oldCollectionType","fieldComponents","SchemaFieldText","SchemaFieldNumber","SchemaFieldBool","SchemaFieldEmail","SchemaFieldUrl","SchemaFieldEditor","SchemaFieldDate","SchemaFieldSelect","SchemaFieldJson","SchemaFieldFile","SchemaFieldRelation","SchemaFieldPassword","SchemaFieldAutodate","SchemaFieldGeoPoint","removeField","fieldIndex","duplicateField","getUniqueFieldName","counter","hasFieldWithName","getSchemaFieldIndex","nonDeletedFields","replaceIndexesColumn","newName","onTypeCange","nonSystemFields","blank","$scaffolds","replaceIdentityFields","identityFields","onFieldRename","remove_handler","duplicate_handler","rename_handler","ghost","field_changes","fieldsErrors","checkFieldsErrors","errs","columns","fieldName","hr0","hr1","hr2","p3","rulefield0_props","rulefield1_props","rulefield2_props","rulefield0_changes","rulefield1_changes","rulefield2_changes","showFiltersInfo","showExtraRules","fieldNames","hiddenFieldNames","li","strong0","strong1","br0","small0","br1","small1","t11","t11_value","br","hideAfterSave","conflictingOIDCs","changedRules","hideAfterSaveArg","detectConflictingOIDCs","detectRulesChange","isCollectionRenamed","renamedFields","deletedFields","multipleToSingleFields","oidcProviders","oldProvider","newProvider","oldHost","newHost","haveExternalAuths","getExternalAuthsFilterLink","ruleProps","isNewCollectionView","isNewCollectionAuth","oldRule","newRule","old","showChanges","TAB_OPTIONS","TAB_RULES","create_if_block_13","create_if_block_12","TAB_SCHEMA","create_if_block_11","t5_value","input_autofocus_value","div0_role_value","t5","_f","_g","TYPE_BASE","TYPE_AUTH","TYPE_VIEW","calculateFormHash","collectionTypes","collectionPanel","confirmChangesPanel","isLoadingConfirmation","confirmClose","initialFormHash","fieldsTabError","baseCollectionKeys","forceHide","saveConfirm","exportFormData","$activeCollection","truncateConfirm","deleteConfirm","setCollectionType","duplicateConfirm","hasOtherKeys","excludes","errorKeys","click_handler_6","canSave","click_handler_7","click_handler_8","click_handler_9","confirm_handler","isAuth","isView","isSystemUpdate","startX","startY","shiftX","shiftY","dragStarted","dragInit","onMove","onStop","diffX","diffY","widthStorageKey","sidebarElem","initialSidebarWidth","sidebarWidth","a_href_value","a_title_value","pinnedIds","toggleCollectionPin","isPinned","button_disabled_value","pinnedStorageKey","scrollIntoView","activeItem","showSystemSection","oldCollectionId","loadPinned","encoded","syncPinned","hasSearch","pinnedCollections","unpinnedRegularCollections","unpinnedSystemCollections","dateOnly","timeOnly","urlOrFactory","urlOrFactoryArg","resolveUrlOrFactory","openInNewTab","queryParamsIndex","button_title_value","previewPopup","thumbUrl","isLoadingToken","loadThumbUrlToken","onError","hasPreview","recordinfocontent_props","recordinfocontent_changes","each_blocks_1","each1_else","fileDisplayFields","nonFileDisplayFields","loadDisplayFields","fallbackFileField","excludeProps","each_value_3","create_if_block_17","create_if_block_14","each_value_2","each_value_1","short","rawValue","recordPanel","hasEditorField","detailedDateFormat","tooltipDates","refreshTooltipDates","externalAuths","getProviderConfig","getProviderTitle","loadExternalAuths","unlinkExternalAuth","externalAuth","secretElem","togglerActive","input_required_value","div3_transition","changePasswordToggle","emailField","passwordField","icon","field_1_changes","pickerValue","batchSize","submitText","fileTypes","pickerPanel","lastItemsCount","fileCollections","fileFields","sizeOptions","selectedCollection","selectedFile","selectedSize","loadList","clearFilter","fallbackSearchFields","refreshSizeOptions","sizes","extractFiles","hasAtleastOneFile","picker","mounted","mountedTimeoutId","initEvent","i_alt_value","loadPreviewUrl","previewUrl","div0_title_value","input_accept_value","uploadedFiles","deletedFileNames","fileInput","filesListElem","restoreExistingFile","removeExistingFile","removeNewFile","triggerListChange","dropHandler","files","maxReached","currentTotal","valueAsArray","auxclick_handler","click_handler_4","isMultiple","serialize","isValidJson","serialized","input_max_value","scrollend","onScroll","h5","isLoadingList","isLoadingSelected","isReloadingRecord","loadSelected","getExpand","expands","presentableRelFields","selectedIds","loadedItems","filterIds","loadPromises","filters","reloadRecord","reloaded","maxSelect","canSelectMore","deselect","click_handler_5","fieldRef","loadTimeoutId","invalidIds","needLoad","ids","rel","listToValue","updateTimeoutId","updateInputHeight","handleKeydown","hasAutogenerate","mapComponent","isMapComponentLoading","isMapVisible","toggleMapVisibility","hideMap","showMap","loadMapComponent","get_key_1","SDK_PREFERENCE_KEY","dart","example","sdkExamples","impersonateClient","backendAbsUrl","div4_outro","create_if_block_24","create_if_block_23","tabProviderKey","create_if_block_25","create_if_block_22","tabFormKey","button0_disabled_value","impersonatePopup","initialDraft","confirmHide","uploadedFilesMap","deletedFileNamesMap","originalSerializedData","serializedData","initialCollection","regularFields","baseSkipFieldNames","authSkipFieldNames","onCollectionChange","updateDraft","getDraft","areRecordsEqual","replaceOriginal","newOriginal","skipFields","deleteDraft","draftKey","fallbackRecord","newSerializedData","restoreDraft","recordA","recordB","cloneA","cloneB","hidePanel","isSuperusersCollection","exportableFields","jsonFields","fieldErr","sendVerificationEmail","sendPasswordResetEmail","resetTypes","handleFormKeydown","copyJSON","idField","hasFileChanges","skipFieldNames","totalCount","reload","sortheader_changes","td_class_value","sortRegex","scrollWrapper","records","lastTotal","isDeleting","yieldedRecordsId","columnsTrigger","hiddenColumns","collumnsToHide","hiddenColumnsKey","unusedSuperusersFields","updateStoredHiddenColumns","loadStoredHiddenColumns","hasRecord","reloadLoadedPages","loadedPages","listSort","sortMatch","sortRelField","relFields","relPresentableFields","presentableField","listFields","editorFields","expandFields","toggleSelectAllRecords","areAllRecordsSelected","deselectAllRecords","selectAllRecords","toggleSelectRecord","deleteSelectedConfirm","deleteSelected","recordId","change_handler_2","visibleFields","$isCollectionsLoading","collectionUpsertPanel","collectionDocsPanel","recordUpsertPanel","recordPreviewPanel","recordsList","recordsCount","selectedCollectionIdOrName","showRecordById","normalizeSort","collectionFields","sortFields","showModel","new_handler","reactiveParams","collectionQueryParam","a2","a3","a4","div7","div6","t8","t8_value","commonProxyHeaders","healthData","initialSettingsHash","setHeader","ipOptions","settingsHash","suggestedProxyHeaders","option_value_value","datalist","autocompleteinput_props","autocompleteinput_changes","ol","ul3","li8","li11","li12","code19","code20","code21","code22","code23","ul2","audienceOptions","basePredefinedTags","predefinedTags","formatInfoPanel","loadPredefinedTags","removeRule","sortRules","loadHealthData","$appName","$hideControls","submitTimeoutId","nameConfirm","reloadTimeoutId","backupName","span0_title_value","i2","i3","createPanel","restorePanel","backups","isDownloading","canBackup","loadBackups","loadCanBackup","download","deleteBackup","health","oldCanBackup","canBackupIntervalId","backup","div7_transition","originalConfig","configKey","toggleLabel","testFilesystem","testError","isTesting","testDebounceId","refreshMaskSecret","testConnectionWithDebounce","testConnection","backupRequestKey","isUploading","resetSelectedFile","uploadConfirm","upload","form_transition","backupsListComponent","enableAutoBackups","showBackupsSettings","refreshList","crons","isRunning","loadCrons","cronRun","jobId","cron","label_title_value","previewContainer","isLoadingCollections","selectAll","schema","toggleSelectAll","areAllSelected","deselectAll","toggleSelectCollection","selection","pre0","pre1","_h","getFieldById","valA","valB","collectionA","collectionB","deleteMissing","fieldsListA","fieldsListB","sharedFields","setFieldsListB","fieldA","fieldB","displayValue","isDeleteDiff","isCreateDiff","hasAnyChange","mainModelProps","collectionsdifftable_changes","oldCollections","newCollections","pairs","isImporting","oldCollectionsArg","newCollectionsArg","deleteMissingArg","loadPairs","submitConfirm","deletedFieldNames","imported","if_block4","importPopup","schemas","isLoadingFile","collectionsToUpdate","isLoadingOldCollections","mergeWithOldCollections","loadOldCollections","loadCollectionsToUpdate","loadNewCollections","replaceIds","originalId","replacedId","loadFile","review","collectionsToImport","collectionsToDelete","collectionsToAdd","canImport","idReplacableCollections","oldFieldByName","div4_transition","tlsOptions","authMethods","testPopup","maskPassword","showMoreOptions","s3fields_props","s3fields_changes","nobranding","password","currentStep","totalSteps","passwordAuthSubmitting","otpRequestSubmitting","otpAuthSubmitting","mfaId","otpId","lastOTPId","otpEmail","otpPassword","loadAuthMethods","authWithPassword","requestOTP","authWithOTP","iframe_1","iframe_1_src_value","iframe","listenIframe","action","showCollectionUpsertPanel","notifyChanged","details","PageSuperuserLogin","PageRecords","PageLogs","PagePlugin","PageApplication","PageMail","PageStorage","PageExportCollections","PageImportCollections","PageBackups","PageCrons","PageIndex","a_aria_label_value","loadPlugins","$superuser","link_1","div_title_value","oldLocation","showAppSidebar","isTinyMCEPreloaded","handleRouteLoading","handleRouteFailure","logout","App"],"ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,40,41,43,47,54,56,57,59,70,71,72,73,74,75,115,116,117,118,119,120,121,122,123,207],"sources":["../../node_modules/svelte/src/runtime/internal/utils.js","../../node_modules/svelte/src/runtime/internal/environment.js","../../node_modules/svelte/src/runtime/internal/loop.js","../../node_modules/svelte/src/runtime/internal/dom.js","../../node_modules/svelte/src/runtime/internal/style_manager.js","../../node_modules/svelte/src/runtime/internal/animations.js","../../node_modules/svelte/src/runtime/internal/lifecycle.js","../../node_modules/svelte/src/runtime/internal/scheduler.js","../../node_modules/svelte/src/runtime/internal/transitions.js","../../node_modules/svelte/src/runtime/internal/await_block.js","../../node_modules/svelte/src/runtime/internal/each.js","../../node_modules/svelte/src/runtime/internal/spread.js","../../node_modules/svelte/src/runtime/internal/Component.js","../../node_modules/svelte/src/shared/version.js","../../node_modules/svelte/src/runtime/internal/disclose-version/index.js","../../node_modules/luxon/src/errors.js","../../node_modules/luxon/src/impl/formats.js","../../node_modules/luxon/src/zone.js","../../node_modules/luxon/src/zones/systemZone.js","../../node_modules/luxon/src/zones/IANAZone.js","../../node_modules/luxon/src/impl/locale.js","../../node_modules/luxon/src/zones/fixedOffsetZone.js","../../node_modules/luxon/src/zones/invalidZone.js","../../node_modules/luxon/src/impl/zoneUtil.js","../../node_modules/luxon/src/impl/digits.js","../../node_modules/luxon/src/settings.js","../../node_modules/luxon/src/impl/invalid.js","../../node_modules/luxon/src/impl/conversions.js","../../node_modules/luxon/src/impl/util.js","../../node_modules/luxon/src/impl/english.js","../../node_modules/luxon/src/impl/formatter.js","../../node_modules/luxon/src/impl/regexParser.js","../../node_modules/luxon/src/duration.js","../../node_modules/luxon/src/interval.js","../../node_modules/luxon/src/info.js","../../node_modules/luxon/src/impl/diff.js","../../node_modules/luxon/src/impl/tokenParser.js","../../node_modules/luxon/src/datetime.js","../../src/utils/CommonHelper.js","../../src/actions/tooltip.js","../../node_modules/svelte/src/runtime/easing/index.js","../../node_modules/svelte/src/runtime/transition/index.js","../../src/components/base/OverlayPanel.svelte","../../node_modules/svelte/src/runtime/store/index.js","../../src/stores/confirmation.js","../../src/components/base/Confirmation.svelte","../../src/components/base/TinyMCE.svelte","../../node_modules/svelte/src/runtime/animate/index.js","../../src/stores/toasts.js","../../src/components/base/Toasts.svelte","../../src/components/base/Toggler.svelte","../../src/stores/app.js","../../src/stores/errors.js","../../src/stores/superuser.js","../../node_modules/pocketbase/dist/pocketbase.es.mjs","../../src/stores/collections.js","../../node_modules/regexparam/dist/index.mjs","../../node_modules/svelte-spa-router/Router.svelte","../../src/utils/ApiClient.js","../../node_modules/svelte-spa-router/active.js","../../src/components/PageIndex.svelte","../../src/components/base/Field.svelte","../../src/components/base/PageWrapper.svelte","../../src/components/base/Searchbar.svelte","../../src/components/base/RefreshButton.svelte","../../src/components/base/Scroller.svelte","../../src/components/base/SortHeader.svelte","../../src/components/logs/LogDate.svelte","../../src/components/logs/LogLevel.svelte","../../src/components/logs/LogsList.svelte","../../node_modules/@kurkle/color/dist/color.esm.js","../../node_modules/chart.js/dist/chunks/helpers.dataset.js","../../node_modules/chart.js/dist/chart.js","../../node_modules/chartjs-adapter-luxon/dist/chartjs-adapter-luxon.esm.js","../../node_modules/hammerjs/hammer.js","../../node_modules/chartjs-plugin-zoom/dist/chartjs-plugin-zoom.esm.js","../../src/components/logs/LogsChart.svelte","../../src/components/base/CodeBlock.svelte","../../src/components/base/CopyIcon.svelte","../../src/components/logs/LogViewPanel.svelte","../../src/components/logs/LogsLevelsInfo.svelte","../../src/components/logs/LogsSettingsPanel.svelte","../../src/components/logs/PageLogs.svelte","../../src/components/collections/CollectionDocsPanel.svelte","../../src/components/base/Accordion.svelte","../../src/components/collections/EmailTemplateAccordion.svelte","../../src/components/collections/TokenField.svelte","../../src/components/collections/TokenOptionsAccordion.svelte","../../src/components/collections/RuleField.svelte","../../src/components/collections/MFAAccordion.svelte","../../src/components/base/Select.svelte","../../src/components/base/RedactedPasswordInput.svelte","../../src/components/collections/OAuth2ProviderPanel.svelte","../../src/components/collections/providers/AppleSecretPopup.svelte","../../src/components/collections/providers/AppleOptions.svelte","../../src/components/collections/providers/MicrosoftOptions.svelte","../../src/components/base/BaseSelectOption.svelte","../../src/components/base/ObjectSelect.svelte","../../src/components/base/MultipleValueInput.svelte","../../src/components/collections/providers/OIDCOptions.svelte","../../src/components/collections/providers/SelfHostedOptions.svelte","../../src/providers.js","../../src/components/collections/OAuth2ProvidersListPanel.svelte","../../src/components/collections/OAuth2Accordion.svelte","../../src/components/collections/OTPAccordion.svelte","../../src/components/collections/PasswordAuthAccordion.svelte","../../src/components/settings/EmailTestPopup.svelte","../../src/components/collections/CollectionAuthOptionsTab.svelte","../../src/components/base/Draggable.svelte","../../src/components/collections/IndexUpsertPanel.svelte","../../src/components/collections/IndexesList.svelte","../../src/components/collections/schema/NewField.svelte","../../src/components/collections/schema/SchemaField.svelte","../../src/components/collections/schema/SchemaFieldAutodate.svelte","../../src/components/collections/schema/SchemaFieldBool.svelte","../../node_modules/flatpickr/dist/esm/types/options.js","../../node_modules/flatpickr/dist/esm/l10n/default.js","../../node_modules/flatpickr/dist/esm/utils/index.js","../../node_modules/flatpickr/dist/esm/utils/dom.js","../../node_modules/flatpickr/dist/esm/utils/formatting.js","../../node_modules/flatpickr/dist/esm/utils/dates.js","../../node_modules/flatpickr/dist/esm/utils/polyfills.js","../../node_modules/flatpickr/dist/esm/index.js","../../node_modules/svelte-flatpickr/src/Flatpickr.svelte","../../src/components/collections/schema/SchemaFieldDate.svelte","../../src/components/collections/schema/SchemaFieldEditor.svelte","../../src/components/collections/schema/SchemaFieldEmail.svelte","../../src/components/base/MimeTypeSelectOption.svelte","../../src/mimes.js","../../src/components/collections/schema/SchemaFieldFile.svelte","../../src/components/collections/schema/SchemaFieldJson.svelte","../../src/components/collections/schema/SchemaFieldNumber.svelte","../../src/components/collections/schema/SchemaFieldPassword.svelte","../../src/components/collections/schema/SchemaFieldRelation.svelte","../../src/components/base/DynamicOptionsSelect.svelte","../../src/components/collections/schema/SchemaFieldSelect.svelte","../../src/components/collections/schema/SchemaFieldText.svelte","../../src/components/collections/schema/SchemaFieldUrl.svelte","../../src/components/collections/schema/SchemaFieldGeoPoint.svelte","../../src/components/collections/CollectionFieldsTab.svelte","../../src/components/collections/CollectionQueryTab.svelte","../../src/components/collections/CollectionRulesTab.svelte","../../src/components/collections/CollectionUpdateConfirm.svelte","../../src/components/collections/CollectionUpsertPanel.svelte","../../src/components/base/Dragline.svelte","../../src/components/base/PageSidebar.svelte","../../src/components/collections/CollectionSidebarItem.svelte","../../src/components/collections/CollectionsSidebar.svelte","../../src/components/base/FormattedDate.svelte","../../src/components/base/PreviewPopup.svelte","../../src/components/records/RecordFileThumb.svelte","../../src/components/records/fields/GeoPointValue.svelte","../../src/components/records/RecordInfoContent.svelte","../../src/components/records/RecordInfo.svelte","../../src/components/records/RecordFieldValue.svelte","../../src/components/records/RecordPreviewPanel.svelte","../../src/components/records/AutodateIcon.svelte","../../src/components/records/ExternalAuthsList.svelte","../../src/components/base/SecretGeneratorButton.svelte","../../src/components/records/fields/AuthFields.svelte","../../src/components/records/fields/FieldLabel.svelte","../../src/components/records/fields/BoolField.svelte","../../src/components/records/fields/DateField.svelte","../../src/components/records/RecordFilePicker.svelte","../../src/components/records/fields/EditorField.svelte","../../src/components/records/fields/EmailField.svelte","../../src/components/base/UploadedFilePreview.svelte","../../src/components/records/fields/FileField.svelte","../../src/components/records/fields/JsonField.svelte","../../src/components/records/fields/NumberField.svelte","../../src/components/records/fields/PasswordField.svelte","../../src/actions/scrollend.js","../../src/components/records/RecordsPicker.svelte","../../src/components/records/fields/RelationField.svelte","../../src/components/records/fields/SelectField.svelte","../../src/components/base/AutoExpandTextarea.svelte","../../src/components/records/fields/TextField.svelte","../../src/components/records/fields/UrlField.svelte","../../src/components/records/fields/GeoPointField.svelte","../../src/components/base/SdkTabs.svelte","../../src/components/records/ImpersonatePopup.svelte","../../src/components/records/RecordUpsertPanel.svelte","../../src/components/records/RecordsCount.svelte","../../src/components/records/RecordsList.svelte","../../src/components/records/PageRecords.svelte","../../src/components/settings/SettingsSidebar.svelte","../../src/components/settings/BatchAccordion.svelte","../../src/components/settings/TrustedProxyAccordion.svelte","../../src/components/base/AutocompleteInput.svelte","../../src/components/settings/RateLimitAccordion.svelte","../../src/components/settings/PageApplication.svelte","../../src/components/settings/BackupCreatePanel.svelte","../../src/components/settings/BackupRestorePanel.svelte","../../src/components/settings/BackupsList.svelte","../../src/components/settings/S3Fields.svelte","../../src/components/settings/BackupUploadButton.svelte","../../src/components/settings/PageBackups.svelte","../../src/components/settings/PageCrons.svelte","../../src/components/settings/PageExportCollections.svelte","../../src/components/collections/CollectionsDiffTable.svelte","../../src/components/settings/ImportPopup.svelte","../../src/components/settings/PageImportCollections.svelte","../../src/components/settings/PageMail.svelte","../../src/components/settings/PageStorage.svelte","../../src/components/base/FullPage.svelte","../../src/components/superusers/PageSuperuserLogin.svelte","../../src/components/ui-plugins/PageUIPlugin.svelte","../../node_modules/svelte-spa-router/wrap.js","../../src/routes.js","../../src/components/ui-plugins/SidebarUIPluginLinks.svelte","../../src/App.svelte","../../src/main.js"],"sourcesContent":["/** @returns {void} */\nexport function noop() {}\n\nexport const identity = (x) => x;\n\n/**\n * @template T\n * @template S\n * @param {T} tar\n * @param {S} src\n * @returns {T & S}\n */\nexport function assign(tar, src) {\n\t// @ts-ignore\n\tfor (const k in src) tar[k] = src[k];\n\treturn /** @type {T & S} */ (tar);\n}\n\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\n/**\n * @param {any} value\n * @returns {value is PromiseLike<any>}\n */\nexport function is_promise(value) {\n\treturn (\n\t\t!!value &&\n\t\t(typeof value === 'object' || typeof value === 'function') &&\n\t\ttypeof (/** @type {any} */ (value).then) === 'function'\n\t);\n}\n\n/** @returns {void} */\nexport function add_location(element, file, line, column, char) {\n\telement.__svelte_meta = {\n\t\tloc: { file, line, column, char }\n\t};\n}\n\nexport function run(fn) {\n\treturn fn();\n}\n\nexport function blank_object() {\n\treturn Object.create(null);\n}\n\n/**\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function run_all(fns) {\n\tfns.forEach(run);\n}\n\n/**\n * @param {any} thing\n * @returns {thing is Function}\n */\nexport function is_function(thing) {\n\treturn typeof thing === 'function';\n}\n\n/** @returns {boolean} */\nexport function safe_not_equal(a, b) {\n\treturn a != a ? b == b : a !== b || (a && typeof a === 'object') || typeof a === 'function';\n}\n\nlet src_url_equal_anchor;\n\n/**\n * @param {string} element_src\n * @param {string} url\n * @returns {boolean}\n */\nexport function src_url_equal(element_src, url) {\n\tif (element_src === url) return true;\n\tif (!src_url_equal_anchor) {\n\t\tsrc_url_equal_anchor = document.createElement('a');\n\t}\n\t// This is actually faster than doing URL(..).href\n\tsrc_url_equal_anchor.href = url;\n\treturn element_src === src_url_equal_anchor.href;\n}\n\n/** @param {string} srcset */\nfunction split_srcset(srcset) {\n\treturn srcset.split(',').map((src) => src.trim().split(' ').filter(Boolean));\n}\n\n/**\n * @param {HTMLSourceElement | HTMLImageElement} element_srcset\n * @param {string | undefined | null} srcset\n * @returns {boolean}\n */\nexport function srcset_url_equal(element_srcset, srcset) {\n\tconst element_urls = split_srcset(element_srcset.srcset);\n\tconst urls = split_srcset(srcset || '');\n\n\treturn (\n\t\turls.length === element_urls.length &&\n\t\turls.every(\n\t\t\t([url, width], i) =>\n\t\t\t\twidth === element_urls[i][1] &&\n\t\t\t\t// We need to test both ways because Vite will create an a full URL with\n\t\t\t\t// `new URL(asset, import.meta.url).href` for the client when `base: './'`, and the\n\t\t\t\t// relative URLs inside srcset are not automatically resolved to absolute URLs by\n\t\t\t\t// browsers (in contrast to img.src). This means both SSR and DOM code could\n\t\t\t\t// contain relative or absolute URLs.\n\t\t\t\t(src_url_equal(element_urls[i][0], url) || src_url_equal(url, element_urls[i][0]))\n\t\t)\n\t);\n}\n\n/** @returns {boolean} */\nexport function not_equal(a, b) {\n\treturn a != a ? b == b : a !== b;\n}\n\n/** @returns {boolean} */\nexport function is_empty(obj) {\n\treturn Object.keys(obj).length === 0;\n}\n\n/** @returns {void} */\nexport function validate_store(store, name) {\n\tif (store != null && typeof store.subscribe !== 'function') {\n\t\tthrow new Error(`'${name}' is not a store with a 'subscribe' method`);\n\t}\n}\n\nexport function subscribe(store, ...callbacks) {\n\tif (store == null) {\n\t\tfor (const callback of callbacks) {\n\t\t\tcallback(undefined);\n\t\t}\n\t\treturn noop;\n\t}\n\tconst unsub = store.subscribe(...callbacks);\n\treturn unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\n\n/**\n * Get the current value from a store by subscribing and immediately unsubscribing.\n *\n * https://svelte.dev/docs/svelte-store#get\n * @template T\n * @param {import('../store/public.js').Readable<T>} store\n * @returns {T}\n */\nexport function get_store_value(store) {\n\tlet value;\n\tsubscribe(store, (_) => (value = _))();\n\treturn value;\n}\n\n/** @returns {void} */\nexport function component_subscribe(component, store, callback) {\n\tcomponent.$$.on_destroy.push(subscribe(store, callback));\n}\n\nexport function create_slot(definition, ctx, $$scope, fn) {\n\tif (definition) {\n\t\tconst slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n\t\treturn definition[0](slot_ctx);\n\t}\n}\n\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n\treturn definition[1] && fn ? assign($$scope.ctx.slice(), definition[1](fn(ctx))) : $$scope.ctx;\n}\n\nexport function get_slot_changes(definition, $$scope, dirty, fn) {\n\tif (definition[2] && fn) {\n\t\tconst lets = definition[2](fn(dirty));\n\t\tif ($$scope.dirty === undefined) {\n\t\t\treturn lets;\n\t\t}\n\t\tif (typeof lets === 'object') {\n\t\t\tconst merged = [];\n\t\t\tconst len = Math.max($$scope.dirty.length, lets.length);\n\t\t\tfor (let i = 0; i < len; i += 1) {\n\t\t\t\tmerged[i] = $$scope.dirty[i] | lets[i];\n\t\t\t}\n\t\t\treturn merged;\n\t\t}\n\t\treturn $$scope.dirty | lets;\n\t}\n\treturn $$scope.dirty;\n}\n\n/** @returns {void} */\nexport function update_slot_base(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tslot_changes,\n\tget_slot_context_fn\n) {\n\tif (slot_changes) {\n\t\tconst slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n\t\tslot.p(slot_context, slot_changes);\n\t}\n}\n\n/** @returns {void} */\nexport function update_slot(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tdirty,\n\tget_slot_changes_fn,\n\tget_slot_context_fn\n) {\n\tconst slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n\tupdate_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\n\n/** @returns {any[] | -1} */\nexport function get_all_dirty_from_scope($$scope) {\n\tif ($$scope.ctx.length > 32) {\n\t\tconst dirty = [];\n\t\tconst length = $$scope.ctx.length / 32;\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tdirty[i] = -1;\n\t\t}\n\t\treturn dirty;\n\t}\n\treturn -1;\n}\n\n/** @returns {{}} */\nexport function exclude_internal_props(props) {\n\tconst result = {};\n\tfor (const k in props) if (k[0] !== '$') result[k] = props[k];\n\treturn result;\n}\n\n/** @returns {{}} */\nexport function compute_rest_props(props, keys) {\n\tconst rest = {};\n\tkeys = new Set(keys);\n\tfor (const k in props) if (!keys.has(k) && k[0] !== '$') rest[k] = props[k];\n\treturn rest;\n}\n\n/** @returns {{}} */\nexport function compute_slots(slots) {\n\tconst result = {};\n\tfor (const key in slots) {\n\t\tresult[key] = true;\n\t}\n\treturn result;\n}\n\n/** @returns {(this: any, ...args: any[]) => void} */\nexport function once(fn) {\n\tlet ran = false;\n\treturn function (...args) {\n\t\tif (ran) return;\n\t\tran = true;\n\t\tfn.call(this, ...args);\n\t};\n}\n\nexport function null_to_empty(value) {\n\treturn value == null ? '' : value;\n}\n\nexport function set_store_value(store, ret, value) {\n\tstore.set(value);\n\treturn ret;\n}\n\nexport const has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\n\nexport function action_destroyer(action_result) {\n\treturn action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\n/** @param {number | string} value\n * @returns {[number, string]}\n */\nexport function split_css_unit(value) {\n\tconst split = typeof value === 'string' && value.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*$/);\n\treturn split ? [parseFloat(split[1]), split[2] || 'px'] : [/** @type {number} */ (value), 'px'];\n}\n\nexport const contenteditable_truthy_values = ['', true, 1, 'true', 'contenteditable'];\n","import { noop } from './utils.js';\n\nexport const is_client = typeof window !== 'undefined';\n\n/** @type {() => number} */\nexport let now = is_client ? () => window.performance.now() : () => Date.now();\n\nexport let raf = is_client ? (cb) => requestAnimationFrame(cb) : noop;\n\n// used internally for testing\n/** @returns {void} */\nexport function set_now(fn) {\n\tnow = fn;\n}\n\n/** @returns {void} */\nexport function set_raf(fn) {\n\traf = fn;\n}\n","import { raf } from './environment.js';\n\nconst tasks = new Set();\n\n/**\n * @param {number} now\n * @returns {void}\n */\nfunction run_tasks(now) {\n\ttasks.forEach((task) => {\n\t\tif (!task.c(now)) {\n\t\t\ttasks.delete(task);\n\t\t\ttask.f();\n\t\t}\n\t});\n\tif (tasks.size !== 0) raf(run_tasks);\n}\n\n/**\n * For testing purposes only!\n * @returns {void}\n */\nexport function clear_loops() {\n\ttasks.clear();\n}\n\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n * @param {import('./private.js').TaskCallback} callback\n * @returns {import('./private.js').Task}\n */\nexport function loop(callback) {\n\t/** @type {import('./private.js').TaskEntry} */\n\tlet task;\n\tif (tasks.size === 0) raf(run_tasks);\n\treturn {\n\t\tpromise: new Promise((fulfill) => {\n\t\t\ttasks.add((task = { c: callback, f: fulfill }));\n\t\t}),\n\t\tabort() {\n\t\t\ttasks.delete(task);\n\t\t}\n\t};\n}\n","import { contenteditable_truthy_values, has_prop } from './utils.js';\n\nimport { ResizeObserverSingleton } from './ResizeObserverSingleton.js';\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\n\n/**\n * @returns {void}\n */\nexport function start_hydrating() {\n\tis_hydrating = true;\n}\n\n/**\n * @returns {void}\n */\nexport function end_hydrating() {\n\tis_hydrating = false;\n}\n\n/**\n * @param {number} low\n * @param {number} high\n * @param {(index: number) => number} key\n * @param {number} value\n * @returns {number}\n */\nfunction upper_bound(low, high, key, value) {\n\t// Return first index of value larger than input value in the range [low, high)\n\twhile (low < high) {\n\t\tconst mid = low + ((high - low) >> 1);\n\t\tif (key(mid) <= value) {\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\thigh = mid;\n\t\t}\n\t}\n\treturn low;\n}\n\n/**\n * @param {NodeEx} target\n * @returns {void}\n */\nfunction init_hydrate(target) {\n\tif (target.hydrate_init) return;\n\ttarget.hydrate_init = true;\n\t// We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n\n\tlet children = /** @type {ArrayLike<NodeEx2>} */ (target.childNodes);\n\t// If target is <head>, there may be children without claim_order\n\tif (target.nodeName === 'HEAD') {\n\t\tconst my_children = [];\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tconst node = children[i];\n\t\t\tif (node.claim_order !== undefined) {\n\t\t\t\tmy_children.push(node);\n\t\t\t}\n\t\t}\n\t\tchildren = my_children;\n\t}\n\t/*\n\t * Reorder claimed children optimally.\n\t * We can reorder claimed children optimally by finding the longest subsequence of\n\t * nodes that are already claimed in order and only moving the rest. The longest\n\t * subsequence of nodes that are claimed in order can be found by\n\t * computing the longest increasing subsequence of .claim_order values.\n\t *\n\t * This algorithm is optimal in generating the least amount of reorder operations\n\t * possible.\n\t *\n\t * Proof:\n\t * We know that, given a set of reordering operations, the nodes that do not move\n\t * always form an increasing subsequence, since they do not move among each other\n\t * meaning that they must be already ordered among each other. Thus, the maximal\n\t * set of nodes that do not move form a longest increasing subsequence.\n\t */\n\t// Compute longest increasing subsequence\n\t// m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n\tconst m = new Int32Array(children.length + 1);\n\t// Predecessor indices + 1\n\tconst p = new Int32Array(children.length);\n\tm[0] = -1;\n\tlet longest = 0;\n\tfor (let i = 0; i < children.length; i++) {\n\t\tconst current = children[i].claim_order;\n\t\t// Find the largest subsequence length such that it ends in a value less than our current value\n\t\t// upper_bound returns first greater value, so we subtract one\n\t\t// with fast path for when we are on the current longest subsequence\n\t\tconst seq_len =\n\t\t\t(longest > 0 && children[m[longest]].claim_order <= current\n\t\t\t\t? longest + 1\n\t\t\t\t: upper_bound(1, longest, (idx) => children[m[idx]].claim_order, current)) - 1;\n\t\tp[i] = m[seq_len] + 1;\n\t\tconst new_len = seq_len + 1;\n\t\t// We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n\t\tm[new_len] = i;\n\t\tlongest = Math.max(new_len, longest);\n\t}\n\t// The longest increasing subsequence of nodes (initially reversed)\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst lis = [];\n\t// The rest of the nodes, nodes that will be moved\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst to_move = [];\n\tlet last = children.length - 1;\n\tfor (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n\t\tlis.push(children[cur - 1]);\n\t\tfor (; last >= cur; last--) {\n\t\t\tto_move.push(children[last]);\n\t\t}\n\t\tlast--;\n\t}\n\tfor (; last >= 0; last--) {\n\t\tto_move.push(children[last]);\n\t}\n\tlis.reverse();\n\t// We sort the nodes being moved to guarantee that their insertion order matches the claim order\n\tto_move.sort((a, b) => a.claim_order - b.claim_order);\n\t// Finally, we move the nodes\n\tfor (let i = 0, j = 0; i < to_move.length; i++) {\n\t\twhile (j < lis.length && to_move[i].claim_order >= lis[j].claim_order) {\n\t\t\tj++;\n\t\t}\n\t\tconst anchor = j < lis.length ? lis[j] : null;\n\t\ttarget.insertBefore(to_move[i], anchor);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @returns {void}\n */\nexport function append(target, node) {\n\ttarget.appendChild(node);\n}\n\n/**\n * @param {Node} target\n * @param {string} style_sheet_id\n * @param {string} styles\n * @returns {void}\n */\nexport function append_styles(target, style_sheet_id, styles) {\n\tconst append_styles_to = get_root_for_style(target);\n\tif (!append_styles_to.getElementById(style_sheet_id)) {\n\t\tconst style = element('style');\n\t\tstyle.id = style_sheet_id;\n\t\tstyle.textContent = styles;\n\t\tappend_stylesheet(append_styles_to, style);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {ShadowRoot | Document}\n */\nexport function get_root_for_style(node) {\n\tif (!node) return document;\n\tconst root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n\tif (root && /** @type {ShadowRoot} */ (root).host) {\n\t\treturn /** @type {ShadowRoot} */ (root);\n\t}\n\treturn node.ownerDocument;\n}\n\n/**\n * @param {Node} node\n * @returns {CSSStyleSheet}\n */\nexport function append_empty_stylesheet(node) {\n\tconst style_element = element('style');\n\t// For transitions to work without 'style-src: unsafe-inline' Content Security Policy,\n\t// these empty tags need to be allowed with a hash as a workaround until we move to the Web Animations API.\n\t// Using the hash for the empty string (for an empty tag) works in all browsers except Safari.\n\t// So as a workaround for the workaround, when we append empty style tags we set their content to /* empty */.\n\t// The hash 'sha256-9OlNO0DNEeaVzHL4RZwCLsBHA8WBQ8toBp/4F5XV2nc=' will then work even in Safari.\n\tstyle_element.textContent = '/* empty */';\n\tappend_stylesheet(get_root_for_style(node), style_element);\n\treturn style_element.sheet;\n}\n\n/**\n * @param {ShadowRoot | Document} node\n * @param {HTMLStyleElement} style\n * @returns {CSSStyleSheet}\n */\nfunction append_stylesheet(node, style) {\n\tappend(/** @type {Document} */ (node).head || node, style);\n\treturn style.sheet;\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @returns {void}\n */\nexport function append_hydration(target, node) {\n\tif (is_hydrating) {\n\t\tinit_hydrate(target);\n\t\tif (\n\t\t\ttarget.actual_end_child === undefined ||\n\t\t\t(target.actual_end_child !== null && target.actual_end_child.parentNode !== target)\n\t\t) {\n\t\t\ttarget.actual_end_child = target.firstChild;\n\t\t}\n\t\t// Skip nodes of undefined ordering\n\t\twhile (target.actual_end_child !== null && target.actual_end_child.claim_order === undefined) {\n\t\t\ttarget.actual_end_child = target.actual_end_child.nextSibling;\n\t\t}\n\t\tif (node !== target.actual_end_child) {\n\t\t\t// We only insert if the ordering of this node should be modified or the parent node is not target\n\t\t\tif (node.claim_order !== undefined || node.parentNode !== target) {\n\t\t\t\ttarget.insertBefore(node, target.actual_end_child);\n\t\t\t}\n\t\t} else {\n\t\t\ttarget.actual_end_child = node.nextSibling;\n\t\t}\n\t} else if (node.parentNode !== target || node.nextSibling !== null) {\n\t\ttarget.appendChild(node);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @param {Node} [anchor]\n * @returns {void}\n */\nexport function insert(target, node, anchor) {\n\ttarget.insertBefore(node, anchor || null);\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @param {NodeEx} [anchor]\n * @returns {void}\n */\nexport function insert_hydration(target, node, anchor) {\n\tif (is_hydrating && !anchor) {\n\t\tappend_hydration(target, node);\n\t} else if (node.parentNode !== target || node.nextSibling != anchor) {\n\t\ttarget.insertBefore(node, anchor || null);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {void}\n */\nexport function detach(node) {\n\tif (node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function destroy_each(iterations, detaching) {\n\tfor (let i = 0; i < iterations.length; i += 1) {\n\t\tif (iterations[i]) iterations[i].d(detaching);\n\t}\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element(name) {\n\treturn document.createElement(name);\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @param {string} is\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element_is(name, is) {\n\treturn document.createElement(name, { is });\n}\n\n/**\n * @template T\n * @template {keyof T} K\n * @param {T} obj\n * @param {K[]} exclude\n * @returns {Pick<T, Exclude<keyof T, K>>}\n */\nexport function object_without_properties(obj, exclude) {\n\tconst target = /** @type {Pick<T, Exclude<keyof T, K>>} */ ({});\n\tfor (const k in obj) {\n\t\tif (\n\t\t\thas_prop(obj, k) &&\n\t\t\t// @ts-ignore\n\t\t\texclude.indexOf(k) === -1\n\t\t) {\n\t\t\t// @ts-ignore\n\t\t\ttarget[k] = obj[k];\n\t\t}\n\t}\n\treturn target;\n}\n\n/**\n * @template {keyof SVGElementTagNameMap} K\n * @param {K} name\n * @returns {SVGElement}\n */\nexport function svg_element(name) {\n\treturn document.createElementNS('http://www.w3.org/2000/svg', name);\n}\n\n/**\n * @param {string} data\n * @returns {Text}\n */\nexport function text(data) {\n\treturn document.createTextNode(data);\n}\n\n/**\n * @returns {Text} */\nexport function space() {\n\treturn text(' ');\n}\n\n/**\n * @returns {Text} */\nexport function empty() {\n\treturn text('');\n}\n\n/**\n * @param {string} content\n * @returns {Comment}\n */\nexport function comment(content) {\n\treturn document.createComment(content);\n}\n\n/**\n * @param {EventTarget} node\n * @param {string} event\n * @param {EventListenerOrEventListenerObject} handler\n * @param {boolean | AddEventListenerOptions | EventListenerOptions} [options]\n * @returns {() => void}\n */\nexport function listen(node, event, handler, options) {\n\tnode.addEventListener(event, handler, options);\n\treturn () => node.removeEventListener(event, handler, options);\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function prevent_default(fn) {\n\treturn function (event) {\n\t\tevent.preventDefault();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopPropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_immediate_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopImmediatePropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function self(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.target === this) fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function trusted(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.isTrusted) fn.call(this, event);\n\t};\n}\n\n/**\n * @param {Element} node\n * @param {string} attribute\n * @param {string} [value]\n * @returns {void}\n */\nexport function attr(node, attribute, value) {\n\tif (value == null) node.removeAttribute(attribute);\n\telse if (node.getAttribute(attribute) !== value) node.setAttribute(attribute, value);\n}\n/**\n * List of attributes that should always be set through the attr method,\n * because updating them through the property setter doesn't work reliably.\n * In the example of `width`/`height`, the problem is that the setter only\n * accepts numeric values, but the attribute can also be set to a string like `50%`.\n * If this list becomes too big, rethink this approach.\n */\nconst always_set_through_set_attribute = ['width', 'height'];\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_attributes(node, attributes) {\n\t// @ts-ignore\n\tconst descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n\tfor (const key in attributes) {\n\t\tif (attributes[key] == null) {\n\t\t\tnode.removeAttribute(key);\n\t\t} else if (key === 'style') {\n\t\t\tnode.style.cssText = attributes[key];\n\t\t} else if (key === '__value') {\n\t\t\t/** @type {any} */ (node).value = node[key] = attributes[key];\n\t\t} else if (\n\t\t\tdescriptors[key] &&\n\t\t\tdescriptors[key].set &&\n\t\t\talways_set_through_set_attribute.indexOf(key) === -1\n\t\t) {\n\t\t\tnode[key] = attributes[key];\n\t\t} else {\n\t\t\tattr(node, key, attributes[key]);\n\t\t}\n\t}\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_svg_attributes(node, attributes) {\n\tfor (const key in attributes) {\n\t\tattr(node, key, attributes[key]);\n\t}\n}\n\n/**\n * @param {Record<string, unknown>} data_map\n * @returns {void}\n */\nexport function set_custom_element_data_map(node, data_map) {\n\tObject.keys(data_map).forEach((key) => {\n\t\tset_custom_element_data(node, key, data_map[key]);\n\t});\n}\n\n/**\n * @returns {void} */\nexport function set_custom_element_data(node, prop, value) {\n\tconst lower = prop.toLowerCase(); // for backwards compatibility with existing behavior we do lowercase first\n\tif (lower in node) {\n\t\tnode[lower] = typeof node[lower] === 'boolean' && value === '' ? true : value;\n\t} else if (prop in node) {\n\t\tnode[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n\t} else {\n\t\tattr(node, prop, value);\n\t}\n}\n\n/**\n * @param {string} tag\n */\nexport function set_dynamic_element_data(tag) {\n\treturn /-/.test(tag) ? set_custom_element_data_map : set_attributes;\n}\n\n/**\n * @returns {void}\n */\nexport function xlink_attr(node, attribute, value) {\n\tnode.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\n\n/**\n * @param {HTMLElement} node\n * @returns {string}\n */\nexport function get_svelte_dataset(node) {\n\treturn node.dataset.svelteH;\n}\n\n/**\n * @returns {unknown[]} */\nexport function get_binding_group_value(group, __value, checked) {\n\tconst value = new Set();\n\tfor (let i = 0; i < group.length; i += 1) {\n\t\tif (group[i].checked) value.add(group[i].__value);\n\t}\n\tif (!checked) {\n\t\tvalue.delete(__value);\n\t}\n\treturn Array.from(value);\n}\n\n/**\n * @param {HTMLInputElement[]} group\n * @returns {{ p(...inputs: HTMLInputElement[]): void; r(): void; }}\n */\nexport function init_binding_group(group) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\treturn {\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\t_inputs.forEach((input) => group.push(input));\n\t\t},\n\t\t/* remove */ r() {\n\t\t\t_inputs.forEach((input) => group.splice(group.indexOf(input), 1));\n\t\t}\n\t};\n}\n\n/**\n * @param {number[]} indexes\n * @returns {{ u(new_indexes: number[]): void; p(...inputs: HTMLInputElement[]): void; r: () => void; }}\n */\nexport function init_binding_group_dynamic(group, indexes) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _group = get_binding_group(group);\n\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\n\tfunction get_binding_group(group) {\n\t\tfor (let i = 0; i < indexes.length; i++) {\n\t\t\tgroup = group[indexes[i]] = group[indexes[i]] || [];\n\t\t}\n\t\treturn group;\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction push() {\n\t\t_inputs.forEach((input) => _group.push(input));\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction remove() {\n\t\t_inputs.forEach((input) => _group.splice(_group.indexOf(input), 1));\n\t}\n\treturn {\n\t\t/* update */ u(new_indexes) {\n\t\t\tindexes = new_indexes;\n\t\t\tconst new_group = get_binding_group(group);\n\t\t\tif (new_group !== _group) {\n\t\t\t\tremove();\n\t\t\t\t_group = new_group;\n\t\t\t\tpush();\n\t\t\t}\n\t\t},\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\tpush();\n\t\t},\n\t\t/* remove */ r: remove\n\t};\n}\n\n/** @returns {number} */\nexport function to_number(value) {\n\treturn value === '' ? null : +value;\n}\n\n/** @returns {any[]} */\nexport function time_ranges_to_array(ranges) {\n\tconst array = [];\n\tfor (let i = 0; i < ranges.length; i += 1) {\n\t\tarray.push({ start: ranges.start(i), end: ranges.end(i) });\n\t}\n\treturn array;\n}\n\n/**\n * @param {Element} element\n * @returns {ChildNode[]}\n */\nexport function children(element) {\n\treturn Array.from(element.childNodes);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {void}\n */\nfunction init_claim_info(nodes) {\n\tif (nodes.claim_info === undefined) {\n\t\tnodes.claim_info = { last_index: 0, total_claimed: 0 };\n\t}\n}\n\n/**\n * @template {ChildNodeEx} R\n * @param {ChildNodeArray} nodes\n * @param {(node: ChildNodeEx) => node is R} predicate\n * @param {(node: ChildNodeEx) => ChildNodeEx | undefined} process_node\n * @param {() => R} create_node\n * @param {boolean} dont_update_last_index\n * @returns {R}\n */\nfunction claim_node(nodes, predicate, process_node, create_node, dont_update_last_index = false) {\n\t// Try to find nodes in an order such that we lengthen the longest increasing subsequence\n\tinit_claim_info(nodes);\n\tconst result_node = (() => {\n\t\t// We first try to find an element after the previous one\n\t\tfor (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// Otherwise, we try to find one before\n\t\t// We iterate in reverse so that we don't go too far back\n\t\tfor (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t} else if (replacement === undefined) {\n\t\t\t\t\t// Since we spliced before the last_index, we decrease it\n\t\t\t\t\tnodes.claim_info.last_index--;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// If we can't find any matching node, we create a new one\n\t\treturn create_node();\n\t})();\n\tresult_node.claim_order = nodes.claim_info.total_claimed;\n\tnodes.claim_info.total_claimed += 1;\n\treturn result_node;\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @param {(name: string) => Element | SVGElement} create_element\n * @returns {Element | SVGElement}\n */\nfunction claim_element_base(nodes, name, attributes, create_element) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Element | SVGElement} */\n\t\t(node) => node.nodeName === name,\n\t\t/** @param {Element} node */\n\t\t(node) => {\n\t\t\tconst remove = [];\n\t\t\tfor (let j = 0; j < node.attributes.length; j++) {\n\t\t\t\tconst attribute = node.attributes[j];\n\t\t\t\tif (!attributes[attribute.name]) {\n\t\t\t\t\tremove.push(attribute.name);\n\t\t\t\t}\n\t\t\t}\n\t\t\tremove.forEach((v) => node.removeAttribute(v));\n\t\t\treturn undefined;\n\t\t},\n\t\t() => create_element(name)\n\t);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_svg_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, svg_element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Text}\n */\nexport function claim_text(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Text} */\n\t\t(node) => node.nodeType === 3,\n\t\t/** @param {Text} node */\n\t\t(node) => {\n\t\t\tconst data_str = '' + data;\n\t\t\tif (node.data.startsWith(data_str)) {\n\t\t\t\tif (node.data.length !== data_str.length) {\n\t\t\t\t\treturn node.splitText(data_str.length);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnode.data = data_str;\n\t\t\t}\n\t\t},\n\t\t() => text(data),\n\t\ttrue // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n\t);\n}\n\n/**\n * @returns {Text} */\nexport function claim_space(nodes) {\n\treturn claim_text(nodes, ' ');\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Comment}\n */\nexport function claim_comment(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Comment} */\n\t\t(node) => node.nodeType === 8,\n\t\t/** @param {Comment} node */\n\t\t(node) => {\n\t\t\tnode.data = '' + data;\n\t\t\treturn undefined;\n\t\t},\n\t\t() => comment(data),\n\t\ttrue\n\t);\n}\n\nfunction get_comment_idx(nodes, text, start) {\n\tfor (let i = start; i < nodes.length; i += 1) {\n\t\tconst node = nodes[i];\n\t\tif (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n}\n\n/**\n * @param {boolean} is_svg\n * @returns {HtmlTagHydration}\n */\nexport function claim_html_tag(nodes, is_svg) {\n\t// find html opening tag\n\tconst start_index = get_comment_idx(nodes, 'HTML_TAG_START', 0);\n\tconst end_index = get_comment_idx(nodes, 'HTML_TAG_END', start_index + 1);\n\tif (start_index === -1 || end_index === -1) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\n\tinit_claim_info(nodes);\n\tconst html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n\tdetach(html_tag_nodes[0]);\n\tdetach(html_tag_nodes[html_tag_nodes.length - 1]);\n\tconst claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n\tif (claimed_nodes.length === 0) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\tfor (const n of claimed_nodes) {\n\t\tn.claim_order = nodes.claim_info.total_claimed;\n\t\tnodes.claim_info.total_claimed += 1;\n\t}\n\treturn new HtmlTagHydration(is_svg, claimed_nodes);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data(text, data) {\n\tdata = '' + data;\n\tif (text.data === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data_contenteditable(text, data) {\n\tdata = '' + data;\n\tif (text.wholeText === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @param {string} attr_value\n * @returns {void}\n */\nexport function set_data_maybe_contenteditable(text, data, attr_value) {\n\tif (~contenteditable_truthy_values.indexOf(attr_value)) {\n\t\tset_data_contenteditable(text, data);\n\t} else {\n\t\tset_data(text, data);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_input_value(input, value) {\n\tinput.value = value == null ? '' : value;\n}\n\n/**\n * @returns {void} */\nexport function set_input_type(input, type) {\n\ttry {\n\t\tinput.type = type;\n\t} catch (e) {\n\t\t// do nothing\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_style(node, key, value, important) {\n\tif (value == null) {\n\t\tnode.style.removeProperty(key);\n\t} else {\n\t\tnode.style.setProperty(key, value, important ? 'important' : '');\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_option(select, value, mounting) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\tif (option.__value === value) {\n\t\t\toption.selected = true;\n\t\t\treturn;\n\t\t}\n\t}\n\tif (!mounting || value !== undefined) {\n\t\tselect.selectedIndex = -1; // no option should be selected\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_options(select, value) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\toption.selected = ~value.indexOf(option.__value);\n\t}\n}\n\nexport function select_value(select) {\n\tconst selected_option = select.querySelector(':checked');\n\treturn selected_option && selected_option.__value;\n}\n\nexport function select_multiple_value(select) {\n\treturn [].map.call(select.querySelectorAll(':checked'), (option) => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\n\n/**\n * @type {boolean} */\nlet crossorigin;\n\n/**\n * @returns {boolean} */\nexport function is_crossorigin() {\n\tif (crossorigin === undefined) {\n\t\tcrossorigin = false;\n\t\ttry {\n\t\t\tif (typeof window !== 'undefined' && window.parent) {\n\t\t\t\tvoid window.parent.document;\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tcrossorigin = true;\n\t\t}\n\t}\n\treturn crossorigin;\n}\n\n/**\n * @param {HTMLElement} node\n * @param {() => void} fn\n * @returns {() => void}\n */\nexport function add_iframe_resize_listener(node, fn) {\n\tconst computed_style = getComputedStyle(node);\n\tif (computed_style.position === 'static') {\n\t\tnode.style.position = 'relative';\n\t}\n\tconst iframe = element('iframe');\n\tiframe.setAttribute(\n\t\t'style',\n\t\t'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n\t\t\t'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;'\n\t);\n\tiframe.setAttribute('aria-hidden', 'true');\n\tiframe.tabIndex = -1;\n\tconst crossorigin = is_crossorigin();\n\n\t/**\n\t * @type {() => void}\n\t */\n\tlet unsubscribe;\n\tif (crossorigin) {\n\t\tiframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n\t\tunsubscribe = listen(\n\t\t\twindow,\n\t\t\t'message',\n\t\t\t/** @param {MessageEvent} event */ (event) => {\n\t\t\t\tif (event.source === iframe.contentWindow) fn();\n\t\t\t}\n\t\t);\n\t} else {\n\t\tiframe.src = 'about:blank';\n\t\tiframe.onload = () => {\n\t\t\tunsubscribe = listen(iframe.contentWindow, 'resize', fn);\n\t\t\t// make sure an initial resize event is fired _after_ the iframe is loaded (which is asynchronous)\n\t\t\t// see https://github.com/sveltejs/svelte/issues/4233\n\t\t\tfn();\n\t\t};\n\t}\n\tappend(node, iframe);\n\treturn () => {\n\t\tif (crossorigin) {\n\t\t\tunsubscribe();\n\t\t} else if (unsubscribe && iframe.contentWindow) {\n\t\t\tunsubscribe();\n\t\t}\n\t\tdetach(iframe);\n\t};\n}\nexport const resize_observer_content_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'content-box'\n});\nexport const resize_observer_border_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'border-box'\n});\nexport const resize_observer_device_pixel_content_box = /* @__PURE__ */ new ResizeObserverSingleton(\n\t{ box: 'device-pixel-content-box' }\n);\nexport { ResizeObserverSingleton };\n\n/**\n * @returns {void} */\nexport function toggle_class(element, name, toggle) {\n\t// The `!!` is required because an `undefined` flag means flipping the current state.\n\telement.classList.toggle(name, !!toggle);\n}\n\n/**\n * @template T\n * @param {string} type\n * @param {T} [detail]\n * @param {{ bubbles?: boolean, cancelable?: boolean }} [options]\n * @returns {CustomEvent<T>}\n */\nexport function custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n\treturn new CustomEvent(type, { detail, bubbles, cancelable });\n}\n\n/**\n * @param {string} selector\n * @param {HTMLElement} parent\n * @returns {ChildNodeArray}\n */\nexport function query_selector_all(selector, parent = document.body) {\n\treturn Array.from(parent.querySelectorAll(selector));\n}\n\n/**\n * @param {string} nodeId\n * @param {HTMLElement} head\n * @returns {any[]}\n */\nexport function head_selector(nodeId, head) {\n\tconst result = [];\n\tlet started = 0;\n\tfor (const node of head.childNodes) {\n\t\tif (node.nodeType === 8 /* comment node */) {\n\t\t\tconst comment = node.textContent.trim();\n\t\t\tif (comment === `HEAD_${nodeId}_END`) {\n\t\t\t\tstarted -= 1;\n\t\t\t\tresult.push(node);\n\t\t\t} else if (comment === `HEAD_${nodeId}_START`) {\n\t\t\t\tstarted += 1;\n\t\t\t\tresult.push(node);\n\t\t\t}\n\t\t} else if (started > 0) {\n\t\t\tresult.push(node);\n\t\t}\n\t}\n\treturn result;\n}\n/** */\nexport class HtmlTag {\n\t/**\n\t * @private\n\t * @default false\n\t */\n\tis_svg = false;\n\t/** parent for creating node */\n\te = undefined;\n\t/** html tag nodes */\n\tn = undefined;\n\t/** target */\n\tt = undefined;\n\t/** anchor */\n\ta = undefined;\n\tconstructor(is_svg = false) {\n\t\tthis.is_svg = is_svg;\n\t\tthis.e = this.n = null;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tthis.h(html);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @param {HTMLElement | SVGElement} target\n\t * @param {HTMLElement | SVGElement} anchor\n\t * @returns {void}\n\t */\n\tm(html, target, anchor = null) {\n\t\tif (!this.e) {\n\t\t\tif (this.is_svg)\n\t\t\t\tthis.e = svg_element(/** @type {keyof SVGElementTagNameMap} */ (target.nodeName));\n\t\t\t/** #7364  target for <template> may be provided as #document-fragment(11) */ else\n\t\t\t\tthis.e = element(\n\t\t\t\t\t/** @type {keyof HTMLElementTagNameMap} */ (\n\t\t\t\t\t\ttarget.nodeType === 11 ? 'TEMPLATE' : target.nodeName\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\tthis.t =\n\t\t\t\ttarget.tagName !== 'TEMPLATE'\n\t\t\t\t\t? target\n\t\t\t\t\t: /** @type {HTMLTemplateElement} */ (target).content;\n\t\t\tthis.c(html);\n\t\t}\n\t\tthis.i(anchor);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\th(html) {\n\t\tthis.e.innerHTML = html;\n\t\tthis.n = Array.from(\n\t\t\tthis.e.nodeName === 'TEMPLATE' ? this.e.content.childNodes : this.e.childNodes\n\t\t);\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert(this.t, this.n[i], anchor);\n\t\t}\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tp(html) {\n\t\tthis.d();\n\t\tthis.h(html);\n\t\tthis.i(this.a);\n\t}\n\n\t/**\n\t * @returns {void} */\n\td() {\n\t\tthis.n.forEach(detach);\n\t}\n}\n\nexport class HtmlTagHydration extends HtmlTag {\n\t/** @type {Element[]} hydration claimed nodes */\n\tl = undefined;\n\n\tconstructor(is_svg = false, claimed_nodes) {\n\t\tsuper(is_svg);\n\t\tthis.e = this.n = null;\n\t\tthis.l = claimed_nodes;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tif (this.l) {\n\t\t\tthis.n = this.l;\n\t\t} else {\n\t\t\tsuper.c(html);\n\t\t}\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert_hydration(this.t, this.n[i], anchor);\n\t\t}\n\t}\n}\n\n/**\n * @param {NamedNodeMap} attributes\n * @returns {{}}\n */\nexport function attribute_to_object(attributes) {\n\tconst result = {};\n\tfor (const attribute of attributes) {\n\t\tresult[attribute.name] = attribute.value;\n\t}\n\treturn result;\n}\n\nconst escaped = {\n\t'\"': '&quot;',\n\t'&': '&amp;',\n\t'<': '&lt;'\n};\n\nconst regex_attribute_characters_to_escape = /[\"&<]/g;\n\n/**\n * Note that the attribute itself should be surrounded in double quotes\n * @param {any} attribute\n */\nfunction escape_attribute(attribute) {\n\treturn String(attribute).replace(regex_attribute_characters_to_escape, (match) => escaped[match]);\n}\n\n/**\n * @param {Record<string, string>} attributes\n */\nexport function stringify_spread(attributes) {\n\tlet str = ' ';\n\tfor (const key in attributes) {\n\t\tif (attributes[key] != null) {\n\t\t\tstr += `${key}=\"${escape_attribute(attributes[key])}\" `;\n\t\t}\n\t}\n\n\treturn str;\n}\n\n/**\n * @param {HTMLElement} element\n * @returns {{}}\n */\nexport function get_custom_elements_slots(element) {\n\tconst result = {};\n\telement.childNodes.forEach(\n\t\t/** @param {Element} node */ (node) => {\n\t\t\tresult[node.slot || 'default'] = true;\n\t\t}\n\t);\n\treturn result;\n}\n\nexport function construct_svelte_component(component, props) {\n\treturn new component(props);\n}\n\n/**\n * @typedef {Node & {\n * \tclaim_order?: number;\n * \thydrate_init?: true;\n * \tactual_end_child?: NodeEx;\n * \tchildNodes: NodeListOf<NodeEx>;\n * }} NodeEx\n */\n\n/** @typedef {ChildNode & NodeEx} ChildNodeEx */\n\n/** @typedef {NodeEx & { claim_order: number }} NodeEx2 */\n\n/**\n * @typedef {ChildNodeEx[] & {\n * \tclaim_info?: {\n * \t\tlast_index: number;\n * \t\ttotal_claimed: number;\n * \t};\n * }} ChildNodeArray\n */\n","import { append_empty_stylesheet, detach, get_root_for_style } from './dom.js';\nimport { raf } from './environment.js';\n\n// we need to store the information for multiple documents because a Svelte application could also contain iframes\n// https://github.com/sveltejs/svelte/issues/3624\n/** @type {Map<Document | ShadowRoot, import('./private.d.ts').StyleInformation>} */\nconst managed_styles = new Map();\n\nlet active = 0;\n\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\n/**\n * @param {string} str\n * @returns {number}\n */\nfunction hash(str) {\n\tlet hash = 5381;\n\tlet i = str.length;\n\twhile (i--) hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n\treturn hash >>> 0;\n}\n\n/**\n * @param {Document | ShadowRoot} doc\n * @param {Element & ElementCSSInlineStyle} node\n * @returns {{ stylesheet: any; rules: {}; }}\n */\nfunction create_style_information(doc, node) {\n\tconst info = { stylesheet: append_empty_stylesheet(node), rules: {} };\n\tmanaged_styles.set(doc, info);\n\treturn info;\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {number} a\n * @param {number} b\n * @param {number} duration\n * @param {number} delay\n * @param {(t: number) => number} ease\n * @param {(t: number, u: number) => string} fn\n * @param {number} uid\n * @returns {string}\n */\nexport function create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n\tconst step = 16.666 / duration;\n\tlet keyframes = '{\\n';\n\tfor (let p = 0; p <= 1; p += step) {\n\t\tconst t = a + (b - a) * ease(p);\n\t\tkeyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n\t}\n\tconst rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n\tconst name = `__svelte_${hash(rule)}_${uid}`;\n\tconst doc = get_root_for_style(node);\n\tconst { stylesheet, rules } = managed_styles.get(doc) || create_style_information(doc, node);\n\tif (!rules[name]) {\n\t\trules[name] = true;\n\t\tstylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n\t}\n\tconst animation = node.style.animation || '';\n\tnode.style.animation = `${\n\t\tanimation ? `${animation}, ` : ''\n\t}${name} ${duration}ms linear ${delay}ms 1 both`;\n\tactive += 1;\n\treturn name;\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {string} [name]\n * @returns {void}\n */\nexport function delete_rule(node, name) {\n\tconst previous = (node.style.animation || '').split(', ');\n\tconst next = previous.filter(\n\t\tname\n\t\t\t? (anim) => anim.indexOf(name) < 0 // remove specific animation\n\t\t\t: (anim) => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n\t);\n\tconst deleted = previous.length - next.length;\n\tif (deleted) {\n\t\tnode.style.animation = next.join(', ');\n\t\tactive -= deleted;\n\t\tif (!active) clear_rules();\n\t}\n}\n\n/** @returns {void} */\nexport function clear_rules() {\n\traf(() => {\n\t\tif (active) return;\n\t\tmanaged_styles.forEach((info) => {\n\t\t\tconst { ownerNode } = info.stylesheet;\n\t\t\t// there is no ownerNode if it runs on jsdom.\n\t\t\tif (ownerNode) detach(ownerNode);\n\t\t});\n\t\tmanaged_styles.clear();\n\t});\n}\n","import { identity as linear, noop } from './utils.js';\nimport { now } from './environment.js';\nimport { loop } from './loop.js';\nimport { create_rule, delete_rule } from './style_manager.js';\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {import('./private.js').PositionRect} from\n * @param {import('./private.js').AnimationFn} fn\n */\nexport function create_animation(node, from, fn, params) {\n\tif (!from) return noop;\n\tconst to = node.getBoundingClientRect();\n\tif (\n\t\tfrom.left === to.left &&\n\t\tfrom.right === to.right &&\n\t\tfrom.top === to.top &&\n\t\tfrom.bottom === to.bottom\n\t)\n\t\treturn noop;\n\tconst {\n\t\tdelay = 0,\n\t\tduration = 300,\n\t\teasing = linear,\n\t\t// @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n\t\tstart: start_time = now() + delay,\n\t\t// @ts-ignore todo:\n\t\tend = start_time + duration,\n\t\ttick = noop,\n\t\tcss\n\t} = fn(node, { from, to }, params);\n\tlet running = true;\n\tlet started = false;\n\tlet name;\n\t/** @returns {void} */\n\tfunction start() {\n\t\tif (css) {\n\t\t\tname = create_rule(node, 0, 1, duration, delay, easing, css);\n\t\t}\n\t\tif (!delay) {\n\t\t\tstarted = true;\n\t\t}\n\t}\n\t/** @returns {void} */\n\tfunction stop() {\n\t\tif (css) delete_rule(node, name);\n\t\trunning = false;\n\t}\n\tloop((now) => {\n\t\tif (!started && now >= start_time) {\n\t\t\tstarted = true;\n\t\t}\n\t\tif (started && now >= end) {\n\t\t\ttick(1, 0);\n\t\t\tstop();\n\t\t}\n\t\tif (!running) {\n\t\t\treturn false;\n\t\t}\n\t\tif (started) {\n\t\t\tconst p = now - start_time;\n\t\t\tconst t = 0 + 1 * easing(p / duration);\n\t\t\ttick(t, 1 - t);\n\t\t}\n\t\treturn true;\n\t});\n\tstart();\n\ttick(0, 1);\n\treturn stop;\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @returns {void}\n */\nexport function fix_position(node) {\n\tconst style = getComputedStyle(node);\n\tif (style.position !== 'absolute' && style.position !== 'fixed') {\n\t\tconst { width, height } = style;\n\t\tconst a = node.getBoundingClientRect();\n\t\tnode.style.position = 'absolute';\n\t\tnode.style.width = width;\n\t\tnode.style.height = height;\n\t\tadd_transform(node, a);\n\t}\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {import('./private.js').PositionRect} a\n * @returns {void}\n */\nexport function add_transform(node, a) {\n\tconst b = node.getBoundingClientRect();\n\tif (a.left !== b.left || a.top !== b.top) {\n\t\tconst style = getComputedStyle(node);\n\t\tconst transform = style.transform === 'none' ? '' : style.transform;\n\t\tnode.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n\t}\n}\n","import { custom_event } from './dom.js';\n\nexport let current_component;\n\n/** @returns {void} */\nexport function set_current_component(component) {\n\tcurrent_component = component;\n}\n\nexport function get_current_component() {\n\tif (!current_component) throw new Error('Function called outside component initialization');\n\treturn current_component;\n}\n\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#beforeupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function beforeUpdate(fn) {\n\tget_current_component().$$.before_update.push(fn);\n}\n\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * If a function is returned _synchronously_ from `onMount`, it will be called when the component is unmounted.\n *\n * `onMount` does not run inside a [server-side component](https://svelte.dev/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs/svelte#onmount\n * @template T\n * @param {() => import('./private.js').NotFunction<T> | Promise<import('./private.js').NotFunction<T>> | (() => any)} fn\n * @returns {void}\n */\nexport function onMount(fn) {\n\tget_current_component().$$.on_mount.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#afterupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function afterUpdate(fn) {\n\tget_current_component().$$.after_update.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * https://svelte.dev/docs/svelte#ondestroy\n * @param {() => any} fn\n * @returns {void}\n */\nexport function onDestroy(fn) {\n\tget_current_component().$$.on_destroy.push(fn);\n}\n\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](https://svelte.dev/docs#template-syntax-component-directives-on-eventname).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * The event dispatcher can be typed to narrow the allowed event names and the type of the `detail` argument:\n * ```ts\n * const dispatch = createEventDispatcher<{\n *  loaded: never; // does not take a detail argument\n *  change: string; // takes a detail argument of type string, which is required\n *  optional: number | null; // takes an optional detail argument of type number\n * }>();\n * ```\n *\n * https://svelte.dev/docs/svelte#createeventdispatcher\n * @template {Record<string, any>} [EventMap=any]\n * @returns {import('./public.js').EventDispatcher<EventMap>}\n */\nexport function createEventDispatcher() {\n\tconst component = get_current_component();\n\treturn (type, detail, { cancelable = false } = {}) => {\n\t\tconst callbacks = component.$$.callbacks[type];\n\t\tif (callbacks) {\n\t\t\t// TODO are there situations where events could be dispatched\n\t\t\t// in a server (non-DOM) environment?\n\t\t\tconst event = custom_event(/** @type {string} */ (type), detail, { cancelable });\n\t\t\tcallbacks.slice().forEach((fn) => {\n\t\t\t\tfn.call(component, event);\n\t\t\t});\n\t\t\treturn !event.defaultPrevented;\n\t\t}\n\t\treturn true;\n\t};\n}\n\n/**\n * Associates an arbitrary `context` object with the current component and the specified `key`\n * and returns that object. The context is then available to children of the component\n * (including slotted content) with `getContext`.\n *\n * Like lifecycle functions, this must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#setcontext\n * @template T\n * @param {any} key\n * @param {T} context\n * @returns {T}\n */\nexport function setContext(key, context) {\n\tget_current_component().$$.context.set(key, context);\n\treturn context;\n}\n\n/**\n * Retrieves the context that belongs to the closest parent component with the specified `key`.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#getcontext\n * @template T\n * @param {any} key\n * @returns {T}\n */\nexport function getContext(key) {\n\treturn get_current_component().$$.context.get(key);\n}\n\n/**\n * Retrieves the whole context map that belongs to the closest parent component.\n * Must be called during component initialisation. Useful, for example, if you\n * programmatically create a component and want to pass the existing context to it.\n *\n * https://svelte.dev/docs/svelte#getallcontexts\n * @template {Map<any, any>} [T=Map<any, any>]\n * @returns {T}\n */\nexport function getAllContexts() {\n\treturn get_current_component().$$.context;\n}\n\n/**\n * Checks whether a given `key` has been set in the context of a parent component.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#hascontext\n * @param {any} key\n * @returns {boolean}\n */\nexport function hasContext(key) {\n\treturn get_current_component().$$.context.has(key);\n}\n\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\n/**\n * @param component\n * @param event\n * @returns {void}\n */\nexport function bubble(component, event) {\n\tconst callbacks = component.$$.callbacks[event.type];\n\tif (callbacks) {\n\t\t// @ts-ignore\n\t\tcallbacks.slice().forEach((fn) => fn.call(this, event));\n\t}\n}\n","import { run_all } from './utils.js';\nimport { current_component, set_current_component } from './lifecycle.js';\n\nexport const dirty_components = [];\nexport const intros = { enabled: false };\nexport const binding_callbacks = [];\n\nlet render_callbacks = [];\n\nconst flush_callbacks = [];\n\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\n\nlet update_scheduled = false;\n\n/** @returns {void} */\nexport function schedule_update() {\n\tif (!update_scheduled) {\n\t\tupdate_scheduled = true;\n\t\tresolved_promise.then(flush);\n\t}\n}\n\n/** @returns {Promise<void>} */\nexport function tick() {\n\tschedule_update();\n\treturn resolved_promise;\n}\n\n/** @returns {void} */\nexport function add_render_callback(fn) {\n\trender_callbacks.push(fn);\n}\n\n/** @returns {void} */\nexport function add_flush_callback(fn) {\n\tflush_callbacks.push(fn);\n}\n\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\n\nlet flushidx = 0; // Do *not* move this inside the flush() function\n\n/** @returns {void} */\nexport function flush() {\n\t// Do not reenter flush while dirty components are updated, as this can\n\t// result in an infinite loop. Instead, let the inner flush handle it.\n\t// Reentrancy is ok afterwards for bindings etc.\n\tif (flushidx !== 0) {\n\t\treturn;\n\t}\n\tconst saved_component = current_component;\n\tdo {\n\t\t// first, call beforeUpdate functions\n\t\t// and update components\n\t\ttry {\n\t\t\twhile (flushidx < dirty_components.length) {\n\t\t\t\tconst component = dirty_components[flushidx];\n\t\t\t\tflushidx++;\n\t\t\t\tset_current_component(component);\n\t\t\t\tupdate(component.$$);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t// reset dirty state to not end up in a deadlocked state and then rethrow\n\t\t\tdirty_components.length = 0;\n\t\t\tflushidx = 0;\n\t\t\tthrow e;\n\t\t}\n\t\tset_current_component(null);\n\t\tdirty_components.length = 0;\n\t\tflushidx = 0;\n\t\twhile (binding_callbacks.length) binding_callbacks.pop()();\n\t\t// then, once components are updated, call\n\t\t// afterUpdate functions. This may cause\n\t\t// subsequent updates...\n\t\tfor (let i = 0; i < render_callbacks.length; i += 1) {\n\t\t\tconst callback = render_callbacks[i];\n\t\t\tif (!seen_callbacks.has(callback)) {\n\t\t\t\t// ...so guard against infinite loops\n\t\t\t\tseen_callbacks.add(callback);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}\n\t\trender_callbacks.length = 0;\n\t} while (dirty_components.length);\n\twhile (flush_callbacks.length) {\n\t\tflush_callbacks.pop()();\n\t}\n\tupdate_scheduled = false;\n\tseen_callbacks.clear();\n\tset_current_component(saved_component);\n}\n\n/** @returns {void} */\nfunction update($$) {\n\tif ($$.fragment !== null) {\n\t\t$$.update();\n\t\trun_all($$.before_update);\n\t\tconst dirty = $$.dirty;\n\t\t$$.dirty = [-1];\n\t\t$$.fragment && $$.fragment.p($$.ctx, dirty);\n\t\t$$.after_update.forEach(add_render_callback);\n\t}\n}\n\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function flush_render_callbacks(fns) {\n\tconst filtered = [];\n\tconst targets = [];\n\trender_callbacks.forEach((c) => (fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c)));\n\ttargets.forEach((c) => c());\n\trender_callbacks = filtered;\n}\n","import { identity as linear, is_function, noop, run_all } from './utils.js';\nimport { now } from './environment.js';\nimport { loop } from './loop.js';\nimport { create_rule, delete_rule } from './style_manager.js';\nimport { custom_event } from './dom.js';\nimport { add_render_callback } from './scheduler.js';\n\n/**\n * @type {Promise<void> | null}\n */\nlet promise;\n\n/**\n * @returns {Promise<void>}\n */\nfunction wait() {\n\tif (!promise) {\n\t\tpromise = Promise.resolve();\n\t\tpromise.then(() => {\n\t\t\tpromise = null;\n\t\t});\n\t}\n\treturn promise;\n}\n\n/**\n * @param {Element} node\n * @param {INTRO | OUTRO | boolean} direction\n * @param {'start' | 'end'} kind\n * @returns {void}\n */\nfunction dispatch(node, direction, kind) {\n\tnode.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\n\nconst outroing = new Set();\n\n/**\n * @type {Outro}\n */\nlet outros;\n\n/**\n * @returns {void} */\nexport function group_outros() {\n\toutros = {\n\t\tr: 0,\n\t\tc: [],\n\t\tp: outros // parent group\n\t};\n}\n\n/**\n * @returns {void} */\nexport function check_outros() {\n\tif (!outros.r) {\n\t\trun_all(outros.c);\n\t}\n\toutros = outros.p;\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} [local]\n * @returns {void}\n */\nexport function transition_in(block, local) {\n\tif (block && block.i) {\n\t\toutroing.delete(block);\n\t\tblock.i(local);\n\t}\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} local\n * @param {0 | 1} [detach]\n * @param {() => void} [callback]\n * @returns {void}\n */\nexport function transition_out(block, local, detach, callback) {\n\tif (block && block.o) {\n\t\tif (outroing.has(block)) return;\n\t\toutroing.add(block);\n\t\toutros.c.push(() => {\n\t\t\toutroing.delete(block);\n\t\t\tif (callback) {\n\t\t\t\tif (detach) block.d(1);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t});\n\t\tblock.o(local);\n\t} else if (callback) {\n\t\tcallback();\n\t}\n}\n\n/**\n * @type {import('../transition/public.js').TransitionConfig}\n */\nconst null_transition = { duration: 0 };\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ start(): void; invalidate(): void; end(): void; }}\n */\nexport function create_in_transition(node, fn, params) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'in' };\n\tlet config = fn(node, params, options);\n\tlet running = false;\n\tlet animation_name;\n\tlet task;\n\tlet uid = 0;\n\n\t/**\n\t * @returns {void} */\n\tfunction cleanup() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\t\tif (css) animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n\t\ttick(0, 1);\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tif (task) task.abort();\n\t\trunning = true;\n\t\tadd_render_callback(() => dispatch(node, true, 'start'));\n\t\ttask = loop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(1, 0);\n\t\t\t\t\tdispatch(node, true, 'end');\n\t\t\t\t\tcleanup();\n\t\t\t\t\treturn (running = false);\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\tlet started = false;\n\treturn {\n\t\tstart() {\n\t\t\tif (started) return;\n\t\t\tstarted = true;\n\t\t\tdelete_rule(node);\n\t\t\tif (is_function(config)) {\n\t\t\t\tconfig = config(options);\n\t\t\t\twait().then(go);\n\t\t\t} else {\n\t\t\t\tgo();\n\t\t\t}\n\t\t},\n\t\tinvalidate() {\n\t\t\tstarted = false;\n\t\t},\n\t\tend() {\n\t\t\tif (running) {\n\t\t\t\tcleanup();\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ end(reset: any): void; }}\n */\nexport function create_out_transition(node, fn, params) {\n\t/** @type {TransitionOptions} */\n\tconst options = { direction: 'out' };\n\tlet config = fn(node, params, options);\n\tlet running = true;\n\tlet animation_name;\n\tconst group = outros;\n\tgroup.r += 1;\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\tif (css) animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tadd_render_callback(() => dispatch(node, false, 'start'));\n\n\t\tif ('inert' in node) {\n\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\tnode.inert = true;\n\t\t}\n\n\t\tloop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(0, 1);\n\t\t\t\t\tdispatch(node, false, 'end');\n\t\t\t\t\tif (!--group.r) {\n\t\t\t\t\t\t// this will result in `end()` being called,\n\t\t\t\t\t\t// so we don't need to clean up here\n\t\t\t\t\t\trun_all(group.c);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(1 - t, t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\n\tif (is_function(config)) {\n\t\twait().then(() => {\n\t\t\t// @ts-ignore\n\t\t\tconfig = config(options);\n\t\t\tgo();\n\t\t});\n\t} else {\n\t\tgo();\n\t}\n\n\treturn {\n\t\tend(reset) {\n\t\t\tif (reset && 'inert' in node) {\n\t\t\t\tnode.inert = original_inert_value;\n\t\t\t}\n\t\t\tif (reset && config.tick) {\n\t\t\t\tconfig.tick(1, 0);\n\t\t\t}\n\t\t\tif (running) {\n\t\t\t\tif (animation_name) delete_rule(node, animation_name);\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @param {boolean} intro\n * @returns {{ run(b: 0 | 1): void; end(): void; }}\n */\nexport function create_bidirectional_transition(node, fn, params, intro) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'both' };\n\tlet config = fn(node, params, options);\n\tlet t = intro ? 0 : 1;\n\n\t/**\n\t * @type {Program | null} */\n\tlet running_program = null;\n\n\t/**\n\t * @type {PendingProgram | null} */\n\tlet pending_program = null;\n\tlet animation_name = null;\n\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction clear_animation() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @param {PendingProgram} program\n\t * @param {number} duration\n\t * @returns {Program}\n\t */\n\tfunction init(program, duration) {\n\t\tconst d = /** @type {Program['d']} */ (program.b - t);\n\t\tduration *= Math.abs(d);\n\t\treturn {\n\t\t\ta: t,\n\t\t\tb: program.b,\n\t\t\td,\n\t\t\tduration,\n\t\t\tstart: program.start,\n\t\t\tend: program.start + duration,\n\t\t\tgroup: program.group\n\t\t};\n\t}\n\n\t/**\n\t * @param {INTRO | OUTRO} b\n\t * @returns {void}\n\t */\n\tfunction go(b) {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\t/**\n\t\t * @type {PendingProgram} */\n\t\tconst program = {\n\t\t\tstart: now() + delay,\n\t\t\tb\n\t\t};\n\n\t\tif (!b) {\n\t\t\t// @ts-ignore todo: improve typings\n\t\t\tprogram.group = outros;\n\t\t\toutros.r += 1;\n\t\t}\n\n\t\tif ('inert' in node) {\n\t\t\tif (b) {\n\t\t\t\tif (original_inert_value !== undefined) {\n\t\t\t\t\t// aborted/reversed outro — restore previous inert value\n\t\t\t\t\tnode.inert = original_inert_value;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\t\tnode.inert = true;\n\t\t\t}\n\t\t}\n\n\t\tif (running_program || pending_program) {\n\t\t\tpending_program = program;\n\t\t} else {\n\t\t\t// if this is an intro, and there's a delay, we need to do\n\t\t\t// an initial tick and/or apply CSS animation immediately\n\t\t\tif (css) {\n\t\t\t\tclear_animation();\n\t\t\t\tanimation_name = create_rule(node, t, b, duration, delay, easing, css);\n\t\t\t}\n\t\t\tif (b) tick(0, 1);\n\t\t\trunning_program = init(program, duration);\n\t\t\tadd_render_callback(() => dispatch(node, b, 'start'));\n\t\t\tloop((now) => {\n\t\t\t\tif (pending_program && now > pending_program.start) {\n\t\t\t\t\trunning_program = init(pending_program, duration);\n\t\t\t\t\tpending_program = null;\n\t\t\t\t\tdispatch(node, running_program.b, 'start');\n\t\t\t\t\tif (css) {\n\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\tanimation_name = create_rule(\n\t\t\t\t\t\t\tnode,\n\t\t\t\t\t\t\tt,\n\t\t\t\t\t\t\trunning_program.b,\n\t\t\t\t\t\t\trunning_program.duration,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\teasing,\n\t\t\t\t\t\t\tconfig.css\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (running_program) {\n\t\t\t\t\tif (now >= running_program.end) {\n\t\t\t\t\t\ttick((t = running_program.b), 1 - t);\n\t\t\t\t\t\tdispatch(node, running_program.b, 'end');\n\t\t\t\t\t\tif (!pending_program) {\n\t\t\t\t\t\t\t// we're done\n\t\t\t\t\t\t\tif (running_program.b) {\n\t\t\t\t\t\t\t\t// intro — we can tidy up immediately\n\t\t\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// outro — needs to be coordinated\n\t\t\t\t\t\t\t\tif (!--running_program.group.r) run_all(running_program.group.c);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\trunning_program = null;\n\t\t\t\t\t} else if (now >= running_program.start) {\n\t\t\t\t\t\tconst p = now - running_program.start;\n\t\t\t\t\t\tt = running_program.a + running_program.d * easing(p / running_program.duration);\n\t\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn !!(running_program || pending_program);\n\t\t\t});\n\t\t}\n\t}\n\treturn {\n\t\trun(b) {\n\t\t\tif (is_function(config)) {\n\t\t\t\twait().then(() => {\n\t\t\t\t\tconst opts = { direction: b ? 'in' : 'out' };\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tconfig = config(opts);\n\t\t\t\t\tgo(b);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tgo(b);\n\t\t\t}\n\t\t},\n\t\tend() {\n\t\t\tclear_animation();\n\t\t\trunning_program = pending_program = null;\n\t\t}\n\t};\n}\n\n/** @typedef {1} INTRO */\n/** @typedef {0} OUTRO */\n/** @typedef {{ direction: 'in' | 'out' | 'both' }} TransitionOptions */\n/** @typedef {(node: Element, params: any, options: TransitionOptions) => import('../transition/public.js').TransitionConfig} TransitionFn */\n\n/**\n * @typedef {Object} Outro\n * @property {number} r\n * @property {Function[]} c\n * @property {Object} p\n */\n\n/**\n * @typedef {Object} PendingProgram\n * @property {number} start\n * @property {INTRO|OUTRO} b\n * @property {Outro} [group]\n */\n\n/**\n * @typedef {Object} Program\n * @property {number} a\n * @property {INTRO|OUTRO} b\n * @property {1|-1} d\n * @property {number} duration\n * @property {number} start\n * @property {number} end\n * @property {Outro} [group]\n */\n","import { is_promise } from './utils.js';\nimport { check_outros, group_outros, transition_in, transition_out } from './transitions.js';\nimport { flush } from './scheduler.js';\nimport { get_current_component, set_current_component } from './lifecycle.js';\n\n/**\n * @template T\n * @param {Promise<T>} promise\n * @param {import('./private.js').PromiseInfo<T>} info\n * @returns {boolean}\n */\nexport function handle_promise(promise, info) {\n\tconst token = (info.token = {});\n\t/**\n\t * @param {import('./private.js').FragmentFactory} type\n\t * @param {0 | 1 | 2} index\n\t * @param {number} [key]\n\t * @param {any} [value]\n\t * @returns {void}\n\t */\n\tfunction update(type, index, key, value) {\n\t\tif (info.token !== token) return;\n\t\tinfo.resolved = value;\n\t\tlet child_ctx = info.ctx;\n\t\tif (key !== undefined) {\n\t\t\tchild_ctx = child_ctx.slice();\n\t\t\tchild_ctx[key] = value;\n\t\t}\n\t\tconst block = type && (info.current = type)(child_ctx);\n\t\tlet needs_flush = false;\n\t\tif (info.block) {\n\t\t\tif (info.blocks) {\n\t\t\t\tinfo.blocks.forEach((block, i) => {\n\t\t\t\t\tif (i !== index && block) {\n\t\t\t\t\t\tgroup_outros();\n\t\t\t\t\t\ttransition_out(block, 1, 1, () => {\n\t\t\t\t\t\t\tif (info.blocks[i] === block) {\n\t\t\t\t\t\t\t\tinfo.blocks[i] = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcheck_outros();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tinfo.block.d(1);\n\t\t\t}\n\t\t\tblock.c();\n\t\t\ttransition_in(block, 1);\n\t\t\tblock.m(info.mount(), info.anchor);\n\t\t\tneeds_flush = true;\n\t\t}\n\t\tinfo.block = block;\n\t\tif (info.blocks) info.blocks[index] = block;\n\t\tif (needs_flush) {\n\t\t\tflush();\n\t\t}\n\t}\n\tif (is_promise(promise)) {\n\t\tconst current_component = get_current_component();\n\t\tpromise.then(\n\t\t\t(value) => {\n\t\t\t\tset_current_component(current_component);\n\t\t\t\tupdate(info.then, 1, info.value, value);\n\t\t\t\tset_current_component(null);\n\t\t\t},\n\t\t\t(error) => {\n\t\t\t\tset_current_component(current_component);\n\t\t\t\tupdate(info.catch, 2, info.error, error);\n\t\t\t\tset_current_component(null);\n\t\t\t\tif (!info.hasCatch) {\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t\t// if we previously had a then/catch block, destroy it\n\t\tif (info.current !== info.pending) {\n\t\t\tupdate(info.pending, 0);\n\t\t\treturn true;\n\t\t}\n\t} else {\n\t\tif (info.current !== info.then) {\n\t\t\tupdate(info.then, 1, info.value, promise);\n\t\t\treturn true;\n\t\t}\n\t\tinfo.resolved = /** @type {T} */ (promise);\n\t}\n}\n\n/** @returns {void} */\nexport function update_await_block_branch(info, ctx, dirty) {\n\tconst child_ctx = ctx.slice();\n\tconst { resolved } = info;\n\tif (info.current === info.then) {\n\t\tchild_ctx[info.value] = resolved;\n\t}\n\tif (info.current === info.catch) {\n\t\tchild_ctx[info.error] = resolved;\n\t}\n\tinfo.block.p(child_ctx, dirty);\n}\n","import { transition_in, transition_out } from './transitions.js';\nimport { run_all } from './utils.js';\n\n// general each functions:\n\nexport function ensure_array_like(array_like_or_iterator) {\n\treturn array_like_or_iterator?.length !== undefined\n\t\t? array_like_or_iterator\n\t\t: Array.from(array_like_or_iterator);\n}\n\n// keyed each functions:\n\n/** @returns {void} */\nexport function destroy_block(block, lookup) {\n\tblock.d(1);\n\tlookup.delete(block.key);\n}\n\n/** @returns {void} */\nexport function outro_and_destroy_block(block, lookup) {\n\ttransition_out(block, 1, 1, () => {\n\t\tlookup.delete(block.key);\n\t});\n}\n\n/** @returns {void} */\nexport function fix_and_destroy_block(block, lookup) {\n\tblock.f();\n\tdestroy_block(block, lookup);\n}\n\n/** @returns {void} */\nexport function fix_and_outro_and_destroy_block(block, lookup) {\n\tblock.f();\n\toutro_and_destroy_block(block, lookup);\n}\n\n/** @returns {any[]} */\nexport function update_keyed_each(\n\told_blocks,\n\tdirty,\n\tget_key,\n\tdynamic,\n\tctx,\n\tlist,\n\tlookup,\n\tnode,\n\tdestroy,\n\tcreate_each_block,\n\tnext,\n\tget_context\n) {\n\tlet o = old_blocks.length;\n\tlet n = list.length;\n\tlet i = o;\n\tconst old_indexes = {};\n\twhile (i--) old_indexes[old_blocks[i].key] = i;\n\tconst new_blocks = [];\n\tconst new_lookup = new Map();\n\tconst deltas = new Map();\n\tconst updates = [];\n\ti = n;\n\twhile (i--) {\n\t\tconst child_ctx = get_context(ctx, list, i);\n\t\tconst key = get_key(child_ctx);\n\t\tlet block = lookup.get(key);\n\t\tif (!block) {\n\t\t\tblock = create_each_block(key, child_ctx);\n\t\t\tblock.c();\n\t\t} else if (dynamic) {\n\t\t\t// defer updates until all the DOM shuffling is done\n\t\t\tupdates.push(() => block.p(child_ctx, dirty));\n\t\t}\n\t\tnew_lookup.set(key, (new_blocks[i] = block));\n\t\tif (key in old_indexes) deltas.set(key, Math.abs(i - old_indexes[key]));\n\t}\n\tconst will_move = new Set();\n\tconst did_move = new Set();\n\t/** @returns {void} */\n\tfunction insert(block) {\n\t\ttransition_in(block, 1);\n\t\tblock.m(node, next);\n\t\tlookup.set(block.key, block);\n\t\tnext = block.first;\n\t\tn--;\n\t}\n\twhile (o && n) {\n\t\tconst new_block = new_blocks[n - 1];\n\t\tconst old_block = old_blocks[o - 1];\n\t\tconst new_key = new_block.key;\n\t\tconst old_key = old_block.key;\n\t\tif (new_block === old_block) {\n\t\t\t// do nothing\n\t\t\tnext = new_block.first;\n\t\t\to--;\n\t\t\tn--;\n\t\t} else if (!new_lookup.has(old_key)) {\n\t\t\t// remove old block\n\t\t\tdestroy(old_block, lookup);\n\t\t\to--;\n\t\t} else if (!lookup.has(new_key) || will_move.has(new_key)) {\n\t\t\tinsert(new_block);\n\t\t} else if (did_move.has(old_key)) {\n\t\t\to--;\n\t\t} else if (deltas.get(new_key) > deltas.get(old_key)) {\n\t\t\tdid_move.add(new_key);\n\t\t\tinsert(new_block);\n\t\t} else {\n\t\t\twill_move.add(old_key);\n\t\t\to--;\n\t\t}\n\t}\n\twhile (o--) {\n\t\tconst old_block = old_blocks[o];\n\t\tif (!new_lookup.has(old_block.key)) destroy(old_block, lookup);\n\t}\n\twhile (n) insert(new_blocks[n - 1]);\n\trun_all(updates);\n\treturn new_blocks;\n}\n\n/** @returns {void} */\nexport function validate_each_keys(ctx, list, get_context, get_key) {\n\tconst keys = new Map();\n\tfor (let i = 0; i < list.length; i++) {\n\t\tconst key = get_key(get_context(ctx, list, i));\n\t\tif (keys.has(key)) {\n\t\t\tlet value = '';\n\t\t\ttry {\n\t\t\t\tvalue = `with value '${String(key)}' `;\n\t\t\t} catch (e) {\n\t\t\t\t// can't stringify\n\t\t\t}\n\t\t\tthrow new Error(\n\t\t\t\t`Cannot have duplicate keys in a keyed each: Keys at index ${keys.get(\n\t\t\t\t\tkey\n\t\t\t\t)} and ${i} ${value}are duplicates`\n\t\t\t);\n\t\t}\n\t\tkeys.set(key, i);\n\t}\n}\n","/** @returns {{}} */\nexport function get_spread_update(levels, updates) {\n\tconst update = {};\n\tconst to_null_out = {};\n\tconst accounted_for = { $$scope: 1 };\n\tlet i = levels.length;\n\twhile (i--) {\n\t\tconst o = levels[i];\n\t\tconst n = updates[i];\n\t\tif (n) {\n\t\t\tfor (const key in o) {\n\t\t\t\tif (!(key in n)) to_null_out[key] = 1;\n\t\t\t}\n\t\t\tfor (const key in n) {\n\t\t\t\tif (!accounted_for[key]) {\n\t\t\t\t\tupdate[key] = n[key];\n\t\t\t\t\taccounted_for[key] = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlevels[i] = n;\n\t\t} else {\n\t\t\tfor (const key in o) {\n\t\t\t\taccounted_for[key] = 1;\n\t\t\t}\n\t\t}\n\t}\n\tfor (const key in to_null_out) {\n\t\tif (!(key in update)) update[key] = undefined;\n\t}\n\treturn update;\n}\n\nexport function get_spread_object(spread_props) {\n\treturn typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n","import {\n\tadd_render_callback,\n\tflush,\n\tflush_render_callbacks,\n\tschedule_update,\n\tdirty_components\n} from './scheduler.js';\nimport { current_component, set_current_component } from './lifecycle.js';\nimport { blank_object, is_empty, is_function, run, run_all, noop } from './utils.js';\nimport {\n\tchildren,\n\tdetach,\n\tstart_hydrating,\n\tend_hydrating,\n\tget_custom_elements_slots,\n\tinsert,\n\telement,\n\tattr\n} from './dom.js';\nimport { transition_in } from './transitions.js';\n\n/** @returns {void} */\nexport function bind(component, name, callback) {\n\tconst index = component.$$.props[name];\n\tif (index !== undefined) {\n\t\tcomponent.$$.bound[index] = callback;\n\t\tcallback(component.$$.ctx[index]);\n\t}\n}\n\n/** @returns {void} */\nexport function create_component(block) {\n\tblock && block.c();\n}\n\n/** @returns {void} */\nexport function claim_component(block, parent_nodes) {\n\tblock && block.l(parent_nodes);\n}\n\n/** @returns {void} */\nexport function mount_component(component, target, anchor) {\n\tconst { fragment, after_update } = component.$$;\n\tfragment && fragment.m(target, anchor);\n\t// onMount happens before the initial afterUpdate\n\tadd_render_callback(() => {\n\t\tconst new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n\t\t// if the component was destroyed immediately\n\t\t// it will update the `$$.on_destroy` reference to `null`.\n\t\t// the destructured on_destroy may still reference to the old array\n\t\tif (component.$$.on_destroy) {\n\t\t\tcomponent.$$.on_destroy.push(...new_on_destroy);\n\t\t} else {\n\t\t\t// Edge case - component was destroyed immediately,\n\t\t\t// most likely as a result of a binding initialising\n\t\t\trun_all(new_on_destroy);\n\t\t}\n\t\tcomponent.$$.on_mount = [];\n\t});\n\tafter_update.forEach(add_render_callback);\n}\n\n/** @returns {void} */\nexport function destroy_component(component, detaching) {\n\tconst $$ = component.$$;\n\tif ($$.fragment !== null) {\n\t\tflush_render_callbacks($$.after_update);\n\t\trun_all($$.on_destroy);\n\t\t$$.fragment && $$.fragment.d(detaching);\n\t\t// TODO null out other refs, including component.$$ (but need to\n\t\t// preserve final state?)\n\t\t$$.on_destroy = $$.fragment = null;\n\t\t$$.ctx = [];\n\t}\n}\n\n/** @returns {void} */\nfunction make_dirty(component, i) {\n\tif (component.$$.dirty[0] === -1) {\n\t\tdirty_components.push(component);\n\t\tschedule_update();\n\t\tcomponent.$$.dirty.fill(0);\n\t}\n\tcomponent.$$.dirty[(i / 31) | 0] |= 1 << i % 31;\n}\n\n// TODO: Document the other params\n/**\n * @param {SvelteComponent} component\n * @param {import('./public.js').ComponentConstructorOptions} options\n *\n * @param {import('./utils.js')['not_equal']} not_equal Used to compare props and state values.\n * @param {(target: Element | ShadowRoot) => void} [append_styles] Function that appends styles to the DOM when the component is first initialised.\n * This will be the `add_css` function from the compiled component.\n *\n * @returns {void}\n */\nexport function init(\n\tcomponent,\n\toptions,\n\tinstance,\n\tcreate_fragment,\n\tnot_equal,\n\tprops,\n\tappend_styles = null,\n\tdirty = [-1]\n) {\n\tconst parent_component = current_component;\n\tset_current_component(component);\n\t/** @type {import('./private.js').T$$} */\n\tconst $$ = (component.$$ = {\n\t\tfragment: null,\n\t\tctx: [],\n\t\t// state\n\t\tprops,\n\t\tupdate: noop,\n\t\tnot_equal,\n\t\tbound: blank_object(),\n\t\t// lifecycle\n\t\ton_mount: [],\n\t\ton_destroy: [],\n\t\ton_disconnect: [],\n\t\tbefore_update: [],\n\t\tafter_update: [],\n\t\tcontext: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n\t\t// everything else\n\t\tcallbacks: blank_object(),\n\t\tdirty,\n\t\tskip_bound: false,\n\t\troot: options.target || parent_component.$$.root\n\t});\n\tappend_styles && append_styles($$.root);\n\tlet ready = false;\n\t$$.ctx = instance\n\t\t? instance(component, options.props || {}, (i, ret, ...rest) => {\n\t\t\t\tconst value = rest.length ? rest[0] : ret;\n\t\t\t\tif ($$.ctx && not_equal($$.ctx[i], ($$.ctx[i] = value))) {\n\t\t\t\t\tif (!$$.skip_bound && $$.bound[i]) $$.bound[i](value);\n\t\t\t\t\tif (ready) make_dirty(component, i);\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t  })\n\t\t: [];\n\t$$.update();\n\tready = true;\n\trun_all($$.before_update);\n\t// `false` as a special case of no DOM component\n\t$$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n\tif (options.target) {\n\t\tif (options.hydrate) {\n\t\t\tstart_hydrating();\n\t\t\t// TODO: what is the correct type here?\n\t\t\t// @ts-expect-error\n\t\t\tconst nodes = children(options.target);\n\t\t\t$$.fragment && $$.fragment.l(nodes);\n\t\t\tnodes.forEach(detach);\n\t\t} else {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t$$.fragment && $$.fragment.c();\n\t\t}\n\t\tif (options.intro) transition_in(component.$$.fragment);\n\t\tmount_component(component, options.target, options.anchor);\n\t\tend_hydrating();\n\t\tflush();\n\t}\n\tset_current_component(parent_component);\n}\n\nexport let SvelteElement;\n\nif (typeof HTMLElement === 'function') {\n\tSvelteElement = class extends HTMLElement {\n\t\t/** The Svelte component constructor */\n\t\t$$ctor;\n\t\t/** Slots */\n\t\t$$s;\n\t\t/** The Svelte component instance */\n\t\t$$c;\n\t\t/** Whether or not the custom element is connected */\n\t\t$$cn = false;\n\t\t/** Component props data */\n\t\t$$d = {};\n\t\t/** `true` if currently in the process of reflecting component props back to attributes */\n\t\t$$r = false;\n\t\t/** @type {Record<string, CustomElementPropDefinition>} Props definition (name, reflected, type etc) */\n\t\t$$p_d = {};\n\t\t/** @type {Record<string, Function[]>} Event listeners */\n\t\t$$l = {};\n\t\t/** @type {Map<Function, Function>} Event listener unsubscribe functions */\n\t\t$$l_u = new Map();\n\n\t\tconstructor($$componentCtor, $$slots, use_shadow_dom) {\n\t\t\tsuper();\n\t\t\tthis.$$ctor = $$componentCtor;\n\t\t\tthis.$$s = $$slots;\n\t\t\tif (use_shadow_dom) {\n\t\t\t\tthis.attachShadow({ mode: 'open' });\n\t\t\t}\n\t\t}\n\n\t\taddEventListener(type, listener, options) {\n\t\t\t// We can't determine upfront if the event is a custom event or not, so we have to\n\t\t\t// listen to both. If someone uses a custom event with the same name as a regular\n\t\t\t// browser event, this fires twice - we can't avoid that.\n\t\t\tthis.$$l[type] = this.$$l[type] || [];\n\t\t\tthis.$$l[type].push(listener);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t}\n\t\t\tsuper.addEventListener(type, listener, options);\n\t\t}\n\n\t\tremoveEventListener(type, listener, options) {\n\t\t\tsuper.removeEventListener(type, listener, options);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$l_u.get(listener);\n\t\t\t\tif (unsub) {\n\t\t\t\t\tunsub();\n\t\t\t\t\tthis.$$l_u.delete(listener);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.$$l[type]) {\n\t\t\t\tconst idx = this.$$l[type].indexOf(listener);\n\t\t\t\tif (idx >= 0) {\n\t\t\t\t\tthis.$$l[type].splice(idx, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tasync connectedCallback() {\n\t\t\tthis.$$cn = true;\n\t\t\tif (!this.$$c) {\n\t\t\t\t// We wait one tick to let possible child slot elements be created/mounted\n\t\t\t\tawait Promise.resolve();\n\t\t\t\tif (!this.$$cn || this.$$c) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfunction create_slot(name) {\n\t\t\t\t\treturn () => {\n\t\t\t\t\t\tlet node;\n\t\t\t\t\t\tconst obj = {\n\t\t\t\t\t\t\tc: function create() {\n\t\t\t\t\t\t\t\tnode = element('slot');\n\t\t\t\t\t\t\t\tif (name !== 'default') {\n\t\t\t\t\t\t\t\t\tattr(node, 'name', name);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * @param {HTMLElement} target\n\t\t\t\t\t\t\t * @param {HTMLElement} [anchor]\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tm: function mount(target, anchor) {\n\t\t\t\t\t\t\t\tinsert(target, node, anchor);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\td: function destroy(detaching) {\n\t\t\t\t\t\t\t\tif (detaching) {\n\t\t\t\t\t\t\t\t\tdetach(node);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn obj;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tconst $$slots = {};\n\t\t\t\tconst existing_slots = get_custom_elements_slots(this);\n\t\t\t\tfor (const name of this.$$s) {\n\t\t\t\t\tif (name in existing_slots) {\n\t\t\t\t\t\t$$slots[name] = [create_slot(name)];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (const attribute of this.attributes) {\n\t\t\t\t\t// this.$$data takes precedence over this.attributes\n\t\t\t\t\tconst name = this.$$g_p(attribute.name);\n\t\t\t\t\tif (!(name in this.$$d)) {\n\t\t\t\t\t\tthis.$$d[name] = get_custom_element_value(name, attribute.value, this.$$p_d, 'toProp');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Port over props that were set programmatically before ce was initialized\n\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\tif (!(key in this.$$d) && this[key] !== undefined) {\n\t\t\t\t\t\tthis.$$d[key] = this[key]; // don't transform, these were set through JavaScript\n\t\t\t\t\t\tdelete this[key]; // remove the property that shadows the getter/setter\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$c = new this.$$ctor({\n\t\t\t\t\ttarget: this.shadowRoot || this,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\t...this.$$d,\n\t\t\t\t\t\t$$slots,\n\t\t\t\t\t\t$$scope: {\n\t\t\t\t\t\t\tctx: []\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Reflect component props as attributes\n\t\t\t\tconst reflect_attributes = () => {\n\t\t\t\t\tthis.$$r = true;\n\t\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\t\tthis.$$d[key] = this.$$c.$$.ctx[this.$$c.$$.props[key]];\n\t\t\t\t\t\tif (this.$$p_d[key].reflect) {\n\t\t\t\t\t\t\tconst attribute_value = get_custom_element_value(\n\t\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\t\tthis.$$d[key],\n\t\t\t\t\t\t\t\tthis.$$p_d,\n\t\t\t\t\t\t\t\t'toAttribute'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (attribute_value == null) {\n\t\t\t\t\t\t\t\tthis.removeAttribute(this.$$p_d[key].attribute || key);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.setAttribute(this.$$p_d[key].attribute || key, attribute_value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.$$r = false;\n\t\t\t\t};\n\t\t\t\tthis.$$c.$$.after_update.push(reflect_attributes);\n\t\t\t\treflect_attributes(); // once initially because after_update is added too late for first render\n\n\t\t\t\tfor (const type in this.$$l) {\n\t\t\t\t\tfor (const listener of this.$$l[type]) {\n\t\t\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$l = {};\n\t\t\t}\n\t\t}\n\n\t\t// We don't need this when working within Svelte code, but for compatibility of people using this outside of Svelte\n\t\t// and setting attributes through setAttribute etc, this is helpful\n\t\tattributeChangedCallback(attr, _oldValue, newValue) {\n\t\t\tif (this.$$r) return;\n\t\t\tattr = this.$$g_p(attr);\n\t\t\tthis.$$d[attr] = get_custom_element_value(attr, newValue, this.$$p_d, 'toProp');\n\t\t\tthis.$$c?.$set({ [attr]: this.$$d[attr] });\n\t\t}\n\n\t\tdisconnectedCallback() {\n\t\t\tthis.$$cn = false;\n\t\t\t// In a microtask, because this could be a move within the DOM\n\t\t\tPromise.resolve().then(() => {\n\t\t\t\tif (!this.$$cn && this.$$c) {\n\t\t\t\t\tthis.$$c.$destroy();\n\t\t\t\t\tthis.$$c = undefined;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t$$g_p(attribute_name) {\n\t\t\treturn (\n\t\t\t\tObject.keys(this.$$p_d).find(\n\t\t\t\t\t(key) =>\n\t\t\t\t\t\tthis.$$p_d[key].attribute === attribute_name ||\n\t\t\t\t\t\t(!this.$$p_d[key].attribute && key.toLowerCase() === attribute_name)\n\t\t\t\t) || attribute_name\n\t\t\t);\n\t\t}\n\t};\n}\n\n/**\n * @param {string} prop\n * @param {any} value\n * @param {Record<string, CustomElementPropDefinition>} props_definition\n * @param {'toAttribute' | 'toProp'} [transform]\n */\nfunction get_custom_element_value(prop, value, props_definition, transform) {\n\tconst type = props_definition[prop]?.type;\n\tvalue = type === 'Boolean' && typeof value !== 'boolean' ? value != null : value;\n\tif (!transform || !props_definition[prop]) {\n\t\treturn value;\n\t} else if (transform === 'toAttribute') {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value == null ? null : JSON.stringify(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value ? '' : null;\n\t\t\tcase 'Number':\n\t\t\t\treturn value == null ? null : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t} else {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value && JSON.parse(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value; // conversion already handled above\n\t\t\tcase 'Number':\n\t\t\t\treturn value != null ? +value : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t}\n}\n\n/**\n * @internal\n *\n * Turn a Svelte component into a custom element.\n * @param {import('./public.js').ComponentType} Component  A Svelte component constructor\n * @param {Record<string, CustomElementPropDefinition>} props_definition  The props to observe\n * @param {string[]} slots  The slots to create\n * @param {string[]} accessors  Other accessors besides the ones for props the component has\n * @param {boolean} use_shadow_dom  Whether to use shadow DOM\n * @param {(ce: new () => HTMLElement) => new () => HTMLElement} [extend]\n */\nexport function create_custom_element(\n\tComponent,\n\tprops_definition,\n\tslots,\n\taccessors,\n\tuse_shadow_dom,\n\textend\n) {\n\tlet Class = class extends SvelteElement {\n\t\tconstructor() {\n\t\t\tsuper(Component, slots, use_shadow_dom);\n\t\t\tthis.$$p_d = props_definition;\n\t\t}\n\t\tstatic get observedAttributes() {\n\t\t\treturn Object.keys(props_definition).map((key) =>\n\t\t\t\t(props_definition[key].attribute || key).toLowerCase()\n\t\t\t);\n\t\t}\n\t};\n\tObject.keys(props_definition).forEach((prop) => {\n\t\tObject.defineProperty(Class.prototype, prop, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c && prop in this.$$c ? this.$$c[prop] : this.$$d[prop];\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tvalue = get_custom_element_value(prop, value, props_definition);\n\t\t\t\tthis.$$d[prop] = value;\n\t\t\t\tthis.$$c?.$set({ [prop]: value });\n\t\t\t}\n\t\t});\n\t});\n\taccessors.forEach((accessor) => {\n\t\tObject.defineProperty(Class.prototype, accessor, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c?.[accessor];\n\t\t\t}\n\t\t});\n\t});\n\tif (extend) {\n\t\t// @ts-expect-error - assigning here is fine\n\t\tClass = extend(Class);\n\t}\n\tComponent.element = /** @type {any} */ (Class);\n\treturn Class;\n}\n\n/**\n * Base class for Svelte components. Used when dev=false.\n *\n * @template {Record<string, any>} [Props=any]\n * @template {Record<string, any>} [Events=any]\n */\nexport class SvelteComponent {\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$ = undefined;\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$set = undefined;\n\n\t/** @returns {void} */\n\t$destroy() {\n\t\tdestroy_component(this, 1);\n\t\tthis.$destroy = noop;\n\t}\n\n\t/**\n\t * @template {Extract<keyof Events, string>} K\n\t * @param {K} type\n\t * @param {((e: Events[K]) => void) | null | undefined} callback\n\t * @returns {() => void}\n\t */\n\t$on(type, callback) {\n\t\tif (!is_function(callback)) {\n\t\t\treturn noop;\n\t\t}\n\t\tconst callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);\n\t\tcallbacks.push(callback);\n\t\treturn () => {\n\t\t\tconst index = callbacks.indexOf(callback);\n\t\t\tif (index !== -1) callbacks.splice(index, 1);\n\t\t};\n\t}\n\n\t/**\n\t * @param {Partial<Props>} props\n\t * @returns {void}\n\t */\n\t$set(props) {\n\t\tif (this.$$set && !is_empty(props)) {\n\t\t\tthis.$$.skip_bound = true;\n\t\t\tthis.$$set(props);\n\t\t\tthis.$$.skip_bound = false;\n\t\t}\n\t}\n}\n\n/**\n * @typedef {Object} CustomElementPropDefinition\n * @property {string} [attribute]\n * @property {boolean} [reflect]\n * @property {'String'|'Boolean'|'Number'|'Array'|'Object'} [type]\n */\n","// generated during release, do not modify\n\n/**\n * The current version, as set in package.json.\n *\n * https://svelte.dev/docs/svelte-compiler#svelte-version\n * @type {string}\n */\nexport const VERSION = '4.2.20';\nexport const PUBLIC_VERSION = '4';\n","import { PUBLIC_VERSION } from '../../../shared/version.js';\n\nif (typeof window !== 'undefined')\n\t// @ts-ignore\n\t(window.__svelte || (window.__svelte = { v: new Set() })).v.add(PUBLIC_VERSION);\n","// these aren't really private, but nor are they really useful to document\n\n/**\n * @private\n */\nclass LuxonError extends Error {}\n\n/**\n * @private\n */\nexport class InvalidDateTimeError extends LuxonError {\n  constructor(reason) {\n    super(`Invalid DateTime: ${reason.toMessage()}`);\n  }\n}\n\n/**\n * @private\n */\nexport class InvalidIntervalError extends LuxonError {\n  constructor(reason) {\n    super(`Invalid Interval: ${reason.toMessage()}`);\n  }\n}\n\n/**\n * @private\n */\nexport class InvalidDurationError extends LuxonError {\n  constructor(reason) {\n    super(`Invalid Duration: ${reason.toMessage()}`);\n  }\n}\n\n/**\n * @private\n */\nexport class ConflictingSpecificationError extends LuxonError {}\n\n/**\n * @private\n */\nexport class InvalidUnitError extends LuxonError {\n  constructor(unit) {\n    super(`Invalid unit ${unit}`);\n  }\n}\n\n/**\n * @private\n */\nexport class InvalidArgumentError extends LuxonError {}\n\n/**\n * @private\n */\nexport class ZoneIsAbstractError extends LuxonError {\n  constructor() {\n    super(\"Zone is an abstract class\");\n  }\n}\n","/**\n * @private\n */\n\nconst n = \"numeric\",\n  s = \"short\",\n  l = \"long\";\n\nexport const DATE_SHORT = {\n  year: n,\n  month: n,\n  day: n,\n};\n\nexport const DATE_MED = {\n  year: n,\n  month: s,\n  day: n,\n};\n\nexport const DATE_MED_WITH_WEEKDAY = {\n  year: n,\n  month: s,\n  day: n,\n  weekday: s,\n};\n\nexport const DATE_FULL = {\n  year: n,\n  month: l,\n  day: n,\n};\n\nexport const DATE_HUGE = {\n  year: n,\n  month: l,\n  day: n,\n  weekday: l,\n};\n\nexport const TIME_SIMPLE = {\n  hour: n,\n  minute: n,\n};\n\nexport const TIME_WITH_SECONDS = {\n  hour: n,\n  minute: n,\n  second: n,\n};\n\nexport const TIME_WITH_SHORT_OFFSET = {\n  hour: n,\n  minute: n,\n  second: n,\n  timeZoneName: s,\n};\n\nexport const TIME_WITH_LONG_OFFSET = {\n  hour: n,\n  minute: n,\n  second: n,\n  timeZoneName: l,\n};\n\nexport const TIME_24_SIMPLE = {\n  hour: n,\n  minute: n,\n  hourCycle: \"h23\",\n};\n\nexport const TIME_24_WITH_SECONDS = {\n  hour: n,\n  minute: n,\n  second: n,\n  hourCycle: \"h23\",\n};\n\nexport const TIME_24_WITH_SHORT_OFFSET = {\n  hour: n,\n  minute: n,\n  second: n,\n  hourCycle: \"h23\",\n  timeZoneName: s,\n};\n\nexport const TIME_24_WITH_LONG_OFFSET = {\n  hour: n,\n  minute: n,\n  second: n,\n  hourCycle: \"h23\",\n  timeZoneName: l,\n};\n\nexport const DATETIME_SHORT = {\n  year: n,\n  month: n,\n  day: n,\n  hour: n,\n  minute: n,\n};\n\nexport const DATETIME_SHORT_WITH_SECONDS = {\n  year: n,\n  month: n,\n  day: n,\n  hour: n,\n  minute: n,\n  second: n,\n};\n\nexport const DATETIME_MED = {\n  year: n,\n  month: s,\n  day: n,\n  hour: n,\n  minute: n,\n};\n\nexport const DATETIME_MED_WITH_SECONDS = {\n  year: n,\n  month: s,\n  day: n,\n  hour: n,\n  minute: n,\n  second: n,\n};\n\nexport const DATETIME_MED_WITH_WEEKDAY = {\n  year: n,\n  month: s,\n  day: n,\n  weekday: s,\n  hour: n,\n  minute: n,\n};\n\nexport const DATETIME_FULL = {\n  year: n,\n  month: l,\n  day: n,\n  hour: n,\n  minute: n,\n  timeZoneName: s,\n};\n\nexport const DATETIME_FULL_WITH_SECONDS = {\n  year: n,\n  month: l,\n  day: n,\n  hour: n,\n  minute: n,\n  second: n,\n  timeZoneName: s,\n};\n\nexport const DATETIME_HUGE = {\n  year: n,\n  month: l,\n  day: n,\n  weekday: l,\n  hour: n,\n  minute: n,\n  timeZoneName: l,\n};\n\nexport const DATETIME_HUGE_WITH_SECONDS = {\n  year: n,\n  month: l,\n  day: n,\n  weekday: l,\n  hour: n,\n  minute: n,\n  second: n,\n  timeZoneName: l,\n};\n","import { ZoneIsAbstractError } from \"./errors.js\";\n\n/**\n * @interface\n */\nexport default class Zone {\n  /**\n   * The type of zone\n   * @abstract\n   * @type {string}\n   */\n  get type() {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * The name of this zone.\n   * @abstract\n   * @type {string}\n   */\n  get name() {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * The IANA name of this zone.\n   * Defaults to `name` if not overwritten by a subclass.\n   * @abstract\n   * @type {string}\n   */\n  get ianaName() {\n    return this.name;\n  }\n\n  /**\n   * Returns whether the offset is known to be fixed for the whole year.\n   * @abstract\n   * @type {boolean}\n   */\n  get isUniversal() {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * Returns the offset's common name (such as EST) at the specified timestamp\n   * @abstract\n   * @param {number} ts - Epoch milliseconds for which to get the name\n   * @param {Object} opts - Options to affect the format\n   * @param {string} opts.format - What style of offset to return. Accepts 'long' or 'short'.\n   * @param {string} opts.locale - What locale to return the offset name in.\n   * @return {string}\n   */\n  offsetName(ts, opts) {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * Returns the offset's value as a string\n   * @abstract\n   * @param {number} ts - Epoch milliseconds for which to get the offset\n   * @param {string} format - What style of offset to return.\n   *                          Accepts 'narrow', 'short', or 'techie'. Returning '+6', '+06:00', or '+0600' respectively\n   * @return {string}\n   */\n  formatOffset(ts, format) {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * Return the offset in minutes for this zone at the specified timestamp.\n   * @abstract\n   * @param {number} ts - Epoch milliseconds for which to compute the offset\n   * @return {number}\n   */\n  offset(ts) {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * Return whether this Zone is equal to another zone\n   * @abstract\n   * @param {Zone} otherZone - the zone to compare\n   * @return {boolean}\n   */\n  equals(otherZone) {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * Return whether this Zone is valid.\n   * @abstract\n   * @type {boolean}\n   */\n  get isValid() {\n    throw new ZoneIsAbstractError();\n  }\n}\n","import { formatOffset, parseZoneInfo } from \"../impl/util.js\";\nimport Zone from \"../zone.js\";\n\nlet singleton = null;\n\n/**\n * Represents the local zone for this JavaScript environment.\n * @implements {Zone}\n */\nexport default class SystemZone extends Zone {\n  /**\n   * Get a singleton instance of the local zone\n   * @return {SystemZone}\n   */\n  static get instance() {\n    if (singleton === null) {\n      singleton = new SystemZone();\n    }\n    return singleton;\n  }\n\n  /** @override **/\n  get type() {\n    return \"system\";\n  }\n\n  /** @override **/\n  get name() {\n    return new Intl.DateTimeFormat().resolvedOptions().timeZone;\n  }\n\n  /** @override **/\n  get isUniversal() {\n    return false;\n  }\n\n  /** @override **/\n  offsetName(ts, { format, locale }) {\n    return parseZoneInfo(ts, format, locale);\n  }\n\n  /** @override **/\n  formatOffset(ts, format) {\n    return formatOffset(this.offset(ts), format);\n  }\n\n  /** @override **/\n  offset(ts) {\n    return -new Date(ts).getTimezoneOffset();\n  }\n\n  /** @override **/\n  equals(otherZone) {\n    return otherZone.type === \"system\";\n  }\n\n  /** @override **/\n  get isValid() {\n    return true;\n  }\n}\n","import { formatOffset, parseZoneInfo, isUndefined, objToLocalTS } from \"../impl/util.js\";\nimport Zone from \"../zone.js\";\n\nconst dtfCache = new Map();\nfunction makeDTF(zoneName) {\n  let dtf = dtfCache.get(zoneName);\n  if (dtf === undefined) {\n    dtf = new Intl.DateTimeFormat(\"en-US\", {\n      hour12: false,\n      timeZone: zoneName,\n      year: \"numeric\",\n      month: \"2-digit\",\n      day: \"2-digit\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      second: \"2-digit\",\n      era: \"short\",\n    });\n    dtfCache.set(zoneName, dtf);\n  }\n  return dtf;\n}\n\nconst typeToPos = {\n  year: 0,\n  month: 1,\n  day: 2,\n  era: 3,\n  hour: 4,\n  minute: 5,\n  second: 6,\n};\n\nfunction hackyOffset(dtf, date) {\n  const formatted = dtf.format(date).replace(/\\u200E/g, \"\"),\n    parsed = /(\\d+)\\/(\\d+)\\/(\\d+) (AD|BC),? (\\d+):(\\d+):(\\d+)/.exec(formatted),\n    [, fMonth, fDay, fYear, fadOrBc, fHour, fMinute, fSecond] = parsed;\n  return [fYear, fMonth, fDay, fadOrBc, fHour, fMinute, fSecond];\n}\n\nfunction partsOffset(dtf, date) {\n  const formatted = dtf.formatToParts(date);\n  const filled = [];\n  for (let i = 0; i < formatted.length; i++) {\n    const { type, value } = formatted[i];\n    const pos = typeToPos[type];\n\n    if (type === \"era\") {\n      filled[pos] = value;\n    } else if (!isUndefined(pos)) {\n      filled[pos] = parseInt(value, 10);\n    }\n  }\n  return filled;\n}\n\nconst ianaZoneCache = new Map();\n/**\n * A zone identified by an IANA identifier, like America/New_York\n * @implements {Zone}\n */\nexport default class IANAZone extends Zone {\n  /**\n   * @param {string} name - Zone name\n   * @return {IANAZone}\n   */\n  static create(name) {\n    let zone = ianaZoneCache.get(name);\n    if (zone === undefined) {\n      ianaZoneCache.set(name, (zone = new IANAZone(name)));\n    }\n    return zone;\n  }\n\n  /**\n   * Reset local caches. Should only be necessary in testing scenarios.\n   * @return {void}\n   */\n  static resetCache() {\n    ianaZoneCache.clear();\n    dtfCache.clear();\n  }\n\n  /**\n   * Returns whether the provided string is a valid specifier. This only checks the string's format, not that the specifier identifies a known zone; see isValidZone for that.\n   * @param {string} s - The string to check validity on\n   * @example IANAZone.isValidSpecifier(\"America/New_York\") //=> true\n   * @example IANAZone.isValidSpecifier(\"Sport~~blorp\") //=> false\n   * @deprecated For backward compatibility, this forwards to isValidZone, better use `isValidZone()` directly instead.\n   * @return {boolean}\n   */\n  static isValidSpecifier(s) {\n    return this.isValidZone(s);\n  }\n\n  /**\n   * Returns whether the provided string identifies a real zone\n   * @param {string} zone - The string to check\n   * @example IANAZone.isValidZone(\"America/New_York\") //=> true\n   * @example IANAZone.isValidZone(\"Fantasia/Castle\") //=> false\n   * @example IANAZone.isValidZone(\"Sport~~blorp\") //=> false\n   * @return {boolean}\n   */\n  static isValidZone(zone) {\n    if (!zone) {\n      return false;\n    }\n    try {\n      new Intl.DateTimeFormat(\"en-US\", { timeZone: zone }).format();\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  constructor(name) {\n    super();\n    /** @private **/\n    this.zoneName = name;\n    /** @private **/\n    this.valid = IANAZone.isValidZone(name);\n  }\n\n  /**\n   * The type of zone. `iana` for all instances of `IANAZone`.\n   * @override\n   * @type {string}\n   */\n  get type() {\n    return \"iana\";\n  }\n\n  /**\n   * The name of this zone (i.e. the IANA zone name).\n   * @override\n   * @type {string}\n   */\n  get name() {\n    return this.zoneName;\n  }\n\n  /**\n   * Returns whether the offset is known to be fixed for the whole year:\n   * Always returns false for all IANA zones.\n   * @override\n   * @type {boolean}\n   */\n  get isUniversal() {\n    return false;\n  }\n\n  /**\n   * Returns the offset's common name (such as EST) at the specified timestamp\n   * @override\n   * @param {number} ts - Epoch milliseconds for which to get the name\n   * @param {Object} opts - Options to affect the format\n   * @param {string} opts.format - What style of offset to return. Accepts 'long' or 'short'.\n   * @param {string} opts.locale - What locale to return the offset name in.\n   * @return {string}\n   */\n  offsetName(ts, { format, locale }) {\n    return parseZoneInfo(ts, format, locale, this.name);\n  }\n\n  /**\n   * Returns the offset's value as a string\n   * @override\n   * @param {number} ts - Epoch milliseconds for which to get the offset\n   * @param {string} format - What style of offset to return.\n   *                          Accepts 'narrow', 'short', or 'techie'. Returning '+6', '+06:00', or '+0600' respectively\n   * @return {string}\n   */\n  formatOffset(ts, format) {\n    return formatOffset(this.offset(ts), format);\n  }\n\n  /**\n   * Return the offset in minutes for this zone at the specified timestamp.\n   * @override\n   * @param {number} ts - Epoch milliseconds for which to compute the offset\n   * @return {number}\n   */\n  offset(ts) {\n    if (!this.valid) return NaN;\n    const date = new Date(ts);\n\n    if (isNaN(date)) return NaN;\n\n    const dtf = makeDTF(this.name);\n    let [year, month, day, adOrBc, hour, minute, second] = dtf.formatToParts\n      ? partsOffset(dtf, date)\n      : hackyOffset(dtf, date);\n\n    if (adOrBc === \"BC\") {\n      year = -Math.abs(year) + 1;\n    }\n\n    // because we're using hour12 and https://bugs.chromium.org/p/chromium/issues/detail?id=1025564&can=2&q=%2224%3A00%22%20datetimeformat\n    const adjustedHour = hour === 24 ? 0 : hour;\n\n    const asUTC = objToLocalTS({\n      year,\n      month,\n      day,\n      hour: adjustedHour,\n      minute,\n      second,\n      millisecond: 0,\n    });\n\n    let asTS = +date;\n    const over = asTS % 1000;\n    asTS -= over >= 0 ? over : 1000 + over;\n    return (asUTC - asTS) / (60 * 1000);\n  }\n\n  /**\n   * Return whether this Zone is equal to another zone\n   * @override\n   * @param {Zone} otherZone - the zone to compare\n   * @return {boolean}\n   */\n  equals(otherZone) {\n    return otherZone.type === \"iana\" && otherZone.name === this.name;\n  }\n\n  /**\n   * Return whether this Zone is valid.\n   * @override\n   * @type {boolean}\n   */\n  get isValid() {\n    return this.valid;\n  }\n}\n","import { hasLocaleWeekInfo, hasRelative, padStart, roundTo, validateWeekSettings } from \"./util.js\";\nimport * as English from \"./english.js\";\nimport Settings from \"../settings.js\";\nimport DateTime from \"../datetime.js\";\nimport IANAZone from \"../zones/IANAZone.js\";\n\n// todo - remap caching\n\nlet intlLFCache = {};\nfunction getCachedLF(locString, opts = {}) {\n  const key = JSON.stringify([locString, opts]);\n  let dtf = intlLFCache[key];\n  if (!dtf) {\n    dtf = new Intl.ListFormat(locString, opts);\n    intlLFCache[key] = dtf;\n  }\n  return dtf;\n}\n\nconst intlDTCache = new Map();\nfunction getCachedDTF(locString, opts = {}) {\n  const key = JSON.stringify([locString, opts]);\n  let dtf = intlDTCache.get(key);\n  if (dtf === undefined) {\n    dtf = new Intl.DateTimeFormat(locString, opts);\n    intlDTCache.set(key, dtf);\n  }\n  return dtf;\n}\n\nconst intlNumCache = new Map();\nfunction getCachedINF(locString, opts = {}) {\n  const key = JSON.stringify([locString, opts]);\n  let inf = intlNumCache.get(key);\n  if (inf === undefined) {\n    inf = new Intl.NumberFormat(locString, opts);\n    intlNumCache.set(key, inf);\n  }\n  return inf;\n}\n\nconst intlRelCache = new Map();\nfunction getCachedRTF(locString, opts = {}) {\n  const { base, ...cacheKeyOpts } = opts; // exclude `base` from the options\n  const key = JSON.stringify([locString, cacheKeyOpts]);\n  let inf = intlRelCache.get(key);\n  if (inf === undefined) {\n    inf = new Intl.RelativeTimeFormat(locString, opts);\n    intlRelCache.set(key, inf);\n  }\n  return inf;\n}\n\nlet sysLocaleCache = null;\nfunction systemLocale() {\n  if (sysLocaleCache) {\n    return sysLocaleCache;\n  } else {\n    sysLocaleCache = new Intl.DateTimeFormat().resolvedOptions().locale;\n    return sysLocaleCache;\n  }\n}\n\nconst intlResolvedOptionsCache = new Map();\nfunction getCachedIntResolvedOptions(locString) {\n  let opts = intlResolvedOptionsCache.get(locString);\n  if (opts === undefined) {\n    opts = new Intl.DateTimeFormat(locString).resolvedOptions();\n    intlResolvedOptionsCache.set(locString, opts);\n  }\n  return opts;\n}\n\nconst weekInfoCache = new Map();\nfunction getCachedWeekInfo(locString) {\n  let data = weekInfoCache.get(locString);\n  if (!data) {\n    const locale = new Intl.Locale(locString);\n    // browsers currently implement this as a property, but spec says it should be a getter function\n    data = \"getWeekInfo\" in locale ? locale.getWeekInfo() : locale.weekInfo;\n    // minimalDays was removed from WeekInfo: https://github.com/tc39/proposal-intl-locale-info/issues/86\n    if (!(\"minimalDays\" in data)) {\n      data = { ...fallbackWeekSettings, ...data };\n    }\n    weekInfoCache.set(locString, data);\n  }\n  return data;\n}\n\nfunction parseLocaleString(localeStr) {\n  // I really want to avoid writing a BCP 47 parser\n  // see, e.g. https://github.com/wooorm/bcp-47\n  // Instead, we'll do this:\n\n  // a) if the string has no -u extensions, just leave it alone\n  // b) if it does, use Intl to resolve everything\n  // c) if Intl fails, try again without the -u\n\n  // private subtags and unicode subtags have ordering requirements,\n  // and we're not properly parsing this, so just strip out the\n  // private ones if they exist.\n  const xIndex = localeStr.indexOf(\"-x-\");\n  if (xIndex !== -1) {\n    localeStr = localeStr.substring(0, xIndex);\n  }\n\n  const uIndex = localeStr.indexOf(\"-u-\");\n  if (uIndex === -1) {\n    return [localeStr];\n  } else {\n    let options;\n    let selectedStr;\n    try {\n      options = getCachedDTF(localeStr).resolvedOptions();\n      selectedStr = localeStr;\n    } catch (e) {\n      const smaller = localeStr.substring(0, uIndex);\n      options = getCachedDTF(smaller).resolvedOptions();\n      selectedStr = smaller;\n    }\n\n    const { numberingSystem, calendar } = options;\n    return [selectedStr, numberingSystem, calendar];\n  }\n}\n\nfunction intlConfigString(localeStr, numberingSystem, outputCalendar) {\n  if (outputCalendar || numberingSystem) {\n    if (!localeStr.includes(\"-u-\")) {\n      localeStr += \"-u\";\n    }\n\n    if (outputCalendar) {\n      localeStr += `-ca-${outputCalendar}`;\n    }\n\n    if (numberingSystem) {\n      localeStr += `-nu-${numberingSystem}`;\n    }\n    return localeStr;\n  } else {\n    return localeStr;\n  }\n}\n\nfunction mapMonths(f) {\n  const ms = [];\n  for (let i = 1; i <= 12; i++) {\n    const dt = DateTime.utc(2009, i, 1);\n    ms.push(f(dt));\n  }\n  return ms;\n}\n\nfunction mapWeekdays(f) {\n  const ms = [];\n  for (let i = 1; i <= 7; i++) {\n    const dt = DateTime.utc(2016, 11, 13 + i);\n    ms.push(f(dt));\n  }\n  return ms;\n}\n\nfunction listStuff(loc, length, englishFn, intlFn) {\n  const mode = loc.listingMode();\n\n  if (mode === \"error\") {\n    return null;\n  } else if (mode === \"en\") {\n    return englishFn(length);\n  } else {\n    return intlFn(length);\n  }\n}\n\nfunction supportsFastNumbers(loc) {\n  if (loc.numberingSystem && loc.numberingSystem !== \"latn\") {\n    return false;\n  } else {\n    return (\n      loc.numberingSystem === \"latn\" ||\n      !loc.locale ||\n      loc.locale.startsWith(\"en\") ||\n      getCachedIntResolvedOptions(loc.locale).numberingSystem === \"latn\"\n    );\n  }\n}\n\n/**\n * @private\n */\n\nclass PolyNumberFormatter {\n  constructor(intl, forceSimple, opts) {\n    this.padTo = opts.padTo || 0;\n    this.floor = opts.floor || false;\n\n    const { padTo, floor, ...otherOpts } = opts;\n\n    if (!forceSimple || Object.keys(otherOpts).length > 0) {\n      const intlOpts = { useGrouping: false, ...opts };\n      if (opts.padTo > 0) intlOpts.minimumIntegerDigits = opts.padTo;\n      this.inf = getCachedINF(intl, intlOpts);\n    }\n  }\n\n  format(i) {\n    if (this.inf) {\n      const fixed = this.floor ? Math.floor(i) : i;\n      return this.inf.format(fixed);\n    } else {\n      // to match the browser's numberformatter defaults\n      const fixed = this.floor ? Math.floor(i) : roundTo(i, 3);\n      return padStart(fixed, this.padTo);\n    }\n  }\n}\n\n/**\n * @private\n */\n\nclass PolyDateFormatter {\n  constructor(dt, intl, opts) {\n    this.opts = opts;\n    this.originalZone = undefined;\n\n    let z = undefined;\n    if (this.opts.timeZone) {\n      // Don't apply any workarounds if a timeZone is explicitly provided in opts\n      this.dt = dt;\n    } else if (dt.zone.type === \"fixed\") {\n      // UTC-8 or Etc/UTC-8 are not part of tzdata, only Etc/GMT+8 and the like.\n      // That is why fixed-offset TZ is set to that unless it is:\n      // 1. Representing offset 0 when UTC is used to maintain previous behavior and does not become GMT.\n      // 2. Unsupported by the browser:\n      //    - some do not support Etc/\n      //    - < Etc/GMT-14, > Etc/GMT+12, and 30-minute or 45-minute offsets are not part of tzdata\n      const gmtOffset = -1 * (dt.offset / 60);\n      const offsetZ = gmtOffset >= 0 ? `Etc/GMT+${gmtOffset}` : `Etc/GMT${gmtOffset}`;\n      if (dt.offset !== 0 && IANAZone.create(offsetZ).valid) {\n        z = offsetZ;\n        this.dt = dt;\n      } else {\n        // Not all fixed-offset zones like Etc/+4:30 are present in tzdata so\n        // we manually apply the offset and substitute the zone as needed.\n        z = \"UTC\";\n        this.dt = dt.offset === 0 ? dt : dt.setZone(\"UTC\").plus({ minutes: dt.offset });\n        this.originalZone = dt.zone;\n      }\n    } else if (dt.zone.type === \"system\") {\n      this.dt = dt;\n    } else if (dt.zone.type === \"iana\") {\n      this.dt = dt;\n      z = dt.zone.name;\n    } else {\n      // Custom zones can have any offset / offsetName so we just manually\n      // apply the offset and substitute the zone as needed.\n      z = \"UTC\";\n      this.dt = dt.setZone(\"UTC\").plus({ minutes: dt.offset });\n      this.originalZone = dt.zone;\n    }\n\n    const intlOpts = { ...this.opts };\n    intlOpts.timeZone = intlOpts.timeZone || z;\n    this.dtf = getCachedDTF(intl, intlOpts);\n  }\n\n  format() {\n    if (this.originalZone) {\n      // If we have to substitute in the actual zone name, we have to use\n      // formatToParts so that the timezone can be replaced.\n      return this.formatToParts()\n        .map(({ value }) => value)\n        .join(\"\");\n    }\n    return this.dtf.format(this.dt.toJSDate());\n  }\n\n  formatToParts() {\n    const parts = this.dtf.formatToParts(this.dt.toJSDate());\n    if (this.originalZone) {\n      return parts.map((part) => {\n        if (part.type === \"timeZoneName\") {\n          const offsetName = this.originalZone.offsetName(this.dt.ts, {\n            locale: this.dt.locale,\n            format: this.opts.timeZoneName,\n          });\n          return {\n            ...part,\n            value: offsetName,\n          };\n        } else {\n          return part;\n        }\n      });\n    }\n    return parts;\n  }\n\n  resolvedOptions() {\n    return this.dtf.resolvedOptions();\n  }\n}\n\n/**\n * @private\n */\nclass PolyRelFormatter {\n  constructor(intl, isEnglish, opts) {\n    this.opts = { style: \"long\", ...opts };\n    if (!isEnglish && hasRelative()) {\n      this.rtf = getCachedRTF(intl, opts);\n    }\n  }\n\n  format(count, unit) {\n    if (this.rtf) {\n      return this.rtf.format(count, unit);\n    } else {\n      return English.formatRelativeTime(unit, count, this.opts.numeric, this.opts.style !== \"long\");\n    }\n  }\n\n  formatToParts(count, unit) {\n    if (this.rtf) {\n      return this.rtf.formatToParts(count, unit);\n    } else {\n      return [];\n    }\n  }\n}\n\nconst fallbackWeekSettings = {\n  firstDay: 1,\n  minimalDays: 4,\n  weekend: [6, 7],\n};\n\n/**\n * @private\n */\nexport default class Locale {\n  static fromOpts(opts) {\n    return Locale.create(\n      opts.locale,\n      opts.numberingSystem,\n      opts.outputCalendar,\n      opts.weekSettings,\n      opts.defaultToEN\n    );\n  }\n\n  static create(locale, numberingSystem, outputCalendar, weekSettings, defaultToEN = false) {\n    const specifiedLocale = locale || Settings.defaultLocale;\n    // the system locale is useful for human-readable strings but annoying for parsing/formatting known formats\n    const localeR = specifiedLocale || (defaultToEN ? \"en-US\" : systemLocale());\n    const numberingSystemR = numberingSystem || Settings.defaultNumberingSystem;\n    const outputCalendarR = outputCalendar || Settings.defaultOutputCalendar;\n    const weekSettingsR = validateWeekSettings(weekSettings) || Settings.defaultWeekSettings;\n    return new Locale(localeR, numberingSystemR, outputCalendarR, weekSettingsR, specifiedLocale);\n  }\n\n  static resetCache() {\n    sysLocaleCache = null;\n    intlDTCache.clear();\n    intlNumCache.clear();\n    intlRelCache.clear();\n    intlResolvedOptionsCache.clear();\n    weekInfoCache.clear();\n  }\n\n  static fromObject({ locale, numberingSystem, outputCalendar, weekSettings } = {}) {\n    return Locale.create(locale, numberingSystem, outputCalendar, weekSettings);\n  }\n\n  constructor(locale, numbering, outputCalendar, weekSettings, specifiedLocale) {\n    const [parsedLocale, parsedNumberingSystem, parsedOutputCalendar] = parseLocaleString(locale);\n\n    this.locale = parsedLocale;\n    this.numberingSystem = numbering || parsedNumberingSystem || null;\n    this.outputCalendar = outputCalendar || parsedOutputCalendar || null;\n    this.weekSettings = weekSettings;\n    this.intl = intlConfigString(this.locale, this.numberingSystem, this.outputCalendar);\n\n    this.weekdaysCache = { format: {}, standalone: {} };\n    this.monthsCache = { format: {}, standalone: {} };\n    this.meridiemCache = null;\n    this.eraCache = {};\n\n    this.specifiedLocale = specifiedLocale;\n    this.fastNumbersCached = null;\n  }\n\n  get fastNumbers() {\n    if (this.fastNumbersCached == null) {\n      this.fastNumbersCached = supportsFastNumbers(this);\n    }\n\n    return this.fastNumbersCached;\n  }\n\n  listingMode() {\n    const isActuallyEn = this.isEnglish();\n    const hasNoWeirdness =\n      (this.numberingSystem === null || this.numberingSystem === \"latn\") &&\n      (this.outputCalendar === null || this.outputCalendar === \"gregory\");\n    return isActuallyEn && hasNoWeirdness ? \"en\" : \"intl\";\n  }\n\n  clone(alts) {\n    if (!alts || Object.getOwnPropertyNames(alts).length === 0) {\n      return this;\n    } else {\n      return Locale.create(\n        alts.locale || this.specifiedLocale,\n        alts.numberingSystem || this.numberingSystem,\n        alts.outputCalendar || this.outputCalendar,\n        validateWeekSettings(alts.weekSettings) || this.weekSettings,\n        alts.defaultToEN || false\n      );\n    }\n  }\n\n  redefaultToEN(alts = {}) {\n    return this.clone({ ...alts, defaultToEN: true });\n  }\n\n  redefaultToSystem(alts = {}) {\n    return this.clone({ ...alts, defaultToEN: false });\n  }\n\n  months(length, format = false) {\n    return listStuff(this, length, English.months, () => {\n      const intl = format ? { month: length, day: \"numeric\" } : { month: length },\n        formatStr = format ? \"format\" : \"standalone\";\n      if (!this.monthsCache[formatStr][length]) {\n        this.monthsCache[formatStr][length] = mapMonths((dt) => this.extract(dt, intl, \"month\"));\n      }\n      return this.monthsCache[formatStr][length];\n    });\n  }\n\n  weekdays(length, format = false) {\n    return listStuff(this, length, English.weekdays, () => {\n      const intl = format\n          ? { weekday: length, year: \"numeric\", month: \"long\", day: \"numeric\" }\n          : { weekday: length },\n        formatStr = format ? \"format\" : \"standalone\";\n      if (!this.weekdaysCache[formatStr][length]) {\n        this.weekdaysCache[formatStr][length] = mapWeekdays((dt) =>\n          this.extract(dt, intl, \"weekday\")\n        );\n      }\n      return this.weekdaysCache[formatStr][length];\n    });\n  }\n\n  meridiems() {\n    return listStuff(\n      this,\n      undefined,\n      () => English.meridiems,\n      () => {\n        // In theory there could be aribitrary day periods. We're gonna assume there are exactly two\n        // for AM and PM. This is probably wrong, but it's makes parsing way easier.\n        if (!this.meridiemCache) {\n          const intl = { hour: \"numeric\", hourCycle: \"h12\" };\n          this.meridiemCache = [DateTime.utc(2016, 11, 13, 9), DateTime.utc(2016, 11, 13, 19)].map(\n            (dt) => this.extract(dt, intl, \"dayperiod\")\n          );\n        }\n\n        return this.meridiemCache;\n      }\n    );\n  }\n\n  eras(length) {\n    return listStuff(this, length, English.eras, () => {\n      const intl = { era: length };\n\n      // This is problematic. Different calendars are going to define eras totally differently. What I need is the minimum set of dates\n      // to definitely enumerate them.\n      if (!this.eraCache[length]) {\n        this.eraCache[length] = [DateTime.utc(-40, 1, 1), DateTime.utc(2017, 1, 1)].map((dt) =>\n          this.extract(dt, intl, \"era\")\n        );\n      }\n\n      return this.eraCache[length];\n    });\n  }\n\n  extract(dt, intlOpts, field) {\n    const df = this.dtFormatter(dt, intlOpts),\n      results = df.formatToParts(),\n      matching = results.find((m) => m.type.toLowerCase() === field);\n    return matching ? matching.value : null;\n  }\n\n  numberFormatter(opts = {}) {\n    // this forcesimple option is never used (the only caller short-circuits on it, but it seems safer to leave)\n    // (in contrast, the rest of the condition is used heavily)\n    return new PolyNumberFormatter(this.intl, opts.forceSimple || this.fastNumbers, opts);\n  }\n\n  dtFormatter(dt, intlOpts = {}) {\n    return new PolyDateFormatter(dt, this.intl, intlOpts);\n  }\n\n  relFormatter(opts = {}) {\n    return new PolyRelFormatter(this.intl, this.isEnglish(), opts);\n  }\n\n  listFormatter(opts = {}) {\n    return getCachedLF(this.intl, opts);\n  }\n\n  isEnglish() {\n    return (\n      this.locale === \"en\" ||\n      this.locale.toLowerCase() === \"en-us\" ||\n      getCachedIntResolvedOptions(this.intl).locale.startsWith(\"en-us\")\n    );\n  }\n\n  getWeekSettings() {\n    if (this.weekSettings) {\n      return this.weekSettings;\n    } else if (!hasLocaleWeekInfo()) {\n      return fallbackWeekSettings;\n    } else {\n      return getCachedWeekInfo(this.locale);\n    }\n  }\n\n  getStartOfWeek() {\n    return this.getWeekSettings().firstDay;\n  }\n\n  getMinDaysInFirstWeek() {\n    return this.getWeekSettings().minimalDays;\n  }\n\n  getWeekendDays() {\n    return this.getWeekSettings().weekend;\n  }\n\n  equals(other) {\n    return (\n      this.locale === other.locale &&\n      this.numberingSystem === other.numberingSystem &&\n      this.outputCalendar === other.outputCalendar\n    );\n  }\n\n  toString() {\n    return `Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`;\n  }\n}\n","import { formatOffset, signedOffset } from \"../impl/util.js\";\nimport Zone from \"../zone.js\";\n\nlet singleton = null;\n\n/**\n * A zone with a fixed offset (meaning no DST)\n * @implements {Zone}\n */\nexport default class FixedOffsetZone extends Zone {\n  /**\n   * Get a singleton instance of UTC\n   * @return {FixedOffsetZone}\n   */\n  static get utcInstance() {\n    if (singleton === null) {\n      singleton = new FixedOffsetZone(0);\n    }\n    return singleton;\n  }\n\n  /**\n   * Get an instance with a specified offset\n   * @param {number} offset - The offset in minutes\n   * @return {FixedOffsetZone}\n   */\n  static instance(offset) {\n    return offset === 0 ? FixedOffsetZone.utcInstance : new FixedOffsetZone(offset);\n  }\n\n  /**\n   * Get an instance of FixedOffsetZone from a UTC offset string, like \"UTC+6\"\n   * @param {string} s - The offset string to parse\n   * @example FixedOffsetZone.parseSpecifier(\"UTC+6\")\n   * @example FixedOffsetZone.parseSpecifier(\"UTC+06\")\n   * @example FixedOffsetZone.parseSpecifier(\"UTC-6:00\")\n   * @return {FixedOffsetZone}\n   */\n  static parseSpecifier(s) {\n    if (s) {\n      const r = s.match(/^utc(?:([+-]\\d{1,2})(?::(\\d{2}))?)?$/i);\n      if (r) {\n        return new FixedOffsetZone(signedOffset(r[1], r[2]));\n      }\n    }\n    return null;\n  }\n\n  constructor(offset) {\n    super();\n    /** @private **/\n    this.fixed = offset;\n  }\n\n  /**\n   * The type of zone. `fixed` for all instances of `FixedOffsetZone`.\n   * @override\n   * @type {string}\n   */\n  get type() {\n    return \"fixed\";\n  }\n\n  /**\n   * The name of this zone.\n   * All fixed zones' names always start with \"UTC\" (plus optional offset)\n   * @override\n   * @type {string}\n   */\n  get name() {\n    return this.fixed === 0 ? \"UTC\" : `UTC${formatOffset(this.fixed, \"narrow\")}`;\n  }\n\n  /**\n   * The IANA name of this zone, i.e. `Etc/UTC` or `Etc/GMT+/-nn`\n   *\n   * @override\n   * @type {string}\n   */\n  get ianaName() {\n    if (this.fixed === 0) {\n      return \"Etc/UTC\";\n    } else {\n      return `Etc/GMT${formatOffset(-this.fixed, \"narrow\")}`;\n    }\n  }\n\n  /**\n   * Returns the offset's common name at the specified timestamp.\n   *\n   * For fixed offset zones this equals to the zone name.\n   * @override\n   */\n  offsetName() {\n    return this.name;\n  }\n\n  /**\n   * Returns the offset's value as a string\n   * @override\n   * @param {number} ts - Epoch milliseconds for which to get the offset\n   * @param {string} format - What style of offset to return.\n   *                          Accepts 'narrow', 'short', or 'techie'. Returning '+6', '+06:00', or '+0600' respectively\n   * @return {string}\n   */\n  formatOffset(ts, format) {\n    return formatOffset(this.fixed, format);\n  }\n\n  /**\n   * Returns whether the offset is known to be fixed for the whole year:\n   * Always returns true for all fixed offset zones.\n   * @override\n   * @type {boolean}\n   */\n  get isUniversal() {\n    return true;\n  }\n\n  /**\n   * Return the offset in minutes for this zone at the specified timestamp.\n   *\n   * For fixed offset zones, this is constant and does not depend on a timestamp.\n   * @override\n   * @return {number}\n   */\n  offset() {\n    return this.fixed;\n  }\n\n  /**\n   * Return whether this Zone is equal to another zone (i.e. also fixed and same offset)\n   * @override\n   * @param {Zone} otherZone - the zone to compare\n   * @return {boolean}\n   */\n  equals(otherZone) {\n    return otherZone.type === \"fixed\" && otherZone.fixed === this.fixed;\n  }\n\n  /**\n   * Return whether this Zone is valid:\n   * All fixed offset zones are valid.\n   * @override\n   * @type {boolean}\n   */\n  get isValid() {\n    return true;\n  }\n}\n","import Zone from \"../zone.js\";\n\n/**\n * A zone that failed to parse. You should never need to instantiate this.\n * @implements {Zone}\n */\nexport default class InvalidZone extends Zone {\n  constructor(zoneName) {\n    super();\n    /**  @private */\n    this.zoneName = zoneName;\n  }\n\n  /** @override **/\n  get type() {\n    return \"invalid\";\n  }\n\n  /** @override **/\n  get name() {\n    return this.zoneName;\n  }\n\n  /** @override **/\n  get isUniversal() {\n    return false;\n  }\n\n  /** @override **/\n  offsetName() {\n    return null;\n  }\n\n  /** @override **/\n  formatOffset() {\n    return \"\";\n  }\n\n  /** @override **/\n  offset() {\n    return NaN;\n  }\n\n  /** @override **/\n  equals() {\n    return false;\n  }\n\n  /** @override **/\n  get isValid() {\n    return false;\n  }\n}\n","/**\n * @private\n */\n\nimport Zone from \"../zone.js\";\nimport IANAZone from \"../zones/IANAZone.js\";\nimport FixedOffsetZone from \"../zones/fixedOffsetZone.js\";\nimport InvalidZone from \"../zones/invalidZone.js\";\n\nimport { isUndefined, isString, isNumber } from \"./util.js\";\nimport SystemZone from \"../zones/systemZone.js\";\n\nexport function normalizeZone(input, defaultZone) {\n  let offset;\n  if (isUndefined(input) || input === null) {\n    return defaultZone;\n  } else if (input instanceof Zone) {\n    return input;\n  } else if (isString(input)) {\n    const lowered = input.toLowerCase();\n    if (lowered === \"default\") return defaultZone;\n    else if (lowered === \"local\" || lowered === \"system\") return SystemZone.instance;\n    else if (lowered === \"utc\" || lowered === \"gmt\") return FixedOffsetZone.utcInstance;\n    else return FixedOffsetZone.parseSpecifier(lowered) || IANAZone.create(input);\n  } else if (isNumber(input)) {\n    return FixedOffsetZone.instance(input);\n  } else if (typeof input === \"object\" && \"offset\" in input && typeof input.offset === \"function\") {\n    // This is dumb, but the instanceof check above doesn't seem to really work\n    // so we're duck checking it\n    return input;\n  } else {\n    return new InvalidZone(input);\n  }\n}\n","const numberingSystems = {\n  arab: \"[\\u0660-\\u0669]\",\n  arabext: \"[\\u06F0-\\u06F9]\",\n  bali: \"[\\u1B50-\\u1B59]\",\n  beng: \"[\\u09E6-\\u09EF]\",\n  deva: \"[\\u0966-\\u096F]\",\n  fullwide: \"[\\uFF10-\\uFF19]\",\n  gujr: \"[\\u0AE6-\\u0AEF]\",\n  hanidec: \"[〇|一|二|三|四|五|六|七|八|九]\",\n  khmr: \"[\\u17E0-\\u17E9]\",\n  knda: \"[\\u0CE6-\\u0CEF]\",\n  laoo: \"[\\u0ED0-\\u0ED9]\",\n  limb: \"[\\u1946-\\u194F]\",\n  mlym: \"[\\u0D66-\\u0D6F]\",\n  mong: \"[\\u1810-\\u1819]\",\n  mymr: \"[\\u1040-\\u1049]\",\n  orya: \"[\\u0B66-\\u0B6F]\",\n  tamldec: \"[\\u0BE6-\\u0BEF]\",\n  telu: \"[\\u0C66-\\u0C6F]\",\n  thai: \"[\\u0E50-\\u0E59]\",\n  tibt: \"[\\u0F20-\\u0F29]\",\n  latn: \"\\\\d\",\n};\n\nconst numberingSystemsUTF16 = {\n  arab: [1632, 1641],\n  arabext: [1776, 1785],\n  bali: [6992, 7001],\n  beng: [2534, 2543],\n  deva: [2406, 2415],\n  fullwide: [65296, 65303],\n  gujr: [2790, 2799],\n  khmr: [6112, 6121],\n  knda: [3302, 3311],\n  laoo: [3792, 3801],\n  limb: [6470, 6479],\n  mlym: [3430, 3439],\n  mong: [6160, 6169],\n  mymr: [4160, 4169],\n  orya: [2918, 2927],\n  tamldec: [3046, 3055],\n  telu: [3174, 3183],\n  thai: [3664, 3673],\n  tibt: [3872, 3881],\n};\n\nconst hanidecChars = numberingSystems.hanidec.replace(/[\\[|\\]]/g, \"\").split(\"\");\n\nexport function parseDigits(str) {\n  let value = parseInt(str, 10);\n  if (isNaN(value)) {\n    value = \"\";\n    for (let i = 0; i < str.length; i++) {\n      const code = str.charCodeAt(i);\n\n      if (str[i].search(numberingSystems.hanidec) !== -1) {\n        value += hanidecChars.indexOf(str[i]);\n      } else {\n        for (const key in numberingSystemsUTF16) {\n          const [min, max] = numberingSystemsUTF16[key];\n          if (code >= min && code <= max) {\n            value += code - min;\n          }\n        }\n      }\n    }\n    return parseInt(value, 10);\n  } else {\n    return value;\n  }\n}\n\n// cache of {numberingSystem: {append: regex}}\nconst digitRegexCache = new Map();\nexport function resetDigitRegexCache() {\n  digitRegexCache.clear();\n}\n\nexport function digitRegex({ numberingSystem }, append = \"\") {\n  const ns = numberingSystem || \"latn\";\n\n  let appendCache = digitRegexCache.get(ns);\n  if (appendCache === undefined) {\n    appendCache = new Map();\n    digitRegexCache.set(ns, appendCache);\n  }\n  let regex = appendCache.get(append);\n  if (regex === undefined) {\n    regex = new RegExp(`${numberingSystems[ns]}${append}`);\n    appendCache.set(append, regex);\n  }\n\n  return regex;\n}\n","import SystemZone from \"./zones/systemZone.js\";\nimport IANAZone from \"./zones/IANAZone.js\";\nimport Locale from \"./impl/locale.js\";\nimport DateTime from \"./datetime.js\";\n\nimport { normalizeZone } from \"./impl/zoneUtil.js\";\nimport { validateWeekSettings } from \"./impl/util.js\";\nimport { resetDigitRegexCache } from \"./impl/digits.js\";\n\nlet now = () => Date.now(),\n  defaultZone = \"system\",\n  defaultLocale = null,\n  defaultNumberingSystem = null,\n  defaultOutputCalendar = null,\n  twoDigitCutoffYear = 60,\n  throwOnInvalid,\n  defaultWeekSettings = null;\n\n/**\n * Settings contains static getters and setters that control Luxon's overall behavior. Luxon is a simple library with few options, but the ones it does have live here.\n */\nexport default class Settings {\n  /**\n   * Get the callback for returning the current timestamp.\n   * @type {function}\n   */\n  static get now() {\n    return now;\n  }\n\n  /**\n   * Set the callback for returning the current timestamp.\n   * The function should return a number, which will be interpreted as an Epoch millisecond count\n   * @type {function}\n   * @example Settings.now = () => Date.now() + 3000 // pretend it is 3 seconds in the future\n   * @example Settings.now = () => 0 // always pretend it's Jan 1, 1970 at midnight in UTC time\n   */\n  static set now(n) {\n    now = n;\n  }\n\n  /**\n   * Set the default time zone to create DateTimes in. Does not affect existing instances.\n   * Use the value \"system\" to reset this value to the system's time zone.\n   * @type {string}\n   */\n  static set defaultZone(zone) {\n    defaultZone = zone;\n  }\n\n  /**\n   * Get the default time zone object currently used to create DateTimes. Does not affect existing instances.\n   * The default value is the system's time zone (the one set on the machine that runs this code).\n   * @type {Zone}\n   */\n  static get defaultZone() {\n    return normalizeZone(defaultZone, SystemZone.instance);\n  }\n\n  /**\n   * Get the default locale to create DateTimes with. Does not affect existing instances.\n   * @type {string}\n   */\n  static get defaultLocale() {\n    return defaultLocale;\n  }\n\n  /**\n   * Set the default locale to create DateTimes with. Does not affect existing instances.\n   * @type {string}\n   */\n  static set defaultLocale(locale) {\n    defaultLocale = locale;\n  }\n\n  /**\n   * Get the default numbering system to create DateTimes with. Does not affect existing instances.\n   * @type {string}\n   */\n  static get defaultNumberingSystem() {\n    return defaultNumberingSystem;\n  }\n\n  /**\n   * Set the default numbering system to create DateTimes with. Does not affect existing instances.\n   * @type {string}\n   */\n  static set defaultNumberingSystem(numberingSystem) {\n    defaultNumberingSystem = numberingSystem;\n  }\n\n  /**\n   * Get the default output calendar to create DateTimes with. Does not affect existing instances.\n   * @type {string}\n   */\n  static get defaultOutputCalendar() {\n    return defaultOutputCalendar;\n  }\n\n  /**\n   * Set the default output calendar to create DateTimes with. Does not affect existing instances.\n   * @type {string}\n   */\n  static set defaultOutputCalendar(outputCalendar) {\n    defaultOutputCalendar = outputCalendar;\n  }\n\n  /**\n   * @typedef {Object} WeekSettings\n   * @property {number} firstDay\n   * @property {number} minimalDays\n   * @property {number[]} weekend\n   */\n\n  /**\n   * @return {WeekSettings|null}\n   */\n  static get defaultWeekSettings() {\n    return defaultWeekSettings;\n  }\n\n  /**\n   * Allows overriding the default locale week settings, i.e. the start of the week, the weekend and\n   * how many days are required in the first week of a year.\n   * Does not affect existing instances.\n   *\n   * @param {WeekSettings|null} weekSettings\n   */\n  static set defaultWeekSettings(weekSettings) {\n    defaultWeekSettings = validateWeekSettings(weekSettings);\n  }\n\n  /**\n   * Get the cutoff year for whether a 2-digit year string is interpreted in the current or previous century. Numbers higher than the cutoff will be considered to mean 19xx and numbers lower or equal to the cutoff will be considered 20xx.\n   * @type {number}\n   */\n  static get twoDigitCutoffYear() {\n    return twoDigitCutoffYear;\n  }\n\n  /**\n   * Set the cutoff year for whether a 2-digit year string is interpreted in the current or previous century. Numbers higher than the cutoff will be considered to mean 19xx and numbers lower or equal to the cutoff will be considered 20xx.\n   * @type {number}\n   * @example Settings.twoDigitCutoffYear = 0 // all 'yy' are interpreted as 20th century\n   * @example Settings.twoDigitCutoffYear = 99 // all 'yy' are interpreted as 21st century\n   * @example Settings.twoDigitCutoffYear = 50 // '49' -> 2049; '50' -> 1950\n   * @example Settings.twoDigitCutoffYear = 1950 // interpreted as 50\n   * @example Settings.twoDigitCutoffYear = 2050 // ALSO interpreted as 50\n   */\n  static set twoDigitCutoffYear(cutoffYear) {\n    twoDigitCutoffYear = cutoffYear % 100;\n  }\n\n  /**\n   * Get whether Luxon will throw when it encounters invalid DateTimes, Durations, or Intervals\n   * @type {boolean}\n   */\n  static get throwOnInvalid() {\n    return throwOnInvalid;\n  }\n\n  /**\n   * Set whether Luxon will throw when it encounters invalid DateTimes, Durations, or Intervals\n   * @type {boolean}\n   */\n  static set throwOnInvalid(t) {\n    throwOnInvalid = t;\n  }\n\n  /**\n   * Reset Luxon's global caches. Should only be necessary in testing scenarios.\n   * @return {void}\n   */\n  static resetCaches() {\n    Locale.resetCache();\n    IANAZone.resetCache();\n    DateTime.resetCache();\n    resetDigitRegexCache();\n  }\n}\n","export default class Invalid {\n  constructor(reason, explanation) {\n    this.reason = reason;\n    this.explanation = explanation;\n  }\n\n  toMessage() {\n    if (this.explanation) {\n      return `${this.reason}: ${this.explanation}`;\n    } else {\n      return this.reason;\n    }\n  }\n}\n","import {\n  integerBetween,\n  isLeapYear,\n  timeObject,\n  daysInYear,\n  daysInMonth,\n  weeksInWeekYear,\n  isInteger,\n  isUndefined,\n} from \"./util.js\";\nimport Invalid from \"./invalid.js\";\nimport { ConflictingSpecificationError } from \"../errors.js\";\n\nconst nonLeapLadder = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334],\n  leapLadder = [0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335];\n\nfunction unitOutOfRange(unit, value) {\n  return new Invalid(\n    \"unit out of range\",\n    `you specified ${value} (of type ${typeof value}) as a ${unit}, which is invalid`\n  );\n}\n\nexport function dayOfWeek(year, month, day) {\n  const d = new Date(Date.UTC(year, month - 1, day));\n\n  if (year < 100 && year >= 0) {\n    d.setUTCFullYear(d.getUTCFullYear() - 1900);\n  }\n\n  const js = d.getUTCDay();\n\n  return js === 0 ? 7 : js;\n}\n\nfunction computeOrdinal(year, month, day) {\n  return day + (isLeapYear(year) ? leapLadder : nonLeapLadder)[month - 1];\n}\n\nfunction uncomputeOrdinal(year, ordinal) {\n  const table = isLeapYear(year) ? leapLadder : nonLeapLadder,\n    month0 = table.findIndex((i) => i < ordinal),\n    day = ordinal - table[month0];\n  return { month: month0 + 1, day };\n}\n\nexport function isoWeekdayToLocal(isoWeekday, startOfWeek) {\n  return ((isoWeekday - startOfWeek + 7) % 7) + 1;\n}\n\n/**\n * @private\n */\n\nexport function gregorianToWeek(gregObj, minDaysInFirstWeek = 4, startOfWeek = 1) {\n  const { year, month, day } = gregObj,\n    ordinal = computeOrdinal(year, month, day),\n    weekday = isoWeekdayToLocal(dayOfWeek(year, month, day), startOfWeek);\n\n  let weekNumber = Math.floor((ordinal - weekday + 14 - minDaysInFirstWeek) / 7),\n    weekYear;\n\n  if (weekNumber < 1) {\n    weekYear = year - 1;\n    weekNumber = weeksInWeekYear(weekYear, minDaysInFirstWeek, startOfWeek);\n  } else if (weekNumber > weeksInWeekYear(year, minDaysInFirstWeek, startOfWeek)) {\n    weekYear = year + 1;\n    weekNumber = 1;\n  } else {\n    weekYear = year;\n  }\n\n  return { weekYear, weekNumber, weekday, ...timeObject(gregObj) };\n}\n\nexport function weekToGregorian(weekData, minDaysInFirstWeek = 4, startOfWeek = 1) {\n  const { weekYear, weekNumber, weekday } = weekData,\n    weekdayOfJan4 = isoWeekdayToLocal(dayOfWeek(weekYear, 1, minDaysInFirstWeek), startOfWeek),\n    yearInDays = daysInYear(weekYear);\n\n  let ordinal = weekNumber * 7 + weekday - weekdayOfJan4 - 7 + minDaysInFirstWeek,\n    year;\n\n  if (ordinal < 1) {\n    year = weekYear - 1;\n    ordinal += daysInYear(year);\n  } else if (ordinal > yearInDays) {\n    year = weekYear + 1;\n    ordinal -= daysInYear(weekYear);\n  } else {\n    year = weekYear;\n  }\n\n  const { month, day } = uncomputeOrdinal(year, ordinal);\n  return { year, month, day, ...timeObject(weekData) };\n}\n\nexport function gregorianToOrdinal(gregData) {\n  const { year, month, day } = gregData;\n  const ordinal = computeOrdinal(year, month, day);\n  return { year, ordinal, ...timeObject(gregData) };\n}\n\nexport function ordinalToGregorian(ordinalData) {\n  const { year, ordinal } = ordinalData;\n  const { month, day } = uncomputeOrdinal(year, ordinal);\n  return { year, month, day, ...timeObject(ordinalData) };\n}\n\n/**\n * Check if local week units like localWeekday are used in obj.\n * If so, validates that they are not mixed with ISO week units and then copies them to the normal week unit properties.\n * Modifies obj in-place!\n * @param obj the object values\n */\nexport function usesLocalWeekValues(obj, loc) {\n  const hasLocaleWeekData =\n    !isUndefined(obj.localWeekday) ||\n    !isUndefined(obj.localWeekNumber) ||\n    !isUndefined(obj.localWeekYear);\n  if (hasLocaleWeekData) {\n    const hasIsoWeekData =\n      !isUndefined(obj.weekday) || !isUndefined(obj.weekNumber) || !isUndefined(obj.weekYear);\n\n    if (hasIsoWeekData) {\n      throw new ConflictingSpecificationError(\n        \"Cannot mix locale-based week fields with ISO-based week fields\"\n      );\n    }\n    if (!isUndefined(obj.localWeekday)) obj.weekday = obj.localWeekday;\n    if (!isUndefined(obj.localWeekNumber)) obj.weekNumber = obj.localWeekNumber;\n    if (!isUndefined(obj.localWeekYear)) obj.weekYear = obj.localWeekYear;\n    delete obj.localWeekday;\n    delete obj.localWeekNumber;\n    delete obj.localWeekYear;\n    return {\n      minDaysInFirstWeek: loc.getMinDaysInFirstWeek(),\n      startOfWeek: loc.getStartOfWeek(),\n    };\n  } else {\n    return { minDaysInFirstWeek: 4, startOfWeek: 1 };\n  }\n}\n\nexport function hasInvalidWeekData(obj, minDaysInFirstWeek = 4, startOfWeek = 1) {\n  const validYear = isInteger(obj.weekYear),\n    validWeek = integerBetween(\n      obj.weekNumber,\n      1,\n      weeksInWeekYear(obj.weekYear, minDaysInFirstWeek, startOfWeek)\n    ),\n    validWeekday = integerBetween(obj.weekday, 1, 7);\n\n  if (!validYear) {\n    return unitOutOfRange(\"weekYear\", obj.weekYear);\n  } else if (!validWeek) {\n    return unitOutOfRange(\"week\", obj.weekNumber);\n  } else if (!validWeekday) {\n    return unitOutOfRange(\"weekday\", obj.weekday);\n  } else return false;\n}\n\nexport function hasInvalidOrdinalData(obj) {\n  const validYear = isInteger(obj.year),\n    validOrdinal = integerBetween(obj.ordinal, 1, daysInYear(obj.year));\n\n  if (!validYear) {\n    return unitOutOfRange(\"year\", obj.year);\n  } else if (!validOrdinal) {\n    return unitOutOfRange(\"ordinal\", obj.ordinal);\n  } else return false;\n}\n\nexport function hasInvalidGregorianData(obj) {\n  const validYear = isInteger(obj.year),\n    validMonth = integerBetween(obj.month, 1, 12),\n    validDay = integerBetween(obj.day, 1, daysInMonth(obj.year, obj.month));\n\n  if (!validYear) {\n    return unitOutOfRange(\"year\", obj.year);\n  } else if (!validMonth) {\n    return unitOutOfRange(\"month\", obj.month);\n  } else if (!validDay) {\n    return unitOutOfRange(\"day\", obj.day);\n  } else return false;\n}\n\nexport function hasInvalidTimeData(obj) {\n  const { hour, minute, second, millisecond } = obj;\n  const validHour =\n      integerBetween(hour, 0, 23) ||\n      (hour === 24 && minute === 0 && second === 0 && millisecond === 0),\n    validMinute = integerBetween(minute, 0, 59),\n    validSecond = integerBetween(second, 0, 59),\n    validMillisecond = integerBetween(millisecond, 0, 999);\n\n  if (!validHour) {\n    return unitOutOfRange(\"hour\", hour);\n  } else if (!validMinute) {\n    return unitOutOfRange(\"minute\", minute);\n  } else if (!validSecond) {\n    return unitOutOfRange(\"second\", second);\n  } else if (!validMillisecond) {\n    return unitOutOfRange(\"millisecond\", millisecond);\n  } else return false;\n}\n","/*\n  This is just a junk drawer, containing anything used across multiple classes.\n  Because Luxon is small(ish), this should stay small and we won't worry about splitting\n  it up into, say, parsingUtil.js and basicUtil.js and so on. But they are divided up by feature area.\n*/\n\nimport { InvalidArgumentError } from \"../errors.js\";\nimport Settings from \"../settings.js\";\nimport { dayOfWeek, isoWeekdayToLocal } from \"./conversions.js\";\n\n/**\n * @private\n */\n\n// TYPES\n\nexport function isUndefined(o) {\n  return typeof o === \"undefined\";\n}\n\nexport function isNumber(o) {\n  return typeof o === \"number\";\n}\n\nexport function isInteger(o) {\n  return typeof o === \"number\" && o % 1 === 0;\n}\n\nexport function isString(o) {\n  return typeof o === \"string\";\n}\n\nexport function isDate(o) {\n  return Object.prototype.toString.call(o) === \"[object Date]\";\n}\n\n// CAPABILITIES\n\nexport function hasRelative() {\n  try {\n    return typeof Intl !== \"undefined\" && !!Intl.RelativeTimeFormat;\n  } catch (e) {\n    return false;\n  }\n}\n\nexport function hasLocaleWeekInfo() {\n  try {\n    return (\n      typeof Intl !== \"undefined\" &&\n      !!Intl.Locale &&\n      (\"weekInfo\" in Intl.Locale.prototype || \"getWeekInfo\" in Intl.Locale.prototype)\n    );\n  } catch (e) {\n    return false;\n  }\n}\n\n// OBJECTS AND ARRAYS\n\nexport function maybeArray(thing) {\n  return Array.isArray(thing) ? thing : [thing];\n}\n\nexport function bestBy(arr, by, compare) {\n  if (arr.length === 0) {\n    return undefined;\n  }\n  return arr.reduce((best, next) => {\n    const pair = [by(next), next];\n    if (!best) {\n      return pair;\n    } else if (compare(best[0], pair[0]) === best[0]) {\n      return best;\n    } else {\n      return pair;\n    }\n  }, null)[1];\n}\n\nexport function pick(obj, keys) {\n  return keys.reduce((a, k) => {\n    a[k] = obj[k];\n    return a;\n  }, {});\n}\n\nexport function hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nexport function validateWeekSettings(settings) {\n  if (settings == null) {\n    return null;\n  } else if (typeof settings !== \"object\") {\n    throw new InvalidArgumentError(\"Week settings must be an object\");\n  } else {\n    if (\n      !integerBetween(settings.firstDay, 1, 7) ||\n      !integerBetween(settings.minimalDays, 1, 7) ||\n      !Array.isArray(settings.weekend) ||\n      settings.weekend.some((v) => !integerBetween(v, 1, 7))\n    ) {\n      throw new InvalidArgumentError(\"Invalid week settings\");\n    }\n    return {\n      firstDay: settings.firstDay,\n      minimalDays: settings.minimalDays,\n      weekend: Array.from(settings.weekend),\n    };\n  }\n}\n\n// NUMBERS AND STRINGS\n\nexport function integerBetween(thing, bottom, top) {\n  return isInteger(thing) && thing >= bottom && thing <= top;\n}\n\n// x % n but takes the sign of n instead of x\nexport function floorMod(x, n) {\n  return x - n * Math.floor(x / n);\n}\n\nexport function padStart(input, n = 2) {\n  const isNeg = input < 0;\n  let padded;\n  if (isNeg) {\n    padded = \"-\" + (\"\" + -input).padStart(n, \"0\");\n  } else {\n    padded = (\"\" + input).padStart(n, \"0\");\n  }\n  return padded;\n}\n\nexport function parseInteger(string) {\n  if (isUndefined(string) || string === null || string === \"\") {\n    return undefined;\n  } else {\n    return parseInt(string, 10);\n  }\n}\n\nexport function parseFloating(string) {\n  if (isUndefined(string) || string === null || string === \"\") {\n    return undefined;\n  } else {\n    return parseFloat(string);\n  }\n}\n\nexport function parseMillis(fraction) {\n  // Return undefined (instead of 0) in these cases, where fraction is not set\n  if (isUndefined(fraction) || fraction === null || fraction === \"\") {\n    return undefined;\n  } else {\n    const f = parseFloat(\"0.\" + fraction) * 1000;\n    return Math.floor(f);\n  }\n}\n\nexport function roundTo(number, digits, towardZero = false) {\n  const factor = 10 ** digits,\n    rounder = towardZero ? Math.trunc : Math.round;\n  return rounder(number * factor) / factor;\n}\n\n// DATE BASICS\n\nexport function isLeapYear(year) {\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\n\nexport function daysInYear(year) {\n  return isLeapYear(year) ? 366 : 365;\n}\n\nexport function daysInMonth(year, month) {\n  const modMonth = floorMod(month - 1, 12) + 1,\n    modYear = year + (month - modMonth) / 12;\n\n  if (modMonth === 2) {\n    return isLeapYear(modYear) ? 29 : 28;\n  } else {\n    return [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][modMonth - 1];\n  }\n}\n\n// convert a calendar object to a local timestamp (epoch, but with the offset baked in)\nexport function objToLocalTS(obj) {\n  let d = Date.UTC(\n    obj.year,\n    obj.month - 1,\n    obj.day,\n    obj.hour,\n    obj.minute,\n    obj.second,\n    obj.millisecond\n  );\n\n  // for legacy reasons, years between 0 and 99 are interpreted as 19XX; revert that\n  if (obj.year < 100 && obj.year >= 0) {\n    d = new Date(d);\n    // set the month and day again, this is necessary because year 2000 is a leap year, but year 100 is not\n    // so if obj.year is in 99, but obj.day makes it roll over into year 100,\n    // the calculations done by Date.UTC are using year 2000 - which is incorrect\n    d.setUTCFullYear(obj.year, obj.month - 1, obj.day);\n  }\n  return +d;\n}\n\n// adapted from moment.js: https://github.com/moment/moment/blob/000ac1800e620f770f4eb31b5ae908f6167b0ab2/src/lib/units/week-calendar-utils.js\nfunction firstWeekOffset(year, minDaysInFirstWeek, startOfWeek) {\n  const fwdlw = isoWeekdayToLocal(dayOfWeek(year, 1, minDaysInFirstWeek), startOfWeek);\n  return -fwdlw + minDaysInFirstWeek - 1;\n}\n\nexport function weeksInWeekYear(weekYear, minDaysInFirstWeek = 4, startOfWeek = 1) {\n  const weekOffset = firstWeekOffset(weekYear, minDaysInFirstWeek, startOfWeek);\n  const weekOffsetNext = firstWeekOffset(weekYear + 1, minDaysInFirstWeek, startOfWeek);\n  return (daysInYear(weekYear) - weekOffset + weekOffsetNext) / 7;\n}\n\nexport function untruncateYear(year) {\n  if (year > 99) {\n    return year;\n  } else return year > Settings.twoDigitCutoffYear ? 1900 + year : 2000 + year;\n}\n\n// PARSING\n\nexport function parseZoneInfo(ts, offsetFormat, locale, timeZone = null) {\n  const date = new Date(ts),\n    intlOpts = {\n      hourCycle: \"h23\",\n      year: \"numeric\",\n      month: \"2-digit\",\n      day: \"2-digit\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    };\n\n  if (timeZone) {\n    intlOpts.timeZone = timeZone;\n  }\n\n  const modified = { timeZoneName: offsetFormat, ...intlOpts };\n\n  const parsed = new Intl.DateTimeFormat(locale, modified)\n    .formatToParts(date)\n    .find((m) => m.type.toLowerCase() === \"timezonename\");\n  return parsed ? parsed.value : null;\n}\n\n// signedOffset('-5', '30') -> -330\nexport function signedOffset(offHourStr, offMinuteStr) {\n  let offHour = parseInt(offHourStr, 10);\n\n  // don't || this because we want to preserve -0\n  if (Number.isNaN(offHour)) {\n    offHour = 0;\n  }\n\n  const offMin = parseInt(offMinuteStr, 10) || 0,\n    offMinSigned = offHour < 0 || Object.is(offHour, -0) ? -offMin : offMin;\n  return offHour * 60 + offMinSigned;\n}\n\n// COERCION\n\nexport function asNumber(value) {\n  const numericValue = Number(value);\n  if (typeof value === \"boolean\" || value === \"\" || Number.isNaN(numericValue))\n    throw new InvalidArgumentError(`Invalid unit value ${value}`);\n  return numericValue;\n}\n\nexport function normalizeObject(obj, normalizer) {\n  const normalized = {};\n  for (const u in obj) {\n    if (hasOwnProperty(obj, u)) {\n      const v = obj[u];\n      if (v === undefined || v === null) continue;\n      normalized[normalizer(u)] = asNumber(v);\n    }\n  }\n  return normalized;\n}\n\n/**\n * Returns the offset's value as a string\n * @param {number} ts - Epoch milliseconds for which to get the offset\n * @param {string} format - What style of offset to return.\n *                          Accepts 'narrow', 'short', or 'techie'. Returning '+6', '+06:00', or '+0600' respectively\n * @return {string}\n */\nexport function formatOffset(offset, format) {\n  const hours = Math.trunc(Math.abs(offset / 60)),\n    minutes = Math.trunc(Math.abs(offset % 60)),\n    sign = offset >= 0 ? \"+\" : \"-\";\n\n  switch (format) {\n    case \"short\":\n      return `${sign}${padStart(hours, 2)}:${padStart(minutes, 2)}`;\n    case \"narrow\":\n      return `${sign}${hours}${minutes > 0 ? `:${minutes}` : \"\"}`;\n    case \"techie\":\n      return `${sign}${padStart(hours, 2)}${padStart(minutes, 2)}`;\n    default:\n      throw new RangeError(`Value format ${format} is out of range for property format`);\n  }\n}\n\nexport function timeObject(obj) {\n  return pick(obj, [\"hour\", \"minute\", \"second\", \"millisecond\"]);\n}\n","import * as Formats from \"./formats.js\";\nimport { pick } from \"./util.js\";\n\nfunction stringify(obj) {\n  return JSON.stringify(obj, Object.keys(obj).sort());\n}\n\n/**\n * @private\n */\n\nexport const monthsLong = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\",\n];\n\nexport const monthsShort = [\n  \"Jan\",\n  \"Feb\",\n  \"Mar\",\n  \"Apr\",\n  \"May\",\n  \"Jun\",\n  \"Jul\",\n  \"Aug\",\n  \"Sep\",\n  \"Oct\",\n  \"Nov\",\n  \"Dec\",\n];\n\nexport const monthsNarrow = [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"];\n\nexport function months(length) {\n  switch (length) {\n    case \"narrow\":\n      return [...monthsNarrow];\n    case \"short\":\n      return [...monthsShort];\n    case \"long\":\n      return [...monthsLong];\n    case \"numeric\":\n      return [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\"];\n    case \"2-digit\":\n      return [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\"];\n    default:\n      return null;\n  }\n}\n\nexport const weekdaysLong = [\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\",\n  \"Sunday\",\n];\n\nexport const weekdaysShort = [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"];\n\nexport const weekdaysNarrow = [\"M\", \"T\", \"W\", \"T\", \"F\", \"S\", \"S\"];\n\nexport function weekdays(length) {\n  switch (length) {\n    case \"narrow\":\n      return [...weekdaysNarrow];\n    case \"short\":\n      return [...weekdaysShort];\n    case \"long\":\n      return [...weekdaysLong];\n    case \"numeric\":\n      return [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\"];\n    default:\n      return null;\n  }\n}\n\nexport const meridiems = [\"AM\", \"PM\"];\n\nexport const erasLong = [\"Before Christ\", \"Anno Domini\"];\n\nexport const erasShort = [\"BC\", \"AD\"];\n\nexport const erasNarrow = [\"B\", \"A\"];\n\nexport function eras(length) {\n  switch (length) {\n    case \"narrow\":\n      return [...erasNarrow];\n    case \"short\":\n      return [...erasShort];\n    case \"long\":\n      return [...erasLong];\n    default:\n      return null;\n  }\n}\n\nexport function meridiemForDateTime(dt) {\n  return meridiems[dt.hour < 12 ? 0 : 1];\n}\n\nexport function weekdayForDateTime(dt, length) {\n  return weekdays(length)[dt.weekday - 1];\n}\n\nexport function monthForDateTime(dt, length) {\n  return months(length)[dt.month - 1];\n}\n\nexport function eraForDateTime(dt, length) {\n  return eras(length)[dt.year < 0 ? 0 : 1];\n}\n\nexport function formatRelativeTime(unit, count, numeric = \"always\", narrow = false) {\n  const units = {\n    years: [\"year\", \"yr.\"],\n    quarters: [\"quarter\", \"qtr.\"],\n    months: [\"month\", \"mo.\"],\n    weeks: [\"week\", \"wk.\"],\n    days: [\"day\", \"day\", \"days\"],\n    hours: [\"hour\", \"hr.\"],\n    minutes: [\"minute\", \"min.\"],\n    seconds: [\"second\", \"sec.\"],\n  };\n\n  const lastable = [\"hours\", \"minutes\", \"seconds\"].indexOf(unit) === -1;\n\n  if (numeric === \"auto\" && lastable) {\n    const isDay = unit === \"days\";\n    switch (count) {\n      case 1:\n        return isDay ? \"tomorrow\" : `next ${units[unit][0]}`;\n      case -1:\n        return isDay ? \"yesterday\" : `last ${units[unit][0]}`;\n      case 0:\n        return isDay ? \"today\" : `this ${units[unit][0]}`;\n      default: // fall through\n    }\n  }\n\n  const isInPast = Object.is(count, -0) || count < 0,\n    fmtValue = Math.abs(count),\n    singular = fmtValue === 1,\n    lilUnits = units[unit],\n    fmtUnit = narrow\n      ? singular\n        ? lilUnits[1]\n        : lilUnits[2] || lilUnits[1]\n      : singular\n      ? units[unit][0]\n      : unit;\n  return isInPast ? `${fmtValue} ${fmtUnit} ago` : `in ${fmtValue} ${fmtUnit}`;\n}\n\nexport function formatString(knownFormat) {\n  // these all have the offsets removed because we don't have access to them\n  // without all the intl stuff this is backfilling\n  const filtered = pick(knownFormat, [\n      \"weekday\",\n      \"era\",\n      \"year\",\n      \"month\",\n      \"day\",\n      \"hour\",\n      \"minute\",\n      \"second\",\n      \"timeZoneName\",\n      \"hourCycle\",\n    ]),\n    key = stringify(filtered),\n    dateTimeHuge = \"EEEE, LLLL d, yyyy, h:mm a\";\n  switch (key) {\n    case stringify(Formats.DATE_SHORT):\n      return \"M/d/yyyy\";\n    case stringify(Formats.DATE_MED):\n      return \"LLL d, yyyy\";\n    case stringify(Formats.DATE_MED_WITH_WEEKDAY):\n      return \"EEE, LLL d, yyyy\";\n    case stringify(Formats.DATE_FULL):\n      return \"LLLL d, yyyy\";\n    case stringify(Formats.DATE_HUGE):\n      return \"EEEE, LLLL d, yyyy\";\n    case stringify(Formats.TIME_SIMPLE):\n      return \"h:mm a\";\n    case stringify(Formats.TIME_WITH_SECONDS):\n      return \"h:mm:ss a\";\n    case stringify(Formats.TIME_WITH_SHORT_OFFSET):\n      return \"h:mm a\";\n    case stringify(Formats.TIME_WITH_LONG_OFFSET):\n      return \"h:mm a\";\n    case stringify(Formats.TIME_24_SIMPLE):\n      return \"HH:mm\";\n    case stringify(Formats.TIME_24_WITH_SECONDS):\n      return \"HH:mm:ss\";\n    case stringify(Formats.TIME_24_WITH_SHORT_OFFSET):\n      return \"HH:mm\";\n    case stringify(Formats.TIME_24_WITH_LONG_OFFSET):\n      return \"HH:mm\";\n    case stringify(Formats.DATETIME_SHORT):\n      return \"M/d/yyyy, h:mm a\";\n    case stringify(Formats.DATETIME_MED):\n      return \"LLL d, yyyy, h:mm a\";\n    case stringify(Formats.DATETIME_FULL):\n      return \"LLLL d, yyyy, h:mm a\";\n    case stringify(Formats.DATETIME_HUGE):\n      return dateTimeHuge;\n    case stringify(Formats.DATETIME_SHORT_WITH_SECONDS):\n      return \"M/d/yyyy, h:mm:ss a\";\n    case stringify(Formats.DATETIME_MED_WITH_SECONDS):\n      return \"LLL d, yyyy, h:mm:ss a\";\n    case stringify(Formats.DATETIME_MED_WITH_WEEKDAY):\n      return \"EEE, d LLL yyyy, h:mm a\";\n    case stringify(Formats.DATETIME_FULL_WITH_SECONDS):\n      return \"LLLL d, yyyy, h:mm:ss a\";\n    case stringify(Formats.DATETIME_HUGE_WITH_SECONDS):\n      return \"EEEE, LLLL d, yyyy, h:mm:ss a\";\n    default:\n      return dateTimeHuge;\n  }\n}\n","import * as English from \"./english.js\";\nimport * as Formats from \"./formats.js\";\nimport { padStart } from \"./util.js\";\n\nfunction stringifyTokens(splits, tokenToString) {\n  let s = \"\";\n  for (const token of splits) {\n    if (token.literal) {\n      s += token.val;\n    } else {\n      s += tokenToString(token.val);\n    }\n  }\n  return s;\n}\n\nconst macroTokenToFormatOpts = {\n  D: Formats.DATE_SHORT,\n  DD: Formats.DATE_MED,\n  DDD: Formats.DATE_FULL,\n  DDDD: Formats.DATE_HUGE,\n  t: Formats.TIME_SIMPLE,\n  tt: Formats.TIME_WITH_SECONDS,\n  ttt: Formats.TIME_WITH_SHORT_OFFSET,\n  tttt: Formats.TIME_WITH_LONG_OFFSET,\n  T: Formats.TIME_24_SIMPLE,\n  TT: Formats.TIME_24_WITH_SECONDS,\n  TTT: Formats.TIME_24_WITH_SHORT_OFFSET,\n  TTTT: Formats.TIME_24_WITH_LONG_OFFSET,\n  f: Formats.DATETIME_SHORT,\n  ff: Formats.DATETIME_MED,\n  fff: Formats.DATETIME_FULL,\n  ffff: Formats.DATETIME_HUGE,\n  F: Formats.DATETIME_SHORT_WITH_SECONDS,\n  FF: Formats.DATETIME_MED_WITH_SECONDS,\n  FFF: Formats.DATETIME_FULL_WITH_SECONDS,\n  FFFF: Formats.DATETIME_HUGE_WITH_SECONDS,\n};\n\n/**\n * @private\n */\n\nexport default class Formatter {\n  static create(locale, opts = {}) {\n    return new Formatter(locale, opts);\n  }\n\n  static parseFormat(fmt) {\n    // white-space is always considered a literal in user-provided formats\n    // the \" \" token has a special meaning (see unitForToken)\n\n    let current = null,\n      currentFull = \"\",\n      bracketed = false;\n    const splits = [];\n    for (let i = 0; i < fmt.length; i++) {\n      const c = fmt.charAt(i);\n      if (c === \"'\") {\n        if (currentFull.length > 0) {\n          splits.push({ literal: bracketed || /^\\s+$/.test(currentFull), val: currentFull });\n        }\n        current = null;\n        currentFull = \"\";\n        bracketed = !bracketed;\n      } else if (bracketed) {\n        currentFull += c;\n      } else if (c === current) {\n        currentFull += c;\n      } else {\n        if (currentFull.length > 0) {\n          splits.push({ literal: /^\\s+$/.test(currentFull), val: currentFull });\n        }\n        currentFull = c;\n        current = c;\n      }\n    }\n\n    if (currentFull.length > 0) {\n      splits.push({ literal: bracketed || /^\\s+$/.test(currentFull), val: currentFull });\n    }\n\n    return splits;\n  }\n\n  static macroTokenToFormatOpts(token) {\n    return macroTokenToFormatOpts[token];\n  }\n\n  constructor(locale, formatOpts) {\n    this.opts = formatOpts;\n    this.loc = locale;\n    this.systemLoc = null;\n  }\n\n  formatWithSystemDefault(dt, opts) {\n    if (this.systemLoc === null) {\n      this.systemLoc = this.loc.redefaultToSystem();\n    }\n    const df = this.systemLoc.dtFormatter(dt, { ...this.opts, ...opts });\n    return df.format();\n  }\n\n  dtFormatter(dt, opts = {}) {\n    return this.loc.dtFormatter(dt, { ...this.opts, ...opts });\n  }\n\n  formatDateTime(dt, opts) {\n    return this.dtFormatter(dt, opts).format();\n  }\n\n  formatDateTimeParts(dt, opts) {\n    return this.dtFormatter(dt, opts).formatToParts();\n  }\n\n  formatInterval(interval, opts) {\n    const df = this.dtFormatter(interval.start, opts);\n    return df.dtf.formatRange(interval.start.toJSDate(), interval.end.toJSDate());\n  }\n\n  resolvedOptions(dt, opts) {\n    return this.dtFormatter(dt, opts).resolvedOptions();\n  }\n\n  num(n, p = 0) {\n    // we get some perf out of doing this here, annoyingly\n    if (this.opts.forceSimple) {\n      return padStart(n, p);\n    }\n\n    const opts = { ...this.opts };\n\n    if (p > 0) {\n      opts.padTo = p;\n    }\n\n    return this.loc.numberFormatter(opts).format(n);\n  }\n\n  formatDateTimeFromString(dt, fmt) {\n    const knownEnglish = this.loc.listingMode() === \"en\",\n      useDateTimeFormatter = this.loc.outputCalendar && this.loc.outputCalendar !== \"gregory\",\n      string = (opts, extract) => this.loc.extract(dt, opts, extract),\n      formatOffset = (opts) => {\n        if (dt.isOffsetFixed && dt.offset === 0 && opts.allowZ) {\n          return \"Z\";\n        }\n\n        return dt.isValid ? dt.zone.formatOffset(dt.ts, opts.format) : \"\";\n      },\n      meridiem = () =>\n        knownEnglish\n          ? English.meridiemForDateTime(dt)\n          : string({ hour: \"numeric\", hourCycle: \"h12\" }, \"dayperiod\"),\n      month = (length, standalone) =>\n        knownEnglish\n          ? English.monthForDateTime(dt, length)\n          : string(standalone ? { month: length } : { month: length, day: \"numeric\" }, \"month\"),\n      weekday = (length, standalone) =>\n        knownEnglish\n          ? English.weekdayForDateTime(dt, length)\n          : string(\n              standalone ? { weekday: length } : { weekday: length, month: \"long\", day: \"numeric\" },\n              \"weekday\"\n            ),\n      maybeMacro = (token) => {\n        const formatOpts = Formatter.macroTokenToFormatOpts(token);\n        if (formatOpts) {\n          return this.formatWithSystemDefault(dt, formatOpts);\n        } else {\n          return token;\n        }\n      },\n      era = (length) =>\n        knownEnglish ? English.eraForDateTime(dt, length) : string({ era: length }, \"era\"),\n      tokenToString = (token) => {\n        // Where possible: https://cldr.unicode.org/translation/date-time/date-time-symbols\n        switch (token) {\n          // ms\n          case \"S\":\n            return this.num(dt.millisecond);\n          case \"u\":\n          // falls through\n          case \"SSS\":\n            return this.num(dt.millisecond, 3);\n          // seconds\n          case \"s\":\n            return this.num(dt.second);\n          case \"ss\":\n            return this.num(dt.second, 2);\n          // fractional seconds\n          case \"uu\":\n            return this.num(Math.floor(dt.millisecond / 10), 2);\n          case \"uuu\":\n            return this.num(Math.floor(dt.millisecond / 100));\n          // minutes\n          case \"m\":\n            return this.num(dt.minute);\n          case \"mm\":\n            return this.num(dt.minute, 2);\n          // hours\n          case \"h\":\n            return this.num(dt.hour % 12 === 0 ? 12 : dt.hour % 12);\n          case \"hh\":\n            return this.num(dt.hour % 12 === 0 ? 12 : dt.hour % 12, 2);\n          case \"H\":\n            return this.num(dt.hour);\n          case \"HH\":\n            return this.num(dt.hour, 2);\n          // offset\n          case \"Z\":\n            // like +6\n            return formatOffset({ format: \"narrow\", allowZ: this.opts.allowZ });\n          case \"ZZ\":\n            // like +06:00\n            return formatOffset({ format: \"short\", allowZ: this.opts.allowZ });\n          case \"ZZZ\":\n            // like +0600\n            return formatOffset({ format: \"techie\", allowZ: this.opts.allowZ });\n          case \"ZZZZ\":\n            // like EST\n            return dt.zone.offsetName(dt.ts, { format: \"short\", locale: this.loc.locale });\n          case \"ZZZZZ\":\n            // like Eastern Standard Time\n            return dt.zone.offsetName(dt.ts, { format: \"long\", locale: this.loc.locale });\n          // zone\n          case \"z\":\n            // like America/New_York\n            return dt.zoneName;\n          // meridiems\n          case \"a\":\n            return meridiem();\n          // dates\n          case \"d\":\n            return useDateTimeFormatter ? string({ day: \"numeric\" }, \"day\") : this.num(dt.day);\n          case \"dd\":\n            return useDateTimeFormatter ? string({ day: \"2-digit\" }, \"day\") : this.num(dt.day, 2);\n          // weekdays - standalone\n          case \"c\":\n            // like 1\n            return this.num(dt.weekday);\n          case \"ccc\":\n            // like 'Tues'\n            return weekday(\"short\", true);\n          case \"cccc\":\n            // like 'Tuesday'\n            return weekday(\"long\", true);\n          case \"ccccc\":\n            // like 'T'\n            return weekday(\"narrow\", true);\n          // weekdays - format\n          case \"E\":\n            // like 1\n            return this.num(dt.weekday);\n          case \"EEE\":\n            // like 'Tues'\n            return weekday(\"short\", false);\n          case \"EEEE\":\n            // like 'Tuesday'\n            return weekday(\"long\", false);\n          case \"EEEEE\":\n            // like 'T'\n            return weekday(\"narrow\", false);\n          // months - standalone\n          case \"L\":\n            // like 1\n            return useDateTimeFormatter\n              ? string({ month: \"numeric\", day: \"numeric\" }, \"month\")\n              : this.num(dt.month);\n          case \"LL\":\n            // like 01, doesn't seem to work\n            return useDateTimeFormatter\n              ? string({ month: \"2-digit\", day: \"numeric\" }, \"month\")\n              : this.num(dt.month, 2);\n          case \"LLL\":\n            // like Jan\n            return month(\"short\", true);\n          case \"LLLL\":\n            // like January\n            return month(\"long\", true);\n          case \"LLLLL\":\n            // like J\n            return month(\"narrow\", true);\n          // months - format\n          case \"M\":\n            // like 1\n            return useDateTimeFormatter\n              ? string({ month: \"numeric\" }, \"month\")\n              : this.num(dt.month);\n          case \"MM\":\n            // like 01\n            return useDateTimeFormatter\n              ? string({ month: \"2-digit\" }, \"month\")\n              : this.num(dt.month, 2);\n          case \"MMM\":\n            // like Jan\n            return month(\"short\", false);\n          case \"MMMM\":\n            // like January\n            return month(\"long\", false);\n          case \"MMMMM\":\n            // like J\n            return month(\"narrow\", false);\n          // years\n          case \"y\":\n            // like 2014\n            return useDateTimeFormatter ? string({ year: \"numeric\" }, \"year\") : this.num(dt.year);\n          case \"yy\":\n            // like 14\n            return useDateTimeFormatter\n              ? string({ year: \"2-digit\" }, \"year\")\n              : this.num(dt.year.toString().slice(-2), 2);\n          case \"yyyy\":\n            // like 0012\n            return useDateTimeFormatter\n              ? string({ year: \"numeric\" }, \"year\")\n              : this.num(dt.year, 4);\n          case \"yyyyyy\":\n            // like 000012\n            return useDateTimeFormatter\n              ? string({ year: \"numeric\" }, \"year\")\n              : this.num(dt.year, 6);\n          // eras\n          case \"G\":\n            // like AD\n            return era(\"short\");\n          case \"GG\":\n            // like Anno Domini\n            return era(\"long\");\n          case \"GGGGG\":\n            return era(\"narrow\");\n          case \"kk\":\n            return this.num(dt.weekYear.toString().slice(-2), 2);\n          case \"kkkk\":\n            return this.num(dt.weekYear, 4);\n          case \"W\":\n            return this.num(dt.weekNumber);\n          case \"WW\":\n            return this.num(dt.weekNumber, 2);\n          case \"n\":\n            return this.num(dt.localWeekNumber);\n          case \"nn\":\n            return this.num(dt.localWeekNumber, 2);\n          case \"ii\":\n            return this.num(dt.localWeekYear.toString().slice(-2), 2);\n          case \"iiii\":\n            return this.num(dt.localWeekYear, 4);\n          case \"o\":\n            return this.num(dt.ordinal);\n          case \"ooo\":\n            return this.num(dt.ordinal, 3);\n          case \"q\":\n            // like 1\n            return this.num(dt.quarter);\n          case \"qq\":\n            // like 01\n            return this.num(dt.quarter, 2);\n          case \"X\":\n            return this.num(Math.floor(dt.ts / 1000));\n          case \"x\":\n            return this.num(dt.ts);\n          default:\n            return maybeMacro(token);\n        }\n      };\n\n    return stringifyTokens(Formatter.parseFormat(fmt), tokenToString);\n  }\n\n  formatDurationFromString(dur, fmt) {\n    const tokenToField = (token) => {\n        switch (token[0]) {\n          case \"S\":\n            return \"millisecond\";\n          case \"s\":\n            return \"second\";\n          case \"m\":\n            return \"minute\";\n          case \"h\":\n            return \"hour\";\n          case \"d\":\n            return \"day\";\n          case \"w\":\n            return \"week\";\n          case \"M\":\n            return \"month\";\n          case \"y\":\n            return \"year\";\n          default:\n            return null;\n        }\n      },\n      tokenToString = (lildur) => (token) => {\n        const mapped = tokenToField(token);\n        if (mapped) {\n          return this.num(lildur.get(mapped), token.length);\n        } else {\n          return token;\n        }\n      },\n      tokens = Formatter.parseFormat(fmt),\n      realTokens = tokens.reduce(\n        (found, { literal, val }) => (literal ? found : found.concat(val)),\n        []\n      ),\n      collapsed = dur.shiftTo(...realTokens.map(tokenToField).filter((t) => t));\n    return stringifyTokens(tokens, tokenToString(collapsed));\n  }\n}\n","import {\n  untruncateYear,\n  signedOffset,\n  parseInteger,\n  parseMillis,\n  isUndefined,\n  parseFloating,\n} from \"./util.js\";\nimport * as English from \"./english.js\";\nimport FixedOffsetZone from \"../zones/fixedOffsetZone.js\";\nimport IANAZone from \"../zones/IANAZone.js\";\n\n/*\n * This file handles parsing for well-specified formats. Here's how it works:\n * Two things go into parsing: a regex to match with and an extractor to take apart the groups in the match.\n * An extractor is just a function that takes a regex match array and returns a { year: ..., month: ... } object\n * parse() does the work of executing the regex and applying the extractor. It takes multiple regex/extractor pairs to try in sequence.\n * Extractors can take a \"cursor\" representing the offset in the match to look at. This makes it easy to combine extractors.\n * combineExtractors() does the work of combining them, keeping track of the cursor through multiple extractions.\n * Some extractions are super dumb and simpleParse and fromStrings help DRY them.\n */\n\nconst ianaRegex = /[A-Za-z_+-]{1,256}(?::?\\/[A-Za-z0-9_+-]{1,256}(?:\\/[A-Za-z0-9_+-]{1,256})?)?/;\n\nfunction combineRegexes(...regexes) {\n  const full = regexes.reduce((f, r) => f + r.source, \"\");\n  return RegExp(`^${full}$`);\n}\n\nfunction combineExtractors(...extractors) {\n  return (m) =>\n    extractors\n      .reduce(\n        ([mergedVals, mergedZone, cursor], ex) => {\n          const [val, zone, next] = ex(m, cursor);\n          return [{ ...mergedVals, ...val }, zone || mergedZone, next];\n        },\n        [{}, null, 1]\n      )\n      .slice(0, 2);\n}\n\nfunction parse(s, ...patterns) {\n  if (s == null) {\n    return [null, null];\n  }\n\n  for (const [regex, extractor] of patterns) {\n    const m = regex.exec(s);\n    if (m) {\n      return extractor(m);\n    }\n  }\n  return [null, null];\n}\n\nfunction simpleParse(...keys) {\n  return (match, cursor) => {\n    const ret = {};\n    let i;\n\n    for (i = 0; i < keys.length; i++) {\n      ret[keys[i]] = parseInteger(match[cursor + i]);\n    }\n    return [ret, null, cursor + i];\n  };\n}\n\n// ISO and SQL parsing\nconst offsetRegex = /(?:(Z)|([+-]\\d\\d)(?::?(\\d\\d))?)/;\nconst isoExtendedZone = `(?:${offsetRegex.source}?(?:\\\\[(${ianaRegex.source})\\\\])?)?`;\nconst isoTimeBaseRegex = /(\\d\\d)(?::?(\\d\\d)(?::?(\\d\\d)(?:[.,](\\d{1,30}))?)?)?/;\nconst isoTimeRegex = RegExp(`${isoTimeBaseRegex.source}${isoExtendedZone}`);\nconst isoTimeExtensionRegex = RegExp(`(?:T${isoTimeRegex.source})?`);\nconst isoYmdRegex = /([+-]\\d{6}|\\d{4})(?:-?(\\d\\d)(?:-?(\\d\\d))?)?/;\nconst isoWeekRegex = /(\\d{4})-?W(\\d\\d)(?:-?(\\d))?/;\nconst isoOrdinalRegex = /(\\d{4})-?(\\d{3})/;\nconst extractISOWeekData = simpleParse(\"weekYear\", \"weekNumber\", \"weekDay\");\nconst extractISOOrdinalData = simpleParse(\"year\", \"ordinal\");\nconst sqlYmdRegex = /(\\d{4})-(\\d\\d)-(\\d\\d)/; // dumbed-down version of the ISO one\nconst sqlTimeRegex = RegExp(\n  `${isoTimeBaseRegex.source} ?(?:${offsetRegex.source}|(${ianaRegex.source}))?`\n);\nconst sqlTimeExtensionRegex = RegExp(`(?: ${sqlTimeRegex.source})?`);\n\nfunction int(match, pos, fallback) {\n  const m = match[pos];\n  return isUndefined(m) ? fallback : parseInteger(m);\n}\n\nfunction extractISOYmd(match, cursor) {\n  const item = {\n    year: int(match, cursor),\n    month: int(match, cursor + 1, 1),\n    day: int(match, cursor + 2, 1),\n  };\n\n  return [item, null, cursor + 3];\n}\n\nfunction extractISOTime(match, cursor) {\n  const item = {\n    hours: int(match, cursor, 0),\n    minutes: int(match, cursor + 1, 0),\n    seconds: int(match, cursor + 2, 0),\n    milliseconds: parseMillis(match[cursor + 3]),\n  };\n\n  return [item, null, cursor + 4];\n}\n\nfunction extractISOOffset(match, cursor) {\n  const local = !match[cursor] && !match[cursor + 1],\n    fullOffset = signedOffset(match[cursor + 1], match[cursor + 2]),\n    zone = local ? null : FixedOffsetZone.instance(fullOffset);\n  return [{}, zone, cursor + 3];\n}\n\nfunction extractIANAZone(match, cursor) {\n  const zone = match[cursor] ? IANAZone.create(match[cursor]) : null;\n  return [{}, zone, cursor + 1];\n}\n\n// ISO time parsing\n\nconst isoTimeOnly = RegExp(`^T?${isoTimeBaseRegex.source}$`);\n\n// ISO duration parsing\n\nconst isoDuration =\n  /^-?P(?:(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)Y)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)W)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)D)?(?:T(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)H)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20})(?:[.,](-?\\d{1,20}))?S)?)?)$/;\n\nfunction extractISODuration(match) {\n  const [s, yearStr, monthStr, weekStr, dayStr, hourStr, minuteStr, secondStr, millisecondsStr] =\n    match;\n\n  const hasNegativePrefix = s[0] === \"-\";\n  const negativeSeconds = secondStr && secondStr[0] === \"-\";\n\n  const maybeNegate = (num, force = false) =>\n    num !== undefined && (force || (num && hasNegativePrefix)) ? -num : num;\n\n  return [\n    {\n      years: maybeNegate(parseFloating(yearStr)),\n      months: maybeNegate(parseFloating(monthStr)),\n      weeks: maybeNegate(parseFloating(weekStr)),\n      days: maybeNegate(parseFloating(dayStr)),\n      hours: maybeNegate(parseFloating(hourStr)),\n      minutes: maybeNegate(parseFloating(minuteStr)),\n      seconds: maybeNegate(parseFloating(secondStr), secondStr === \"-0\"),\n      milliseconds: maybeNegate(parseMillis(millisecondsStr), negativeSeconds),\n    },\n  ];\n}\n\n// These are a little braindead. EDT *should* tell us that we're in, say, America/New_York\n// and not just that we're in -240 *right now*. But since I don't think these are used that often\n// I'm just going to ignore that\nconst obsOffsets = {\n  GMT: 0,\n  EDT: -4 * 60,\n  EST: -5 * 60,\n  CDT: -5 * 60,\n  CST: -6 * 60,\n  MDT: -6 * 60,\n  MST: -7 * 60,\n  PDT: -7 * 60,\n  PST: -8 * 60,\n};\n\nfunction fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {\n  const result = {\n    year: yearStr.length === 2 ? untruncateYear(parseInteger(yearStr)) : parseInteger(yearStr),\n    month: English.monthsShort.indexOf(monthStr) + 1,\n    day: parseInteger(dayStr),\n    hour: parseInteger(hourStr),\n    minute: parseInteger(minuteStr),\n  };\n\n  if (secondStr) result.second = parseInteger(secondStr);\n  if (weekdayStr) {\n    result.weekday =\n      weekdayStr.length > 3\n        ? English.weekdaysLong.indexOf(weekdayStr) + 1\n        : English.weekdaysShort.indexOf(weekdayStr) + 1;\n  }\n\n  return result;\n}\n\n// RFC 2822/5322\nconst rfc2822 =\n  /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\\d\\d)(\\d\\d)))$/;\n\nfunction extractRFC2822(match) {\n  const [\n      ,\n      weekdayStr,\n      dayStr,\n      monthStr,\n      yearStr,\n      hourStr,\n      minuteStr,\n      secondStr,\n      obsOffset,\n      milOffset,\n      offHourStr,\n      offMinuteStr,\n    ] = match,\n    result = fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr);\n\n  let offset;\n  if (obsOffset) {\n    offset = obsOffsets[obsOffset];\n  } else if (milOffset) {\n    offset = 0;\n  } else {\n    offset = signedOffset(offHourStr, offMinuteStr);\n  }\n\n  return [result, new FixedOffsetZone(offset)];\n}\n\nfunction preprocessRFC2822(s) {\n  // Remove comments and folding whitespace and replace multiple-spaces with a single space\n  return s\n    .replace(/\\([^()]*\\)|[\\n\\t]/g, \" \")\n    .replace(/(\\s\\s+)/g, \" \")\n    .trim();\n}\n\n// http date\n\nconst rfc1123 =\n    /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\\d\\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\\d{4}) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,\n  rfc850 =\n    /^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\\d\\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,\n  ascii =\n    /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \\d|\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) (\\d{4})$/;\n\nfunction extractRFC1123Or850(match) {\n  const [, weekdayStr, dayStr, monthStr, yearStr, hourStr, minuteStr, secondStr] = match,\n    result = fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr);\n  return [result, FixedOffsetZone.utcInstance];\n}\n\nfunction extractASCII(match) {\n  const [, weekdayStr, monthStr, dayStr, hourStr, minuteStr, secondStr, yearStr] = match,\n    result = fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr);\n  return [result, FixedOffsetZone.utcInstance];\n}\n\nconst isoYmdWithTimeExtensionRegex = combineRegexes(isoYmdRegex, isoTimeExtensionRegex);\nconst isoWeekWithTimeExtensionRegex = combineRegexes(isoWeekRegex, isoTimeExtensionRegex);\nconst isoOrdinalWithTimeExtensionRegex = combineRegexes(isoOrdinalRegex, isoTimeExtensionRegex);\nconst isoTimeCombinedRegex = combineRegexes(isoTimeRegex);\n\nconst extractISOYmdTimeAndOffset = combineExtractors(\n  extractISOYmd,\n  extractISOTime,\n  extractISOOffset,\n  extractIANAZone\n);\nconst extractISOWeekTimeAndOffset = combineExtractors(\n  extractISOWeekData,\n  extractISOTime,\n  extractISOOffset,\n  extractIANAZone\n);\nconst extractISOOrdinalDateAndTime = combineExtractors(\n  extractISOOrdinalData,\n  extractISOTime,\n  extractISOOffset,\n  extractIANAZone\n);\nconst extractISOTimeAndOffset = combineExtractors(\n  extractISOTime,\n  extractISOOffset,\n  extractIANAZone\n);\n\n/*\n * @private\n */\n\nexport function parseISODate(s) {\n  return parse(\n    s,\n    [isoYmdWithTimeExtensionRegex, extractISOYmdTimeAndOffset],\n    [isoWeekWithTimeExtensionRegex, extractISOWeekTimeAndOffset],\n    [isoOrdinalWithTimeExtensionRegex, extractISOOrdinalDateAndTime],\n    [isoTimeCombinedRegex, extractISOTimeAndOffset]\n  );\n}\n\nexport function parseRFC2822Date(s) {\n  return parse(preprocessRFC2822(s), [rfc2822, extractRFC2822]);\n}\n\nexport function parseHTTPDate(s) {\n  return parse(\n    s,\n    [rfc1123, extractRFC1123Or850],\n    [rfc850, extractRFC1123Or850],\n    [ascii, extractASCII]\n  );\n}\n\nexport function parseISODuration(s) {\n  return parse(s, [isoDuration, extractISODuration]);\n}\n\nconst extractISOTimeOnly = combineExtractors(extractISOTime);\n\nexport function parseISOTimeOnly(s) {\n  return parse(s, [isoTimeOnly, extractISOTimeOnly]);\n}\n\nconst sqlYmdWithTimeExtensionRegex = combineRegexes(sqlYmdRegex, sqlTimeExtensionRegex);\nconst sqlTimeCombinedRegex = combineRegexes(sqlTimeRegex);\n\nconst extractISOTimeOffsetAndIANAZone = combineExtractors(\n  extractISOTime,\n  extractISOOffset,\n  extractIANAZone\n);\n\nexport function parseSQL(s) {\n  return parse(\n    s,\n    [sqlYmdWithTimeExtensionRegex, extractISOYmdTimeAndOffset],\n    [sqlTimeCombinedRegex, extractISOTimeOffsetAndIANAZone]\n  );\n}\n","import { InvalidArgumentError, InvalidDurationError, InvalidUnitError } from \"./errors.js\";\nimport Formatter from \"./impl/formatter.js\";\nimport Invalid from \"./impl/invalid.js\";\nimport Locale from \"./impl/locale.js\";\nimport { parseISODuration, parseISOTimeOnly } from \"./impl/regexParser.js\";\nimport {\n  asNumber,\n  hasOwnProperty,\n  isNumber,\n  isUndefined,\n  normalizeObject,\n  roundTo,\n} from \"./impl/util.js\";\nimport Settings from \"./settings.js\";\nimport DateTime from \"./datetime.js\";\n\nconst INVALID = \"Invalid Duration\";\n\n// unit conversion constants\nexport const lowOrderMatrix = {\n    weeks: {\n      days: 7,\n      hours: 7 * 24,\n      minutes: 7 * 24 * 60,\n      seconds: 7 * 24 * 60 * 60,\n      milliseconds: 7 * 24 * 60 * 60 * 1000,\n    },\n    days: {\n      hours: 24,\n      minutes: 24 * 60,\n      seconds: 24 * 60 * 60,\n      milliseconds: 24 * 60 * 60 * 1000,\n    },\n    hours: { minutes: 60, seconds: 60 * 60, milliseconds: 60 * 60 * 1000 },\n    minutes: { seconds: 60, milliseconds: 60 * 1000 },\n    seconds: { milliseconds: 1000 },\n  },\n  casualMatrix = {\n    years: {\n      quarters: 4,\n      months: 12,\n      weeks: 52,\n      days: 365,\n      hours: 365 * 24,\n      minutes: 365 * 24 * 60,\n      seconds: 365 * 24 * 60 * 60,\n      milliseconds: 365 * 24 * 60 * 60 * 1000,\n    },\n    quarters: {\n      months: 3,\n      weeks: 13,\n      days: 91,\n      hours: 91 * 24,\n      minutes: 91 * 24 * 60,\n      seconds: 91 * 24 * 60 * 60,\n      milliseconds: 91 * 24 * 60 * 60 * 1000,\n    },\n    months: {\n      weeks: 4,\n      days: 30,\n      hours: 30 * 24,\n      minutes: 30 * 24 * 60,\n      seconds: 30 * 24 * 60 * 60,\n      milliseconds: 30 * 24 * 60 * 60 * 1000,\n    },\n\n    ...lowOrderMatrix,\n  },\n  daysInYearAccurate = 146097.0 / 400,\n  daysInMonthAccurate = 146097.0 / 4800,\n  accurateMatrix = {\n    years: {\n      quarters: 4,\n      months: 12,\n      weeks: daysInYearAccurate / 7,\n      days: daysInYearAccurate,\n      hours: daysInYearAccurate * 24,\n      minutes: daysInYearAccurate * 24 * 60,\n      seconds: daysInYearAccurate * 24 * 60 * 60,\n      milliseconds: daysInYearAccurate * 24 * 60 * 60 * 1000,\n    },\n    quarters: {\n      months: 3,\n      weeks: daysInYearAccurate / 28,\n      days: daysInYearAccurate / 4,\n      hours: (daysInYearAccurate * 24) / 4,\n      minutes: (daysInYearAccurate * 24 * 60) / 4,\n      seconds: (daysInYearAccurate * 24 * 60 * 60) / 4,\n      milliseconds: (daysInYearAccurate * 24 * 60 * 60 * 1000) / 4,\n    },\n    months: {\n      weeks: daysInMonthAccurate / 7,\n      days: daysInMonthAccurate,\n      hours: daysInMonthAccurate * 24,\n      minutes: daysInMonthAccurate * 24 * 60,\n      seconds: daysInMonthAccurate * 24 * 60 * 60,\n      milliseconds: daysInMonthAccurate * 24 * 60 * 60 * 1000,\n    },\n    ...lowOrderMatrix,\n  };\n\n// units ordered by size\nconst orderedUnits = [\n  \"years\",\n  \"quarters\",\n  \"months\",\n  \"weeks\",\n  \"days\",\n  \"hours\",\n  \"minutes\",\n  \"seconds\",\n  \"milliseconds\",\n];\n\nconst reverseUnits = orderedUnits.slice(0).reverse();\n\n// clone really means \"create another instance just like this one, but with these changes\"\nfunction clone(dur, alts, clear = false) {\n  // deep merge for vals\n  const conf = {\n    values: clear ? alts.values : { ...dur.values, ...(alts.values || {}) },\n    loc: dur.loc.clone(alts.loc),\n    conversionAccuracy: alts.conversionAccuracy || dur.conversionAccuracy,\n    matrix: alts.matrix || dur.matrix,\n  };\n  return new Duration(conf);\n}\n\nfunction durationToMillis(matrix, vals) {\n  let sum = vals.milliseconds ?? 0;\n  for (const unit of reverseUnits.slice(1)) {\n    if (vals[unit]) {\n      sum += vals[unit] * matrix[unit][\"milliseconds\"];\n    }\n  }\n  return sum;\n}\n\n// NB: mutates parameters\nfunction normalizeValues(matrix, vals) {\n  // the logic below assumes the overall value of the duration is positive\n  // if this is not the case, factor is used to make it so\n  const factor = durationToMillis(matrix, vals) < 0 ? -1 : 1;\n\n  orderedUnits.reduceRight((previous, current) => {\n    if (!isUndefined(vals[current])) {\n      if (previous) {\n        const previousVal = vals[previous] * factor;\n        const conv = matrix[current][previous];\n\n        // if (previousVal < 0):\n        // lower order unit is negative (e.g. { years: 2, days: -2 })\n        // normalize this by reducing the higher order unit by the appropriate amount\n        // and increasing the lower order unit\n        // this can never make the higher order unit negative, because this function only operates\n        // on positive durations, so the amount of time represented by the lower order unit cannot\n        // be larger than the higher order unit\n        // else:\n        // lower order unit is positive (e.g. { years: 2, days: 450 } or { years: -2, days: 450 })\n        // in this case we attempt to convert as much as possible from the lower order unit into\n        // the higher order one\n        //\n        // Math.floor takes care of both of these cases, rounding away from 0\n        // if previousVal < 0 it makes the absolute value larger\n        // if previousVal >= it makes the absolute value smaller\n        const rollUp = Math.floor(previousVal / conv);\n        vals[current] += rollUp * factor;\n        vals[previous] -= rollUp * conv * factor;\n      }\n      return current;\n    } else {\n      return previous;\n    }\n  }, null);\n\n  // try to convert any decimals into smaller units if possible\n  // for example for { years: 2.5, days: 0, seconds: 0 } we want to get { years: 2, days: 182, hours: 12 }\n  orderedUnits.reduce((previous, current) => {\n    if (!isUndefined(vals[current])) {\n      if (previous) {\n        const fraction = vals[previous] % 1;\n        vals[previous] -= fraction;\n        vals[current] += fraction * matrix[previous][current];\n      }\n      return current;\n    } else {\n      return previous;\n    }\n  }, null);\n}\n\n// Remove all properties with a value of 0 from an object\nfunction removeZeroes(vals) {\n  const newVals = {};\n  for (const [key, value] of Object.entries(vals)) {\n    if (value !== 0) {\n      newVals[key] = value;\n    }\n  }\n  return newVals;\n}\n\n/**\n * A Duration object represents a period of time, like \"2 months\" or \"1 day, 1 hour\". Conceptually, it's just a map of units to their quantities, accompanied by some additional configuration and methods for creating, parsing, interrogating, transforming, and formatting them. They can be used on their own or in conjunction with other Luxon types; for example, you can use {@link DateTime#plus} to add a Duration object to a DateTime, producing another DateTime.\n *\n * Here is a brief overview of commonly used methods and getters in Duration:\n *\n * * **Creation** To create a Duration, use {@link Duration.fromMillis}, {@link Duration.fromObject}, or {@link Duration.fromISO}.\n * * **Unit values** See the {@link Duration#years}, {@link Duration#months}, {@link Duration#weeks}, {@link Duration#days}, {@link Duration#hours}, {@link Duration#minutes}, {@link Duration#seconds}, {@link Duration#milliseconds} accessors.\n * * **Configuration** See  {@link Duration#locale} and {@link Duration#numberingSystem} accessors.\n * * **Transformation** To create new Durations out of old ones use {@link Duration#plus}, {@link Duration#minus}, {@link Duration#normalize}, {@link Duration#set}, {@link Duration#reconfigure}, {@link Duration#shiftTo}, and {@link Duration#negate}.\n * * **Output** To convert the Duration into other representations, see {@link Duration#as}, {@link Duration#toISO}, {@link Duration#toFormat}, and {@link Duration#toJSON}\n *\n * There's are more methods documented below. In addition, for more information on subtler topics like internationalization and validity, see the external documentation.\n */\nexport default class Duration {\n  /**\n   * @private\n   */\n  constructor(config) {\n    const accurate = config.conversionAccuracy === \"longterm\" || false;\n    let matrix = accurate ? accurateMatrix : casualMatrix;\n\n    if (config.matrix) {\n      matrix = config.matrix;\n    }\n\n    /**\n     * @access private\n     */\n    this.values = config.values;\n    /**\n     * @access private\n     */\n    this.loc = config.loc || Locale.create();\n    /**\n     * @access private\n     */\n    this.conversionAccuracy = accurate ? \"longterm\" : \"casual\";\n    /**\n     * @access private\n     */\n    this.invalid = config.invalid || null;\n    /**\n     * @access private\n     */\n    this.matrix = matrix;\n    /**\n     * @access private\n     */\n    this.isLuxonDuration = true;\n  }\n\n  /**\n   * Create Duration from a number of milliseconds.\n   * @param {number} count of milliseconds\n   * @param {Object} opts - options for parsing\n   * @param {string} [opts.locale='en-US'] - the locale to use\n   * @param {string} opts.numberingSystem - the numbering system to use\n   * @param {string} [opts.conversionAccuracy='casual'] - the conversion system to use\n   * @return {Duration}\n   */\n  static fromMillis(count, opts) {\n    return Duration.fromObject({ milliseconds: count }, opts);\n  }\n\n  /**\n   * Create a Duration from a JavaScript object with keys like 'years' and 'hours'.\n   * If this object is empty then a zero milliseconds duration is returned.\n   * @param {Object} obj - the object to create the DateTime from\n   * @param {number} obj.years\n   * @param {number} obj.quarters\n   * @param {number} obj.months\n   * @param {number} obj.weeks\n   * @param {number} obj.days\n   * @param {number} obj.hours\n   * @param {number} obj.minutes\n   * @param {number} obj.seconds\n   * @param {number} obj.milliseconds\n   * @param {Object} [opts=[]] - options for creating this Duration\n   * @param {string} [opts.locale='en-US'] - the locale to use\n   * @param {string} opts.numberingSystem - the numbering system to use\n   * @param {string} [opts.conversionAccuracy='casual'] - the preset conversion system to use\n   * @param {string} [opts.matrix=Object] - the custom conversion system to use\n   * @return {Duration}\n   */\n  static fromObject(obj, opts = {}) {\n    if (obj == null || typeof obj !== \"object\") {\n      throw new InvalidArgumentError(\n        `Duration.fromObject: argument expected to be an object, got ${\n          obj === null ? \"null\" : typeof obj\n        }`\n      );\n    }\n\n    return new Duration({\n      values: normalizeObject(obj, Duration.normalizeUnit),\n      loc: Locale.fromObject(opts),\n      conversionAccuracy: opts.conversionAccuracy,\n      matrix: opts.matrix,\n    });\n  }\n\n  /**\n   * Create a Duration from DurationLike.\n   *\n   * @param {Object | number | Duration} durationLike\n   * One of:\n   * - object with keys like 'years' and 'hours'.\n   * - number representing milliseconds\n   * - Duration instance\n   * @return {Duration}\n   */\n  static fromDurationLike(durationLike) {\n    if (isNumber(durationLike)) {\n      return Duration.fromMillis(durationLike);\n    } else if (Duration.isDuration(durationLike)) {\n      return durationLike;\n    } else if (typeof durationLike === \"object\") {\n      return Duration.fromObject(durationLike);\n    } else {\n      throw new InvalidArgumentError(\n        `Unknown duration argument ${durationLike} of type ${typeof durationLike}`\n      );\n    }\n  }\n\n  /**\n   * Create a Duration from an ISO 8601 duration string.\n   * @param {string} text - text to parse\n   * @param {Object} opts - options for parsing\n   * @param {string} [opts.locale='en-US'] - the locale to use\n   * @param {string} opts.numberingSystem - the numbering system to use\n   * @param {string} [opts.conversionAccuracy='casual'] - the preset conversion system to use\n   * @param {string} [opts.matrix=Object] - the preset conversion system to use\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Durations\n   * @example Duration.fromISO('P3Y6M1W4DT12H30M5S').toObject() //=> { years: 3, months: 6, weeks: 1, days: 4, hours: 12, minutes: 30, seconds: 5 }\n   * @example Duration.fromISO('PT23H').toObject() //=> { hours: 23 }\n   * @example Duration.fromISO('P5Y3M').toObject() //=> { years: 5, months: 3 }\n   * @return {Duration}\n   */\n  static fromISO(text, opts) {\n    const [parsed] = parseISODuration(text);\n    if (parsed) {\n      return Duration.fromObject(parsed, opts);\n    } else {\n      return Duration.invalid(\"unparsable\", `the input \"${text}\" can't be parsed as ISO 8601`);\n    }\n  }\n\n  /**\n   * Create a Duration from an ISO 8601 time string.\n   * @param {string} text - text to parse\n   * @param {Object} opts - options for parsing\n   * @param {string} [opts.locale='en-US'] - the locale to use\n   * @param {string} opts.numberingSystem - the numbering system to use\n   * @param {string} [opts.conversionAccuracy='casual'] - the preset conversion system to use\n   * @param {string} [opts.matrix=Object] - the conversion system to use\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Times\n   * @example Duration.fromISOTime('11:22:33.444').toObject() //=> { hours: 11, minutes: 22, seconds: 33, milliseconds: 444 }\n   * @example Duration.fromISOTime('11:00').toObject() //=> { hours: 11, minutes: 0, seconds: 0 }\n   * @example Duration.fromISOTime('T11:00').toObject() //=> { hours: 11, minutes: 0, seconds: 0 }\n   * @example Duration.fromISOTime('1100').toObject() //=> { hours: 11, minutes: 0, seconds: 0 }\n   * @example Duration.fromISOTime('T1100').toObject() //=> { hours: 11, minutes: 0, seconds: 0 }\n   * @return {Duration}\n   */\n  static fromISOTime(text, opts) {\n    const [parsed] = parseISOTimeOnly(text);\n    if (parsed) {\n      return Duration.fromObject(parsed, opts);\n    } else {\n      return Duration.invalid(\"unparsable\", `the input \"${text}\" can't be parsed as ISO 8601`);\n    }\n  }\n\n  /**\n   * Create an invalid Duration.\n   * @param {string} reason - simple string of why this datetime is invalid. Should not contain parameters or anything else data-dependent\n   * @param {string} [explanation=null] - longer explanation, may include parameters and other useful debugging information\n   * @return {Duration}\n   */\n  static invalid(reason, explanation = null) {\n    if (!reason) {\n      throw new InvalidArgumentError(\"need to specify a reason the Duration is invalid\");\n    }\n\n    const invalid = reason instanceof Invalid ? reason : new Invalid(reason, explanation);\n\n    if (Settings.throwOnInvalid) {\n      throw new InvalidDurationError(invalid);\n    } else {\n      return new Duration({ invalid });\n    }\n  }\n\n  /**\n   * @private\n   */\n  static normalizeUnit(unit) {\n    const normalized = {\n      year: \"years\",\n      years: \"years\",\n      quarter: \"quarters\",\n      quarters: \"quarters\",\n      month: \"months\",\n      months: \"months\",\n      week: \"weeks\",\n      weeks: \"weeks\",\n      day: \"days\",\n      days: \"days\",\n      hour: \"hours\",\n      hours: \"hours\",\n      minute: \"minutes\",\n      minutes: \"minutes\",\n      second: \"seconds\",\n      seconds: \"seconds\",\n      millisecond: \"milliseconds\",\n      milliseconds: \"milliseconds\",\n    }[unit ? unit.toLowerCase() : unit];\n\n    if (!normalized) throw new InvalidUnitError(unit);\n\n    return normalized;\n  }\n\n  /**\n   * Check if an object is a Duration. Works across context boundaries\n   * @param {object} o\n   * @return {boolean}\n   */\n  static isDuration(o) {\n    return (o && o.isLuxonDuration) || false;\n  }\n\n  /**\n   * Get  the locale of a Duration, such 'en-GB'\n   * @type {string}\n   */\n  get locale() {\n    return this.isValid ? this.loc.locale : null;\n  }\n\n  /**\n   * Get the numbering system of a Duration, such 'beng'. The numbering system is used when formatting the Duration\n   *\n   * @type {string}\n   */\n  get numberingSystem() {\n    return this.isValid ? this.loc.numberingSystem : null;\n  }\n\n  /**\n   * Returns a string representation of this Duration formatted according to the specified format string. You may use these tokens:\n   * * `S` for milliseconds\n   * * `s` for seconds\n   * * `m` for minutes\n   * * `h` for hours\n   * * `d` for days\n   * * `w` for weeks\n   * * `M` for months\n   * * `y` for years\n   * Notes:\n   * * Add padding by repeating the token, e.g. \"yy\" pads the years to two digits, \"hhhh\" pads the hours out to four digits\n   * * Tokens can be escaped by wrapping with single quotes.\n   * * The duration will be converted to the set of units in the format string using {@link Duration#shiftTo} and the Durations's conversion accuracy setting.\n   * @param {string} fmt - the format string\n   * @param {Object} opts - options\n   * @param {boolean} [opts.floor=true] - floor numerical values\n   * @example Duration.fromObject({ years: 1, days: 6, seconds: 2 }).toFormat(\"y d s\") //=> \"1 6 2\"\n   * @example Duration.fromObject({ years: 1, days: 6, seconds: 2 }).toFormat(\"yy dd sss\") //=> \"01 06 002\"\n   * @example Duration.fromObject({ years: 1, days: 6, seconds: 2 }).toFormat(\"M S\") //=> \"12 518402000\"\n   * @return {string}\n   */\n  toFormat(fmt, opts = {}) {\n    // reverse-compat since 1.2; we always round down now, never up, and we do it by default\n    const fmtOpts = {\n      ...opts,\n      floor: opts.round !== false && opts.floor !== false,\n    };\n    return this.isValid\n      ? Formatter.create(this.loc, fmtOpts).formatDurationFromString(this, fmt)\n      : INVALID;\n  }\n\n  /**\n   * Returns a string representation of a Duration with all units included.\n   * To modify its behavior, use `listStyle` and any Intl.NumberFormat option, though `unitDisplay` is especially relevant.\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat#options\n   * @param {Object} opts - Formatting options. Accepts the same keys as the options parameter of the native `Intl.NumberFormat` constructor, as well as `listStyle`.\n   * @param {string} [opts.listStyle='narrow'] - How to format the merged list. Corresponds to the `style` property of the options parameter of the native `Intl.ListFormat` constructor.\n   * @example\n   * ```js\n   * var dur = Duration.fromObject({ days: 1, hours: 5, minutes: 6 })\n   * dur.toHuman() //=> '1 day, 5 hours, 6 minutes'\n   * dur.toHuman({ listStyle: \"long\" }) //=> '1 day, 5 hours, and 6 minutes'\n   * dur.toHuman({ unitDisplay: \"short\" }) //=> '1 day, 5 hr, 6 min'\n   * ```\n   */\n  toHuman(opts = {}) {\n    if (!this.isValid) return INVALID;\n\n    const l = orderedUnits\n      .map((unit) => {\n        const val = this.values[unit];\n        if (isUndefined(val)) {\n          return null;\n        }\n        return this.loc\n          .numberFormatter({ style: \"unit\", unitDisplay: \"long\", ...opts, unit: unit.slice(0, -1) })\n          .format(val);\n      })\n      .filter((n) => n);\n\n    return this.loc\n      .listFormatter({ type: \"conjunction\", style: opts.listStyle || \"narrow\", ...opts })\n      .format(l);\n  }\n\n  /**\n   * Returns a JavaScript object with this Duration's values.\n   * @example Duration.fromObject({ years: 1, days: 6, seconds: 2 }).toObject() //=> { years: 1, days: 6, seconds: 2 }\n   * @return {Object}\n   */\n  toObject() {\n    if (!this.isValid) return {};\n    return { ...this.values };\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of this Duration.\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Durations\n   * @example Duration.fromObject({ years: 3, seconds: 45 }).toISO() //=> 'P3YT45S'\n   * @example Duration.fromObject({ months: 4, seconds: 45 }).toISO() //=> 'P4MT45S'\n   * @example Duration.fromObject({ months: 5 }).toISO() //=> 'P5M'\n   * @example Duration.fromObject({ minutes: 5 }).toISO() //=> 'PT5M'\n   * @example Duration.fromObject({ milliseconds: 6 }).toISO() //=> 'PT0.006S'\n   * @return {string}\n   */\n  toISO() {\n    // we could use the formatter, but this is an easier way to get the minimum string\n    if (!this.isValid) return null;\n\n    let s = \"P\";\n    if (this.years !== 0) s += this.years + \"Y\";\n    if (this.months !== 0 || this.quarters !== 0) s += this.months + this.quarters * 3 + \"M\";\n    if (this.weeks !== 0) s += this.weeks + \"W\";\n    if (this.days !== 0) s += this.days + \"D\";\n    if (this.hours !== 0 || this.minutes !== 0 || this.seconds !== 0 || this.milliseconds !== 0)\n      s += \"T\";\n    if (this.hours !== 0) s += this.hours + \"H\";\n    if (this.minutes !== 0) s += this.minutes + \"M\";\n    if (this.seconds !== 0 || this.milliseconds !== 0)\n      // this will handle \"floating point madness\" by removing extra decimal places\n      // https://stackoverflow.com/questions/588004/is-floating-point-math-broken\n      s += roundTo(this.seconds + this.milliseconds / 1000, 3) + \"S\";\n    if (s === \"P\") s += \"T0S\";\n    return s;\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of this Duration, formatted as a time of day.\n   * Note that this will return null if the duration is invalid, negative, or equal to or greater than 24 hours.\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Times\n   * @param {Object} opts - options\n   * @param {boolean} [opts.suppressMilliseconds=false] - exclude milliseconds from the format if they're 0\n   * @param {boolean} [opts.suppressSeconds=false] - exclude seconds from the format if they're 0\n   * @param {boolean} [opts.includePrefix=false] - include the `T` prefix\n   * @param {string} [opts.format='extended'] - choose between the basic and extended format\n   * @example Duration.fromObject({ hours: 11 }).toISOTime() //=> '11:00:00.000'\n   * @example Duration.fromObject({ hours: 11 }).toISOTime({ suppressMilliseconds: true }) //=> '11:00:00'\n   * @example Duration.fromObject({ hours: 11 }).toISOTime({ suppressSeconds: true }) //=> '11:00'\n   * @example Duration.fromObject({ hours: 11 }).toISOTime({ includePrefix: true }) //=> 'T11:00:00.000'\n   * @example Duration.fromObject({ hours: 11 }).toISOTime({ format: 'basic' }) //=> '110000.000'\n   * @return {string}\n   */\n  toISOTime(opts = {}) {\n    if (!this.isValid) return null;\n\n    const millis = this.toMillis();\n    if (millis < 0 || millis >= 86400000) return null;\n\n    opts = {\n      suppressMilliseconds: false,\n      suppressSeconds: false,\n      includePrefix: false,\n      format: \"extended\",\n      ...opts,\n      includeOffset: false,\n    };\n\n    const dateTime = DateTime.fromMillis(millis, { zone: \"UTC\" });\n    return dateTime.toISOTime(opts);\n  }\n\n  /**\n   * Returns an ISO 8601 representation of this Duration appropriate for use in JSON.\n   * @return {string}\n   */\n  toJSON() {\n    return this.toISO();\n  }\n\n  /**\n   * Returns an ISO 8601 representation of this Duration appropriate for use in debugging.\n   * @return {string}\n   */\n  toString() {\n    return this.toISO();\n  }\n\n  /**\n   * Returns a string representation of this Duration appropriate for the REPL.\n   * @return {string}\n   */\n  [Symbol.for(\"nodejs.util.inspect.custom\")]() {\n    if (this.isValid) {\n      return `Duration { values: ${JSON.stringify(this.values)} }`;\n    } else {\n      return `Duration { Invalid, reason: ${this.invalidReason} }`;\n    }\n  }\n\n  /**\n   * Returns an milliseconds value of this Duration.\n   * @return {number}\n   */\n  toMillis() {\n    if (!this.isValid) return NaN;\n\n    return durationToMillis(this.matrix, this.values);\n  }\n\n  /**\n   * Returns an milliseconds value of this Duration. Alias of {@link toMillis}\n   * @return {number}\n   */\n  valueOf() {\n    return this.toMillis();\n  }\n\n  /**\n   * Make this Duration longer by the specified amount. Return a newly-constructed Duration.\n   * @param {Duration|Object|number} duration - The amount to add. Either a Luxon Duration, a number of milliseconds, the object argument to Duration.fromObject()\n   * @return {Duration}\n   */\n  plus(duration) {\n    if (!this.isValid) return this;\n\n    const dur = Duration.fromDurationLike(duration),\n      result = {};\n\n    for (const k of orderedUnits) {\n      if (hasOwnProperty(dur.values, k) || hasOwnProperty(this.values, k)) {\n        result[k] = dur.get(k) + this.get(k);\n      }\n    }\n\n    return clone(this, { values: result }, true);\n  }\n\n  /**\n   * Make this Duration shorter by the specified amount. Return a newly-constructed Duration.\n   * @param {Duration|Object|number} duration - The amount to subtract. Either a Luxon Duration, a number of milliseconds, the object argument to Duration.fromObject()\n   * @return {Duration}\n   */\n  minus(duration) {\n    if (!this.isValid) return this;\n\n    const dur = Duration.fromDurationLike(duration);\n    return this.plus(dur.negate());\n  }\n\n  /**\n   * Scale this Duration by the specified amount. Return a newly-constructed Duration.\n   * @param {function} fn - The function to apply to each unit. Arity is 1 or 2: the value of the unit and, optionally, the unit name. Must return a number.\n   * @example Duration.fromObject({ hours: 1, minutes: 30 }).mapUnits(x => x * 2) //=> { hours: 2, minutes: 60 }\n   * @example Duration.fromObject({ hours: 1, minutes: 30 }).mapUnits((x, u) => u === \"hours\" ? x * 2 : x) //=> { hours: 2, minutes: 30 }\n   * @return {Duration}\n   */\n  mapUnits(fn) {\n    if (!this.isValid) return this;\n    const result = {};\n    for (const k of Object.keys(this.values)) {\n      result[k] = asNumber(fn(this.values[k], k));\n    }\n    return clone(this, { values: result }, true);\n  }\n\n  /**\n   * Get the value of unit.\n   * @param {string} unit - a unit such as 'minute' or 'day'\n   * @example Duration.fromObject({years: 2, days: 3}).get('years') //=> 2\n   * @example Duration.fromObject({years: 2, days: 3}).get('months') //=> 0\n   * @example Duration.fromObject({years: 2, days: 3}).get('days') //=> 3\n   * @return {number}\n   */\n  get(unit) {\n    return this[Duration.normalizeUnit(unit)];\n  }\n\n  /**\n   * \"Set\" the values of specified units. Return a newly-constructed Duration.\n   * @param {Object} values - a mapping of units to numbers\n   * @example dur.set({ years: 2017 })\n   * @example dur.set({ hours: 8, minutes: 30 })\n   * @return {Duration}\n   */\n  set(values) {\n    if (!this.isValid) return this;\n\n    const mixed = { ...this.values, ...normalizeObject(values, Duration.normalizeUnit) };\n    return clone(this, { values: mixed });\n  }\n\n  /**\n   * \"Set\" the locale and/or numberingSystem.  Returns a newly-constructed Duration.\n   * @example dur.reconfigure({ locale: 'en-GB' })\n   * @return {Duration}\n   */\n  reconfigure({ locale, numberingSystem, conversionAccuracy, matrix } = {}) {\n    const loc = this.loc.clone({ locale, numberingSystem });\n    const opts = { loc, matrix, conversionAccuracy };\n    return clone(this, opts);\n  }\n\n  /**\n   * Return the length of the duration in the specified unit.\n   * @param {string} unit - a unit such as 'minutes' or 'days'\n   * @example Duration.fromObject({years: 1}).as('days') //=> 365\n   * @example Duration.fromObject({years: 1}).as('months') //=> 12\n   * @example Duration.fromObject({hours: 60}).as('days') //=> 2.5\n   * @return {number}\n   */\n  as(unit) {\n    return this.isValid ? this.shiftTo(unit).get(unit) : NaN;\n  }\n\n  /**\n   * Reduce this Duration to its canonical representation in its current units.\n   * Assuming the overall value of the Duration is positive, this means:\n   * - excessive values for lower-order units are converted to higher-order units (if possible, see first and second example)\n   * - negative lower-order units are converted to higher order units (there must be such a higher order unit, otherwise\n   *   the overall value would be negative, see third example)\n   * - fractional values for higher-order units are converted to lower-order units (if possible, see fourth example)\n   *\n   * If the overall value is negative, the result of this method is equivalent to `this.negate().normalize().negate()`.\n   * @example Duration.fromObject({ years: 2, days: 5000 }).normalize().toObject() //=> { years: 15, days: 255 }\n   * @example Duration.fromObject({ days: 5000 }).normalize().toObject() //=> { days: 5000 }\n   * @example Duration.fromObject({ hours: 12, minutes: -45 }).normalize().toObject() //=> { hours: 11, minutes: 15 }\n   * @example Duration.fromObject({ years: 2.5, days: 0, hours: 0 }).normalize().toObject() //=> { years: 2, days: 182, hours: 12 }\n   * @return {Duration}\n   */\n  normalize() {\n    if (!this.isValid) return this;\n    const vals = this.toObject();\n    normalizeValues(this.matrix, vals);\n    return clone(this, { values: vals }, true);\n  }\n\n  /**\n   * Rescale units to its largest representation\n   * @example Duration.fromObject({ milliseconds: 90000 }).rescale().toObject() //=> { minutes: 1, seconds: 30 }\n   * @return {Duration}\n   */\n  rescale() {\n    if (!this.isValid) return this;\n    const vals = removeZeroes(this.normalize().shiftToAll().toObject());\n    return clone(this, { values: vals }, true);\n  }\n\n  /**\n   * Convert this Duration into its representation in a different set of units.\n   * @example Duration.fromObject({ hours: 1, seconds: 30 }).shiftTo('minutes', 'milliseconds').toObject() //=> { minutes: 60, milliseconds: 30000 }\n   * @return {Duration}\n   */\n  shiftTo(...units) {\n    if (!this.isValid) return this;\n\n    if (units.length === 0) {\n      return this;\n    }\n\n    units = units.map((u) => Duration.normalizeUnit(u));\n\n    const built = {},\n      accumulated = {},\n      vals = this.toObject();\n    let lastUnit;\n\n    for (const k of orderedUnits) {\n      if (units.indexOf(k) >= 0) {\n        lastUnit = k;\n\n        let own = 0;\n\n        // anything we haven't boiled down yet should get boiled to this unit\n        for (const ak in accumulated) {\n          own += this.matrix[ak][k] * accumulated[ak];\n          accumulated[ak] = 0;\n        }\n\n        // plus anything that's already in this unit\n        if (isNumber(vals[k])) {\n          own += vals[k];\n        }\n\n        // only keep the integer part for now in the hopes of putting any decimal part\n        // into a smaller unit later\n        const i = Math.trunc(own);\n        built[k] = i;\n        accumulated[k] = (own * 1000 - i * 1000) / 1000;\n\n        // otherwise, keep it in the wings to boil it later\n      } else if (isNumber(vals[k])) {\n        accumulated[k] = vals[k];\n      }\n    }\n\n    // anything leftover becomes the decimal for the last unit\n    // lastUnit must be defined since units is not empty\n    for (const key in accumulated) {\n      if (accumulated[key] !== 0) {\n        built[lastUnit] +=\n          key === lastUnit ? accumulated[key] : accumulated[key] / this.matrix[lastUnit][key];\n      }\n    }\n\n    normalizeValues(this.matrix, built);\n    return clone(this, { values: built }, true);\n  }\n\n  /**\n   * Shift this Duration to all available units.\n   * Same as shiftTo(\"years\", \"months\", \"weeks\", \"days\", \"hours\", \"minutes\", \"seconds\", \"milliseconds\")\n   * @return {Duration}\n   */\n  shiftToAll() {\n    if (!this.isValid) return this;\n    return this.shiftTo(\n      \"years\",\n      \"months\",\n      \"weeks\",\n      \"days\",\n      \"hours\",\n      \"minutes\",\n      \"seconds\",\n      \"milliseconds\"\n    );\n  }\n\n  /**\n   * Return the negative of this Duration.\n   * @example Duration.fromObject({ hours: 1, seconds: 30 }).negate().toObject() //=> { hours: -1, seconds: -30 }\n   * @return {Duration}\n   */\n  negate() {\n    if (!this.isValid) return this;\n    const negated = {};\n    for (const k of Object.keys(this.values)) {\n      negated[k] = this.values[k] === 0 ? 0 : -this.values[k];\n    }\n    return clone(this, { values: negated }, true);\n  }\n\n  /**\n   * Get the years.\n   * @type {number}\n   */\n  get years() {\n    return this.isValid ? this.values.years || 0 : NaN;\n  }\n\n  /**\n   * Get the quarters.\n   * @type {number}\n   */\n  get quarters() {\n    return this.isValid ? this.values.quarters || 0 : NaN;\n  }\n\n  /**\n   * Get the months.\n   * @type {number}\n   */\n  get months() {\n    return this.isValid ? this.values.months || 0 : NaN;\n  }\n\n  /**\n   * Get the weeks\n   * @type {number}\n   */\n  get weeks() {\n    return this.isValid ? this.values.weeks || 0 : NaN;\n  }\n\n  /**\n   * Get the days.\n   * @type {number}\n   */\n  get days() {\n    return this.isValid ? this.values.days || 0 : NaN;\n  }\n\n  /**\n   * Get the hours.\n   * @type {number}\n   */\n  get hours() {\n    return this.isValid ? this.values.hours || 0 : NaN;\n  }\n\n  /**\n   * Get the minutes.\n   * @type {number}\n   */\n  get minutes() {\n    return this.isValid ? this.values.minutes || 0 : NaN;\n  }\n\n  /**\n   * Get the seconds.\n   * @return {number}\n   */\n  get seconds() {\n    return this.isValid ? this.values.seconds || 0 : NaN;\n  }\n\n  /**\n   * Get the milliseconds.\n   * @return {number}\n   */\n  get milliseconds() {\n    return this.isValid ? this.values.milliseconds || 0 : NaN;\n  }\n\n  /**\n   * Returns whether the Duration is invalid. Invalid durations are returned by diff operations\n   * on invalid DateTimes or Intervals.\n   * @return {boolean}\n   */\n  get isValid() {\n    return this.invalid === null;\n  }\n\n  /**\n   * Returns an error code if this Duration became invalid, or null if the Duration is valid\n   * @return {string}\n   */\n  get invalidReason() {\n    return this.invalid ? this.invalid.reason : null;\n  }\n\n  /**\n   * Returns an explanation of why this Duration became invalid, or null if the Duration is valid\n   * @type {string}\n   */\n  get invalidExplanation() {\n    return this.invalid ? this.invalid.explanation : null;\n  }\n\n  /**\n   * Equality check\n   * Two Durations are equal iff they have the same units and the same values for each unit.\n   * @param {Duration} other\n   * @return {boolean}\n   */\n  equals(other) {\n    if (!this.isValid || !other.isValid) {\n      return false;\n    }\n\n    if (!this.loc.equals(other.loc)) {\n      return false;\n    }\n\n    function eq(v1, v2) {\n      // Consider 0 and undefined as equal\n      if (v1 === undefined || v1 === 0) return v2 === undefined || v2 === 0;\n      return v1 === v2;\n    }\n\n    for (const u of orderedUnits) {\n      if (!eq(this.values[u], other.values[u])) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n","import DateTime, { friendlyDateTime } from \"./datetime.js\";\nimport Duration from \"./duration.js\";\nimport Settings from \"./settings.js\";\nimport { InvalidArgumentError, InvalidIntervalError } from \"./errors.js\";\nimport Invalid from \"./impl/invalid.js\";\nimport Formatter from \"./impl/formatter.js\";\nimport * as Formats from \"./impl/formats.js\";\n\nconst INVALID = \"Invalid Interval\";\n\n// checks if the start is equal to or before the end\nfunction validateStartEnd(start, end) {\n  if (!start || !start.isValid) {\n    return Interval.invalid(\"missing or invalid start\");\n  } else if (!end || !end.isValid) {\n    return Interval.invalid(\"missing or invalid end\");\n  } else if (end < start) {\n    return Interval.invalid(\n      \"end before start\",\n      `The end of an interval must be after its start, but you had start=${start.toISO()} and end=${end.toISO()}`\n    );\n  } else {\n    return null;\n  }\n}\n\n/**\n * An Interval object represents a half-open interval of time, where each endpoint is a {@link DateTime}. Conceptually, it's a container for those two endpoints, accompanied by methods for creating, parsing, interrogating, comparing, transforming, and formatting them.\n *\n * Here is a brief overview of the most commonly used methods and getters in Interval:\n *\n * * **Creation** To create an Interval, use {@link Interval.fromDateTimes}, {@link Interval.after}, {@link Interval.before}, or {@link Interval.fromISO}.\n * * **Accessors** Use {@link Interval#start} and {@link Interval#end} to get the start and end.\n * * **Interrogation** To analyze the Interval, use {@link Interval#count}, {@link Interval#length}, {@link Interval#hasSame}, {@link Interval#contains}, {@link Interval#isAfter}, or {@link Interval#isBefore}.\n * * **Transformation** To create other Intervals out of this one, use {@link Interval#set}, {@link Interval#splitAt}, {@link Interval#splitBy}, {@link Interval#divideEqually}, {@link Interval.merge}, {@link Interval.xor}, {@link Interval#union}, {@link Interval#intersection}, or {@link Interval#difference}.\n * * **Comparison** To compare this Interval to another one, use {@link Interval#equals}, {@link Interval#overlaps}, {@link Interval#abutsStart}, {@link Interval#abutsEnd}, {@link Interval#engulfs}\n * * **Output** To convert the Interval into other representations, see {@link Interval#toString}, {@link Interval#toLocaleString}, {@link Interval#toISO}, {@link Interval#toISODate}, {@link Interval#toISOTime}, {@link Interval#toFormat}, and {@link Interval#toDuration}.\n */\nexport default class Interval {\n  /**\n   * @private\n   */\n  constructor(config) {\n    /**\n     * @access private\n     */\n    this.s = config.start;\n    /**\n     * @access private\n     */\n    this.e = config.end;\n    /**\n     * @access private\n     */\n    this.invalid = config.invalid || null;\n    /**\n     * @access private\n     */\n    this.isLuxonInterval = true;\n  }\n\n  /**\n   * Create an invalid Interval.\n   * @param {string} reason - simple string of why this Interval is invalid. Should not contain parameters or anything else data-dependent\n   * @param {string} [explanation=null] - longer explanation, may include parameters and other useful debugging information\n   * @return {Interval}\n   */\n  static invalid(reason, explanation = null) {\n    if (!reason) {\n      throw new InvalidArgumentError(\"need to specify a reason the Interval is invalid\");\n    }\n\n    const invalid = reason instanceof Invalid ? reason : new Invalid(reason, explanation);\n\n    if (Settings.throwOnInvalid) {\n      throw new InvalidIntervalError(invalid);\n    } else {\n      return new Interval({ invalid });\n    }\n  }\n\n  /**\n   * Create an Interval from a start DateTime and an end DateTime. Inclusive of the start but not the end.\n   * @param {DateTime|Date|Object} start\n   * @param {DateTime|Date|Object} end\n   * @return {Interval}\n   */\n  static fromDateTimes(start, end) {\n    const builtStart = friendlyDateTime(start),\n      builtEnd = friendlyDateTime(end);\n\n    const validateError = validateStartEnd(builtStart, builtEnd);\n\n    if (validateError == null) {\n      return new Interval({\n        start: builtStart,\n        end: builtEnd,\n      });\n    } else {\n      return validateError;\n    }\n  }\n\n  /**\n   * Create an Interval from a start DateTime and a Duration to extend to.\n   * @param {DateTime|Date|Object} start\n   * @param {Duration|Object|number} duration - the length of the Interval.\n   * @return {Interval}\n   */\n  static after(start, duration) {\n    const dur = Duration.fromDurationLike(duration),\n      dt = friendlyDateTime(start);\n    return Interval.fromDateTimes(dt, dt.plus(dur));\n  }\n\n  /**\n   * Create an Interval from an end DateTime and a Duration to extend backwards to.\n   * @param {DateTime|Date|Object} end\n   * @param {Duration|Object|number} duration - the length of the Interval.\n   * @return {Interval}\n   */\n  static before(end, duration) {\n    const dur = Duration.fromDurationLike(duration),\n      dt = friendlyDateTime(end);\n    return Interval.fromDateTimes(dt.minus(dur), dt);\n  }\n\n  /**\n   * Create an Interval from an ISO 8601 string.\n   * Accepts `<start>/<end>`, `<start>/<duration>`, and `<duration>/<end>` formats.\n   * @param {string} text - the ISO string to parse\n   * @param {Object} [opts] - options to pass {@link DateTime#fromISO} and optionally {@link Duration#fromISO}\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Time_intervals\n   * @return {Interval}\n   */\n  static fromISO(text, opts) {\n    const [s, e] = (text || \"\").split(\"/\", 2);\n    if (s && e) {\n      let start, startIsValid;\n      try {\n        start = DateTime.fromISO(s, opts);\n        startIsValid = start.isValid;\n      } catch (e) {\n        startIsValid = false;\n      }\n\n      let end, endIsValid;\n      try {\n        end = DateTime.fromISO(e, opts);\n        endIsValid = end.isValid;\n      } catch (e) {\n        endIsValid = false;\n      }\n\n      if (startIsValid && endIsValid) {\n        return Interval.fromDateTimes(start, end);\n      }\n\n      if (startIsValid) {\n        const dur = Duration.fromISO(e, opts);\n        if (dur.isValid) {\n          return Interval.after(start, dur);\n        }\n      } else if (endIsValid) {\n        const dur = Duration.fromISO(s, opts);\n        if (dur.isValid) {\n          return Interval.before(end, dur);\n        }\n      }\n    }\n    return Interval.invalid(\"unparsable\", `the input \"${text}\" can't be parsed as ISO 8601`);\n  }\n\n  /**\n   * Check if an object is an Interval. Works across context boundaries\n   * @param {object} o\n   * @return {boolean}\n   */\n  static isInterval(o) {\n    return (o && o.isLuxonInterval) || false;\n  }\n\n  /**\n   * Returns the start of the Interval\n   * @type {DateTime}\n   */\n  get start() {\n    return this.isValid ? this.s : null;\n  }\n\n  /**\n   * Returns the end of the Interval\n   * @type {DateTime}\n   */\n  get end() {\n    return this.isValid ? this.e : null;\n  }\n\n  /**\n   * Returns the last DateTime included in the interval (since end is not part of the interval)\n   * @type {DateTime}\n   */\n  get lastDateTime() {\n    return this.isValid ? (this.e ? this.e.minus(1) : null) : null;\n  }\n\n  /**\n   * Returns whether this Interval's end is at least its start, meaning that the Interval isn't 'backwards'.\n   * @type {boolean}\n   */\n  get isValid() {\n    return this.invalidReason === null;\n  }\n\n  /**\n   * Returns an error code if this Interval is invalid, or null if the Interval is valid\n   * @type {string}\n   */\n  get invalidReason() {\n    return this.invalid ? this.invalid.reason : null;\n  }\n\n  /**\n   * Returns an explanation of why this Interval became invalid, or null if the Interval is valid\n   * @type {string}\n   */\n  get invalidExplanation() {\n    return this.invalid ? this.invalid.explanation : null;\n  }\n\n  /**\n   * Returns the length of the Interval in the specified unit.\n   * @param {string} unit - the unit (such as 'hours' or 'days') to return the length in.\n   * @return {number}\n   */\n  length(unit = \"milliseconds\") {\n    return this.isValid ? this.toDuration(...[unit]).get(unit) : NaN;\n  }\n\n  /**\n   * Returns the count of minutes, hours, days, months, or years included in the Interval, even in part.\n   * Unlike {@link Interval#length} this counts sections of the calendar, not periods of time, e.g. specifying 'day'\n   * asks 'what dates are included in this interval?', not 'how many days long is this interval?'\n   * @param {string} [unit='milliseconds'] - the unit of time to count.\n   * @param {Object} opts - options\n   * @param {boolean} [opts.useLocaleWeeks=false] - If true, use weeks based on the locale, i.e. use the locale-dependent start of the week; this operation will always use the locale of the start DateTime\n   * @return {number}\n   */\n  count(unit = \"milliseconds\", opts) {\n    if (!this.isValid) return NaN;\n    const start = this.start.startOf(unit, opts);\n    let end;\n    if (opts?.useLocaleWeeks) {\n      end = this.end.reconfigure({ locale: start.locale });\n    } else {\n      end = this.end;\n    }\n    end = end.startOf(unit, opts);\n    return Math.floor(end.diff(start, unit).get(unit)) + (end.valueOf() !== this.end.valueOf());\n  }\n\n  /**\n   * Returns whether this Interval's start and end are both in the same unit of time\n   * @param {string} unit - the unit of time to check sameness on\n   * @return {boolean}\n   */\n  hasSame(unit) {\n    return this.isValid ? this.isEmpty() || this.e.minus(1).hasSame(this.s, unit) : false;\n  }\n\n  /**\n   * Return whether this Interval has the same start and end DateTimes.\n   * @return {boolean}\n   */\n  isEmpty() {\n    return this.s.valueOf() === this.e.valueOf();\n  }\n\n  /**\n   * Return whether this Interval's start is after the specified DateTime.\n   * @param {DateTime} dateTime\n   * @return {boolean}\n   */\n  isAfter(dateTime) {\n    if (!this.isValid) return false;\n    return this.s > dateTime;\n  }\n\n  /**\n   * Return whether this Interval's end is before the specified DateTime.\n   * @param {DateTime} dateTime\n   * @return {boolean}\n   */\n  isBefore(dateTime) {\n    if (!this.isValid) return false;\n    return this.e <= dateTime;\n  }\n\n  /**\n   * Return whether this Interval contains the specified DateTime.\n   * @param {DateTime} dateTime\n   * @return {boolean}\n   */\n  contains(dateTime) {\n    if (!this.isValid) return false;\n    return this.s <= dateTime && this.e > dateTime;\n  }\n\n  /**\n   * \"Sets\" the start and/or end dates. Returns a newly-constructed Interval.\n   * @param {Object} values - the values to set\n   * @param {DateTime} values.start - the starting DateTime\n   * @param {DateTime} values.end - the ending DateTime\n   * @return {Interval}\n   */\n  set({ start, end } = {}) {\n    if (!this.isValid) return this;\n    return Interval.fromDateTimes(start || this.s, end || this.e);\n  }\n\n  /**\n   * Split this Interval at each of the specified DateTimes\n   * @param {...DateTime} dateTimes - the unit of time to count.\n   * @return {Array}\n   */\n  splitAt(...dateTimes) {\n    if (!this.isValid) return [];\n    const sorted = dateTimes\n        .map(friendlyDateTime)\n        .filter((d) => this.contains(d))\n        .sort((a, b) => a.toMillis() - b.toMillis()),\n      results = [];\n    let { s } = this,\n      i = 0;\n\n    while (s < this.e) {\n      const added = sorted[i] || this.e,\n        next = +added > +this.e ? this.e : added;\n      results.push(Interval.fromDateTimes(s, next));\n      s = next;\n      i += 1;\n    }\n\n    return results;\n  }\n\n  /**\n   * Split this Interval into smaller Intervals, each of the specified length.\n   * Left over time is grouped into a smaller interval\n   * @param {Duration|Object|number} duration - The length of each resulting interval.\n   * @return {Array}\n   */\n  splitBy(duration) {\n    const dur = Duration.fromDurationLike(duration);\n\n    if (!this.isValid || !dur.isValid || dur.as(\"milliseconds\") === 0) {\n      return [];\n    }\n\n    let { s } = this,\n      idx = 1,\n      next;\n\n    const results = [];\n    while (s < this.e) {\n      const added = this.start.plus(dur.mapUnits((x) => x * idx));\n      next = +added > +this.e ? this.e : added;\n      results.push(Interval.fromDateTimes(s, next));\n      s = next;\n      idx += 1;\n    }\n\n    return results;\n  }\n\n  /**\n   * Split this Interval into the specified number of smaller intervals.\n   * @param {number} numberOfParts - The number of Intervals to divide the Interval into.\n   * @return {Array}\n   */\n  divideEqually(numberOfParts) {\n    if (!this.isValid) return [];\n    return this.splitBy(this.length() / numberOfParts).slice(0, numberOfParts);\n  }\n\n  /**\n   * Return whether this Interval overlaps with the specified Interval\n   * @param {Interval} other\n   * @return {boolean}\n   */\n  overlaps(other) {\n    return this.e > other.s && this.s < other.e;\n  }\n\n  /**\n   * Return whether this Interval's end is adjacent to the specified Interval's start.\n   * @param {Interval} other\n   * @return {boolean}\n   */\n  abutsStart(other) {\n    if (!this.isValid) return false;\n    return +this.e === +other.s;\n  }\n\n  /**\n   * Return whether this Interval's start is adjacent to the specified Interval's end.\n   * @param {Interval} other\n   * @return {boolean}\n   */\n  abutsEnd(other) {\n    if (!this.isValid) return false;\n    return +other.e === +this.s;\n  }\n\n  /**\n   * Returns true if this Interval fully contains the specified Interval, specifically if the intersect (of this Interval and the other Interval) is equal to the other Interval; false otherwise.\n   * @param {Interval} other\n   * @return {boolean}\n   */\n  engulfs(other) {\n    if (!this.isValid) return false;\n    return this.s <= other.s && this.e >= other.e;\n  }\n\n  /**\n   * Return whether this Interval has the same start and end as the specified Interval.\n   * @param {Interval} other\n   * @return {boolean}\n   */\n  equals(other) {\n    if (!this.isValid || !other.isValid) {\n      return false;\n    }\n\n    return this.s.equals(other.s) && this.e.equals(other.e);\n  }\n\n  /**\n   * Return an Interval representing the intersection of this Interval and the specified Interval.\n   * Specifically, the resulting Interval has the maximum start time and the minimum end time of the two Intervals.\n   * Returns null if the intersection is empty, meaning, the intervals don't intersect.\n   * @param {Interval} other\n   * @return {Interval}\n   */\n  intersection(other) {\n    if (!this.isValid) return this;\n    const s = this.s > other.s ? this.s : other.s,\n      e = this.e < other.e ? this.e : other.e;\n\n    if (s >= e) {\n      return null;\n    } else {\n      return Interval.fromDateTimes(s, e);\n    }\n  }\n\n  /**\n   * Return an Interval representing the union of this Interval and the specified Interval.\n   * Specifically, the resulting Interval has the minimum start time and the maximum end time of the two Intervals.\n   * @param {Interval} other\n   * @return {Interval}\n   */\n  union(other) {\n    if (!this.isValid) return this;\n    const s = this.s < other.s ? this.s : other.s,\n      e = this.e > other.e ? this.e : other.e;\n    return Interval.fromDateTimes(s, e);\n  }\n\n  /**\n   * Merge an array of Intervals into an equivalent minimal set of Intervals.\n   * Combines overlapping and adjacent Intervals.\n   * The resulting array will contain the Intervals in ascending order, that is, starting with the earliest Interval\n   * and ending with the latest.\n   *\n   * @param {Array} intervals\n   * @return {Array}\n   */\n  static merge(intervals) {\n    const [found, final] = intervals\n      .sort((a, b) => a.s - b.s)\n      .reduce(\n        ([sofar, current], item) => {\n          if (!current) {\n            return [sofar, item];\n          } else if (current.overlaps(item) || current.abutsStart(item)) {\n            return [sofar, current.union(item)];\n          } else {\n            return [sofar.concat([current]), item];\n          }\n        },\n        [[], null]\n      );\n    if (final) {\n      found.push(final);\n    }\n    return found;\n  }\n\n  /**\n   * Return an array of Intervals representing the spans of time that only appear in one of the specified Intervals.\n   * @param {Array} intervals\n   * @return {Array}\n   */\n  static xor(intervals) {\n    let start = null,\n      currentCount = 0;\n    const results = [],\n      ends = intervals.map((i) => [\n        { time: i.s, type: \"s\" },\n        { time: i.e, type: \"e\" },\n      ]),\n      flattened = Array.prototype.concat(...ends),\n      arr = flattened.sort((a, b) => a.time - b.time);\n\n    for (const i of arr) {\n      currentCount += i.type === \"s\" ? 1 : -1;\n\n      if (currentCount === 1) {\n        start = i.time;\n      } else {\n        if (start && +start !== +i.time) {\n          results.push(Interval.fromDateTimes(start, i.time));\n        }\n\n        start = null;\n      }\n    }\n\n    return Interval.merge(results);\n  }\n\n  /**\n   * Return an Interval representing the span of time in this Interval that doesn't overlap with any of the specified Intervals.\n   * @param {...Interval} intervals\n   * @return {Array}\n   */\n  difference(...intervals) {\n    return Interval.xor([this].concat(intervals))\n      .map((i) => this.intersection(i))\n      .filter((i) => i && !i.isEmpty());\n  }\n\n  /**\n   * Returns a string representation of this Interval appropriate for debugging.\n   * @return {string}\n   */\n  toString() {\n    if (!this.isValid) return INVALID;\n    return `[${this.s.toISO()} – ${this.e.toISO()})`;\n  }\n\n  /**\n   * Returns a string representation of this Interval appropriate for the REPL.\n   * @return {string}\n   */\n  [Symbol.for(\"nodejs.util.inspect.custom\")]() {\n    if (this.isValid) {\n      return `Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`;\n    } else {\n      return `Interval { Invalid, reason: ${this.invalidReason} }`;\n    }\n  }\n\n  /**\n   * Returns a localized string representing this Interval. Accepts the same options as the\n   * Intl.DateTimeFormat constructor and any presets defined by Luxon, such as\n   * {@link DateTime.DATE_FULL} or {@link DateTime.TIME_SIMPLE}. The exact behavior of this method\n   * is browser-specific, but in general it will return an appropriate representation of the\n   * Interval in the assigned locale. Defaults to the system's locale if no locale has been\n   * specified.\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat\n   * @param {Object} [formatOpts=DateTime.DATE_SHORT] - Either a DateTime preset or\n   * Intl.DateTimeFormat constructor options.\n   * @param {Object} opts - Options to override the configuration of the start DateTime.\n   * @example Interval.fromISO('2022-11-07T09:00Z/2022-11-08T09:00Z').toLocaleString(); //=> 11/7/2022 – 11/8/2022\n   * @example Interval.fromISO('2022-11-07T09:00Z/2022-11-08T09:00Z').toLocaleString(DateTime.DATE_FULL); //=> November 7 – 8, 2022\n   * @example Interval.fromISO('2022-11-07T09:00Z/2022-11-08T09:00Z').toLocaleString(DateTime.DATE_FULL, { locale: 'fr-FR' }); //=> 7–8 novembre 2022\n   * @example Interval.fromISO('2022-11-07T17:00Z/2022-11-07T19:00Z').toLocaleString(DateTime.TIME_SIMPLE); //=> 6:00 – 8:00 PM\n   * @example Interval.fromISO('2022-11-07T17:00Z/2022-11-07T19:00Z').toLocaleString({ weekday: 'short', month: 'short', day: '2-digit', hour: '2-digit', minute: '2-digit' }); //=> Mon, Nov 07, 6:00 – 8:00 p\n   * @return {string}\n   */\n  toLocaleString(formatOpts = Formats.DATE_SHORT, opts = {}) {\n    return this.isValid\n      ? Formatter.create(this.s.loc.clone(opts), formatOpts).formatInterval(this)\n      : INVALID;\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of this Interval.\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Time_intervals\n   * @param {Object} opts - The same options as {@link DateTime#toISO}\n   * @return {string}\n   */\n  toISO(opts) {\n    if (!this.isValid) return INVALID;\n    return `${this.s.toISO(opts)}/${this.e.toISO(opts)}`;\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of date of this Interval.\n   * The time components are ignored.\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Time_intervals\n   * @return {string}\n   */\n  toISODate() {\n    if (!this.isValid) return INVALID;\n    return `${this.s.toISODate()}/${this.e.toISODate()}`;\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of time of this Interval.\n   * The date components are ignored.\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Time_intervals\n   * @param {Object} opts - The same options as {@link DateTime#toISO}\n   * @return {string}\n   */\n  toISOTime(opts) {\n    if (!this.isValid) return INVALID;\n    return `${this.s.toISOTime(opts)}/${this.e.toISOTime(opts)}`;\n  }\n\n  /**\n   * Returns a string representation of this Interval formatted according to the specified format\n   * string. **You may not want this.** See {@link Interval#toLocaleString} for a more flexible\n   * formatting tool.\n   * @param {string} dateFormat - The format string. This string formats the start and end time.\n   * See {@link DateTime#toFormat} for details.\n   * @param {Object} opts - Options.\n   * @param {string} [opts.separator =  ' – '] - A separator to place between the start and end\n   * representations.\n   * @return {string}\n   */\n  toFormat(dateFormat, { separator = \" – \" } = {}) {\n    if (!this.isValid) return INVALID;\n    return `${this.s.toFormat(dateFormat)}${separator}${this.e.toFormat(dateFormat)}`;\n  }\n\n  /**\n   * Return a Duration representing the time spanned by this interval.\n   * @param {string|string[]} [unit=['milliseconds']] - the unit or units (such as 'hours' or 'days') to include in the duration.\n   * @param {Object} opts - options that affect the creation of the Duration\n   * @param {string} [opts.conversionAccuracy='casual'] - the conversion system to use\n   * @example Interval.fromDateTimes(dt1, dt2).toDuration().toObject() //=> { milliseconds: 88489257 }\n   * @example Interval.fromDateTimes(dt1, dt2).toDuration('days').toObject() //=> { days: 1.0241812152777778 }\n   * @example Interval.fromDateTimes(dt1, dt2).toDuration(['hours', 'minutes']).toObject() //=> { hours: 24, minutes: 34.82095 }\n   * @example Interval.fromDateTimes(dt1, dt2).toDuration(['hours', 'minutes', 'seconds']).toObject() //=> { hours: 24, minutes: 34, seconds: 49.257 }\n   * @example Interval.fromDateTimes(dt1, dt2).toDuration('seconds').toObject() //=> { seconds: 88489.257 }\n   * @return {Duration}\n   */\n  toDuration(unit, opts) {\n    if (!this.isValid) {\n      return Duration.invalid(this.invalidReason);\n    }\n    return this.e.diff(this.s, unit, opts);\n  }\n\n  /**\n   * Run mapFn on the interval start and end, returning a new Interval from the resulting DateTimes\n   * @param {function} mapFn\n   * @return {Interval}\n   * @example Interval.fromDateTimes(dt1, dt2).mapEndpoints(endpoint => endpoint.toUTC())\n   * @example Interval.fromDateTimes(dt1, dt2).mapEndpoints(endpoint => endpoint.plus({ hours: 2 }))\n   */\n  mapEndpoints(mapFn) {\n    return Interval.fromDateTimes(mapFn(this.s), mapFn(this.e));\n  }\n}\n","import DateTime from \"./datetime.js\";\nimport Settings from \"./settings.js\";\nimport Locale from \"./impl/locale.js\";\nimport IANAZone from \"./zones/IANAZone.js\";\nimport { normalizeZone } from \"./impl/zoneUtil.js\";\n\nimport { hasLocaleWeekInfo, hasRelative } from \"./impl/util.js\";\n\n/**\n * The Info class contains static methods for retrieving general time and date related data. For example, it has methods for finding out if a time zone has a DST, for listing the months in any supported locale, and for discovering which of Luxon features are available in the current environment.\n */\nexport default class Info {\n  /**\n   * Return whether the specified zone contains a DST.\n   * @param {string|Zone} [zone='local'] - Zone to check. Defaults to the environment's local zone.\n   * @return {boolean}\n   */\n  static hasDST(zone = Settings.defaultZone) {\n    const proto = DateTime.now().setZone(zone).set({ month: 12 });\n\n    return !zone.isUniversal && proto.offset !== proto.set({ month: 6 }).offset;\n  }\n\n  /**\n   * Return whether the specified zone is a valid IANA specifier.\n   * @param {string} zone - Zone to check\n   * @return {boolean}\n   */\n  static isValidIANAZone(zone) {\n    return IANAZone.isValidZone(zone);\n  }\n\n  /**\n   * Converts the input into a {@link Zone} instance.\n   *\n   * * If `input` is already a Zone instance, it is returned unchanged.\n   * * If `input` is a string containing a valid time zone name, a Zone instance\n   *   with that name is returned.\n   * * If `input` is a string that doesn't refer to a known time zone, a Zone\n   *   instance with {@link Zone#isValid} == false is returned.\n   * * If `input is a number, a Zone instance with the specified fixed offset\n   *   in minutes is returned.\n   * * If `input` is `null` or `undefined`, the default zone is returned.\n   * @param {string|Zone|number} [input] - the value to be converted\n   * @return {Zone}\n   */\n  static normalizeZone(input) {\n    return normalizeZone(input, Settings.defaultZone);\n  }\n\n  /**\n   * Get the weekday on which the week starts according to the given locale.\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @param {string} [opts.locObj=null] - an existing locale object to use\n   * @returns {number} the start of the week, 1 for Monday through 7 for Sunday\n   */\n  static getStartOfWeek({ locale = null, locObj = null } = {}) {\n    return (locObj || Locale.create(locale)).getStartOfWeek();\n  }\n\n  /**\n   * Get the minimum number of days necessary in a week before it is considered part of the next year according\n   * to the given locale.\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @param {string} [opts.locObj=null] - an existing locale object to use\n   * @returns {number}\n   */\n  static getMinimumDaysInFirstWeek({ locale = null, locObj = null } = {}) {\n    return (locObj || Locale.create(locale)).getMinDaysInFirstWeek();\n  }\n\n  /**\n   * Get the weekdays, which are considered the weekend according to the given locale\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @param {string} [opts.locObj=null] - an existing locale object to use\n   * @returns {number[]} an array of weekdays, 1 for Monday through 7 for Sunday\n   */\n  static getWeekendWeekdays({ locale = null, locObj = null } = {}) {\n    // copy the array, because we cache it internally\n    return (locObj || Locale.create(locale)).getWeekendDays().slice();\n  }\n\n  /**\n   * Return an array of standalone month names.\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat\n   * @param {string} [length='long'] - the length of the month representation, such as \"numeric\", \"2-digit\", \"narrow\", \"short\", \"long\"\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @param {string} [opts.numberingSystem=null] - the numbering system\n   * @param {string} [opts.locObj=null] - an existing locale object to use\n   * @param {string} [opts.outputCalendar='gregory'] - the calendar\n   * @example Info.months()[0] //=> 'January'\n   * @example Info.months('short')[0] //=> 'Jan'\n   * @example Info.months('numeric')[0] //=> '1'\n   * @example Info.months('short', { locale: 'fr-CA' } )[0] //=> 'janv.'\n   * @example Info.months('numeric', { locale: 'ar' })[0] //=> '١'\n   * @example Info.months('long', { outputCalendar: 'islamic' })[0] //=> 'Rabiʻ I'\n   * @return {Array}\n   */\n  static months(\n    length = \"long\",\n    { locale = null, numberingSystem = null, locObj = null, outputCalendar = \"gregory\" } = {}\n  ) {\n    return (locObj || Locale.create(locale, numberingSystem, outputCalendar)).months(length);\n  }\n\n  /**\n   * Return an array of format month names.\n   * Format months differ from standalone months in that they're meant to appear next to the day of the month. In some languages, that\n   * changes the string.\n   * See {@link Info#months}\n   * @param {string} [length='long'] - the length of the month representation, such as \"numeric\", \"2-digit\", \"narrow\", \"short\", \"long\"\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @param {string} [opts.numberingSystem=null] - the numbering system\n   * @param {string} [opts.locObj=null] - an existing locale object to use\n   * @param {string} [opts.outputCalendar='gregory'] - the calendar\n   * @return {Array}\n   */\n  static monthsFormat(\n    length = \"long\",\n    { locale = null, numberingSystem = null, locObj = null, outputCalendar = \"gregory\" } = {}\n  ) {\n    return (locObj || Locale.create(locale, numberingSystem, outputCalendar)).months(length, true);\n  }\n\n  /**\n   * Return an array of standalone week names.\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat\n   * @param {string} [length='long'] - the length of the weekday representation, such as \"narrow\", \"short\", \"long\".\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @param {string} [opts.numberingSystem=null] - the numbering system\n   * @param {string} [opts.locObj=null] - an existing locale object to use\n   * @example Info.weekdays()[0] //=> 'Monday'\n   * @example Info.weekdays('short')[0] //=> 'Mon'\n   * @example Info.weekdays('short', { locale: 'fr-CA' })[0] //=> 'lun.'\n   * @example Info.weekdays('short', { locale: 'ar' })[0] //=> 'الاثنين'\n   * @return {Array}\n   */\n  static weekdays(length = \"long\", { locale = null, numberingSystem = null, locObj = null } = {}) {\n    return (locObj || Locale.create(locale, numberingSystem, null)).weekdays(length);\n  }\n\n  /**\n   * Return an array of format week names.\n   * Format weekdays differ from standalone weekdays in that they're meant to appear next to more date information. In some languages, that\n   * changes the string.\n   * See {@link Info#weekdays}\n   * @param {string} [length='long'] - the length of the month representation, such as \"narrow\", \"short\", \"long\".\n   * @param {Object} opts - options\n   * @param {string} [opts.locale=null] - the locale code\n   * @param {string} [opts.numberingSystem=null] - the numbering system\n   * @param {string} [opts.locObj=null] - an existing locale object to use\n   * @return {Array}\n   */\n  static weekdaysFormat(\n    length = \"long\",\n    { locale = null, numberingSystem = null, locObj = null } = {}\n  ) {\n    return (locObj || Locale.create(locale, numberingSystem, null)).weekdays(length, true);\n  }\n\n  /**\n   * Return an array of meridiems.\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @example Info.meridiems() //=> [ 'AM', 'PM' ]\n   * @example Info.meridiems({ locale: 'my' }) //=> [ 'နံနက်', 'ညနေ' ]\n   * @return {Array}\n   */\n  static meridiems({ locale = null } = {}) {\n    return Locale.create(locale).meridiems();\n  }\n\n  /**\n   * Return an array of eras, such as ['BC', 'AD']. The locale can be specified, but the calendar system is always Gregorian.\n   * @param {string} [length='short'] - the length of the era representation, such as \"short\" or \"long\".\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @example Info.eras() //=> [ 'BC', 'AD' ]\n   * @example Info.eras('long') //=> [ 'Before Christ', 'Anno Domini' ]\n   * @example Info.eras('long', { locale: 'fr' }) //=> [ 'avant Jésus-Christ', 'après Jésus-Christ' ]\n   * @return {Array}\n   */\n  static eras(length = \"short\", { locale = null } = {}) {\n    return Locale.create(locale, null, \"gregory\").eras(length);\n  }\n\n  /**\n   * Return the set of available features in this environment.\n   * Some features of Luxon are not available in all environments. For example, on older browsers, relative time formatting support is not available. Use this function to figure out if that's the case.\n   * Keys:\n   * * `relative`: whether this environment supports relative time formatting\n   * * `localeWeek`: whether this environment supports different weekdays for the start of the week based on the locale\n   * @example Info.features() //=> { relative: false, localeWeek: true }\n   * @return {Object}\n   */\n  static features() {\n    return { relative: hasRelative(), localeWeek: hasLocaleWeekInfo() };\n  }\n}\n","import Duration from \"../duration.js\";\n\nfunction dayDiff(earlier, later) {\n  const utcDayStart = (dt) => dt.toUTC(0, { keepLocalTime: true }).startOf(\"day\").valueOf(),\n    ms = utcDayStart(later) - utcDayStart(earlier);\n  return Math.floor(Duration.fromMillis(ms).as(\"days\"));\n}\n\nfunction highOrderDiffs(cursor, later, units) {\n  const differs = [\n    [\"years\", (a, b) => b.year - a.year],\n    [\"quarters\", (a, b) => b.quarter - a.quarter + (b.year - a.year) * 4],\n    [\"months\", (a, b) => b.month - a.month + (b.year - a.year) * 12],\n    [\n      \"weeks\",\n      (a, b) => {\n        const days = dayDiff(a, b);\n        return (days - (days % 7)) / 7;\n      },\n    ],\n    [\"days\", dayDiff],\n  ];\n\n  const results = {};\n  const earlier = cursor;\n  let lowestOrder, highWater;\n\n  /* This loop tries to diff using larger units first.\n     If we overshoot, we backtrack and try the next smaller unit.\n     \"cursor\" starts out at the earlier timestamp and moves closer and closer to \"later\"\n     as we use smaller and smaller units.\n     highWater keeps track of where we would be if we added one more of the smallest unit,\n     this is used later to potentially convert any difference smaller than the smallest higher order unit\n     into a fraction of that smallest higher order unit\n  */\n  for (const [unit, differ] of differs) {\n    if (units.indexOf(unit) >= 0) {\n      lowestOrder = unit;\n\n      results[unit] = differ(cursor, later);\n      highWater = earlier.plus(results);\n\n      if (highWater > later) {\n        // we overshot the end point, backtrack cursor by 1\n        results[unit]--;\n        cursor = earlier.plus(results);\n\n        // if we are still overshooting now, we need to backtrack again\n        // this happens in certain situations when diffing times in different zones,\n        // because this calculation ignores time zones\n        if (cursor > later) {\n          // keep the \"overshot by 1\" around as highWater\n          highWater = cursor;\n          // backtrack cursor by 1\n          results[unit]--;\n          cursor = earlier.plus(results);\n        }\n      } else {\n        cursor = highWater;\n      }\n    }\n  }\n\n  return [cursor, results, highWater, lowestOrder];\n}\n\nexport default function (earlier, later, units, opts) {\n  let [cursor, results, highWater, lowestOrder] = highOrderDiffs(earlier, later, units);\n\n  const remainingMillis = later - cursor;\n\n  const lowerOrderUnits = units.filter(\n    (u) => [\"hours\", \"minutes\", \"seconds\", \"milliseconds\"].indexOf(u) >= 0\n  );\n\n  if (lowerOrderUnits.length === 0) {\n    if (highWater < later) {\n      highWater = cursor.plus({ [lowestOrder]: 1 });\n    }\n\n    if (highWater !== cursor) {\n      results[lowestOrder] = (results[lowestOrder] || 0) + remainingMillis / (highWater - cursor);\n    }\n  }\n\n  const duration = Duration.fromObject(results, opts);\n\n  if (lowerOrderUnits.length > 0) {\n    return Duration.fromMillis(remainingMillis, opts)\n      .shiftTo(...lowerOrderUnits)\n      .plus(duration);\n  } else {\n    return duration;\n  }\n}\n","import { parseMillis, isUndefined, untruncateYear, signedOffset, hasOwnProperty } from \"./util.js\";\nimport Formatter from \"./formatter.js\";\nimport FixedOffsetZone from \"../zones/fixedOffsetZone.js\";\nimport IANAZone from \"../zones/IANAZone.js\";\nimport DateTime from \"../datetime.js\";\nimport { digitRegex, parseDigits } from \"./digits.js\";\nimport { ConflictingSpecificationError } from \"../errors.js\";\n\nconst MISSING_FTP = \"missing Intl.DateTimeFormat.formatToParts support\";\n\nfunction intUnit(regex, post = (i) => i) {\n  return { regex, deser: ([s]) => post(parseDigits(s)) };\n}\n\nconst NBSP = String.fromCharCode(160);\nconst spaceOrNBSP = `[ ${NBSP}]`;\nconst spaceOrNBSPRegExp = new RegExp(spaceOrNBSP, \"g\");\n\nfunction fixListRegex(s) {\n  // make dots optional and also make them literal\n  // make space and non breakable space characters interchangeable\n  return s.replace(/\\./g, \"\\\\.?\").replace(spaceOrNBSPRegExp, spaceOrNBSP);\n}\n\nfunction stripInsensitivities(s) {\n  return s\n    .replace(/\\./g, \"\") // ignore dots that were made optional\n    .replace(spaceOrNBSPRegExp, \" \") // interchange space and nbsp\n    .toLowerCase();\n}\n\nfunction oneOf(strings, startIndex) {\n  if (strings === null) {\n    return null;\n  } else {\n    return {\n      regex: RegExp(strings.map(fixListRegex).join(\"|\")),\n      deser: ([s]) =>\n        strings.findIndex((i) => stripInsensitivities(s) === stripInsensitivities(i)) + startIndex,\n    };\n  }\n}\n\nfunction offset(regex, groups) {\n  return { regex, deser: ([, h, m]) => signedOffset(h, m), groups };\n}\n\nfunction simple(regex) {\n  return { regex, deser: ([s]) => s };\n}\n\nfunction escapeToken(value) {\n  return value.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, \"\\\\$&\");\n}\n\n/**\n * @param token\n * @param {Locale} loc\n */\nfunction unitForToken(token, loc) {\n  const one = digitRegex(loc),\n    two = digitRegex(loc, \"{2}\"),\n    three = digitRegex(loc, \"{3}\"),\n    four = digitRegex(loc, \"{4}\"),\n    six = digitRegex(loc, \"{6}\"),\n    oneOrTwo = digitRegex(loc, \"{1,2}\"),\n    oneToThree = digitRegex(loc, \"{1,3}\"),\n    oneToSix = digitRegex(loc, \"{1,6}\"),\n    oneToNine = digitRegex(loc, \"{1,9}\"),\n    twoToFour = digitRegex(loc, \"{2,4}\"),\n    fourToSix = digitRegex(loc, \"{4,6}\"),\n    literal = (t) => ({ regex: RegExp(escapeToken(t.val)), deser: ([s]) => s, literal: true }),\n    unitate = (t) => {\n      if (token.literal) {\n        return literal(t);\n      }\n      switch (t.val) {\n        // era\n        case \"G\":\n          return oneOf(loc.eras(\"short\"), 0);\n        case \"GG\":\n          return oneOf(loc.eras(\"long\"), 0);\n        // years\n        case \"y\":\n          return intUnit(oneToSix);\n        case \"yy\":\n          return intUnit(twoToFour, untruncateYear);\n        case \"yyyy\":\n          return intUnit(four);\n        case \"yyyyy\":\n          return intUnit(fourToSix);\n        case \"yyyyyy\":\n          return intUnit(six);\n        // months\n        case \"M\":\n          return intUnit(oneOrTwo);\n        case \"MM\":\n          return intUnit(two);\n        case \"MMM\":\n          return oneOf(loc.months(\"short\", true), 1);\n        case \"MMMM\":\n          return oneOf(loc.months(\"long\", true), 1);\n        case \"L\":\n          return intUnit(oneOrTwo);\n        case \"LL\":\n          return intUnit(two);\n        case \"LLL\":\n          return oneOf(loc.months(\"short\", false), 1);\n        case \"LLLL\":\n          return oneOf(loc.months(\"long\", false), 1);\n        // dates\n        case \"d\":\n          return intUnit(oneOrTwo);\n        case \"dd\":\n          return intUnit(two);\n        // ordinals\n        case \"o\":\n          return intUnit(oneToThree);\n        case \"ooo\":\n          return intUnit(three);\n        // time\n        case \"HH\":\n          return intUnit(two);\n        case \"H\":\n          return intUnit(oneOrTwo);\n        case \"hh\":\n          return intUnit(two);\n        case \"h\":\n          return intUnit(oneOrTwo);\n        case \"mm\":\n          return intUnit(two);\n        case \"m\":\n          return intUnit(oneOrTwo);\n        case \"q\":\n          return intUnit(oneOrTwo);\n        case \"qq\":\n          return intUnit(two);\n        case \"s\":\n          return intUnit(oneOrTwo);\n        case \"ss\":\n          return intUnit(two);\n        case \"S\":\n          return intUnit(oneToThree);\n        case \"SSS\":\n          return intUnit(three);\n        case \"u\":\n          return simple(oneToNine);\n        case \"uu\":\n          return simple(oneOrTwo);\n        case \"uuu\":\n          return intUnit(one);\n        // meridiem\n        case \"a\":\n          return oneOf(loc.meridiems(), 0);\n        // weekYear (k)\n        case \"kkkk\":\n          return intUnit(four);\n        case \"kk\":\n          return intUnit(twoToFour, untruncateYear);\n        // weekNumber (W)\n        case \"W\":\n          return intUnit(oneOrTwo);\n        case \"WW\":\n          return intUnit(two);\n        // weekdays\n        case \"E\":\n        case \"c\":\n          return intUnit(one);\n        case \"EEE\":\n          return oneOf(loc.weekdays(\"short\", false), 1);\n        case \"EEEE\":\n          return oneOf(loc.weekdays(\"long\", false), 1);\n        case \"ccc\":\n          return oneOf(loc.weekdays(\"short\", true), 1);\n        case \"cccc\":\n          return oneOf(loc.weekdays(\"long\", true), 1);\n        // offset/zone\n        case \"Z\":\n        case \"ZZ\":\n          return offset(new RegExp(`([+-]${oneOrTwo.source})(?::(${two.source}))?`), 2);\n        case \"ZZZ\":\n          return offset(new RegExp(`([+-]${oneOrTwo.source})(${two.source})?`), 2);\n        // we don't support ZZZZ (PST) or ZZZZZ (Pacific Standard Time) in parsing\n        // because we don't have any way to figure out what they are\n        case \"z\":\n          return simple(/[a-z_+-/]{1,256}?/i);\n        // this special-case \"token\" represents a place where a macro-token expanded into a white-space literal\n        // in this case we accept any non-newline white-space\n        case \" \":\n          return simple(/[^\\S\\n\\r]/);\n        default:\n          return literal(t);\n      }\n    };\n\n  const unit = unitate(token) || {\n    invalidReason: MISSING_FTP,\n  };\n\n  unit.token = token;\n\n  return unit;\n}\n\nconst partTypeStyleToTokenVal = {\n  year: {\n    \"2-digit\": \"yy\",\n    numeric: \"yyyyy\",\n  },\n  month: {\n    numeric: \"M\",\n    \"2-digit\": \"MM\",\n    short: \"MMM\",\n    long: \"MMMM\",\n  },\n  day: {\n    numeric: \"d\",\n    \"2-digit\": \"dd\",\n  },\n  weekday: {\n    short: \"EEE\",\n    long: \"EEEE\",\n  },\n  dayperiod: \"a\",\n  dayPeriod: \"a\",\n  hour12: {\n    numeric: \"h\",\n    \"2-digit\": \"hh\",\n  },\n  hour24: {\n    numeric: \"H\",\n    \"2-digit\": \"HH\",\n  },\n  minute: {\n    numeric: \"m\",\n    \"2-digit\": \"mm\",\n  },\n  second: {\n    numeric: \"s\",\n    \"2-digit\": \"ss\",\n  },\n  timeZoneName: {\n    long: \"ZZZZZ\",\n    short: \"ZZZ\",\n  },\n};\n\nfunction tokenForPart(part, formatOpts, resolvedOpts) {\n  const { type, value } = part;\n\n  if (type === \"literal\") {\n    const isSpace = /^\\s+$/.test(value);\n    return {\n      literal: !isSpace,\n      val: isSpace ? \" \" : value,\n    };\n  }\n\n  const style = formatOpts[type];\n\n  // The user might have explicitly specified hour12 or hourCycle\n  // if so, respect their decision\n  // if not, refer back to the resolvedOpts, which are based on the locale\n  let actualType = type;\n  if (type === \"hour\") {\n    if (formatOpts.hour12 != null) {\n      actualType = formatOpts.hour12 ? \"hour12\" : \"hour24\";\n    } else if (formatOpts.hourCycle != null) {\n      if (formatOpts.hourCycle === \"h11\" || formatOpts.hourCycle === \"h12\") {\n        actualType = \"hour12\";\n      } else {\n        actualType = \"hour24\";\n      }\n    } else {\n      // tokens only differentiate between 24 hours or not,\n      // so we do not need to check hourCycle here, which is less supported anyways\n      actualType = resolvedOpts.hour12 ? \"hour12\" : \"hour24\";\n    }\n  }\n  let val = partTypeStyleToTokenVal[actualType];\n  if (typeof val === \"object\") {\n    val = val[style];\n  }\n\n  if (val) {\n    return {\n      literal: false,\n      val,\n    };\n  }\n\n  return undefined;\n}\n\nfunction buildRegex(units) {\n  const re = units.map((u) => u.regex).reduce((f, r) => `${f}(${r.source})`, \"\");\n  return [`^${re}$`, units];\n}\n\nfunction match(input, regex, handlers) {\n  const matches = input.match(regex);\n\n  if (matches) {\n    const all = {};\n    let matchIndex = 1;\n    for (const i in handlers) {\n      if (hasOwnProperty(handlers, i)) {\n        const h = handlers[i],\n          groups = h.groups ? h.groups + 1 : 1;\n        if (!h.literal && h.token) {\n          all[h.token.val[0]] = h.deser(matches.slice(matchIndex, matchIndex + groups));\n        }\n        matchIndex += groups;\n      }\n    }\n    return [matches, all];\n  } else {\n    return [matches, {}];\n  }\n}\n\nfunction dateTimeFromMatches(matches) {\n  const toField = (token) => {\n    switch (token) {\n      case \"S\":\n        return \"millisecond\";\n      case \"s\":\n        return \"second\";\n      case \"m\":\n        return \"minute\";\n      case \"h\":\n      case \"H\":\n        return \"hour\";\n      case \"d\":\n        return \"day\";\n      case \"o\":\n        return \"ordinal\";\n      case \"L\":\n      case \"M\":\n        return \"month\";\n      case \"y\":\n        return \"year\";\n      case \"E\":\n      case \"c\":\n        return \"weekday\";\n      case \"W\":\n        return \"weekNumber\";\n      case \"k\":\n        return \"weekYear\";\n      case \"q\":\n        return \"quarter\";\n      default:\n        return null;\n    }\n  };\n\n  let zone = null;\n  let specificOffset;\n  if (!isUndefined(matches.z)) {\n    zone = IANAZone.create(matches.z);\n  }\n\n  if (!isUndefined(matches.Z)) {\n    if (!zone) {\n      zone = new FixedOffsetZone(matches.Z);\n    }\n    specificOffset = matches.Z;\n  }\n\n  if (!isUndefined(matches.q)) {\n    matches.M = (matches.q - 1) * 3 + 1;\n  }\n\n  if (!isUndefined(matches.h)) {\n    if (matches.h < 12 && matches.a === 1) {\n      matches.h += 12;\n    } else if (matches.h === 12 && matches.a === 0) {\n      matches.h = 0;\n    }\n  }\n\n  if (matches.G === 0 && matches.y) {\n    matches.y = -matches.y;\n  }\n\n  if (!isUndefined(matches.u)) {\n    matches.S = parseMillis(matches.u);\n  }\n\n  const vals = Object.keys(matches).reduce((r, k) => {\n    const f = toField(k);\n    if (f) {\n      r[f] = matches[k];\n    }\n\n    return r;\n  }, {});\n\n  return [vals, zone, specificOffset];\n}\n\nlet dummyDateTimeCache = null;\n\nfunction getDummyDateTime() {\n  if (!dummyDateTimeCache) {\n    dummyDateTimeCache = DateTime.fromMillis(1555555555555);\n  }\n\n  return dummyDateTimeCache;\n}\n\nfunction maybeExpandMacroToken(token, locale) {\n  if (token.literal) {\n    return token;\n  }\n\n  const formatOpts = Formatter.macroTokenToFormatOpts(token.val);\n  const tokens = formatOptsToTokens(formatOpts, locale);\n\n  if (tokens == null || tokens.includes(undefined)) {\n    return token;\n  }\n\n  return tokens;\n}\n\nexport function expandMacroTokens(tokens, locale) {\n  return Array.prototype.concat(...tokens.map((t) => maybeExpandMacroToken(t, locale)));\n}\n\n/**\n * @private\n */\n\nexport class TokenParser {\n  constructor(locale, format) {\n    this.locale = locale;\n    this.format = format;\n    this.tokens = expandMacroTokens(Formatter.parseFormat(format), locale);\n    this.units = this.tokens.map((t) => unitForToken(t, locale));\n    this.disqualifyingUnit = this.units.find((t) => t.invalidReason);\n\n    if (!this.disqualifyingUnit) {\n      const [regexString, handlers] = buildRegex(this.units);\n      this.regex = RegExp(regexString, \"i\");\n      this.handlers = handlers;\n    }\n  }\n\n  explainFromTokens(input) {\n    if (!this.isValid) {\n      return { input, tokens: this.tokens, invalidReason: this.invalidReason };\n    } else {\n      const [rawMatches, matches] = match(input, this.regex, this.handlers),\n        [result, zone, specificOffset] = matches\n          ? dateTimeFromMatches(matches)\n          : [null, null, undefined];\n      if (hasOwnProperty(matches, \"a\") && hasOwnProperty(matches, \"H\")) {\n        throw new ConflictingSpecificationError(\n          \"Can't include meridiem when specifying 24-hour format\"\n        );\n      }\n      return {\n        input,\n        tokens: this.tokens,\n        regex: this.regex,\n        rawMatches,\n        matches,\n        result,\n        zone,\n        specificOffset,\n      };\n    }\n  }\n\n  get isValid() {\n    return !this.disqualifyingUnit;\n  }\n\n  get invalidReason() {\n    return this.disqualifyingUnit ? this.disqualifyingUnit.invalidReason : null;\n  }\n}\n\nexport function explainFromTokens(locale, input, format) {\n  const parser = new TokenParser(locale, format);\n  return parser.explainFromTokens(input);\n}\n\nexport function parseFromTokens(locale, input, format) {\n  const { result, zone, specificOffset, invalidReason } = explainFromTokens(locale, input, format);\n  return [result, zone, specificOffset, invalidReason];\n}\n\nexport function formatOptsToTokens(formatOpts, locale) {\n  if (!formatOpts) {\n    return null;\n  }\n\n  const formatter = Formatter.create(locale, formatOpts);\n  const df = formatter.dtFormatter(getDummyDateTime());\n  const parts = df.formatToParts();\n  const resolvedOpts = df.resolvedOptions();\n  return parts.map((p) => tokenForPart(p, formatOpts, resolvedOpts));\n}\n","import Duration from \"./duration.js\";\nimport Interval from \"./interval.js\";\nimport Settings from \"./settings.js\";\nimport Info from \"./info.js\";\nimport Formatter from \"./impl/formatter.js\";\nimport FixedOffsetZone from \"./zones/fixedOffsetZone.js\";\nimport Locale from \"./impl/locale.js\";\nimport {\n  isUndefined,\n  maybeArray,\n  isDate,\n  isNumber,\n  bestBy,\n  daysInMonth,\n  daysInYear,\n  isLeapYear,\n  weeksInWeekYear,\n  normalizeObject,\n  roundTo,\n  objToLocalTS,\n  padStart,\n} from \"./impl/util.js\";\nimport { normalizeZone } from \"./impl/zoneUtil.js\";\nimport diff from \"./impl/diff.js\";\nimport { parseRFC2822Date, parseISODate, parseHTTPDate, parseSQL } from \"./impl/regexParser.js\";\nimport {\n  parseFromTokens,\n  explainFromTokens,\n  formatOptsToTokens,\n  expandMacroTokens,\n  TokenParser,\n} from \"./impl/tokenParser.js\";\nimport {\n  gregorianToWeek,\n  weekToGregorian,\n  gregorianToOrdinal,\n  ordinalToGregorian,\n  hasInvalidGregorianData,\n  hasInvalidWeekData,\n  hasInvalidOrdinalData,\n  hasInvalidTimeData,\n  usesLocalWeekValues,\n  isoWeekdayToLocal,\n} from \"./impl/conversions.js\";\nimport * as Formats from \"./impl/formats.js\";\nimport {\n  InvalidArgumentError,\n  ConflictingSpecificationError,\n  InvalidUnitError,\n  InvalidDateTimeError,\n} from \"./errors.js\";\nimport Invalid from \"./impl/invalid.js\";\n\nconst INVALID = \"Invalid DateTime\";\nconst MAX_DATE = 8.64e15;\n\nfunction unsupportedZone(zone) {\n  return new Invalid(\"unsupported zone\", `the zone \"${zone.name}\" is not supported`);\n}\n\n// we cache week data on the DT object and this intermediates the cache\n/**\n * @param {DateTime} dt\n */\nfunction possiblyCachedWeekData(dt) {\n  if (dt.weekData === null) {\n    dt.weekData = gregorianToWeek(dt.c);\n  }\n  return dt.weekData;\n}\n\n/**\n * @param {DateTime} dt\n */\nfunction possiblyCachedLocalWeekData(dt) {\n  if (dt.localWeekData === null) {\n    dt.localWeekData = gregorianToWeek(\n      dt.c,\n      dt.loc.getMinDaysInFirstWeek(),\n      dt.loc.getStartOfWeek()\n    );\n  }\n  return dt.localWeekData;\n}\n\n// clone really means, \"make a new object with these modifications\". all \"setters\" really use this\n// to create a new object while only changing some of the properties\nfunction clone(inst, alts) {\n  const current = {\n    ts: inst.ts,\n    zone: inst.zone,\n    c: inst.c,\n    o: inst.o,\n    loc: inst.loc,\n    invalid: inst.invalid,\n  };\n  return new DateTime({ ...current, ...alts, old: current });\n}\n\n// find the right offset a given local time. The o input is our guess, which determines which\n// offset we'll pick in ambiguous cases (e.g. there are two 3 AMs b/c Fallback DST)\nfunction fixOffset(localTS, o, tz) {\n  // Our UTC time is just a guess because our offset is just a guess\n  let utcGuess = localTS - o * 60 * 1000;\n\n  // Test whether the zone matches the offset for this ts\n  const o2 = tz.offset(utcGuess);\n\n  // If so, offset didn't change and we're done\n  if (o === o2) {\n    return [utcGuess, o];\n  }\n\n  // If not, change the ts by the difference in the offset\n  utcGuess -= (o2 - o) * 60 * 1000;\n\n  // If that gives us the local time we want, we're done\n  const o3 = tz.offset(utcGuess);\n  if (o2 === o3) {\n    return [utcGuess, o2];\n  }\n\n  // If it's different, we're in a hole time. The offset has changed, but the we don't adjust the time\n  return [localTS - Math.min(o2, o3) * 60 * 1000, Math.max(o2, o3)];\n}\n\n// convert an epoch timestamp into a calendar object with the given offset\nfunction tsToObj(ts, offset) {\n  ts += offset * 60 * 1000;\n\n  const d = new Date(ts);\n\n  return {\n    year: d.getUTCFullYear(),\n    month: d.getUTCMonth() + 1,\n    day: d.getUTCDate(),\n    hour: d.getUTCHours(),\n    minute: d.getUTCMinutes(),\n    second: d.getUTCSeconds(),\n    millisecond: d.getUTCMilliseconds(),\n  };\n}\n\n// convert a calendar object to a epoch timestamp\nfunction objToTS(obj, offset, zone) {\n  return fixOffset(objToLocalTS(obj), offset, zone);\n}\n\n// create a new DT instance by adding a duration, adjusting for DSTs\nfunction adjustTime(inst, dur) {\n  const oPre = inst.o,\n    year = inst.c.year + Math.trunc(dur.years),\n    month = inst.c.month + Math.trunc(dur.months) + Math.trunc(dur.quarters) * 3,\n    c = {\n      ...inst.c,\n      year,\n      month,\n      day:\n        Math.min(inst.c.day, daysInMonth(year, month)) +\n        Math.trunc(dur.days) +\n        Math.trunc(dur.weeks) * 7,\n    },\n    millisToAdd = Duration.fromObject({\n      years: dur.years - Math.trunc(dur.years),\n      quarters: dur.quarters - Math.trunc(dur.quarters),\n      months: dur.months - Math.trunc(dur.months),\n      weeks: dur.weeks - Math.trunc(dur.weeks),\n      days: dur.days - Math.trunc(dur.days),\n      hours: dur.hours,\n      minutes: dur.minutes,\n      seconds: dur.seconds,\n      milliseconds: dur.milliseconds,\n    }).as(\"milliseconds\"),\n    localTS = objToLocalTS(c);\n\n  let [ts, o] = fixOffset(localTS, oPre, inst.zone);\n\n  if (millisToAdd !== 0) {\n    ts += millisToAdd;\n    // that could have changed the offset by going over a DST, but we want to keep the ts the same\n    o = inst.zone.offset(ts);\n  }\n\n  return { ts, o };\n}\n\n// helper useful in turning the results of parsing into real dates\n// by handling the zone options\nfunction parseDataToDateTime(parsed, parsedZone, opts, format, text, specificOffset) {\n  const { setZone, zone } = opts;\n  if ((parsed && Object.keys(parsed).length !== 0) || parsedZone) {\n    const interpretationZone = parsedZone || zone,\n      inst = DateTime.fromObject(parsed, {\n        ...opts,\n        zone: interpretationZone,\n        specificOffset,\n      });\n    return setZone ? inst : inst.setZone(zone);\n  } else {\n    return DateTime.invalid(\n      new Invalid(\"unparsable\", `the input \"${text}\" can't be parsed as ${format}`)\n    );\n  }\n}\n\n// if you want to output a technical format (e.g. RFC 2822), this helper\n// helps handle the details\nfunction toTechFormat(dt, format, allowZ = true) {\n  return dt.isValid\n    ? Formatter.create(Locale.create(\"en-US\"), {\n        allowZ,\n        forceSimple: true,\n      }).formatDateTimeFromString(dt, format)\n    : null;\n}\n\nfunction toISODate(o, extended) {\n  const longFormat = o.c.year > 9999 || o.c.year < 0;\n  let c = \"\";\n  if (longFormat && o.c.year >= 0) c += \"+\";\n  c += padStart(o.c.year, longFormat ? 6 : 4);\n\n  if (extended) {\n    c += \"-\";\n    c += padStart(o.c.month);\n    c += \"-\";\n    c += padStart(o.c.day);\n  } else {\n    c += padStart(o.c.month);\n    c += padStart(o.c.day);\n  }\n  return c;\n}\n\nfunction toISOTime(\n  o,\n  extended,\n  suppressSeconds,\n  suppressMilliseconds,\n  includeOffset,\n  extendedZone\n) {\n  let c = padStart(o.c.hour);\n  if (extended) {\n    c += \":\";\n    c += padStart(o.c.minute);\n    if (o.c.millisecond !== 0 || o.c.second !== 0 || !suppressSeconds) {\n      c += \":\";\n    }\n  } else {\n    c += padStart(o.c.minute);\n  }\n\n  if (o.c.millisecond !== 0 || o.c.second !== 0 || !suppressSeconds) {\n    c += padStart(o.c.second);\n\n    if (o.c.millisecond !== 0 || !suppressMilliseconds) {\n      c += \".\";\n      c += padStart(o.c.millisecond, 3);\n    }\n  }\n\n  if (includeOffset) {\n    if (o.isOffsetFixed && o.offset === 0 && !extendedZone) {\n      c += \"Z\";\n    } else if (o.o < 0) {\n      c += \"-\";\n      c += padStart(Math.trunc(-o.o / 60));\n      c += \":\";\n      c += padStart(Math.trunc(-o.o % 60));\n    } else {\n      c += \"+\";\n      c += padStart(Math.trunc(o.o / 60));\n      c += \":\";\n      c += padStart(Math.trunc(o.o % 60));\n    }\n  }\n\n  if (extendedZone) {\n    c += \"[\" + o.zone.ianaName + \"]\";\n  }\n  return c;\n}\n\n// defaults for unspecified units in the supported calendars\nconst defaultUnitValues = {\n    month: 1,\n    day: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n  },\n  defaultWeekUnitValues = {\n    weekNumber: 1,\n    weekday: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n  },\n  defaultOrdinalUnitValues = {\n    ordinal: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n  };\n\n// Units in the supported calendars, sorted by bigness\nconst orderedUnits = [\"year\", \"month\", \"day\", \"hour\", \"minute\", \"second\", \"millisecond\"],\n  orderedWeekUnits = [\n    \"weekYear\",\n    \"weekNumber\",\n    \"weekday\",\n    \"hour\",\n    \"minute\",\n    \"second\",\n    \"millisecond\",\n  ],\n  orderedOrdinalUnits = [\"year\", \"ordinal\", \"hour\", \"minute\", \"second\", \"millisecond\"];\n\n// standardize case and plurality in units\nfunction normalizeUnit(unit) {\n  const normalized = {\n    year: \"year\",\n    years: \"year\",\n    month: \"month\",\n    months: \"month\",\n    day: \"day\",\n    days: \"day\",\n    hour: \"hour\",\n    hours: \"hour\",\n    minute: \"minute\",\n    minutes: \"minute\",\n    quarter: \"quarter\",\n    quarters: \"quarter\",\n    second: \"second\",\n    seconds: \"second\",\n    millisecond: \"millisecond\",\n    milliseconds: \"millisecond\",\n    weekday: \"weekday\",\n    weekdays: \"weekday\",\n    weeknumber: \"weekNumber\",\n    weeksnumber: \"weekNumber\",\n    weeknumbers: \"weekNumber\",\n    weekyear: \"weekYear\",\n    weekyears: \"weekYear\",\n    ordinal: \"ordinal\",\n  }[unit.toLowerCase()];\n\n  if (!normalized) throw new InvalidUnitError(unit);\n\n  return normalized;\n}\n\nfunction normalizeUnitWithLocalWeeks(unit) {\n  switch (unit.toLowerCase()) {\n    case \"localweekday\":\n    case \"localweekdays\":\n      return \"localWeekday\";\n    case \"localweeknumber\":\n    case \"localweeknumbers\":\n      return \"localWeekNumber\";\n    case \"localweekyear\":\n    case \"localweekyears\":\n      return \"localWeekYear\";\n    default:\n      return normalizeUnit(unit);\n  }\n}\n\n// cache offsets for zones based on the current timestamp when this function is\n// first called. When we are handling a datetime from components like (year,\n// month, day, hour) in a time zone, we need a guess about what the timezone\n// offset is so that we can convert into a UTC timestamp. One way is to find the\n// offset of now in the zone. The actual date may have a different offset (for\n// example, if we handle a date in June while we're in December in a zone that\n// observes DST), but we can check and adjust that.\n//\n// When handling many dates, calculating the offset for now every time is\n// expensive. It's just a guess, so we can cache the offset to use even if we\n// are right on a time change boundary (we'll just correct in the other\n// direction). Using a timestamp from first read is a slight optimization for\n// handling dates close to the current date, since those dates will usually be\n// in the same offset (we could set the timestamp statically, instead). We use a\n// single timestamp for all zones to make things a bit more predictable.\n//\n// This is safe for quickDT (used by local() and utc()) because we don't fill in\n// higher-order units from tsNow (as we do in fromObject, this requires that\n// offset is calculated from tsNow).\n/**\n * @param {Zone} zone\n * @return {number}\n */\nfunction guessOffsetForZone(zone) {\n  if (zoneOffsetTs === undefined) {\n    zoneOffsetTs = Settings.now();\n  }\n\n  // Do not cache anything but IANA zones, because it is not safe to do so.\n  // Guessing an offset which is not present in the zone can cause wrong results from fixOffset\n  if (zone.type !== \"iana\") {\n    return zone.offset(zoneOffsetTs);\n  }\n  const zoneName = zone.name;\n  let offsetGuess = zoneOffsetGuessCache.get(zoneName);\n  if (offsetGuess === undefined) {\n    offsetGuess = zone.offset(zoneOffsetTs);\n    zoneOffsetGuessCache.set(zoneName, offsetGuess);\n  }\n  return offsetGuess;\n}\n\n// this is a dumbed down version of fromObject() that runs about 60% faster\n// but doesn't do any validation, makes a bunch of assumptions about what units\n// are present, and so on.\nfunction quickDT(obj, opts) {\n  const zone = normalizeZone(opts.zone, Settings.defaultZone);\n  if (!zone.isValid) {\n    return DateTime.invalid(unsupportedZone(zone));\n  }\n\n  const loc = Locale.fromObject(opts);\n\n  let ts, o;\n\n  // assume we have the higher-order units\n  if (!isUndefined(obj.year)) {\n    for (const u of orderedUnits) {\n      if (isUndefined(obj[u])) {\n        obj[u] = defaultUnitValues[u];\n      }\n    }\n\n    const invalid = hasInvalidGregorianData(obj) || hasInvalidTimeData(obj);\n    if (invalid) {\n      return DateTime.invalid(invalid);\n    }\n\n    const offsetProvis = guessOffsetForZone(zone);\n    [ts, o] = objToTS(obj, offsetProvis, zone);\n  } else {\n    ts = Settings.now();\n  }\n\n  return new DateTime({ ts, zone, loc, o });\n}\n\nfunction diffRelative(start, end, opts) {\n  const round = isUndefined(opts.round) ? true : opts.round,\n    format = (c, unit) => {\n      c = roundTo(c, round || opts.calendary ? 0 : 2, true);\n      const formatter = end.loc.clone(opts).relFormatter(opts);\n      return formatter.format(c, unit);\n    },\n    differ = (unit) => {\n      if (opts.calendary) {\n        if (!end.hasSame(start, unit)) {\n          return end.startOf(unit).diff(start.startOf(unit), unit).get(unit);\n        } else return 0;\n      } else {\n        return end.diff(start, unit).get(unit);\n      }\n    };\n\n  if (opts.unit) {\n    return format(differ(opts.unit), opts.unit);\n  }\n\n  for (const unit of opts.units) {\n    const count = differ(unit);\n    if (Math.abs(count) >= 1) {\n      return format(count, unit);\n    }\n  }\n  return format(start > end ? -0 : 0, opts.units[opts.units.length - 1]);\n}\n\nfunction lastOpts(argList) {\n  let opts = {},\n    args;\n  if (argList.length > 0 && typeof argList[argList.length - 1] === \"object\") {\n    opts = argList[argList.length - 1];\n    args = Array.from(argList).slice(0, argList.length - 1);\n  } else {\n    args = Array.from(argList);\n  }\n  return [opts, args];\n}\n\n/**\n * Timestamp to use for cached zone offset guesses (exposed for test)\n */\nlet zoneOffsetTs;\n/**\n * Cache for zone offset guesses (exposed for test).\n *\n * This optimizes quickDT via guessOffsetForZone to avoid repeated calls of\n * zone.offset().\n */\nconst zoneOffsetGuessCache = new Map();\n\n/**\n * A DateTime is an immutable data structure representing a specific date and time and accompanying methods. It contains class and instance methods for creating, parsing, interrogating, transforming, and formatting them.\n *\n * A DateTime comprises of:\n * * A timestamp. Each DateTime instance refers to a specific millisecond of the Unix epoch.\n * * A time zone. Each instance is considered in the context of a specific zone (by default the local system's zone).\n * * Configuration properties that effect how output strings are formatted, such as `locale`, `numberingSystem`, and `outputCalendar`.\n *\n * Here is a brief overview of the most commonly used functionality it provides:\n *\n * * **Creation**: To create a DateTime from its components, use one of its factory class methods: {@link DateTime.local}, {@link DateTime.utc}, and (most flexibly) {@link DateTime.fromObject}. To create one from a standard string format, use {@link DateTime.fromISO}, {@link DateTime.fromHTTP}, and {@link DateTime.fromRFC2822}. To create one from a custom string format, use {@link DateTime.fromFormat}. To create one from a native JS date, use {@link DateTime.fromJSDate}.\n * * **Gregorian calendar and time**: To examine the Gregorian properties of a DateTime individually (i.e as opposed to collectively through {@link DateTime#toObject}), use the {@link DateTime#year}, {@link DateTime#month},\n * {@link DateTime#day}, {@link DateTime#hour}, {@link DateTime#minute}, {@link DateTime#second}, {@link DateTime#millisecond} accessors.\n * * **Week calendar**: For ISO week calendar attributes, see the {@link DateTime#weekYear}, {@link DateTime#weekNumber}, and {@link DateTime#weekday} accessors.\n * * **Configuration** See the {@link DateTime#locale} and {@link DateTime#numberingSystem} accessors.\n * * **Transformation**: To transform the DateTime into other DateTimes, use {@link DateTime#set}, {@link DateTime#reconfigure}, {@link DateTime#setZone}, {@link DateTime#setLocale}, {@link DateTime.plus}, {@link DateTime#minus}, {@link DateTime#endOf}, {@link DateTime#startOf}, {@link DateTime#toUTC}, and {@link DateTime#toLocal}.\n * * **Output**: To convert the DateTime to other representations, use the {@link DateTime#toRelative}, {@link DateTime#toRelativeCalendar}, {@link DateTime#toJSON}, {@link DateTime#toISO}, {@link DateTime#toHTTP}, {@link DateTime#toObject}, {@link DateTime#toRFC2822}, {@link DateTime#toString}, {@link DateTime#toLocaleString}, {@link DateTime#toFormat}, {@link DateTime#toMillis} and {@link DateTime#toJSDate}.\n *\n * There's plenty others documented below. In addition, for more information on subtler topics like internationalization, time zones, alternative calendars, validity, and so on, see the external documentation.\n */\nexport default class DateTime {\n  /**\n   * @access private\n   */\n  constructor(config) {\n    const zone = config.zone || Settings.defaultZone;\n\n    let invalid =\n      config.invalid ||\n      (Number.isNaN(config.ts) ? new Invalid(\"invalid input\") : null) ||\n      (!zone.isValid ? unsupportedZone(zone) : null);\n    /**\n     * @access private\n     */\n    this.ts = isUndefined(config.ts) ? Settings.now() : config.ts;\n\n    let c = null,\n      o = null;\n    if (!invalid) {\n      const unchanged = config.old && config.old.ts === this.ts && config.old.zone.equals(zone);\n\n      if (unchanged) {\n        [c, o] = [config.old.c, config.old.o];\n      } else {\n        // If an offset has been passed and we have not been called from\n        // clone(), we can trust it and avoid the offset calculation.\n        const ot = isNumber(config.o) && !config.old ? config.o : zone.offset(this.ts);\n        c = tsToObj(this.ts, ot);\n        invalid = Number.isNaN(c.year) ? new Invalid(\"invalid input\") : null;\n        c = invalid ? null : c;\n        o = invalid ? null : ot;\n      }\n    }\n\n    /**\n     * @access private\n     */\n    this._zone = zone;\n    /**\n     * @access private\n     */\n    this.loc = config.loc || Locale.create();\n    /**\n     * @access private\n     */\n    this.invalid = invalid;\n    /**\n     * @access private\n     */\n    this.weekData = null;\n    /**\n     * @access private\n     */\n    this.localWeekData = null;\n    /**\n     * @access private\n     */\n    this.c = c;\n    /**\n     * @access private\n     */\n    this.o = o;\n    /**\n     * @access private\n     */\n    this.isLuxonDateTime = true;\n  }\n\n  // CONSTRUCT\n\n  /**\n   * Create a DateTime for the current instant, in the system's time zone.\n   *\n   * Use Settings to override these default values if needed.\n   * @example DateTime.now().toISO() //~> now in the ISO format\n   * @return {DateTime}\n   */\n  static now() {\n    return new DateTime({});\n  }\n\n  /**\n   * Create a local DateTime\n   * @param {number} [year] - The calendar year. If omitted (as in, call `local()` with no arguments), the current time will be used\n   * @param {number} [month=1] - The month, 1-indexed\n   * @param {number} [day=1] - The day of the month, 1-indexed\n   * @param {number} [hour=0] - The hour of the day, in 24-hour time\n   * @param {number} [minute=0] - The minute of the hour, meaning a number between 0 and 59\n   * @param {number} [second=0] - The second of the minute, meaning a number between 0 and 59\n   * @param {number} [millisecond=0] - The millisecond of the second, meaning a number between 0 and 999\n   * @example DateTime.local()                                  //~> now\n   * @example DateTime.local({ zone: \"America/New_York\" })      //~> now, in US east coast time\n   * @example DateTime.local(2017)                              //~> 2017-01-01T00:00:00\n   * @example DateTime.local(2017, 3)                           //~> 2017-03-01T00:00:00\n   * @example DateTime.local(2017, 3, 12, { locale: \"fr\" })     //~> 2017-03-12T00:00:00, with a French locale\n   * @example DateTime.local(2017, 3, 12, 5)                    //~> 2017-03-12T05:00:00\n   * @example DateTime.local(2017, 3, 12, 5, { zone: \"utc\" })   //~> 2017-03-12T05:00:00, in UTC\n   * @example DateTime.local(2017, 3, 12, 5, 45)                //~> 2017-03-12T05:45:00\n   * @example DateTime.local(2017, 3, 12, 5, 45, 10)            //~> 2017-03-12T05:45:10\n   * @example DateTime.local(2017, 3, 12, 5, 45, 10, 765)       //~> 2017-03-12T05:45:10.765\n   * @return {DateTime}\n   */\n  static local() {\n    const [opts, args] = lastOpts(arguments),\n      [year, month, day, hour, minute, second, millisecond] = args;\n    return quickDT({ year, month, day, hour, minute, second, millisecond }, opts);\n  }\n\n  /**\n   * Create a DateTime in UTC\n   * @param {number} [year] - The calendar year. If omitted (as in, call `utc()` with no arguments), the current time will be used\n   * @param {number} [month=1] - The month, 1-indexed\n   * @param {number} [day=1] - The day of the month\n   * @param {number} [hour=0] - The hour of the day, in 24-hour time\n   * @param {number} [minute=0] - The minute of the hour, meaning a number between 0 and 59\n   * @param {number} [second=0] - The second of the minute, meaning a number between 0 and 59\n   * @param {number} [millisecond=0] - The millisecond of the second, meaning a number between 0 and 999\n   * @param {Object} options - configuration options for the DateTime\n   * @param {string} [options.locale] - a locale to set on the resulting DateTime instance\n   * @param {string} [options.outputCalendar] - the output calendar to set on the resulting DateTime instance\n   * @param {string} [options.numberingSystem] - the numbering system to set on the resulting DateTime instance\n   * @param {string} [options.weekSettings] - the week settings to set on the resulting DateTime instance\n   * @example DateTime.utc()                                              //~> now\n   * @example DateTime.utc(2017)                                          //~> 2017-01-01T00:00:00Z\n   * @example DateTime.utc(2017, 3)                                       //~> 2017-03-01T00:00:00Z\n   * @example DateTime.utc(2017, 3, 12)                                   //~> 2017-03-12T00:00:00Z\n   * @example DateTime.utc(2017, 3, 12, 5)                                //~> 2017-03-12T05:00:00Z\n   * @example DateTime.utc(2017, 3, 12, 5, 45)                            //~> 2017-03-12T05:45:00Z\n   * @example DateTime.utc(2017, 3, 12, 5, 45, { locale: \"fr\" })          //~> 2017-03-12T05:45:00Z with a French locale\n   * @example DateTime.utc(2017, 3, 12, 5, 45, 10)                        //~> 2017-03-12T05:45:10Z\n   * @example DateTime.utc(2017, 3, 12, 5, 45, 10, 765, { locale: \"fr\" }) //~> 2017-03-12T05:45:10.765Z with a French locale\n   * @return {DateTime}\n   */\n  static utc() {\n    const [opts, args] = lastOpts(arguments),\n      [year, month, day, hour, minute, second, millisecond] = args;\n\n    opts.zone = FixedOffsetZone.utcInstance;\n    return quickDT({ year, month, day, hour, minute, second, millisecond }, opts);\n  }\n\n  /**\n   * Create a DateTime from a JavaScript Date object. Uses the default zone.\n   * @param {Date} date - a JavaScript Date object\n   * @param {Object} options - configuration options for the DateTime\n   * @param {string|Zone} [options.zone='local'] - the zone to place the DateTime into\n   * @return {DateTime}\n   */\n  static fromJSDate(date, options = {}) {\n    const ts = isDate(date) ? date.valueOf() : NaN;\n    if (Number.isNaN(ts)) {\n      return DateTime.invalid(\"invalid input\");\n    }\n\n    const zoneToUse = normalizeZone(options.zone, Settings.defaultZone);\n    if (!zoneToUse.isValid) {\n      return DateTime.invalid(unsupportedZone(zoneToUse));\n    }\n\n    return new DateTime({\n      ts: ts,\n      zone: zoneToUse,\n      loc: Locale.fromObject(options),\n    });\n  }\n\n  /**\n   * Create a DateTime from a number of milliseconds since the epoch (meaning since 1 January 1970 00:00:00 UTC). Uses the default zone.\n   * @param {number} milliseconds - a number of milliseconds since 1970 UTC\n   * @param {Object} options - configuration options for the DateTime\n   * @param {string|Zone} [options.zone='local'] - the zone to place the DateTime into\n   * @param {string} [options.locale] - a locale to set on the resulting DateTime instance\n   * @param {string} options.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @param {string} options.numberingSystem - the numbering system to set on the resulting DateTime instance\n   * @param {string} options.weekSettings - the week settings to set on the resulting DateTime instance\n   * @return {DateTime}\n   */\n  static fromMillis(milliseconds, options = {}) {\n    if (!isNumber(milliseconds)) {\n      throw new InvalidArgumentError(\n        `fromMillis requires a numerical input, but received a ${typeof milliseconds} with value ${milliseconds}`\n      );\n    } else if (milliseconds < -MAX_DATE || milliseconds > MAX_DATE) {\n      // this isn't perfect because we can still end up out of range because of additional shifting, but it's a start\n      return DateTime.invalid(\"Timestamp out of range\");\n    } else {\n      return new DateTime({\n        ts: milliseconds,\n        zone: normalizeZone(options.zone, Settings.defaultZone),\n        loc: Locale.fromObject(options),\n      });\n    }\n  }\n\n  /**\n   * Create a DateTime from a number of seconds since the epoch (meaning since 1 January 1970 00:00:00 UTC). Uses the default zone.\n   * @param {number} seconds - a number of seconds since 1970 UTC\n   * @param {Object} options - configuration options for the DateTime\n   * @param {string|Zone} [options.zone='local'] - the zone to place the DateTime into\n   * @param {string} [options.locale] - a locale to set on the resulting DateTime instance\n   * @param {string} options.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @param {string} options.numberingSystem - the numbering system to set on the resulting DateTime instance\n   * @param {string} options.weekSettings - the week settings to set on the resulting DateTime instance\n   * @return {DateTime}\n   */\n  static fromSeconds(seconds, options = {}) {\n    if (!isNumber(seconds)) {\n      throw new InvalidArgumentError(\"fromSeconds requires a numerical input\");\n    } else {\n      return new DateTime({\n        ts: seconds * 1000,\n        zone: normalizeZone(options.zone, Settings.defaultZone),\n        loc: Locale.fromObject(options),\n      });\n    }\n  }\n\n  /**\n   * Create a DateTime from a JavaScript object with keys like 'year' and 'hour' with reasonable defaults.\n   * @param {Object} obj - the object to create the DateTime from\n   * @param {number} obj.year - a year, such as 1987\n   * @param {number} obj.month - a month, 1-12\n   * @param {number} obj.day - a day of the month, 1-31, depending on the month\n   * @param {number} obj.ordinal - day of the year, 1-365 or 366\n   * @param {number} obj.weekYear - an ISO week year\n   * @param {number} obj.weekNumber - an ISO week number, between 1 and 52 or 53, depending on the year\n   * @param {number} obj.weekday - an ISO weekday, 1-7, where 1 is Monday and 7 is Sunday\n   * @param {number} obj.localWeekYear - a week year, according to the locale\n   * @param {number} obj.localWeekNumber - a week number, between 1 and 52 or 53, depending on the year, according to the locale\n   * @param {number} obj.localWeekday - a weekday, 1-7, where 1 is the first and 7 is the last day of the week, according to the locale\n   * @param {number} obj.hour - hour of the day, 0-23\n   * @param {number} obj.minute - minute of the hour, 0-59\n   * @param {number} obj.second - second of the minute, 0-59\n   * @param {number} obj.millisecond - millisecond of the second, 0-999\n   * @param {Object} opts - options for creating this DateTime\n   * @param {string|Zone} [opts.zone='local'] - interpret the numbers in the context of a particular zone. Can take any value taken as the first argument to setZone()\n   * @param {string} [opts.locale='system\\'s locale'] - a locale to set on the resulting DateTime instance\n   * @param {string} opts.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @param {string} opts.numberingSystem - the numbering system to set on the resulting DateTime instance\n   * @param {string} opts.weekSettings - the week settings to set on the resulting DateTime instance\n   * @example DateTime.fromObject({ year: 1982, month: 5, day: 25}).toISODate() //=> '1982-05-25'\n   * @example DateTime.fromObject({ year: 1982 }).toISODate() //=> '1982-01-01'\n   * @example DateTime.fromObject({ hour: 10, minute: 26, second: 6 }) //~> today at 10:26:06\n   * @example DateTime.fromObject({ hour: 10, minute: 26, second: 6 }, { zone: 'utc' }),\n   * @example DateTime.fromObject({ hour: 10, minute: 26, second: 6 }, { zone: 'local' })\n   * @example DateTime.fromObject({ hour: 10, minute: 26, second: 6 }, { zone: 'America/New_York' })\n   * @example DateTime.fromObject({ weekYear: 2016, weekNumber: 2, weekday: 3 }).toISODate() //=> '2016-01-13'\n   * @example DateTime.fromObject({ localWeekYear: 2022, localWeekNumber: 1, localWeekday: 1 }, { locale: \"en-US\" }).toISODate() //=> '2021-12-26'\n   * @return {DateTime}\n   */\n  static fromObject(obj, opts = {}) {\n    obj = obj || {};\n    const zoneToUse = normalizeZone(opts.zone, Settings.defaultZone);\n    if (!zoneToUse.isValid) {\n      return DateTime.invalid(unsupportedZone(zoneToUse));\n    }\n\n    const loc = Locale.fromObject(opts);\n    const normalized = normalizeObject(obj, normalizeUnitWithLocalWeeks);\n    const { minDaysInFirstWeek, startOfWeek } = usesLocalWeekValues(normalized, loc);\n\n    const tsNow = Settings.now(),\n      offsetProvis = !isUndefined(opts.specificOffset)\n        ? opts.specificOffset\n        : zoneToUse.offset(tsNow),\n      containsOrdinal = !isUndefined(normalized.ordinal),\n      containsGregorYear = !isUndefined(normalized.year),\n      containsGregorMD = !isUndefined(normalized.month) || !isUndefined(normalized.day),\n      containsGregor = containsGregorYear || containsGregorMD,\n      definiteWeekDef = normalized.weekYear || normalized.weekNumber;\n\n    // cases:\n    // just a weekday -> this week's instance of that weekday, no worries\n    // (gregorian data or ordinal) + (weekYear or weekNumber) -> error\n    // (gregorian month or day) + ordinal -> error\n    // otherwise just use weeks or ordinals or gregorian, depending on what's specified\n\n    if ((containsGregor || containsOrdinal) && definiteWeekDef) {\n      throw new ConflictingSpecificationError(\n        \"Can't mix weekYear/weekNumber units with year/month/day or ordinals\"\n      );\n    }\n\n    if (containsGregorMD && containsOrdinal) {\n      throw new ConflictingSpecificationError(\"Can't mix ordinal dates with month/day\");\n    }\n\n    const useWeekData = definiteWeekDef || (normalized.weekday && !containsGregor);\n\n    // configure ourselves to deal with gregorian dates or week stuff\n    let units,\n      defaultValues,\n      objNow = tsToObj(tsNow, offsetProvis);\n    if (useWeekData) {\n      units = orderedWeekUnits;\n      defaultValues = defaultWeekUnitValues;\n      objNow = gregorianToWeek(objNow, minDaysInFirstWeek, startOfWeek);\n    } else if (containsOrdinal) {\n      units = orderedOrdinalUnits;\n      defaultValues = defaultOrdinalUnitValues;\n      objNow = gregorianToOrdinal(objNow);\n    } else {\n      units = orderedUnits;\n      defaultValues = defaultUnitValues;\n    }\n\n    // set default values for missing stuff\n    let foundFirst = false;\n    for (const u of units) {\n      const v = normalized[u];\n      if (!isUndefined(v)) {\n        foundFirst = true;\n      } else if (foundFirst) {\n        normalized[u] = defaultValues[u];\n      } else {\n        normalized[u] = objNow[u];\n      }\n    }\n\n    // make sure the values we have are in range\n    const higherOrderInvalid = useWeekData\n        ? hasInvalidWeekData(normalized, minDaysInFirstWeek, startOfWeek)\n        : containsOrdinal\n        ? hasInvalidOrdinalData(normalized)\n        : hasInvalidGregorianData(normalized),\n      invalid = higherOrderInvalid || hasInvalidTimeData(normalized);\n\n    if (invalid) {\n      return DateTime.invalid(invalid);\n    }\n\n    // compute the actual time\n    const gregorian = useWeekData\n        ? weekToGregorian(normalized, minDaysInFirstWeek, startOfWeek)\n        : containsOrdinal\n        ? ordinalToGregorian(normalized)\n        : normalized,\n      [tsFinal, offsetFinal] = objToTS(gregorian, offsetProvis, zoneToUse),\n      inst = new DateTime({\n        ts: tsFinal,\n        zone: zoneToUse,\n        o: offsetFinal,\n        loc,\n      });\n\n    // gregorian data + weekday serves only to validate\n    if (normalized.weekday && containsGregor && obj.weekday !== inst.weekday) {\n      return DateTime.invalid(\n        \"mismatched weekday\",\n        `you can't specify both a weekday of ${normalized.weekday} and a date of ${inst.toISO()}`\n      );\n    }\n\n    if (!inst.isValid) {\n      return DateTime.invalid(inst.invalid);\n    }\n\n    return inst;\n  }\n\n  /**\n   * Create a DateTime from an ISO 8601 string\n   * @param {string} text - the ISO string\n   * @param {Object} opts - options to affect the creation\n   * @param {string|Zone} [opts.zone='local'] - use this zone if no offset is specified in the input string itself. Will also convert the time to this zone\n   * @param {boolean} [opts.setZone=false] - override the zone with a fixed-offset zone specified in the string itself, if it specifies one\n   * @param {string} [opts.locale='system's locale'] - a locale to set on the resulting DateTime instance\n   * @param {string} [opts.outputCalendar] - the output calendar to set on the resulting DateTime instance\n   * @param {string} [opts.numberingSystem] - the numbering system to set on the resulting DateTime instance\n   * @param {string} [opts.weekSettings] - the week settings to set on the resulting DateTime instance\n   * @example DateTime.fromISO('2016-05-25T09:08:34.123')\n   * @example DateTime.fromISO('2016-05-25T09:08:34.123+06:00')\n   * @example DateTime.fromISO('2016-05-25T09:08:34.123+06:00', {setZone: true})\n   * @example DateTime.fromISO('2016-05-25T09:08:34.123', {zone: 'utc'})\n   * @example DateTime.fromISO('2016-W05-4')\n   * @return {DateTime}\n   */\n  static fromISO(text, opts = {}) {\n    const [vals, parsedZone] = parseISODate(text);\n    return parseDataToDateTime(vals, parsedZone, opts, \"ISO 8601\", text);\n  }\n\n  /**\n   * Create a DateTime from an RFC 2822 string\n   * @param {string} text - the RFC 2822 string\n   * @param {Object} opts - options to affect the creation\n   * @param {string|Zone} [opts.zone='local'] - convert the time to this zone. Since the offset is always specified in the string itself, this has no effect on the interpretation of string, merely the zone the resulting DateTime is expressed in.\n   * @param {boolean} [opts.setZone=false] - override the zone with a fixed-offset zone specified in the string itself, if it specifies one\n   * @param {string} [opts.locale='system's locale'] - a locale to set on the resulting DateTime instance\n   * @param {string} opts.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @param {string} opts.numberingSystem - the numbering system to set on the resulting DateTime instance\n   * @param {string} opts.weekSettings - the week settings to set on the resulting DateTime instance\n   * @example DateTime.fromRFC2822('25 Nov 2016 13:23:12 GMT')\n   * @example DateTime.fromRFC2822('Fri, 25 Nov 2016 13:23:12 +0600')\n   * @example DateTime.fromRFC2822('25 Nov 2016 13:23 Z')\n   * @return {DateTime}\n   */\n  static fromRFC2822(text, opts = {}) {\n    const [vals, parsedZone] = parseRFC2822Date(text);\n    return parseDataToDateTime(vals, parsedZone, opts, \"RFC 2822\", text);\n  }\n\n  /**\n   * Create a DateTime from an HTTP header date\n   * @see https://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3.1\n   * @param {string} text - the HTTP header date\n   * @param {Object} opts - options to affect the creation\n   * @param {string|Zone} [opts.zone='local'] - convert the time to this zone. Since HTTP dates are always in UTC, this has no effect on the interpretation of string, merely the zone the resulting DateTime is expressed in.\n   * @param {boolean} [opts.setZone=false] - override the zone with the fixed-offset zone specified in the string. For HTTP dates, this is always UTC, so this option is equivalent to setting the `zone` option to 'utc', but this option is included for consistency with similar methods.\n   * @param {string} [opts.locale='system's locale'] - a locale to set on the resulting DateTime instance\n   * @param {string} opts.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @param {string} opts.numberingSystem - the numbering system to set on the resulting DateTime instance\n   * @param {string} opts.weekSettings - the week settings to set on the resulting DateTime instance\n   * @example DateTime.fromHTTP('Sun, 06 Nov 1994 08:49:37 GMT')\n   * @example DateTime.fromHTTP('Sunday, 06-Nov-94 08:49:37 GMT')\n   * @example DateTime.fromHTTP('Sun Nov  6 08:49:37 1994')\n   * @return {DateTime}\n   */\n  static fromHTTP(text, opts = {}) {\n    const [vals, parsedZone] = parseHTTPDate(text);\n    return parseDataToDateTime(vals, parsedZone, opts, \"HTTP\", opts);\n  }\n\n  /**\n   * Create a DateTime from an input string and format string.\n   * Defaults to en-US if no locale has been specified, regardless of the system's locale. For a table of tokens and their interpretations, see [here](https://moment.github.io/luxon/#/parsing?id=table-of-tokens).\n   * @param {string} text - the string to parse\n   * @param {string} fmt - the format the string is expected to be in (see the link below for the formats)\n   * @param {Object} opts - options to affect the creation\n   * @param {string|Zone} [opts.zone='local'] - use this zone if no offset is specified in the input string itself. Will also convert the DateTime to this zone\n   * @param {boolean} [opts.setZone=false] - override the zone with a zone specified in the string itself, if it specifies one\n   * @param {string} [opts.locale='en-US'] - a locale string to use when parsing. Will also set the DateTime to this locale\n   * @param {string} opts.numberingSystem - the numbering system to use when parsing. Will also set the resulting DateTime to this numbering system\n   * @param {string} opts.weekSettings - the week settings to set on the resulting DateTime instance\n   * @param {string} opts.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @return {DateTime}\n   */\n  static fromFormat(text, fmt, opts = {}) {\n    if (isUndefined(text) || isUndefined(fmt)) {\n      throw new InvalidArgumentError(\"fromFormat requires an input string and a format\");\n    }\n\n    const { locale = null, numberingSystem = null } = opts,\n      localeToUse = Locale.fromOpts({\n        locale,\n        numberingSystem,\n        defaultToEN: true,\n      }),\n      [vals, parsedZone, specificOffset, invalid] = parseFromTokens(localeToUse, text, fmt);\n    if (invalid) {\n      return DateTime.invalid(invalid);\n    } else {\n      return parseDataToDateTime(vals, parsedZone, opts, `format ${fmt}`, text, specificOffset);\n    }\n  }\n\n  /**\n   * @deprecated use fromFormat instead\n   */\n  static fromString(text, fmt, opts = {}) {\n    return DateTime.fromFormat(text, fmt, opts);\n  }\n\n  /**\n   * Create a DateTime from a SQL date, time, or datetime\n   * Defaults to en-US if no locale has been specified, regardless of the system's locale\n   * @param {string} text - the string to parse\n   * @param {Object} opts - options to affect the creation\n   * @param {string|Zone} [opts.zone='local'] - use this zone if no offset is specified in the input string itself. Will also convert the DateTime to this zone\n   * @param {boolean} [opts.setZone=false] - override the zone with a zone specified in the string itself, if it specifies one\n   * @param {string} [opts.locale='en-US'] - a locale string to use when parsing. Will also set the DateTime to this locale\n   * @param {string} opts.numberingSystem - the numbering system to use when parsing. Will also set the resulting DateTime to this numbering system\n   * @param {string} opts.weekSettings - the week settings to set on the resulting DateTime instance\n   * @param {string} opts.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @example DateTime.fromSQL('2017-05-15')\n   * @example DateTime.fromSQL('2017-05-15 09:12:34')\n   * @example DateTime.fromSQL('2017-05-15 09:12:34.342')\n   * @example DateTime.fromSQL('2017-05-15 09:12:34.342+06:00')\n   * @example DateTime.fromSQL('2017-05-15 09:12:34.342 America/Los_Angeles')\n   * @example DateTime.fromSQL('2017-05-15 09:12:34.342 America/Los_Angeles', { setZone: true })\n   * @example DateTime.fromSQL('2017-05-15 09:12:34.342', { zone: 'America/Los_Angeles' })\n   * @example DateTime.fromSQL('09:12:34.342')\n   * @return {DateTime}\n   */\n  static fromSQL(text, opts = {}) {\n    const [vals, parsedZone] = parseSQL(text);\n    return parseDataToDateTime(vals, parsedZone, opts, \"SQL\", text);\n  }\n\n  /**\n   * Create an invalid DateTime.\n   * @param {string} reason - simple string of why this DateTime is invalid. Should not contain parameters or anything else data-dependent.\n   * @param {string} [explanation=null] - longer explanation, may include parameters and other useful debugging information\n   * @return {DateTime}\n   */\n  static invalid(reason, explanation = null) {\n    if (!reason) {\n      throw new InvalidArgumentError(\"need to specify a reason the DateTime is invalid\");\n    }\n\n    const invalid = reason instanceof Invalid ? reason : new Invalid(reason, explanation);\n\n    if (Settings.throwOnInvalid) {\n      throw new InvalidDateTimeError(invalid);\n    } else {\n      return new DateTime({ invalid });\n    }\n  }\n\n  /**\n   * Check if an object is an instance of DateTime. Works across context boundaries\n   * @param {object} o\n   * @return {boolean}\n   */\n  static isDateTime(o) {\n    return (o && o.isLuxonDateTime) || false;\n  }\n\n  /**\n   * Produce the format string for a set of options\n   * @param formatOpts\n   * @param localeOpts\n   * @returns {string}\n   */\n  static parseFormatForOpts(formatOpts, localeOpts = {}) {\n    const tokenList = formatOptsToTokens(formatOpts, Locale.fromObject(localeOpts));\n    return !tokenList ? null : tokenList.map((t) => (t ? t.val : null)).join(\"\");\n  }\n\n  /**\n   * Produce the the fully expanded format token for the locale\n   * Does NOT quote characters, so quoted tokens will not round trip correctly\n   * @param fmt\n   * @param localeOpts\n   * @returns {string}\n   */\n  static expandFormat(fmt, localeOpts = {}) {\n    const expanded = expandMacroTokens(Formatter.parseFormat(fmt), Locale.fromObject(localeOpts));\n    return expanded.map((t) => t.val).join(\"\");\n  }\n\n  static resetCache() {\n    zoneOffsetTs = undefined;\n    zoneOffsetGuessCache.clear();\n  }\n\n  // INFO\n\n  /**\n   * Get the value of unit.\n   * @param {string} unit - a unit such as 'minute' or 'day'\n   * @example DateTime.local(2017, 7, 4).get('month'); //=> 7\n   * @example DateTime.local(2017, 7, 4).get('day'); //=> 4\n   * @return {number}\n   */\n  get(unit) {\n    return this[unit];\n  }\n\n  /**\n   * Returns whether the DateTime is valid. Invalid DateTimes occur when:\n   * * The DateTime was created from invalid calendar information, such as the 13th month or February 30\n   * * The DateTime was created by an operation on another invalid date\n   * @type {boolean}\n   */\n  get isValid() {\n    return this.invalid === null;\n  }\n\n  /**\n   * Returns an error code if this DateTime is invalid, or null if the DateTime is valid\n   * @type {string}\n   */\n  get invalidReason() {\n    return this.invalid ? this.invalid.reason : null;\n  }\n\n  /**\n   * Returns an explanation of why this DateTime became invalid, or null if the DateTime is valid\n   * @type {string}\n   */\n  get invalidExplanation() {\n    return this.invalid ? this.invalid.explanation : null;\n  }\n\n  /**\n   * Get the locale of a DateTime, such 'en-GB'. The locale is used when formatting the DateTime\n   *\n   * @type {string}\n   */\n  get locale() {\n    return this.isValid ? this.loc.locale : null;\n  }\n\n  /**\n   * Get the numbering system of a DateTime, such 'beng'. The numbering system is used when formatting the DateTime\n   *\n   * @type {string}\n   */\n  get numberingSystem() {\n    return this.isValid ? this.loc.numberingSystem : null;\n  }\n\n  /**\n   * Get the output calendar of a DateTime, such 'islamic'. The output calendar is used when formatting the DateTime\n   *\n   * @type {string}\n   */\n  get outputCalendar() {\n    return this.isValid ? this.loc.outputCalendar : null;\n  }\n\n  /**\n   * Get the time zone associated with this DateTime.\n   * @type {Zone}\n   */\n  get zone() {\n    return this._zone;\n  }\n\n  /**\n   * Get the name of the time zone.\n   * @type {string}\n   */\n  get zoneName() {\n    return this.isValid ? this.zone.name : null;\n  }\n\n  /**\n   * Get the year\n   * @example DateTime.local(2017, 5, 25).year //=> 2017\n   * @type {number}\n   */\n  get year() {\n    return this.isValid ? this.c.year : NaN;\n  }\n\n  /**\n   * Get the quarter\n   * @example DateTime.local(2017, 5, 25).quarter //=> 2\n   * @type {number}\n   */\n  get quarter() {\n    return this.isValid ? Math.ceil(this.c.month / 3) : NaN;\n  }\n\n  /**\n   * Get the month (1-12).\n   * @example DateTime.local(2017, 5, 25).month //=> 5\n   * @type {number}\n   */\n  get month() {\n    return this.isValid ? this.c.month : NaN;\n  }\n\n  /**\n   * Get the day of the month (1-30ish).\n   * @example DateTime.local(2017, 5, 25).day //=> 25\n   * @type {number}\n   */\n  get day() {\n    return this.isValid ? this.c.day : NaN;\n  }\n\n  /**\n   * Get the hour of the day (0-23).\n   * @example DateTime.local(2017, 5, 25, 9).hour //=> 9\n   * @type {number}\n   */\n  get hour() {\n    return this.isValid ? this.c.hour : NaN;\n  }\n\n  /**\n   * Get the minute of the hour (0-59).\n   * @example DateTime.local(2017, 5, 25, 9, 30).minute //=> 30\n   * @type {number}\n   */\n  get minute() {\n    return this.isValid ? this.c.minute : NaN;\n  }\n\n  /**\n   * Get the second of the minute (0-59).\n   * @example DateTime.local(2017, 5, 25, 9, 30, 52).second //=> 52\n   * @type {number}\n   */\n  get second() {\n    return this.isValid ? this.c.second : NaN;\n  }\n\n  /**\n   * Get the millisecond of the second (0-999).\n   * @example DateTime.local(2017, 5, 25, 9, 30, 52, 654).millisecond //=> 654\n   * @type {number}\n   */\n  get millisecond() {\n    return this.isValid ? this.c.millisecond : NaN;\n  }\n\n  /**\n   * Get the week year\n   * @see https://en.wikipedia.org/wiki/ISO_week_date\n   * @example DateTime.local(2014, 12, 31).weekYear //=> 2015\n   * @type {number}\n   */\n  get weekYear() {\n    return this.isValid ? possiblyCachedWeekData(this).weekYear : NaN;\n  }\n\n  /**\n   * Get the week number of the week year (1-52ish).\n   * @see https://en.wikipedia.org/wiki/ISO_week_date\n   * @example DateTime.local(2017, 5, 25).weekNumber //=> 21\n   * @type {number}\n   */\n  get weekNumber() {\n    return this.isValid ? possiblyCachedWeekData(this).weekNumber : NaN;\n  }\n\n  /**\n   * Get the day of the week.\n   * 1 is Monday and 7 is Sunday\n   * @see https://en.wikipedia.org/wiki/ISO_week_date\n   * @example DateTime.local(2014, 11, 31).weekday //=> 4\n   * @type {number}\n   */\n  get weekday() {\n    return this.isValid ? possiblyCachedWeekData(this).weekday : NaN;\n  }\n\n  /**\n   * Returns true if this date is on a weekend according to the locale, false otherwise\n   * @returns {boolean}\n   */\n  get isWeekend() {\n    return this.isValid && this.loc.getWeekendDays().includes(this.weekday);\n  }\n\n  /**\n   * Get the day of the week according to the locale.\n   * 1 is the first day of the week and 7 is the last day of the week.\n   * If the locale assigns Sunday as the first day of the week, then a date which is a Sunday will return 1,\n   * @returns {number}\n   */\n  get localWeekday() {\n    return this.isValid ? possiblyCachedLocalWeekData(this).weekday : NaN;\n  }\n\n  /**\n   * Get the week number of the week year according to the locale. Different locales assign week numbers differently,\n   * because the week can start on different days of the week (see localWeekday) and because a different number of days\n   * is required for a week to count as the first week of a year.\n   * @returns {number}\n   */\n  get localWeekNumber() {\n    return this.isValid ? possiblyCachedLocalWeekData(this).weekNumber : NaN;\n  }\n\n  /**\n   * Get the week year according to the locale. Different locales assign week numbers (and therefor week years)\n   * differently, see localWeekNumber.\n   * @returns {number}\n   */\n  get localWeekYear() {\n    return this.isValid ? possiblyCachedLocalWeekData(this).weekYear : NaN;\n  }\n\n  /**\n   * Get the ordinal (meaning the day of the year)\n   * @example DateTime.local(2017, 5, 25).ordinal //=> 145\n   * @type {number|DateTime}\n   */\n  get ordinal() {\n    return this.isValid ? gregorianToOrdinal(this.c).ordinal : NaN;\n  }\n\n  /**\n   * Get the human readable short month name, such as 'Oct'.\n   * Defaults to the system's locale if no locale has been specified\n   * @example DateTime.local(2017, 10, 30).monthShort //=> Oct\n   * @type {string}\n   */\n  get monthShort() {\n    return this.isValid ? Info.months(\"short\", { locObj: this.loc })[this.month - 1] : null;\n  }\n\n  /**\n   * Get the human readable long month name, such as 'October'.\n   * Defaults to the system's locale if no locale has been specified\n   * @example DateTime.local(2017, 10, 30).monthLong //=> October\n   * @type {string}\n   */\n  get monthLong() {\n    return this.isValid ? Info.months(\"long\", { locObj: this.loc })[this.month - 1] : null;\n  }\n\n  /**\n   * Get the human readable short weekday, such as 'Mon'.\n   * Defaults to the system's locale if no locale has been specified\n   * @example DateTime.local(2017, 10, 30).weekdayShort //=> Mon\n   * @type {string}\n   */\n  get weekdayShort() {\n    return this.isValid ? Info.weekdays(\"short\", { locObj: this.loc })[this.weekday - 1] : null;\n  }\n\n  /**\n   * Get the human readable long weekday, such as 'Monday'.\n   * Defaults to the system's locale if no locale has been specified\n   * @example DateTime.local(2017, 10, 30).weekdayLong //=> Monday\n   * @type {string}\n   */\n  get weekdayLong() {\n    return this.isValid ? Info.weekdays(\"long\", { locObj: this.loc })[this.weekday - 1] : null;\n  }\n\n  /**\n   * Get the UTC offset of this DateTime in minutes\n   * @example DateTime.now().offset //=> -240\n   * @example DateTime.utc().offset //=> 0\n   * @type {number}\n   */\n  get offset() {\n    return this.isValid ? +this.o : NaN;\n  }\n\n  /**\n   * Get the short human name for the zone's current offset, for example \"EST\" or \"EDT\".\n   * Defaults to the system's locale if no locale has been specified\n   * @type {string}\n   */\n  get offsetNameShort() {\n    if (this.isValid) {\n      return this.zone.offsetName(this.ts, {\n        format: \"short\",\n        locale: this.locale,\n      });\n    } else {\n      return null;\n    }\n  }\n\n  /**\n   * Get the long human name for the zone's current offset, for example \"Eastern Standard Time\" or \"Eastern Daylight Time\".\n   * Defaults to the system's locale if no locale has been specified\n   * @type {string}\n   */\n  get offsetNameLong() {\n    if (this.isValid) {\n      return this.zone.offsetName(this.ts, {\n        format: \"long\",\n        locale: this.locale,\n      });\n    } else {\n      return null;\n    }\n  }\n\n  /**\n   * Get whether this zone's offset ever changes, as in a DST.\n   * @type {boolean}\n   */\n  get isOffsetFixed() {\n    return this.isValid ? this.zone.isUniversal : null;\n  }\n\n  /**\n   * Get whether the DateTime is in a DST.\n   * @type {boolean}\n   */\n  get isInDST() {\n    if (this.isOffsetFixed) {\n      return false;\n    } else {\n      return (\n        this.offset > this.set({ month: 1, day: 1 }).offset ||\n        this.offset > this.set({ month: 5 }).offset\n      );\n    }\n  }\n\n  /**\n   * Get those DateTimes which have the same local time as this DateTime, but a different offset from UTC\n   * in this DateTime's zone. During DST changes local time can be ambiguous, for example\n   * `2023-10-29T02:30:00` in `Europe/Berlin` can have offset `+01:00` or `+02:00`.\n   * This method will return both possible DateTimes if this DateTime's local time is ambiguous.\n   * @returns {DateTime[]}\n   */\n  getPossibleOffsets() {\n    if (!this.isValid || this.isOffsetFixed) {\n      return [this];\n    }\n    const dayMs = 86400000;\n    const minuteMs = 60000;\n    const localTS = objToLocalTS(this.c);\n    const oEarlier = this.zone.offset(localTS - dayMs);\n    const oLater = this.zone.offset(localTS + dayMs);\n\n    const o1 = this.zone.offset(localTS - oEarlier * minuteMs);\n    const o2 = this.zone.offset(localTS - oLater * minuteMs);\n    if (o1 === o2) {\n      return [this];\n    }\n    const ts1 = localTS - o1 * minuteMs;\n    const ts2 = localTS - o2 * minuteMs;\n    const c1 = tsToObj(ts1, o1);\n    const c2 = tsToObj(ts2, o2);\n    if (\n      c1.hour === c2.hour &&\n      c1.minute === c2.minute &&\n      c1.second === c2.second &&\n      c1.millisecond === c2.millisecond\n    ) {\n      return [clone(this, { ts: ts1 }), clone(this, { ts: ts2 })];\n    }\n    return [this];\n  }\n\n  /**\n   * Returns true if this DateTime is in a leap year, false otherwise\n   * @example DateTime.local(2016).isInLeapYear //=> true\n   * @example DateTime.local(2013).isInLeapYear //=> false\n   * @type {boolean}\n   */\n  get isInLeapYear() {\n    return isLeapYear(this.year);\n  }\n\n  /**\n   * Returns the number of days in this DateTime's month\n   * @example DateTime.local(2016, 2).daysInMonth //=> 29\n   * @example DateTime.local(2016, 3).daysInMonth //=> 31\n   * @type {number}\n   */\n  get daysInMonth() {\n    return daysInMonth(this.year, this.month);\n  }\n\n  /**\n   * Returns the number of days in this DateTime's year\n   * @example DateTime.local(2016).daysInYear //=> 366\n   * @example DateTime.local(2013).daysInYear //=> 365\n   * @type {number}\n   */\n  get daysInYear() {\n    return this.isValid ? daysInYear(this.year) : NaN;\n  }\n\n  /**\n   * Returns the number of weeks in this DateTime's year\n   * @see https://en.wikipedia.org/wiki/ISO_week_date\n   * @example DateTime.local(2004).weeksInWeekYear //=> 53\n   * @example DateTime.local(2013).weeksInWeekYear //=> 52\n   * @type {number}\n   */\n  get weeksInWeekYear() {\n    return this.isValid ? weeksInWeekYear(this.weekYear) : NaN;\n  }\n\n  /**\n   * Returns the number of weeks in this DateTime's local week year\n   * @example DateTime.local(2020, 6, {locale: 'en-US'}).weeksInLocalWeekYear //=> 52\n   * @example DateTime.local(2020, 6, {locale: 'de-DE'}).weeksInLocalWeekYear //=> 53\n   * @type {number}\n   */\n  get weeksInLocalWeekYear() {\n    return this.isValid\n      ? weeksInWeekYear(\n          this.localWeekYear,\n          this.loc.getMinDaysInFirstWeek(),\n          this.loc.getStartOfWeek()\n        )\n      : NaN;\n  }\n\n  /**\n   * Returns the resolved Intl options for this DateTime.\n   * This is useful in understanding the behavior of formatting methods\n   * @param {Object} opts - the same options as toLocaleString\n   * @return {Object}\n   */\n  resolvedLocaleOptions(opts = {}) {\n    const { locale, numberingSystem, calendar } = Formatter.create(\n      this.loc.clone(opts),\n      opts\n    ).resolvedOptions(this);\n    return { locale, numberingSystem, outputCalendar: calendar };\n  }\n\n  // TRANSFORM\n\n  /**\n   * \"Set\" the DateTime's zone to UTC. Returns a newly-constructed DateTime.\n   *\n   * Equivalent to {@link DateTime#setZone}('utc')\n   * @param {number} [offset=0] - optionally, an offset from UTC in minutes\n   * @param {Object} [opts={}] - options to pass to `setZone()`\n   * @return {DateTime}\n   */\n  toUTC(offset = 0, opts = {}) {\n    return this.setZone(FixedOffsetZone.instance(offset), opts);\n  }\n\n  /**\n   * \"Set\" the DateTime's zone to the host's local zone. Returns a newly-constructed DateTime.\n   *\n   * Equivalent to `setZone('local')`\n   * @return {DateTime}\n   */\n  toLocal() {\n    return this.setZone(Settings.defaultZone);\n  }\n\n  /**\n   * \"Set\" the DateTime's zone to specified zone. Returns a newly-constructed DateTime.\n   *\n   * By default, the setter keeps the underlying time the same (as in, the same timestamp), but the new instance will report different local times and consider DSTs when making computations, as with {@link DateTime#plus}. You may wish to use {@link DateTime#toLocal} and {@link DateTime#toUTC} which provide simple convenience wrappers for commonly used zones.\n   * @param {string|Zone} [zone='local'] - a zone identifier. As a string, that can be any IANA zone supported by the host environment, or a fixed-offset name of the form 'UTC+3', or the strings 'local' or 'utc'. You may also supply an instance of a {@link DateTime#Zone} class.\n   * @param {Object} opts - options\n   * @param {boolean} [opts.keepLocalTime=false] - If true, adjust the underlying time so that the local time stays the same, but in the target zone. You should rarely need this.\n   * @return {DateTime}\n   */\n  setZone(zone, { keepLocalTime = false, keepCalendarTime = false } = {}) {\n    zone = normalizeZone(zone, Settings.defaultZone);\n    if (zone.equals(this.zone)) {\n      return this;\n    } else if (!zone.isValid) {\n      return DateTime.invalid(unsupportedZone(zone));\n    } else {\n      let newTS = this.ts;\n      if (keepLocalTime || keepCalendarTime) {\n        const offsetGuess = zone.offset(this.ts);\n        const asObj = this.toObject();\n        [newTS] = objToTS(asObj, offsetGuess, zone);\n      }\n      return clone(this, { ts: newTS, zone });\n    }\n  }\n\n  /**\n   * \"Set\" the locale, numberingSystem, or outputCalendar. Returns a newly-constructed DateTime.\n   * @param {Object} properties - the properties to set\n   * @example DateTime.local(2017, 5, 25).reconfigure({ locale: 'en-GB' })\n   * @return {DateTime}\n   */\n  reconfigure({ locale, numberingSystem, outputCalendar } = {}) {\n    const loc = this.loc.clone({ locale, numberingSystem, outputCalendar });\n    return clone(this, { loc });\n  }\n\n  /**\n   * \"Set\" the locale. Returns a newly-constructed DateTime.\n   * Just a convenient alias for reconfigure({ locale })\n   * @example DateTime.local(2017, 5, 25).setLocale('en-GB')\n   * @return {DateTime}\n   */\n  setLocale(locale) {\n    return this.reconfigure({ locale });\n  }\n\n  /**\n   * \"Set\" the values of specified units. Returns a newly-constructed DateTime.\n   * You can only set units with this method; for \"setting\" metadata, see {@link DateTime#reconfigure} and {@link DateTime#setZone}.\n   *\n   * This method also supports setting locale-based week units, i.e. `localWeekday`, `localWeekNumber` and `localWeekYear`.\n   * They cannot be mixed with ISO-week units like `weekday`.\n   * @param {Object} values - a mapping of units to numbers\n   * @example dt.set({ year: 2017 })\n   * @example dt.set({ hour: 8, minute: 30 })\n   * @example dt.set({ weekday: 5 })\n   * @example dt.set({ year: 2005, ordinal: 234 })\n   * @return {DateTime}\n   */\n  set(values) {\n    if (!this.isValid) return this;\n\n    const normalized = normalizeObject(values, normalizeUnitWithLocalWeeks);\n    const { minDaysInFirstWeek, startOfWeek } = usesLocalWeekValues(normalized, this.loc);\n\n    const settingWeekStuff =\n        !isUndefined(normalized.weekYear) ||\n        !isUndefined(normalized.weekNumber) ||\n        !isUndefined(normalized.weekday),\n      containsOrdinal = !isUndefined(normalized.ordinal),\n      containsGregorYear = !isUndefined(normalized.year),\n      containsGregorMD = !isUndefined(normalized.month) || !isUndefined(normalized.day),\n      containsGregor = containsGregorYear || containsGregorMD,\n      definiteWeekDef = normalized.weekYear || normalized.weekNumber;\n\n    if ((containsGregor || containsOrdinal) && definiteWeekDef) {\n      throw new ConflictingSpecificationError(\n        \"Can't mix weekYear/weekNumber units with year/month/day or ordinals\"\n      );\n    }\n\n    if (containsGregorMD && containsOrdinal) {\n      throw new ConflictingSpecificationError(\"Can't mix ordinal dates with month/day\");\n    }\n\n    let mixed;\n    if (settingWeekStuff) {\n      mixed = weekToGregorian(\n        { ...gregorianToWeek(this.c, minDaysInFirstWeek, startOfWeek), ...normalized },\n        minDaysInFirstWeek,\n        startOfWeek\n      );\n    } else if (!isUndefined(normalized.ordinal)) {\n      mixed = ordinalToGregorian({ ...gregorianToOrdinal(this.c), ...normalized });\n    } else {\n      mixed = { ...this.toObject(), ...normalized };\n\n      // if we didn't set the day but we ended up on an overflow date,\n      // use the last day of the right month\n      if (isUndefined(normalized.day)) {\n        mixed.day = Math.min(daysInMonth(mixed.year, mixed.month), mixed.day);\n      }\n    }\n\n    const [ts, o] = objToTS(mixed, this.o, this.zone);\n    return clone(this, { ts, o });\n  }\n\n  /**\n   * Add a period of time to this DateTime and return the resulting DateTime\n   *\n   * Adding hours, minutes, seconds, or milliseconds increases the timestamp by the right number of milliseconds. Adding days, months, or years shifts the calendar, accounting for DSTs and leap years along the way. Thus, `dt.plus({ hours: 24 })` may result in a different time than `dt.plus({ days: 1 })` if there's a DST shift in between.\n   * @param {Duration|Object|number} duration - The amount to add. Either a Luxon Duration, a number of milliseconds, the object argument to Duration.fromObject()\n   * @example DateTime.now().plus(123) //~> in 123 milliseconds\n   * @example DateTime.now().plus({ minutes: 15 }) //~> in 15 minutes\n   * @example DateTime.now().plus({ days: 1 }) //~> this time tomorrow\n   * @example DateTime.now().plus({ days: -1 }) //~> this time yesterday\n   * @example DateTime.now().plus({ hours: 3, minutes: 13 }) //~> in 3 hr, 13 min\n   * @example DateTime.now().plus(Duration.fromObject({ hours: 3, minutes: 13 })) //~> in 3 hr, 13 min\n   * @return {DateTime}\n   */\n  plus(duration) {\n    if (!this.isValid) return this;\n    const dur = Duration.fromDurationLike(duration);\n    return clone(this, adjustTime(this, dur));\n  }\n\n  /**\n   * Subtract a period of time to this DateTime and return the resulting DateTime\n   * See {@link DateTime#plus}\n   * @param {Duration|Object|number} duration - The amount to subtract. Either a Luxon Duration, a number of milliseconds, the object argument to Duration.fromObject()\n   @return {DateTime}\n   */\n  minus(duration) {\n    if (!this.isValid) return this;\n    const dur = Duration.fromDurationLike(duration).negate();\n    return clone(this, adjustTime(this, dur));\n  }\n\n  /**\n   * \"Set\" this DateTime to the beginning of a unit of time.\n   * @param {string} unit - The unit to go to the beginning of. Can be 'year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', or 'millisecond'.\n   * @param {Object} opts - options\n   * @param {boolean} [opts.useLocaleWeeks=false] - If true, use weeks based on the locale, i.e. use the locale-dependent start of the week\n   * @example DateTime.local(2014, 3, 3).startOf('month').toISODate(); //=> '2014-03-01'\n   * @example DateTime.local(2014, 3, 3).startOf('year').toISODate(); //=> '2014-01-01'\n   * @example DateTime.local(2014, 3, 3).startOf('week').toISODate(); //=> '2014-03-03', weeks always start on Mondays\n   * @example DateTime.local(2014, 3, 3, 5, 30).startOf('day').toISOTime(); //=> '00:00.000-05:00'\n   * @example DateTime.local(2014, 3, 3, 5, 30).startOf('hour').toISOTime(); //=> '05:00:00.000-05:00'\n   * @return {DateTime}\n   */\n  startOf(unit, { useLocaleWeeks = false } = {}) {\n    if (!this.isValid) return this;\n\n    const o = {},\n      normalizedUnit = Duration.normalizeUnit(unit);\n    switch (normalizedUnit) {\n      case \"years\":\n        o.month = 1;\n      // falls through\n      case \"quarters\":\n      case \"months\":\n        o.day = 1;\n      // falls through\n      case \"weeks\":\n      case \"days\":\n        o.hour = 0;\n      // falls through\n      case \"hours\":\n        o.minute = 0;\n      // falls through\n      case \"minutes\":\n        o.second = 0;\n      // falls through\n      case \"seconds\":\n        o.millisecond = 0;\n        break;\n      case \"milliseconds\":\n        break;\n      // no default, invalid units throw in normalizeUnit()\n    }\n\n    if (normalizedUnit === \"weeks\") {\n      if (useLocaleWeeks) {\n        const startOfWeek = this.loc.getStartOfWeek();\n        const { weekday } = this;\n        if (weekday < startOfWeek) {\n          o.weekNumber = this.weekNumber - 1;\n        }\n        o.weekday = startOfWeek;\n      } else {\n        o.weekday = 1;\n      }\n    }\n\n    if (normalizedUnit === \"quarters\") {\n      const q = Math.ceil(this.month / 3);\n      o.month = (q - 1) * 3 + 1;\n    }\n\n    return this.set(o);\n  }\n\n  /**\n   * \"Set\" this DateTime to the end (meaning the last millisecond) of a unit of time\n   * @param {string} unit - The unit to go to the end of. Can be 'year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', or 'millisecond'.\n   * @param {Object} opts - options\n   * @param {boolean} [opts.useLocaleWeeks=false] - If true, use weeks based on the locale, i.e. use the locale-dependent start of the week\n   * @example DateTime.local(2014, 3, 3).endOf('month').toISO(); //=> '2014-03-31T23:59:59.999-05:00'\n   * @example DateTime.local(2014, 3, 3).endOf('year').toISO(); //=> '2014-12-31T23:59:59.999-05:00'\n   * @example DateTime.local(2014, 3, 3).endOf('week').toISO(); // => '2014-03-09T23:59:59.999-05:00', weeks start on Mondays\n   * @example DateTime.local(2014, 3, 3, 5, 30).endOf('day').toISO(); //=> '2014-03-03T23:59:59.999-05:00'\n   * @example DateTime.local(2014, 3, 3, 5, 30).endOf('hour').toISO(); //=> '2014-03-03T05:59:59.999-05:00'\n   * @return {DateTime}\n   */\n  endOf(unit, opts) {\n    return this.isValid\n      ? this.plus({ [unit]: 1 })\n          .startOf(unit, opts)\n          .minus(1)\n      : this;\n  }\n\n  // OUTPUT\n\n  /**\n   * Returns a string representation of this DateTime formatted according to the specified format string.\n   * **You may not want this.** See {@link DateTime#toLocaleString} for a more flexible formatting tool. For a table of tokens and their interpretations, see [here](https://moment.github.io/luxon/#/formatting?id=table-of-tokens).\n   * Defaults to en-US if no locale has been specified, regardless of the system's locale.\n   * @param {string} fmt - the format string\n   * @param {Object} opts - opts to override the configuration options on this DateTime\n   * @example DateTime.now().toFormat('yyyy LLL dd') //=> '2017 Apr 22'\n   * @example DateTime.now().setLocale('fr').toFormat('yyyy LLL dd') //=> '2017 avr. 22'\n   * @example DateTime.now().toFormat('yyyy LLL dd', { locale: \"fr\" }) //=> '2017 avr. 22'\n   * @example DateTime.now().toFormat(\"HH 'hours and' mm 'minutes'\") //=> '20 hours and 55 minutes'\n   * @return {string}\n   */\n  toFormat(fmt, opts = {}) {\n    return this.isValid\n      ? Formatter.create(this.loc.redefaultToEN(opts)).formatDateTimeFromString(this, fmt)\n      : INVALID;\n  }\n\n  /**\n   * Returns a localized string representing this date. Accepts the same options as the Intl.DateTimeFormat constructor and any presets defined by Luxon, such as `DateTime.DATE_FULL` or `DateTime.TIME_SIMPLE`.\n   * The exact behavior of this method is browser-specific, but in general it will return an appropriate representation\n   * of the DateTime in the assigned locale.\n   * Defaults to the system's locale if no locale has been specified\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat\n   * @param formatOpts {Object} - Intl.DateTimeFormat constructor options and configuration options\n   * @param {Object} opts - opts to override the configuration options on this DateTime\n   * @example DateTime.now().toLocaleString(); //=> 4/20/2017\n   * @example DateTime.now().setLocale('en-gb').toLocaleString(); //=> '20/04/2017'\n   * @example DateTime.now().toLocaleString(DateTime.DATE_FULL); //=> 'April 20, 2017'\n   * @example DateTime.now().toLocaleString(DateTime.DATE_FULL, { locale: 'fr' }); //=> '28 août 2022'\n   * @example DateTime.now().toLocaleString(DateTime.TIME_SIMPLE); //=> '11:32 AM'\n   * @example DateTime.now().toLocaleString(DateTime.DATETIME_SHORT); //=> '4/20/2017, 11:32 AM'\n   * @example DateTime.now().toLocaleString({ weekday: 'long', month: 'long', day: '2-digit' }); //=> 'Thursday, April 20'\n   * @example DateTime.now().toLocaleString({ weekday: 'short', month: 'short', day: '2-digit', hour: '2-digit', minute: '2-digit' }); //=> 'Thu, Apr 20, 11:27 AM'\n   * @example DateTime.now().toLocaleString({ hour: '2-digit', minute: '2-digit', hourCycle: 'h23' }); //=> '11:32'\n   * @return {string}\n   */\n  toLocaleString(formatOpts = Formats.DATE_SHORT, opts = {}) {\n    return this.isValid\n      ? Formatter.create(this.loc.clone(opts), formatOpts).formatDateTime(this)\n      : INVALID;\n  }\n\n  /**\n   * Returns an array of format \"parts\", meaning individual tokens along with metadata. This is allows callers to post-process individual sections of the formatted output.\n   * Defaults to the system's locale if no locale has been specified\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat/formatToParts\n   * @param opts {Object} - Intl.DateTimeFormat constructor options, same as `toLocaleString`.\n   * @example DateTime.now().toLocaleParts(); //=> [\n   *                                   //=>   { type: 'day', value: '25' },\n   *                                   //=>   { type: 'literal', value: '/' },\n   *                                   //=>   { type: 'month', value: '05' },\n   *                                   //=>   { type: 'literal', value: '/' },\n   *                                   //=>   { type: 'year', value: '1982' }\n   *                                   //=> ]\n   */\n  toLocaleParts(opts = {}) {\n    return this.isValid\n      ? Formatter.create(this.loc.clone(opts), opts).formatDateTimeParts(this)\n      : [];\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of this DateTime\n   * @param {Object} opts - options\n   * @param {boolean} [opts.suppressMilliseconds=false] - exclude milliseconds from the format if they're 0\n   * @param {boolean} [opts.suppressSeconds=false] - exclude seconds from the format if they're 0\n   * @param {boolean} [opts.includeOffset=true] - include the offset, such as 'Z' or '-04:00'\n   * @param {boolean} [opts.extendedZone=false] - add the time zone format extension\n   * @param {string} [opts.format='extended'] - choose between the basic and extended format\n   * @example DateTime.utc(1983, 5, 25).toISO() //=> '1982-05-25T00:00:00.000Z'\n   * @example DateTime.now().toISO() //=> '2017-04-22T20:47:05.335-04:00'\n   * @example DateTime.now().toISO({ includeOffset: false }) //=> '2017-04-22T20:47:05.335'\n   * @example DateTime.now().toISO({ format: 'basic' }) //=> '20170422T204705.335-0400'\n   * @return {string|null}\n   */\n  toISO({\n    format = \"extended\",\n    suppressSeconds = false,\n    suppressMilliseconds = false,\n    includeOffset = true,\n    extendedZone = false,\n  } = {}) {\n    if (!this.isValid) {\n      return null;\n    }\n\n    const ext = format === \"extended\";\n\n    let c = toISODate(this, ext);\n    c += \"T\";\n    c += toISOTime(this, ext, suppressSeconds, suppressMilliseconds, includeOffset, extendedZone);\n    return c;\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of this DateTime's date component\n   * @param {Object} opts - options\n   * @param {string} [opts.format='extended'] - choose between the basic and extended format\n   * @example DateTime.utc(1982, 5, 25).toISODate() //=> '1982-05-25'\n   * @example DateTime.utc(1982, 5, 25).toISODate({ format: 'basic' }) //=> '19820525'\n   * @return {string|null}\n   */\n  toISODate({ format = \"extended\" } = {}) {\n    if (!this.isValid) {\n      return null;\n    }\n\n    return toISODate(this, format === \"extended\");\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of this DateTime's week date\n   * @example DateTime.utc(1982, 5, 25).toISOWeekDate() //=> '1982-W21-2'\n   * @return {string}\n   */\n  toISOWeekDate() {\n    return toTechFormat(this, \"kkkk-'W'WW-c\");\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of this DateTime's time component\n   * @param {Object} opts - options\n   * @param {boolean} [opts.suppressMilliseconds=false] - exclude milliseconds from the format if they're 0\n   * @param {boolean} [opts.suppressSeconds=false] - exclude seconds from the format if they're 0\n   * @param {boolean} [opts.includeOffset=true] - include the offset, such as 'Z' or '-04:00'\n   * @param {boolean} [opts.extendedZone=true] - add the time zone format extension\n   * @param {boolean} [opts.includePrefix=false] - include the `T` prefix\n   * @param {string} [opts.format='extended'] - choose between the basic and extended format\n   * @example DateTime.utc().set({ hour: 7, minute: 34 }).toISOTime() //=> '07:34:19.361Z'\n   * @example DateTime.utc().set({ hour: 7, minute: 34, seconds: 0, milliseconds: 0 }).toISOTime({ suppressSeconds: true }) //=> '07:34Z'\n   * @example DateTime.utc().set({ hour: 7, minute: 34 }).toISOTime({ format: 'basic' }) //=> '073419.361Z'\n   * @example DateTime.utc().set({ hour: 7, minute: 34 }).toISOTime({ includePrefix: true }) //=> 'T07:34:19.361Z'\n   * @return {string}\n   */\n  toISOTime({\n    suppressMilliseconds = false,\n    suppressSeconds = false,\n    includeOffset = true,\n    includePrefix = false,\n    extendedZone = false,\n    format = \"extended\",\n  } = {}) {\n    if (!this.isValid) {\n      return null;\n    }\n\n    let c = includePrefix ? \"T\" : \"\";\n    return (\n      c +\n      toISOTime(\n        this,\n        format === \"extended\",\n        suppressSeconds,\n        suppressMilliseconds,\n        includeOffset,\n        extendedZone\n      )\n    );\n  }\n\n  /**\n   * Returns an RFC 2822-compatible string representation of this DateTime\n   * @example DateTime.utc(2014, 7, 13).toRFC2822() //=> 'Sun, 13 Jul 2014 00:00:00 +0000'\n   * @example DateTime.local(2014, 7, 13).toRFC2822() //=> 'Sun, 13 Jul 2014 00:00:00 -0400'\n   * @return {string}\n   */\n  toRFC2822() {\n    return toTechFormat(this, \"EEE, dd LLL yyyy HH:mm:ss ZZZ\", false);\n  }\n\n  /**\n   * Returns a string representation of this DateTime appropriate for use in HTTP headers. The output is always expressed in GMT.\n   * Specifically, the string conforms to RFC 1123.\n   * @see https://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3.1\n   * @example DateTime.utc(2014, 7, 13).toHTTP() //=> 'Sun, 13 Jul 2014 00:00:00 GMT'\n   * @example DateTime.utc(2014, 7, 13, 19).toHTTP() //=> 'Sun, 13 Jul 2014 19:00:00 GMT'\n   * @return {string}\n   */\n  toHTTP() {\n    return toTechFormat(this.toUTC(), \"EEE, dd LLL yyyy HH:mm:ss 'GMT'\");\n  }\n\n  /**\n   * Returns a string representation of this DateTime appropriate for use in SQL Date\n   * @example DateTime.utc(2014, 7, 13).toSQLDate() //=> '2014-07-13'\n   * @return {string|null}\n   */\n  toSQLDate() {\n    if (!this.isValid) {\n      return null;\n    }\n    return toISODate(this, true);\n  }\n\n  /**\n   * Returns a string representation of this DateTime appropriate for use in SQL Time\n   * @param {Object} opts - options\n   * @param {boolean} [opts.includeZone=false] - include the zone, such as 'America/New_York'. Overrides includeOffset.\n   * @param {boolean} [opts.includeOffset=true] - include the offset, such as 'Z' or '-04:00'\n   * @param {boolean} [opts.includeOffsetSpace=true] - include the space between the time and the offset, such as '05:15:16.345 -04:00'\n   * @example DateTime.utc().toSQL() //=> '05:15:16.345'\n   * @example DateTime.now().toSQL() //=> '05:15:16.345 -04:00'\n   * @example DateTime.now().toSQL({ includeOffset: false }) //=> '05:15:16.345'\n   * @example DateTime.now().toSQL({ includeZone: false }) //=> '05:15:16.345 America/New_York'\n   * @return {string}\n   */\n  toSQLTime({ includeOffset = true, includeZone = false, includeOffsetSpace = true } = {}) {\n    let fmt = \"HH:mm:ss.SSS\";\n\n    if (includeZone || includeOffset) {\n      if (includeOffsetSpace) {\n        fmt += \" \";\n      }\n      if (includeZone) {\n        fmt += \"z\";\n      } else if (includeOffset) {\n        fmt += \"ZZ\";\n      }\n    }\n\n    return toTechFormat(this, fmt, true);\n  }\n\n  /**\n   * Returns a string representation of this DateTime appropriate for use in SQL DateTime\n   * @param {Object} opts - options\n   * @param {boolean} [opts.includeZone=false] - include the zone, such as 'America/New_York'. Overrides includeOffset.\n   * @param {boolean} [opts.includeOffset=true] - include the offset, such as 'Z' or '-04:00'\n   * @param {boolean} [opts.includeOffsetSpace=true] - include the space between the time and the offset, such as '05:15:16.345 -04:00'\n   * @example DateTime.utc(2014, 7, 13).toSQL() //=> '2014-07-13 00:00:00.000 Z'\n   * @example DateTime.local(2014, 7, 13).toSQL() //=> '2014-07-13 00:00:00.000 -04:00'\n   * @example DateTime.local(2014, 7, 13).toSQL({ includeOffset: false }) //=> '2014-07-13 00:00:00.000'\n   * @example DateTime.local(2014, 7, 13).toSQL({ includeZone: true }) //=> '2014-07-13 00:00:00.000 America/New_York'\n   * @return {string}\n   */\n  toSQL(opts = {}) {\n    if (!this.isValid) {\n      return null;\n    }\n\n    return `${this.toSQLDate()} ${this.toSQLTime(opts)}`;\n  }\n\n  /**\n   * Returns a string representation of this DateTime appropriate for debugging\n   * @return {string}\n   */\n  toString() {\n    return this.isValid ? this.toISO() : INVALID;\n  }\n\n  /**\n   * Returns a string representation of this DateTime appropriate for the REPL.\n   * @return {string}\n   */\n  [Symbol.for(\"nodejs.util.inspect.custom\")]() {\n    if (this.isValid) {\n      return `DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`;\n    } else {\n      return `DateTime { Invalid, reason: ${this.invalidReason} }`;\n    }\n  }\n\n  /**\n   * Returns the epoch milliseconds of this DateTime. Alias of {@link DateTime#toMillis}\n   * @return {number}\n   */\n  valueOf() {\n    return this.toMillis();\n  }\n\n  /**\n   * Returns the epoch milliseconds of this DateTime.\n   * @return {number}\n   */\n  toMillis() {\n    return this.isValid ? this.ts : NaN;\n  }\n\n  /**\n   * Returns the epoch seconds (including milliseconds in the fractional part) of this DateTime.\n   * @return {number}\n   */\n  toSeconds() {\n    return this.isValid ? this.ts / 1000 : NaN;\n  }\n\n  /**\n   * Returns the epoch seconds (as a whole number) of this DateTime.\n   * @return {number}\n   */\n  toUnixInteger() {\n    return this.isValid ? Math.floor(this.ts / 1000) : NaN;\n  }\n\n  /**\n   * Returns an ISO 8601 representation of this DateTime appropriate for use in JSON.\n   * @return {string}\n   */\n  toJSON() {\n    return this.toISO();\n  }\n\n  /**\n   * Returns a BSON serializable equivalent to this DateTime.\n   * @return {Date}\n   */\n  toBSON() {\n    return this.toJSDate();\n  }\n\n  /**\n   * Returns a JavaScript object with this DateTime's year, month, day, and so on.\n   * @param opts - options for generating the object\n   * @param {boolean} [opts.includeConfig=false] - include configuration attributes in the output\n   * @example DateTime.now().toObject() //=> { year: 2017, month: 4, day: 22, hour: 20, minute: 49, second: 42, millisecond: 268 }\n   * @return {Object}\n   */\n  toObject(opts = {}) {\n    if (!this.isValid) return {};\n\n    const base = { ...this.c };\n\n    if (opts.includeConfig) {\n      base.outputCalendar = this.outputCalendar;\n      base.numberingSystem = this.loc.numberingSystem;\n      base.locale = this.loc.locale;\n    }\n    return base;\n  }\n\n  /**\n   * Returns a JavaScript Date equivalent to this DateTime.\n   * @return {Date}\n   */\n  toJSDate() {\n    return new Date(this.isValid ? this.ts : NaN);\n  }\n\n  // COMPARE\n\n  /**\n   * Return the difference between two DateTimes as a Duration.\n   * @param {DateTime} otherDateTime - the DateTime to compare this one to\n   * @param {string|string[]} [unit=['milliseconds']] - the unit or array of units (such as 'hours' or 'days') to include in the duration.\n   * @param {Object} opts - options that affect the creation of the Duration\n   * @param {string} [opts.conversionAccuracy='casual'] - the conversion system to use\n   * @example\n   * var i1 = DateTime.fromISO('1982-05-25T09:45'),\n   *     i2 = DateTime.fromISO('1983-10-14T10:30');\n   * i2.diff(i1).toObject() //=> { milliseconds: 43807500000 }\n   * i2.diff(i1, 'hours').toObject() //=> { hours: 12168.75 }\n   * i2.diff(i1, ['months', 'days']).toObject() //=> { months: 16, days: 19.03125 }\n   * i2.diff(i1, ['months', 'days', 'hours']).toObject() //=> { months: 16, days: 19, hours: 0.75 }\n   * @return {Duration}\n   */\n  diff(otherDateTime, unit = \"milliseconds\", opts = {}) {\n    if (!this.isValid || !otherDateTime.isValid) {\n      return Duration.invalid(\"created by diffing an invalid DateTime\");\n    }\n\n    const durOpts = { locale: this.locale, numberingSystem: this.numberingSystem, ...opts };\n\n    const units = maybeArray(unit).map(Duration.normalizeUnit),\n      otherIsLater = otherDateTime.valueOf() > this.valueOf(),\n      earlier = otherIsLater ? this : otherDateTime,\n      later = otherIsLater ? otherDateTime : this,\n      diffed = diff(earlier, later, units, durOpts);\n\n    return otherIsLater ? diffed.negate() : diffed;\n  }\n\n  /**\n   * Return the difference between this DateTime and right now.\n   * See {@link DateTime#diff}\n   * @param {string|string[]} [unit=['milliseconds']] - the unit or units units (such as 'hours' or 'days') to include in the duration\n   * @param {Object} opts - options that affect the creation of the Duration\n   * @param {string} [opts.conversionAccuracy='casual'] - the conversion system to use\n   * @return {Duration}\n   */\n  diffNow(unit = \"milliseconds\", opts = {}) {\n    return this.diff(DateTime.now(), unit, opts);\n  }\n\n  /**\n   * Return an Interval spanning between this DateTime and another DateTime\n   * @param {DateTime} otherDateTime - the other end point of the Interval\n   * @return {Interval|DateTime}\n   */\n  until(otherDateTime) {\n    return this.isValid ? Interval.fromDateTimes(this, otherDateTime) : this;\n  }\n\n  /**\n   * Return whether this DateTime is in the same unit of time as another DateTime.\n   * Higher-order units must also be identical for this function to return `true`.\n   * Note that time zones are **ignored** in this comparison, which compares the **local** calendar time. Use {@link DateTime#setZone} to convert one of the dates if needed.\n   * @param {DateTime} otherDateTime - the other DateTime\n   * @param {string} unit - the unit of time to check sameness on\n   * @param {Object} opts - options\n   * @param {boolean} [opts.useLocaleWeeks=false] - If true, use weeks based on the locale, i.e. use the locale-dependent start of the week; only the locale of this DateTime is used\n   * @example DateTime.now().hasSame(otherDT, 'day'); //~> true if otherDT is in the same current calendar day\n   * @return {boolean}\n   */\n  hasSame(otherDateTime, unit, opts) {\n    if (!this.isValid) return false;\n\n    const inputMs = otherDateTime.valueOf();\n    const adjustedToZone = this.setZone(otherDateTime.zone, { keepLocalTime: true });\n    return (\n      adjustedToZone.startOf(unit, opts) <= inputMs && inputMs <= adjustedToZone.endOf(unit, opts)\n    );\n  }\n\n  /**\n   * Equality check\n   * Two DateTimes are equal if and only if they represent the same millisecond, have the same zone and location, and are both valid.\n   * To compare just the millisecond values, use `+dt1 === +dt2`.\n   * @param {DateTime} other - the other DateTime\n   * @return {boolean}\n   */\n  equals(other) {\n    return (\n      this.isValid &&\n      other.isValid &&\n      this.valueOf() === other.valueOf() &&\n      this.zone.equals(other.zone) &&\n      this.loc.equals(other.loc)\n    );\n  }\n\n  /**\n   * Returns a string representation of a this time relative to now, such as \"in two days\". Can only internationalize if your\n   * platform supports Intl.RelativeTimeFormat. Rounds down by default.\n   * @param {Object} options - options that affect the output\n   * @param {DateTime} [options.base=DateTime.now()] - the DateTime to use as the basis to which this time is compared. Defaults to now.\n   * @param {string} [options.style=\"long\"] - the style of units, must be \"long\", \"short\", or \"narrow\"\n   * @param {string|string[]} options.unit - use a specific unit or array of units; if omitted, or an array, the method will pick the best unit. Use an array or one of \"years\", \"quarters\", \"months\", \"weeks\", \"days\", \"hours\", \"minutes\", or \"seconds\"\n   * @param {boolean} [options.round=true] - whether to round the numbers in the output.\n   * @param {number} [options.padding=0] - padding in milliseconds. This allows you to round up the result if it fits inside the threshold. Don't use in combination with {round: false} because the decimal output will include the padding.\n   * @param {string} options.locale - override the locale of this DateTime\n   * @param {string} options.numberingSystem - override the numberingSystem of this DateTime. The Intl system may choose not to honor this\n   * @example DateTime.now().plus({ days: 1 }).toRelative() //=> \"in 1 day\"\n   * @example DateTime.now().setLocale(\"es\").toRelative({ days: 1 }) //=> \"dentro de 1 día\"\n   * @example DateTime.now().plus({ days: 1 }).toRelative({ locale: \"fr\" }) //=> \"dans 23 heures\"\n   * @example DateTime.now().minus({ days: 2 }).toRelative() //=> \"2 days ago\"\n   * @example DateTime.now().minus({ days: 2 }).toRelative({ unit: \"hours\" }) //=> \"48 hours ago\"\n   * @example DateTime.now().minus({ hours: 36 }).toRelative({ round: false }) //=> \"1.5 days ago\"\n   */\n  toRelative(options = {}) {\n    if (!this.isValid) return null;\n    const base = options.base || DateTime.fromObject({}, { zone: this.zone }),\n      padding = options.padding ? (this < base ? -options.padding : options.padding) : 0;\n    let units = [\"years\", \"months\", \"days\", \"hours\", \"minutes\", \"seconds\"];\n    let unit = options.unit;\n    if (Array.isArray(options.unit)) {\n      units = options.unit;\n      unit = undefined;\n    }\n    return diffRelative(base, this.plus(padding), {\n      ...options,\n      numeric: \"always\",\n      units,\n      unit,\n    });\n  }\n\n  /**\n   * Returns a string representation of this date relative to today, such as \"yesterday\" or \"next month\".\n   * Only internationalizes on platforms that supports Intl.RelativeTimeFormat.\n   * @param {Object} options - options that affect the output\n   * @param {DateTime} [options.base=DateTime.now()] - the DateTime to use as the basis to which this time is compared. Defaults to now.\n   * @param {string} options.locale - override the locale of this DateTime\n   * @param {string} options.unit - use a specific unit; if omitted, the method will pick the unit. Use one of \"years\", \"quarters\", \"months\", \"weeks\", or \"days\"\n   * @param {string} options.numberingSystem - override the numberingSystem of this DateTime. The Intl system may choose not to honor this\n   * @example DateTime.now().plus({ days: 1 }).toRelativeCalendar() //=> \"tomorrow\"\n   * @example DateTime.now().setLocale(\"es\").plus({ days: 1 }).toRelative() //=> \"\"mañana\"\n   * @example DateTime.now().plus({ days: 1 }).toRelativeCalendar({ locale: \"fr\" }) //=> \"demain\"\n   * @example DateTime.now().minus({ days: 2 }).toRelativeCalendar() //=> \"2 days ago\"\n   */\n  toRelativeCalendar(options = {}) {\n    if (!this.isValid) return null;\n\n    return diffRelative(options.base || DateTime.fromObject({}, { zone: this.zone }), this, {\n      ...options,\n      numeric: \"auto\",\n      units: [\"years\", \"months\", \"days\"],\n      calendary: true,\n    });\n  }\n\n  /**\n   * Return the min of several date times\n   * @param {...DateTime} dateTimes - the DateTimes from which to choose the minimum\n   * @return {DateTime} the min DateTime, or undefined if called with no argument\n   */\n  static min(...dateTimes) {\n    if (!dateTimes.every(DateTime.isDateTime)) {\n      throw new InvalidArgumentError(\"min requires all arguments be DateTimes\");\n    }\n    return bestBy(dateTimes, (i) => i.valueOf(), Math.min);\n  }\n\n  /**\n   * Return the max of several date times\n   * @param {...DateTime} dateTimes - the DateTimes from which to choose the maximum\n   * @return {DateTime} the max DateTime, or undefined if called with no argument\n   */\n  static max(...dateTimes) {\n    if (!dateTimes.every(DateTime.isDateTime)) {\n      throw new InvalidArgumentError(\"max requires all arguments be DateTimes\");\n    }\n    return bestBy(dateTimes, (i) => i.valueOf(), Math.max);\n  }\n\n  // MISC\n\n  /**\n   * Explain how a string would be parsed by fromFormat()\n   * @param {string} text - the string to parse\n   * @param {string} fmt - the format the string is expected to be in (see description)\n   * @param {Object} options - options taken by fromFormat()\n   * @return {Object}\n   */\n  static fromFormatExplain(text, fmt, options = {}) {\n    const { locale = null, numberingSystem = null } = options,\n      localeToUse = Locale.fromOpts({\n        locale,\n        numberingSystem,\n        defaultToEN: true,\n      });\n    return explainFromTokens(localeToUse, text, fmt);\n  }\n\n  /**\n   * @deprecated use fromFormatExplain instead\n   */\n  static fromStringExplain(text, fmt, options = {}) {\n    return DateTime.fromFormatExplain(text, fmt, options);\n  }\n\n  /**\n   * Build a parser for `fmt` using the given locale. This parser can be passed\n   * to {@link DateTime.fromFormatParser} to a parse a date in this format. This\n   * can be used to optimize cases where many dates need to be parsed in a\n   * specific format.\n   *\n   * @param {String} fmt - the format the string is expected to be in (see\n   * description)\n   * @param {Object} options - options used to set locale and numberingSystem\n   * for parser\n   * @returns {TokenParser} - opaque object to be used\n   */\n  static buildFormatParser(fmt, options = {}) {\n    const { locale = null, numberingSystem = null } = options,\n      localeToUse = Locale.fromOpts({\n        locale,\n        numberingSystem,\n        defaultToEN: true,\n      });\n    return new TokenParser(localeToUse, fmt);\n  }\n\n  /**\n   * Create a DateTime from an input string and format parser.\n   *\n   * The format parser must have been created with the same locale as this call.\n   *\n   * @param {String} text - the string to parse\n   * @param {TokenParser} formatParser - parser from {@link DateTime.buildFormatParser}\n   * @param {Object} opts - options taken by fromFormat()\n   * @returns {DateTime}\n   */\n  static fromFormatParser(text, formatParser, opts = {}) {\n    if (isUndefined(text) || isUndefined(formatParser)) {\n      throw new InvalidArgumentError(\n        \"fromFormatParser requires an input string and a format parser\"\n      );\n    }\n    const { locale = null, numberingSystem = null } = opts,\n      localeToUse = Locale.fromOpts({\n        locale,\n        numberingSystem,\n        defaultToEN: true,\n      });\n\n    if (!localeToUse.equals(formatParser.locale)) {\n      throw new InvalidArgumentError(\n        `fromFormatParser called with a locale of ${localeToUse}, ` +\n          `but the format parser was created for ${formatParser.locale}`\n      );\n    }\n\n    const { result, zone, specificOffset, invalidReason } = formatParser.explainFromTokens(text);\n\n    if (invalidReason) {\n      return DateTime.invalid(invalidReason);\n    } else {\n      return parseDataToDateTime(\n        result,\n        zone,\n        opts,\n        `format ${formatParser.format}`,\n        text,\n        specificOffset\n      );\n    }\n  }\n\n  // FORMAT PRESETS\n\n  /**\n   * {@link DateTime#toLocaleString} format like 10/14/1983\n   * @type {Object}\n   */\n  static get DATE_SHORT() {\n    return Formats.DATE_SHORT;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'Oct 14, 1983'\n   * @type {Object}\n   */\n  static get DATE_MED() {\n    return Formats.DATE_MED;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'Fri, Oct 14, 1983'\n   * @type {Object}\n   */\n  static get DATE_MED_WITH_WEEKDAY() {\n    return Formats.DATE_MED_WITH_WEEKDAY;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'October 14, 1983'\n   * @type {Object}\n   */\n  static get DATE_FULL() {\n    return Formats.DATE_FULL;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'Tuesday, October 14, 1983'\n   * @type {Object}\n   */\n  static get DATE_HUGE() {\n    return Formats.DATE_HUGE;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '09:30 AM'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get TIME_SIMPLE() {\n    return Formats.TIME_SIMPLE;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '09:30:23 AM'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get TIME_WITH_SECONDS() {\n    return Formats.TIME_WITH_SECONDS;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '09:30:23 AM EDT'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get TIME_WITH_SHORT_OFFSET() {\n    return Formats.TIME_WITH_SHORT_OFFSET;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '09:30:23 AM Eastern Daylight Time'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get TIME_WITH_LONG_OFFSET() {\n    return Formats.TIME_WITH_LONG_OFFSET;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '09:30', always 24-hour.\n   * @type {Object}\n   */\n  static get TIME_24_SIMPLE() {\n    return Formats.TIME_24_SIMPLE;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '09:30:23', always 24-hour.\n   * @type {Object}\n   */\n  static get TIME_24_WITH_SECONDS() {\n    return Formats.TIME_24_WITH_SECONDS;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '09:30:23 EDT', always 24-hour.\n   * @type {Object}\n   */\n  static get TIME_24_WITH_SHORT_OFFSET() {\n    return Formats.TIME_24_WITH_SHORT_OFFSET;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '09:30:23 Eastern Daylight Time', always 24-hour.\n   * @type {Object}\n   */\n  static get TIME_24_WITH_LONG_OFFSET() {\n    return Formats.TIME_24_WITH_LONG_OFFSET;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '10/14/1983, 9:30 AM'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_SHORT() {\n    return Formats.DATETIME_SHORT;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '10/14/1983, 9:30:33 AM'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_SHORT_WITH_SECONDS() {\n    return Formats.DATETIME_SHORT_WITH_SECONDS;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'Oct 14, 1983, 9:30 AM'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_MED() {\n    return Formats.DATETIME_MED;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'Oct 14, 1983, 9:30:33 AM'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_MED_WITH_SECONDS() {\n    return Formats.DATETIME_MED_WITH_SECONDS;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'Fri, 14 Oct 1983, 9:30 AM'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_MED_WITH_WEEKDAY() {\n    return Formats.DATETIME_MED_WITH_WEEKDAY;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'October 14, 1983, 9:30 AM EDT'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_FULL() {\n    return Formats.DATETIME_FULL;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'October 14, 1983, 9:30:33 AM EDT'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_FULL_WITH_SECONDS() {\n    return Formats.DATETIME_FULL_WITH_SECONDS;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'Friday, October 14, 1983, 9:30 AM Eastern Daylight Time'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_HUGE() {\n    return Formats.DATETIME_HUGE;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'Friday, October 14, 1983, 9:30:33 AM Eastern Daylight Time'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_HUGE_WITH_SECONDS() {\n    return Formats.DATETIME_HUGE_WITH_SECONDS;\n  }\n}\n\n/**\n * @private\n */\nexport function friendlyDateTime(dateTimeish) {\n  if (DateTime.isDateTime(dateTimeish)) {\n    return dateTimeish;\n  } else if (dateTimeish && dateTimeish.valueOf && isNumber(dateTimeish.valueOf())) {\n    return DateTime.fromJSDate(dateTimeish);\n  } else if (dateTimeish && typeof dateTimeish === \"object\") {\n    return DateTime.fromObject(dateTimeish);\n  } else {\n    throw new InvalidArgumentError(\n      `Unknown datetime argument: ${dateTimeish}, of type ${typeof dateTimeish}`\n    );\n  }\n}\n","import { DateTime } from \"luxon\";\n\nconst imageExtensions = [\n    \".jpg\", \".jpeg\", \".png\", \".svg\",\n    \".gif\", \".jfif\", \".webp\", \".avif\",\n];\n\nconst videoExtensions = [\n    \".mp4\", \".avi\", \".mov\", \".3gp\", \".wmv\",\n];\n\nconst audioExtensions = [\n    \".aa\", \".aac\", \".m4v\", \".mp3\",\n    \".ogg\", \".oga\", \".mogg\", \".amr\",\n];\n\nconst documentExtensions = [\n    \".pdf\", \".doc\", \".docx\", \".xls\",\n    \".xlsx\", \".ppt\", \".pptx\", \".odp\",\n    \".odt\", \".ods\", \".txt\",\n];\n\nconst arraybleFields = [\"relation\", \"file\", \"select\"]\n\nconst stringFields = [\"text\", \"email\", \"url\", \"editor\"]\n\nexport const logLevels = [\n    // {\n    //     level: -8,\n    //     label: \"TRACE\",\n    //     class: \"\",\n    // },\n    {\n        level: -4,\n        label: \"DEBUG\",\n        class: \"\",\n    },\n    {\n        level: 0,\n        label: \"INFO\",\n        class: \"label-success\",\n    },\n    {\n        level: 4,\n        label: \"WARN\",\n        class: \"label-warning\",\n    },\n    {\n        level: 8,\n        label: \"ERROR\",\n        class: \"label-danger\",\n    },\n];\n\nexport default class CommonHelper {\n    /**\n     * Checks whether value is plain object.\n     *\n     * @param  {Mixed} value\n     * @return {Boolean}\n     */\n    static isObject(value) {\n        return value !== null && typeof value === \"object\" && value.constructor === Object;\n    }\n\n    /**\n     * Deep clones the provided value.\n     *\n     * @param  {Mixed} val\n     * @return {Mixed}\n     */\n    static clone(value) {\n        return typeof structuredClone !== \"undefined\" ? structuredClone(value) : JSON.parse(JSON.stringify(value));\n    }\n\n    /**\n     * Returns the zero/empty value of val (only primitive values are supported).\n     * @param  {Mixed} val\n     * @return {Mixed}\n     */\n    static zeroValue(val) {\n        switch (typeof val) {\n            case \"string\":\n                return \"\";\n            case \"number\":\n                return 0;\n            case \"boolean\":\n                return false;\n            case \"object\":\n                if (val === null) {\n                    return null;\n                }\n\n                if (Array.isArray(val)) {\n                    return [];\n                }\n\n                return {};\n            case \"undefined\":\n                return undefined;\n            default:\n                return null;\n        }\n    }\n\n    /**\n     * Checks whether a value is empty. The following values are considered as empty:\n     * - null\n     * - undefined\n     * - empty string\n     * - empty array\n     * - empty object\n     *\n     * @param  {Mixed} value\n     * @return {Boolean}\n     */\n    static isEmpty(value) {\n        return (\n            (value === \"\") ||\n            (value === null) ||\n            (typeof value === \"undefined\") ||\n            (Array.isArray(value) && value.length === 0) ||\n            (CommonHelper.isObject(value) && Object.keys(value).length === 0)\n        );\n    }\n\n    /**\n     * Checks whether the provided dom element is a form field (input, textarea, select).\n     *\n     * @param  {Node} element\n     * @return {Boolean}\n     */\n    static isInput(element) {\n        let tagName = element && element.tagName ? element.tagName.toLowerCase() : \"\";\n\n        return (\n            tagName === \"input\" ||\n            tagName === \"select\" ||\n            tagName === \"textarea\" ||\n            element?.isContentEditable\n        )\n    }\n\n    /**\n     * Checks if an element is a common focusable one.\n     *\n     * @param  {Node} element\n     * @return {Boolean}\n     */\n    static isFocusable(element) {\n        let tagName = element && element.tagName ? element.tagName.toLowerCase() : \"\";\n\n        return (\n            CommonHelper.isInput(element) ||\n            tagName === \"button\" ||\n            tagName === \"a\" ||\n            tagName === \"details\" ||\n            element?.tabIndex >= 0\n        );\n    }\n\n    /**\n     * Check if `obj` has at least one none empty property.\n     *\n     * @param  {Object} obj\n     * @return {Boolean}\n     */\n    static hasNonEmptyProps(obj) {\n        for (let i in obj) {\n            if (!CommonHelper.isEmpty(obj[i])) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * Normalizes and returns arr as a new array instance.\n     *\n     * @param  {Array}   arr\n     * @param  {Boolean} [allowEmpty]\n     * @return {Array}\n     */\n    static toArray(arr, allowEmpty = false) {\n        if (Array.isArray(arr)) {\n            return arr.slice();\n        }\n\n        return (allowEmpty || !CommonHelper.isEmpty(arr)) && typeof arr !== \"undefined\" ? [arr] : [];\n    }\n\n    /**\n     * Loosely checks if value exists in an array.\n     *\n     * @param  {Array}  arr\n     * @param  {String} value\n     * @return {Boolean}\n     */\n    static inArray(arr, value) {\n        arr = Array.isArray(arr) ? arr : [];\n\n        for (let i = arr.length - 1; i >= 0; i--) {\n            if (arr[i] == value) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * Removes single element from array by loosely comparing values.\n     *\n     * @param {Array} arr\n     * @param {Mixed} value\n     */\n    static removeByValue(arr, value) {\n        arr = Array.isArray(arr) ? arr : [];\n\n        for (let i = arr.length - 1; i >= 0; i--) {\n            if (arr[i] == value) {\n                arr.splice(i, 1);\n                break;\n            }\n        }\n    }\n\n    /**\n     * Adds `value` in `arr` only if it's not added already.\n     *\n     * @param {Array} arr\n     * @param {Mixed} value\n     */\n    static pushUnique(arr, value) {\n        if (!CommonHelper.inArray(arr, value)) {\n            arr.push(value);\n        }\n    }\n\n    /**\n     * Merges all `valuesArr` items that don't exist in `targetArr`.\n     *\n     * @param {Array} targetArr\n     * @param {Array} valuesArr\n     */\n    static mergeUnique(targetArr, valuesArr) {\n        for (let v of valuesArr) {\n            CommonHelper.pushUnique(targetArr, v)\n        }\n\n        return targetArr;\n    }\n\n    /**\n     * Returns single element from objects array by matching its key value.\n     *\n     * @param  {Array} objectsArr\n     * @param  {Mixed} key\n     * @param  {Mixed} value\n     * @return {Object}\n     */\n    static findByKey(objectsArr, key, value) {\n        objectsArr = Array.isArray(objectsArr) ? objectsArr : [];\n\n        for (let i in objectsArr) {\n            if (objectsArr[i][key] == value) {\n                return objectsArr[i];\n            }\n        }\n\n        return null;\n    }\n\n    /**\n     * Group objects array by a specific key.\n     *\n     * @param  {Array}  objectsArr\n     * @param  {String} key\n     * @return {Object}\n     */\n    static groupByKey(objectsArr, key) {\n        objectsArr = Array.isArray(objectsArr) ? objectsArr : [];\n\n        const result = {};\n\n        for (let i in objectsArr) {\n            result[objectsArr[i][key]] = result[objectsArr[i][key]] || [];\n\n            result[objectsArr[i][key]].push(objectsArr[i]);\n        }\n\n        return result;\n    }\n\n    /**\n     * Removes single element from objects array by matching an item\"s property value.\n     *\n     * @param {Array}  objectsArr\n     * @param {String} key\n     * @param {Mixed}  value\n     */\n    static removeByKey(objectsArr, key, value) {\n        for (let i in objectsArr) {\n            if (objectsArr[i][key] == value) {\n                objectsArr.splice(i, 1);\n                break;\n            }\n        }\n    }\n\n    /**\n     * Adds or replace an object array element by comparing its key value.\n     *\n     * @param {Array}  objectsArr\n     * @param {Object} item\n     * @param {Mixed}  [key]\n     */\n    static pushOrReplaceByKey(objectsArr, item, key = \"id\") {\n        for (let i = objectsArr.length - 1; i >= 0; i--) {\n            if (objectsArr[i][key] == item[key]) {\n                objectsArr[i] = item; // replace\n                return;\n            }\n        }\n\n        objectsArr.push(item);\n    }\n\n    /**\n     * Filters and returns a new objects array with duplicated elements removed.\n     *\n     * @param  {Array} objectsArr\n     * @param  {String} key\n     * @return {Array}\n     */\n    static filterDuplicatesByKey(objectsArr, key = \"id\") {\n        objectsArr = Array.isArray(objectsArr) ? objectsArr : [];\n\n        const uniqueMap = {};\n\n        for (const item of objectsArr) {\n            uniqueMap[item[key]] = item;\n        }\n\n        return Object.values(uniqueMap)\n    }\n\n    /**\n     * Filters and returns a new object with removed redacted props.\n     *\n     * @param  {Object} obj\n     * @param  {String} [mask] Default to '******'\n     * @return {Object}\n     */\n    static filterRedactedProps(obj, mask = \"******\") {\n        const result = JSON.parse(JSON.stringify(obj || {}));\n\n        for (let prop in result) {\n            if (typeof result[prop] === \"object\" && result[prop] !== null) {\n                result[prop] = CommonHelper.filterRedactedProps(result[prop], mask)\n            } else if (result[prop] === mask) {\n                delete result[prop];\n            }\n        }\n        return result;\n    }\n\n    /**\n     * Safely access nested object/array key with dot-notation.\n     *\n     * @example\n     * ```javascript\n     * var myObj = {a: {b: {c: 3}}}\n     * this.getNestedVal(myObj, \"a.b.c\");       // returns 3\n     * this.getNestedVal(myObj, \"a.b.c.d\");     // returns null\n     * this.getNestedVal(myObj, \"a.b.c.d\", -1); // returns -1\n     * ```\n     *\n     * @param  {Object|Array} data\n     * @param  {string}       path\n     * @param  {Mixed}        [defaultVal]\n     * @param  {String}       [delimiter]\n     * @return {Mixed}\n     */\n    static getNestedVal(data, path, defaultVal = null, delimiter = \".\") {\n        let result = data || {};\n        let parts = (path || \"\").split(delimiter);\n\n        for (const part of parts) {\n            if (\n                (!CommonHelper.isObject(result) && !Array.isArray(result)) ||\n                typeof result[part] === \"undefined\"\n            ) {\n                return defaultVal;\n            }\n\n            result = result[part];\n        }\n\n        return result;\n    }\n\n    /**\n     * Sets a new value to an object (or array) by its key path.\n     *\n     * @example\n     * ```javascript\n     * this.setByPath({}, \"a.b.c\", 1);             // results in {a: b: {c: 1}}\n     * this.setByPath({a: {b: {c: 3}}}, \"a.b\", 4); // results in {a: {b: 4}}\n     * ```\n     *\n     * @param  {Array|Object} data\n     * @param  {string}       path\n     * @param  {String}       delimiter\n     */\n    static setByPath(data, path, newValue, delimiter = \".\") {\n        if (data === null || typeof data !== \"object\") {\n            console.warn(\"setByPath: data not an object or array.\");\n            return\n        }\n\n        let result = data;\n        let parts = path.split(delimiter);\n        let lastPart = parts.pop();\n\n        for (const part of parts) {\n            if (\n                (!CommonHelper.isObject(result) && !Array.isArray(result)) ||\n                (!CommonHelper.isObject(result[part]) && !Array.isArray(result[part]))\n            ) {\n                result[part] = {};\n            }\n\n            result = result[part];\n        }\n\n        result[lastPart] = newValue;\n    }\n\n    /**\n     * Recursively delete element from an object (or array) by its key path.\n     * Empty array or object elements from the parents chain will be also removed.\n     *\n     * @example\n     * ```javascript\n     * this.deleteByPath({a: {b: {c: 3}}}, \"a.b.c\");       // results in {}\n     * this.deleteByPath({a: {b: {c: 3, d: 4}}}, \"a.b.c\"); // results in {a: {b: {d: 4}}}\n     * ```\n     *\n     * @param  {Array|Object} data\n     * @param  {string}       path\n     * @param  {String}       delimiter\n     */\n    static deleteByPath(data, path, delimiter = \".\") {\n        let result = data || {};\n        let parts = (path || \"\").split(delimiter);\n        let lastPart = parts.pop();\n\n        for (const part of parts) {\n            if (\n                (!CommonHelper.isObject(result) && !Array.isArray(result)) ||\n                (!CommonHelper.isObject(result[part]) && !Array.isArray(result[part]))\n            ) {\n                result[part] = {};\n            }\n\n            result = result[part];\n        }\n\n        if (Array.isArray(result)) {\n            result.splice(lastPart, 1);\n        } else if (CommonHelper.isObject(result)) {\n            delete (result[lastPart]);\n        }\n\n        // cleanup the parents chain\n        if (\n            parts.length > 0 &&\n            (\n                (Array.isArray(result) && !result.length) ||\n                (CommonHelper.isObject(result) && !Object.keys(result).length)\n            ) &&\n            (\n                (Array.isArray(data) && data.length > 0) ||\n                (CommonHelper.isObject(data) && Object.keys(data).length > 0)\n            )\n        ) {\n            CommonHelper.deleteByPath(data, parts.join(delimiter), delimiter);\n        }\n    }\n\n    /**\n     * Generates pseudo-random string (suitable for elements id and keys).\n     *\n     * @param  {Number} [length] Results string length (default 10)\n     * @return {String}\n     */\n    static randomString(length = 10) {\n        let result = \"\";\n        let alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n\n        for (let i = 0; i < length; i++) {\n            result += alphabet.charAt(Math.floor(Math.random() * alphabet.length));\n        }\n\n        return result;\n    }\n\n    /**\n     * Generates cryptographically random secret string\n     * (if crypto is supported, otherwise fallback to randomString).\n     *\n     * @param  {Number} [length] Results string length (default 15)\n     * @return {String}\n     */\n    static randomSecret(length = 15) {\n        if (typeof crypto === \"undefined\") {\n            return CommonHelper.randomString(length)\n        }\n\n        const arr = new Uint8Array(length);\n        crypto.getRandomValues(arr);\n\n        const alphabet = \"-_0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\"; // 64 to devide \"cleanly\" 256\n\n        let result = \"\";\n\n        for (let i = 0; i < length; i++) {\n            result += alphabet.charAt(arr[i] % alphabet.length);\n        }\n\n        return result;\n    }\n\n    /**\n     * Converts and normalizes string into a sentence.\n     *\n     * @param  {String}  str\n     * @param  {Boolean} [stopCheck]\n     * @return {String}\n     */\n    static sentenize(str, stopCheck = true) {\n        if (typeof str !== \"string\") {\n            return \"\";\n        }\n\n        str = str.trim().split(\"_\").join(\" \");\n        if (str === \"\") {\n            return str;\n        }\n\n        str = str[0].toUpperCase() + str.substring(1);\n\n        if (stopCheck) {\n            let lastChar = str[str.length - 1];\n            if (lastChar !== \".\" && lastChar !== \"?\" && lastChar !== \"!\") {\n                str += \".\";\n            }\n        }\n\n        return str\n    }\n\n    /**\n     * Trims the matching quotes from the provided value.\n     *\n     * The value will be returned unchanged if `val` is not\n     * wrapped with quotes or it is not string.\n     *\n     * @param  {Mixed} val\n     * @return {Mixed}\n     */\n    static trimQuotedValue(val) {\n        if (\n            typeof val == \"string\" &&\n            (val[0] == `\"` || val[0] == `'` || val[0] == \"`\") &&\n            val[0] == val[val.length - 1]\n        ) {\n            return val.slice(1, -1);\n        }\n\n        return val\n    }\n\n    /**\n     * Returns the plain text version (aka. strip tags) of the provided string.\n     *\n     * @param  {String} str\n     * @return {String}\n     */\n    static plainText(str) {\n        if (!str) {\n            return \"\";\n        }\n\n        const doc = new DOMParser().parseFromString(str, \"text/html\");\n\n        return (doc.body.innerText || \"\").trim();\n    }\n\n    /**\n     * Truncates the provided text to the specified max characters length.\n     *\n     * @param  {String}  str\n     * @param  {Number}  [length]\n     * @param  {Boolean} [dots]\n     * @return {String}\n     */\n    static truncate(str, length = 150, dots = true) {\n        str = (\"\" + str);\n\n        if (str.length <= length) {\n            return str;\n        }\n\n        return str.substring(0, length) + (dots ? \"...\" : \"\");\n    }\n\n    /**\n     * Returns a new object copy with truncated the large text fields.\n     *\n     * @param  {Object} obj\n     * @return {Object}\n     */\n    static truncateObject(obj) {\n        const truncated = {};\n\n        for (let key in obj) {\n            let value = obj[key];\n\n            if (typeof value === \"string\") {\n                value = CommonHelper.truncate(value, 150, true);\n            }\n\n            truncated[key] = value;\n        }\n\n        return truncated;\n    }\n\n    /**\n     * Normalizes and converts the provided string to a slug.\n     *\n     * @param  {String} str\n     * @param  {String} [delimiter]\n     * @param  {Array}  [preserved]\n     * @return {String}\n     */\n    static slugify(str, delimiter = \"_\", preserved = [\".\", \"=\", \"-\"]) {\n        if (str === \"\") {\n            return \"\";\n        }\n\n        // special characters\n        const specialCharsMap = {\n            \"a\": /а|à|á|å|â/gi,\n            \"b\": /б/gi,\n            \"c\": /ц|ç/gi,\n            \"d\": /д/gi,\n            \"e\": /е|è|é|ê|ẽ|ë/gi,\n            \"f\": /ф/gi,\n            \"g\": /г/gi,\n            \"h\": /х/gi,\n            \"i\": /й|и|ì|í|î/gi,\n            \"j\": /ж/gi,\n            \"k\": /к/gi,\n            \"l\": /л/gi,\n            \"m\": /м/gi,\n            \"n\": /н|ñ/gi,\n            \"o\": /о|ò|ó|ô|ø/gi,\n            \"p\": /п/gi,\n            \"q\": /я/gi,\n            \"r\": /р/gi,\n            \"s\": /с/gi,\n            \"t\": /т/gi,\n            \"u\": /ю|ù|ú|ů|û/gi,\n            \"v\": /в/gi,\n            \"w\": /в/gi,\n            \"x\": /ь/gi,\n            \"y\": /ъ/gi,\n            \"z\": /з/gi,\n            \"ae\": /ä|æ/gi,\n            \"oe\": /ö/gi,\n            \"ue\": /ü/gi,\n            \"Ae\": /Ä/gi,\n            \"Ue\": /Ü/gi,\n            \"Oe\": /Ö/gi,\n            \"ss\": /ß/gi,\n            \"and\": /&/gi\n        };\n\n        // replace special characters\n        for (let k in specialCharsMap) {\n            str = str.replace(specialCharsMap[k], k);\n        }\n\n        return str\n            .replace(new RegExp('[' + preserved.join(\"\") + ']', 'g'), ' ') // replace preserved characters with spaces\n            .replace(/[^\\w\\ ]/gi, \"\")                                      // replaces all non-alphanumeric with empty string\n            .replace(/\\s+/g, delimiter);                                   // collapse whitespaces and replace with `delimiter`\n    }\n\n    /**\n     * Returns `str` with escaped regexp characters, making it safe to\n     * embed in regexp as a whole literal expression.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#escaping\n     * @param  {String} str\n     * @return {String}\n     */\n    static escapeRegExp(str) {\n        return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); // $& means the whole matched string\n    }\n\n    /**\n     * Splits `str` and returns its non empty parts as an array.\n     *\n     * @param  {String} str\n     * @param  {String} [separator]\n     * @return {Array}\n     */\n    static splitNonEmpty(str, separator = \",\") {\n        const result = [];\n\n        const items = (str || \"\")\n            .replaceAll(\"\\\\\" + separator, \"{_PB_ESCAPED_}\")\n            .split(separator)\n            .map((item) => {\n                return item.replaceAll(\"{_PB_ESCAPED_}\", separator);\n            });\n\n        for (let item of items) {\n            item = item.trim();\n            if (!CommonHelper.isEmpty(item)) {\n                result.push(item);\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Returns a concatenated `items` string.\n     *\n     * @param  {String} items\n     * @param  {String} [separator]\n     * @return {Array}\n     */\n    static joinNonEmpty(items, separator = \", \") {\n        items = items || [];\n\n        const result = [];\n\n        const trimmedSeparator = separator.length > 1 ? separator.trim() : separator;\n\n        for (let item of items) {\n            item = typeof item === \"string\" ? item.trim() : \"\";\n            if (!CommonHelper.isEmpty(item)) {\n                result.push(item.replaceAll(trimmedSeparator, \"\\\\\" + trimmedSeparator));\n            }\n        }\n\n        return result.join(separator);\n    }\n\n    /**\n     * Extract the user initials from the provided username or email address\n     * (eg. converts \"john.doe@example.com\" to \"JD\").\n     *\n     * @param  {String} str\n     * @return {String}\n     */\n    static getInitials(str) {\n        str = (str || \"\").split(\"@\")[0].trim();\n\n        if (str.length <= 2) {\n            return str.toUpperCase();\n        }\n\n        const parts = str.split(/[\\.\\_\\-\\ ]/);\n\n        if (parts.length >= 2) {\n            return (parts[0][0] + parts[1][0]).toUpperCase();\n        }\n\n        return str[0].toUpperCase();\n    }\n\n    /**\n     * Returns a human readable file size string from size in bytes.\n     *\n     * @param  {Number} size s\n     * @return {String}\n     */\n    static formattedFileSize(size) {\n        const i = size ? Math.floor(Math.log(size) / Math.log(1024)) : 0;\n\n        return (size / Math.pow(1024, i)).toFixed(2) * 1 + \" \" + [\"B\", \"KB\", \"MB\", \"GB\", \"TB\"][i];\n    }\n\n    /**\n     * Returns a DateTime instance from a date object, string or number (in ms).\n     *\n     * @param  {String|Number|Date} date\n     * @return {DateTime}\n     */\n    static getDateTime(date) {\n        if (typeof date === \"string\") {\n            const formats = {\n                19: \"yyyy-MM-dd HH:mm:ss\",\n                23: \"yyyy-MM-dd HH:mm:ss.SSS\",\n                20: \"yyyy-MM-dd HH:mm:ss'Z'\",\n                24: \"yyyy-MM-dd HH:mm:ss.SSS'Z'\",\n            }\n            const format = formats[date.length] || formats[19];\n            return DateTime.fromFormat(date, format, { zone: \"UTC\" });\n        }\n\n        if (typeof date == \"number\") {\n            return DateTime.fromMillis(date);\n        }\n\n        return DateTime.fromJSDate(date);\n    }\n\n    /**\n     * Returns formatted datetime string in the UTC timezone.\n     *\n     * @param  {String|Date} date\n     * @param  {String}      [format] The result format (see https://moment.github.io/luxon/#/parsing?id=table-of-tokens)\n     * @return {String}\n     */\n    static formatToUTCDate(date, format = \"yyyy-MM-dd HH:mm:ss\") {\n        return CommonHelper.getDateTime(date).toUTC().toFormat(format);\n    }\n\n    /**\n     * Returns formatted datetime string in the local timezone.\n     *\n     * @param  {String|Date} date\n     * @param  {String}      [format] The result format (see https://moment.github.io/luxon/#/parsing?id=table-of-tokens)\n     * @return {String}\n     */\n    static formatToLocalDate(date, format = \"yyyy-MM-dd HH:mm:ss\") {\n        return CommonHelper.getDateTime(date).toLocal().toFormat(format);\n    }\n\n    /**\n     * Serializes the provided data and copies the resulting text into the user clipboard.\n     *\n     * @param  {Mixed} data\n     * @return {Promise}\n     */\n    static async copyToClipboard(data) {\n        if (typeof data === \"object\") {\n            try {\n                data = JSON.stringify(data, null, 2)\n            } catch {}\n        }\n\n        data = \"\" + data // ensure that data is string\n\n        if (!data.length || !window?.navigator?.clipboard) {\n            return;\n        }\n\n        return window.navigator.clipboard.writeText(data).catch((err) => {\n            console.warn(\"Failed to copy.\", err);\n        })\n    }\n\n    /**\n     * Forces the browser to start downloading the specified url.\n     *\n     * @param {String} url  The url of the file to download.\n     * @param {String} name The result file name.\n     */\n    static download(url, name) {\n        const tempLink = document.createElement(\"a\");\n        tempLink.setAttribute(\"href\", url);\n        tempLink.setAttribute(\"download\", name);\n        tempLink.setAttribute(\"target\", \"_blank\");\n        tempLink.click();\n        tempLink.remove();\n    }\n\n    /**\n     * Downloads a json file created from the provide object.\n     *\n     * @param {mixed} obj   The JS object to download.\n     * @param {String} name The result file name.\n     */\n    static downloadJson(obj, name) {\n        name = name.endsWith(\".json\") ? name : (name + \".json\");\n\n        const blob = new Blob([JSON.stringify(obj, null, 2)], {\n            type: \"application/json\"\n        });\n\n        const url = window.URL.createObjectURL(blob);\n\n        CommonHelper.download(url, name)\n    }\n\n    /**\n     * Parses and returns the decoded jwt payload data.\n     *\n     * @param  {String} jwt\n     * @return {Object}\n     */\n    static getJWTPayload(jwt) {\n        const raw = (jwt || \"\").split(\".\")[1] || \"\";\n        if (raw === \"\") {\n            return {};\n        }\n\n        try {\n            const encodedPayload = decodeURIComponent(atob(raw));\n            return JSON.parse(encodedPayload) || {};\n        } catch (err) {\n            console.warn(\"Failed to parse JWT payload data.\", err);\n        }\n\n        return {};\n    }\n\n    /**\n     * Loosely check if a file has image extension.\n     *\n     * @param  {String} filename\n     * @return {Boolean}\n     */\n    static hasImageExtension(filename) {\n        filename = filename || \"\";\n        return !!imageExtensions.find((ext) => filename.toLowerCase().endsWith(ext));\n    }\n\n    /**\n     * Loosely check if a file has video extension.\n     *\n     * @param  {String} filename\n     * @return {Boolean}\n     */\n    static hasVideoExtension(filename) {\n        filename = filename || \"\";\n        return !!videoExtensions.find((ext) => filename.toLowerCase().endsWith(ext));\n    }\n\n    /**\n     * Loosely check if a file has audio extension.\n     *\n     * @param  {String} filename\n     * @return {Boolean}\n     */\n    static hasAudioExtension(filename) {\n        filename = filename || \"\";\n        return !!audioExtensions.find((ext) => filename.toLowerCase().endsWith(ext));\n    }\n\n    /**\n     * Loosely check if a file has document extension.\n     *\n     * @param  {String} filename\n     * @return {Boolean}\n     */\n    static hasDocumentExtension(filename) {\n        filename = filename || \"\";\n        return !!documentExtensions.find((ext) => filename.toLowerCase().endsWith(ext));\n    }\n\n    /**\n     * Returns the file type based on its filename.\n     *\n     * @param  {String} filename\n     * @return {String}\n     */\n    static getFileType(filename) {\n        if (CommonHelper.hasImageExtension(filename)) return \"image\";\n        if (CommonHelper.hasDocumentExtension(filename)) return \"document\";\n        if (CommonHelper.hasVideoExtension(filename)) return \"video\";\n        if (CommonHelper.hasAudioExtension(filename)) return \"audio\";\n        return \"file\";\n    }\n\n    /**\n     * Creates a thumbnail from `File` with the specified `width` and `height` params.\n     * Returns a `Promise` with the generated base64 url.\n     *\n     * @param  {File}   file\n     * @param  {Number} [width]\n     * @param  {Number} [height]\n     * @return {Promise}\n     */\n    static generateThumb(file, width = 100, height = 100) {\n        return new Promise((resolve) => {\n            let reader = new FileReader();\n\n            reader.onload = function (e) {\n                let img = new Image();\n\n                img.onload = function () {\n                    let canvas = document.createElement(\"canvas\");\n                    let ctx = canvas.getContext(\"2d\");\n                    let imgWidth = img.width;\n                    let imgHeight = img.height;\n\n                    canvas.width = width;\n                    canvas.height = height;\n\n                    ctx.drawImage(\n                        img,\n                        imgWidth > imgHeight ? (imgWidth - imgHeight) / 2 : 0,\n                        0, // top aligned\n                        // imgHeight > imgWidth ? (imgHeight - imgWidth) / 2 : 0,\n                        imgWidth > imgHeight ? imgHeight : imgWidth,\n                        imgWidth > imgHeight ? imgHeight : imgWidth,\n                        0,\n                        0,\n                        width,\n                        height\n                    );\n\n                    return resolve(canvas.toDataURL(file.type));\n                };\n\n                img.src = e.target.result;\n            }\n\n            reader.readAsDataURL(file);\n        });\n    }\n\n    /**\n     * Normalizes and append a value to the provided form data.\n     *\n     * @param {FormData} formData\n     * @param {string}   key\n     * @param {mixed}    value\n     */\n    static addValueToFormData(formData, key, value) {\n        if (typeof value === \"undefined\") {\n            return;\n        }\n\n        if (CommonHelper.isEmpty(value)) {\n            formData.append(key, \"\");\n        } else if (Array.isArray(value)) {\n            for (const item of value) {\n                CommonHelper.addValueToFormData(formData, key, item);\n            }\n        } else if (value instanceof File) {\n            formData.append(key, value);\n        } else if (value instanceof Date) {\n            formData.append(key, value.toISOString());\n        } else if (CommonHelper.isObject(value)) {\n            formData.append(key, JSON.stringify(value));\n        } else {\n            formData.append(key, \"\" + value);\n        }\n    }\n\n    /**\n     * Returns a dummy collection record object.\n     *\n     * @param  {Object} collection\n     * @return {Object}\n     */\n    static dummyCollectionRecord(collection) {\n        return Object.assign({\n            \"collectionId\": collection?.id,\n            \"collectionName\": collection?.name,\n        }, CommonHelper.dummyCollectionSchemaData(collection));\n    }\n\n    /**\n     * Returns a dummy collection fields data object.\n     *\n     * @param  {Object} collection\n     * @return {Object}\n     */\n    static dummyCollectionSchemaData(collection, forSubmit = false) {\n        const fields = collection?.fields || [];\n\n        const dummy = {};\n\n        for (const field of fields) {\n            if (\n                field.hidden ||\n                (forSubmit && field.primaryKey && field.autogeneratePattern) ||\n                (forSubmit && field.type === \"autodate\")\n            ) {\n                continue\n            }\n\n            let val = null;\n\n            if (field.type === \"number\") {\n                val = 123;\n            } else if (field.type === \"date\" || field.type === \"autodate\") {\n                val = \"2022-01-01 10:00:00.123Z\";\n            } else if (field.type == \"bool\") {\n                val = true;\n            } else if (field.type == \"email\") {\n                val = \"test@example.com\";\n            } else if (field.type == \"url\") {\n                val = \"https://example.com\";\n            } else if (field.type == \"json\") {\n                val = 'JSON';\n            } else if (field.type == \"file\") {\n                if (forSubmit) {\n                    // @todo add a File obj example after the refactoring\n                    continue\n                } else {\n                    val = \"filename.jpg\"\n                    if (field.maxSelect != 1) {\n                        val = [val];\n                    }\n                }\n            } else if (field.type == \"select\") {\n                val = field?.values?.[0];\n                if (field?.maxSelect != 1) {\n                    val = [val];\n                }\n            } else if (field.type == \"relation\") {\n                val = 'RELATION_RECORD_ID';\n                if (field?.maxSelect != 1) {\n                    val = [val];\n                }\n            } else if (field.type == \"geoPoint\") {\n                val = {\"lon\": 0, \"lat\": 0};\n            } else {\n                val = \"test\";\n            }\n\n            dummy[field.name] = val;\n        }\n\n        return dummy;\n    }\n\n    /**\n     * Returns a collection type icon.\n     *\n     * @param  {String} type\n     * @return {String}\n     */\n    static getCollectionTypeIcon(type) {\n        switch (type?.toLowerCase()) {\n            case \"auth\":\n                return \"ri-group-line\";\n            case \"view\":\n                return \"ri-table-line\";\n            default:\n                return \"ri-folder-2-line\";\n        }\n    }\n\n    /**\n     * Returns a field type icon.\n     *\n     * @param  {String} type\n     * @return {String}\n     */\n    static getFieldTypeIcon(type) {\n        switch (type) {\n            case \"primary\":\n                return \"ri-key-line\";\n            case \"text\":\n                return \"ri-text\";\n            case \"number\":\n                return \"ri-hashtag\";\n            case \"date\":\n                return \"ri-calendar-line\";\n            case \"bool\":\n                return \"ri-toggle-line\";\n            case \"email\":\n                return \"ri-mail-line\";\n            case \"url\":\n                return \"ri-link\";\n            case \"editor\":\n                return \"ri-edit-2-line\";\n            case \"select\":\n                return \"ri-list-check\";\n            case \"json\":\n                return \"ri-braces-line\";\n            case \"file\":\n                return \"ri-image-line\";\n            case \"relation\":\n                return \"ri-mind-map\";\n            case \"password\":\n                return \"ri-lock-password-line\";\n            case \"autodate\":\n                return \"ri-calendar-check-line\";\n            case \"geoPoint\":\n                return \"ri-map-pin-2-line\";\n            default:\n                return \"ri-star-s-line\";\n        }\n    }\n\n    /**\n     * Returns the field value base type as text.\n     *\n     * @param  {Object} field\n     * @return {String}\n     */\n    static getFieldValueType(field) {\n        switch (field?.type) {\n            case \"bool\":\n                return \"Boolean\";\n            case \"number\":\n                return \"Number\";\n            case \"geoPoint\":\n                return \"Object\";\n            case \"file\":\n                return \"File\";\n            case \"select\":\n            case \"relation\":\n                if (field?.maxSelect == 1) {\n                    return \"String\";\n                }\n                return \"Array<String>\";\n            default:\n                return \"String\";\n        }\n    }\n\n    /**\n     * Returns the zero-default string value of the provided field.\n     *\n     * @param  {Object} field\n     * @return {String}\n     */\n    static zeroDefaultStr(field) {\n        if (field?.type === \"number\") {\n            return \"0\";\n        }\n\n        if (field?.type === \"bool\") {\n            return \"false\";\n        }\n\n        if (field?.type === \"geoPoint\") {\n            return '{\"lon\":0,\"lat\":0}';\n        }\n\n        if (field?.type === \"json\") {\n            return 'null, \"\", [], {}';\n        }\n\n        // arrayable fields\n        if ([\"select\", \"relation\", \"file\"].includes(field?.type) && field?.maxSelect != 1) {\n            return \"[]\";\n        }\n\n        return '\"\"';\n    }\n\n    /**\n     * Returns an API url address extract from the current running instance.\n     *\n     * @param  {String} fallback Fallback url that will be used if the extractions fail.\n     * @return {String}\n     */\n    static getApiExampleUrl(fallback) {\n        let url = window.location.href.substring(0, window.location.href.indexOf(\"/_\")) || fallback || '/';\n\n        // for broader compatibility replace localhost with 127.0.0.1\n        // (see https://github.com/pocketbase/js-sdk/issues/21)\n        return url.replace('//localhost', '//127.0.0.1');\n    }\n\n    /**\n     * Checks if the provided 2 collections has any change (ignoring root fields order).\n     *\n     * @param  {Collection} oldCollection\n     * @param  {Collection} newCollection\n     * @param  {Boolean}    withDeleteMissing Skip missing fields from the newCollection.\n     * @return {Boolean}\n     */\n    static hasCollectionChanges(oldCollection, newCollection, withDeleteMissing = false) {\n        oldCollection = oldCollection || {};\n        newCollection = newCollection || {};\n\n        if (oldCollection.id != newCollection.id) {\n            return true;\n        }\n\n        for (let prop in oldCollection) {\n            if (prop !== 'fields' && JSON.stringify(oldCollection[prop]) !== JSON.stringify(newCollection[prop])) {\n                return true;\n            }\n        }\n\n        const oldFields = Array.isArray(oldCollection.fields) ? oldCollection.fields : [];\n        const newFields = Array.isArray(newCollection.fields) ? newCollection.fields : [];\n        const removedFields = oldFields.filter((oldField) => {\n            return oldField?.id && !CommonHelper.findByKey(newFields, \"id\", oldField.id);\n        });\n        const addedFields = newFields.filter((newField) => {\n            return newField?.id && !CommonHelper.findByKey(oldFields, \"id\", newField.id);\n        });\n        const changedFields = newFields.filter((newField) => {\n            const oldField = CommonHelper.isObject(newField) && CommonHelper.findByKey(oldFields, \"id\", newField.id);\n            if (!oldField) {\n                return false;\n            }\n\n            for (let prop in oldField) {\n                if (JSON.stringify(newField[prop]) != JSON.stringify(oldField[prop])) {\n                    return true;\n                }\n            }\n\n            return false;\n        });\n\n        return !!(\n            addedFields.length ||\n            changedFields.length ||\n            (withDeleteMissing && removedFields.length)\n        );\n    }\n\n    /**\n     * Groups and sorts collections array by type (auth, base, view) and name.\n     *\n     * @param  {Array} collections\n     * @return {Array}\n     */\n    static sortCollections(collections = []) {\n        const auth = [];\n        const base = [];\n        const view = [];\n\n        for (const collection of collections) {\n            if (collection.type === 'auth') {\n                auth.push(collection);\n            } else if (collection.type === 'base') {\n                base.push(collection);\n            } else {\n                view.push(collection);\n            }\n        }\n\n        function sortNames(a, b) {\n            if (a.name > b.name) {\n                return 1\n            }\n            if (a.name < b.name) {\n                return -1\n            }\n            return 0;\n        }\n\n        return [].concat(auth.sort(sortNames), base.sort(sortNames), view.sort(sortNames));\n    }\n\n    /**\n     * Returns an expand list with the presentable nested relation fields (e.g. [base.sub1.sub11, base.sub2]).\n     *\n     * @param  {Object} baseRelField\n     * @param  {Array} collections\n     * @param  {Number} maxNestedLevel\n     * @return {Array}\n     */\n    static getExpandPresentableRelFields(baseRelField, collections, maxNestedLevel = 2) {\n        let result = [];\n\n        const collection = collections.find((c) => c.id == baseRelField.collectionId)\n        if (!collection) {\n            return result;\n        }\n\n        for (const field of collection.fields) {\n            if (!field.presentable || field.type != \"relation\" || maxNestedLevel <= 0) {\n                continue\n            }\n\n            const nestedExpands = CommonHelper.getExpandPresentableRelFields(field, collections, maxNestedLevel-1)\n            for (const expand of nestedExpands) {\n                result.push(baseRelField.name + \".\" + expand);\n            }\n        }\n\n        // add the base field if not already\n        if (!result.length) {\n            result.push(baseRelField.name);\n        }\n\n        return result;\n    }\n\n    /**\n     * \"Yield\" to the main thread to break long runing task into smaller ones.\n     *\n     * (see https://web.dev/optimize-long-tasks/)\n     */\n    static yieldToMain() {\n        return new Promise((resolve) => {\n            setTimeout(resolve, 0);\n        });\n    }\n\n    /**\n     * Returns the default Flatpickr initialization options.\n     *\n     * @return {Object}\n     */\n    static defaultFlatpickrOptions() {\n        return {\n            dateFormat: \"Y-m-d H:i:S\",\n            disableMobile: true,\n            allowInput: true,\n            enableTime: true,\n            time_24hr: true,\n            locale: {\n                firstDayOfWeek: 1,\n            },\n        }\n    }\n\n    /**\n     * Returns the default rich editor options.\n     *\n     * @return {Object}\n     */\n    static defaultEditorOptions() {\n        const allowedPasteNodes = [\n            \"DIV\", \"P\", \"A\", \"EM\", \"B\", \"STRONG\",\n            \"H1\", \"H2\", \"H3\", \"H4\", \"H5\", \"H6\",\n            \"TABLE\", \"TR\", \"TD\", \"TH\", \"TBODY\", \"THEAD\", \"TFOOT\",\n            \"BR\", \"HR\", \"Q\", \"SUP\", \"SUB\", \"DEL\",\n            \"IMG\", \"OL\", \"UL\", \"LI\", \"CODE\",\n        ];\n\n        function unwrap(node) {\n            let parent = node.parentNode;\n\n            // move children outside of the parent node\n            while (node.firstChild) {\n                parent.insertBefore(node.firstChild, node);\n            }\n\n            // remove the now empty parent element\n            parent.removeChild(node);\n        }\n\n        function cleanupPastedNode(node) {\n            if (!node) {\n                return; // nothing to cleanup\n            }\n\n            for (const child of node.children) {\n                cleanupPastedNode(child);\n            }\n\n            if (!allowedPasteNodes.includes(node.tagName)) {\n                unwrap(node);\n            } else {\n                node.removeAttribute(\"style\");\n                node.removeAttribute(\"class\");\n            }\n        }\n\n        return {\n            branding: false,\n            promotion: false,\n            menubar: false,\n            min_height: 270,\n            height: 270,\n            max_height: 700,\n            autoresize_bottom_margin: 30,\n            convert_unsafe_embeds: true, // GHSA-5359\n            skin: \"pocketbase\",\n            content_style: \"body { font-size: 14px }\",\n            plugins: [\n                \"autoresize\",\n                \"autolink\",\n                \"lists\",\n                \"link\",\n                \"image\",\n                \"searchreplace\",\n                \"fullscreen\",\n                \"media\",\n                \"table\",\n                \"code\",\n                \"codesample\",\n                \"directionality\",\n            ],\n            codesample_global_prismjs: true,\n            codesample_languages: [\n                { text: 'HTML/XML', value: 'markup' },\n                { text: 'CSS', value: 'css' },\n                { text: 'SQL', value: 'sql' },\n                { text: 'JavaScript', value: 'javascript' },\n                { text: 'Go', value: 'go' },\n                { text: 'Dart', value: 'dart' },\n                { text: 'Zig', value: 'zig' },\n                { text: 'Rust', value: 'rust' },\n                { text: 'Lua', value: 'lua' },\n                { text: 'PHP', value: 'php' },\n                { text: 'Ruby', value: 'ruby' },\n                { text: 'Python', value: 'python' },\n                { text: 'Java', value: 'java' },\n                { text: 'C', value: 'c' },\n                { text: 'C#', value: 'csharp' },\n                { text: 'C++', value: 'cpp' },\n                // other non-highlighted languages\n                { text: 'Markdown', value: 'markdown' },\n                { text: 'Swift', value: 'swift' },\n                { text: 'Kotlin', value: 'kotlin' },\n                { text: 'Elixir', value: 'elixir' },\n                { text: 'Scala', value: 'scala' },\n                { text: 'Julia', value: 'julia' },\n                { text: 'Haskell', value: 'haskell' },\n            ],\n            toolbar: \"styles | alignleft aligncenter alignright | bold italic forecolor backcolor | bullist numlist | link image_picker table codesample direction | code fullscreen\",\n            paste_postprocess: (editor, args) => {\n                cleanupPastedNode(args.node);\n            },\n            file_picker_types: \"image\",\n            // @see https://www.tiny.cloud/docs/tinymce/6/file-image-upload/#interactive-example\n            file_picker_callback: (cb, value, meta) => {\n                const input = document.createElement(\"input\");\n                input.setAttribute(\"type\", \"file\");\n                input.setAttribute(\"accept\", \"image/*\");\n\n                input.addEventListener(\"change\", (e) => {\n                    const file = e.target.files[0];\n                    const reader = new FileReader();\n\n                    reader.addEventListener(\"load\", () => {\n                        if (!tinymce) {\n                            return;\n                        }\n\n                        // We need to register the blob in TinyMCEs image blob registry.\n                        // In future TinyMCE version this part will be handled internally.\n                        const id = \"blobid\" + new Date().getTime();\n                        const blobCache = tinymce.activeEditor.editorUpload.blobCache;\n                        const base64 = reader.result.split(\",\")[1];\n                        const blobInfo = blobCache.create(id, file, base64);\n                        blobCache.add(blobInfo);\n\n                        // call the callback and populate the Title field with the file name\n                        cb(blobInfo.blobUri(), { title: file.name });\n                    });\n\n                    reader.readAsDataURL(file);\n                });\n\n                input.click();\n            },\n            setup: (editor) => {\n                editor.on('keydown', (e) => {\n                    // propagate save shortcut to the parent\n                    if ((e.ctrlKey || e.metaKey) && e.code == \"KeyS\" && editor.formElement) {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        editor.formElement.dispatchEvent(new KeyboardEvent(\"keydown\", e));\n                    }\n                });\n\n                const lastDirectionKey = \"tinymce_last_direction\";\n\n                // load last used text direction for blank editors\n                editor.on('init', () => {\n                    const lastDirection = window?.localStorage?.getItem(lastDirectionKey);\n                    if (!editor.isDirty() && editor.getContent() == \"\" && lastDirection == \"rtl\") {\n                        editor.execCommand(\"mceDirectionRTL\");\n                    }\n                });\n\n                // text direction dropdown\n                editor.ui.registry.addMenuButton(\"direction\", {\n                    icon: \"visualchars\",\n                    fetch: (callback) => {\n                        const items = [\n                            {\n                                type: \"menuitem\",\n                                text: \"LTR content\",\n                                icon: \"ltr\",\n                                onAction: () => {\n                                    window?.localStorage?.setItem(lastDirectionKey, \"ltr\");\n                                    editor.execCommand(\"mceDirectionLTR\");\n                                }\n                            },\n                            {\n                                type: \"menuitem\",\n                                text: \"RTL content\",\n                                icon: \"rtl\",\n                                onAction: () => {\n                                    window?.localStorage?.setItem(lastDirectionKey, \"rtl\");\n                                    editor.execCommand(\"mceDirectionRTL\");\n                                }\n                            }\n                        ];\n\n                        callback(items);\n                    }\n                });\n\n                editor.ui.registry.addMenuButton(\"image_picker\", {\n                    icon: \"image\",\n                    fetch: (callback) => {\n                        const items = [\n                            {\n                                type: \"menuitem\",\n                                text: \"From collection\",\n                                icon: \"gallery\",\n                                onAction: () => {\n                                    editor.dispatch(\"collections_file_picker\", {})\n                                }\n                            },\n                            {\n                                type: \"menuitem\",\n                                text: \"Inline\",\n                                icon: \"browse\",\n                                onAction: () => {\n                                    editor.execCommand(\"mceImage\");\n                                }\n                            }\n                        ];\n\n                        callback(items);\n                    }\n                })\n            },\n        };\n    }\n\n    /**\n     * Tries to output the first displayable field of the provided model.\n     *\n     * @param  {Object}        model\n     * @param  {Array<string>} displayFields\n     * @param  {String}        [missingValue]\n     * @return {String}\n     */\n    static displayValue(model, displayFields, missingValue = \"N/A\") {\n        model = model || {};\n        displayFields = displayFields || [];\n\n        let result = [];\n\n        for (const prop of displayFields) {\n            let val = model[prop];\n\n            if (typeof val === \"undefined\") {\n                continue\n            }\n\n            val = CommonHelper.stringifyValue(val, missingValue)\n\n            result.push(val);\n        }\n\n        if (result.length > 0) {\n            return result.join(\", \");\n        }\n\n        const fallbackProps = [\n            \"title\",\n            \"name\",\n            \"slug\",\n            \"email\",\n            \"username\",\n            \"nickname\",\n            \"label\",\n            \"heading\",\n            \"message\",\n            \"key\",\n            \"identifier\",\n            \"id\",\n        ];\n\n        for (const prop of fallbackProps) {\n            let val = CommonHelper.stringifyValue(model[prop], \"\");\n            if (val) {\n                return val;\n            }\n        }\n\n        return missingValue;\n    }\n\n    /**\n     * Stringifies the provided value or fallback to missingValue in case it is empty.\n     *\n     * @param  {Mixed}  val\n     * @param  {String} missingValue\n     * @return {String}\n     */\n    static stringifyValue(val, missingValue = \"N/A\", truncateLength = 150) {\n        if (CommonHelper.isEmpty(val)) {\n            return missingValue;\n        }\n\n        if (typeof val == \"number\") {\n            return \"\" + val;\n        }\n\n        if (typeof val == \"boolean\") {\n            return val ? \"True\" : \"False\";\n        }\n\n        if (typeof val == \"string\") {\n            val = val.indexOf(\"<\") >= 0 ? CommonHelper.plainText(val) : val;\n            return CommonHelper.truncate(val, truncateLength) || missingValue;\n        }\n\n        // plain array\n        if (Array.isArray(val) && typeof val[0] != \"object\") {\n            return CommonHelper.truncate(val.join(\",\"), truncateLength);\n        }\n\n        // json\n        if (typeof val == \"object\") {\n            try {\n                return CommonHelper.truncate(JSON.stringify(val), truncateLength) || missingValue;\n            } catch (_) {\n                return missingValue;\n            }\n        }\n\n        // return as it is\n        return val;\n    }\n\n    /**\n     * Rudimentary SELECT query columns extractor.\n     * Returns an array with the identifier aliases\n     * (expressions wrapped in parenthesis are skipped).\n     *\n     * @param  {String} selectQuery\n     * @return {Array}\n     */\n    static extractColumnsFromQuery(selectQuery) {\n        const groupReplacement = \"__GROUP__\";\n\n        selectQuery = (selectQuery || \"\").\n            // replace parenthesis/group expessions\n            replace(/\\([\\s\\S]+?\\)/gm, groupReplacement).\n            // replace multi-whitespace characters with single space\n            replace(/[\\t\\r\\n]|(?:\\s\\s)+/g, \" \");\n\n        const match = selectQuery.match(/select\\s+([\\s\\S]+)\\s+from/);\n\n        const expressions = match?.[1]?.split(\",\") || [];\n\n        const result = [];\n\n        for (let expr of expressions) {\n            const column = expr.trim().split(\" \").pop(); // get only the alias\n            if (column != \"\" && column != groupReplacement) {\n                result.push(column.replace(/[\\'\\\"\\`\\[\\]\\s]/g, \"\"));\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Returns an array with all public collection identifiers (collection fields + type specific fields).\n     *\n     * @param  {[type]} collection The collection to extract identifiers from.\n     * @param  {String} prefix     Optional prefix for each found identified.\n     * @return {Array}\n     */\n    static getAllCollectionIdentifiers(collection, prefix = \"\") {\n        if (!collection) {\n            return [];\n        }\n\n        let result = [prefix + \"id\"];\n\n        if (collection.type === \"view\") {\n            for (let col of CommonHelper.extractColumnsFromQuery(collection.viewQuery)) {\n                CommonHelper.pushUnique(result, prefix + col);\n            }\n        }\n\n        const fields = collection.fields || [];\n        for (const field of fields) {\n            if (field.type == \"geoPoint\") {\n                CommonHelper.pushUnique(result, prefix + field.name + \".lon\");\n                CommonHelper.pushUnique(result, prefix + field.name + \".lat\");\n            } else {\n                CommonHelper.pushUnique(result, prefix + field.name);\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Generates recursively a list with all the autocomplete field keys\n     * for the collectionNameOrId collection.\n     *\n     * @param  {Array}  collections\n     * @param  {String} collectionNameOrId\n     * @param  {String} [prefix]\n     * @param  {Number} [level]\n     * @return {Array}\n     */\n    static getCollectionAutocompleteKeys(collections, collectionNameOrId, prefix = \"\", level = 0) {\n        let collection = collections.find((item) => item.name == collectionNameOrId || item.id == collectionNameOrId);\n        if (!collection || level >= 4) {\n            return [];\n        }\n        collection.fields = collection.fields || [];\n\n        let result = CommonHelper.getAllCollectionIdentifiers(collection, prefix);\n\n        for (const field of collection.fields) {\n            const key = prefix + field.name;\n\n            // add relation fields\n            if (field.type == \"relation\" && field.collectionId) {\n                const subKeys = CommonHelper.getCollectionAutocompleteKeys(collections, field.collectionId, key + \".\", level + 1);\n                if (subKeys.length) {\n                    result = result.concat(subKeys);\n                }\n            }\n\n            if (field.maxSelect != 1 && arraybleFields.includes(field.type)) {\n                // add \":length\" and \":each\" field modifiers to arrayble fields\n                result.push(key + \":each\");\n                result.push(key + \":length\");\n            } else if (stringFields.includes(field.type)) {\n                // add \":lower\" field modifier to string fields\n                result.push(key + \":lower\");\n            }\n        }\n\n        // add back relations\n        for (const ref of collections) {\n            ref.fields = ref.fields || [];\n            for (const field of ref.fields) {\n                if (field.type == \"relation\" && field.collectionId == collection.id) {\n                    const key = prefix + ref.name + \"_via_\" + field.name;\n                    const subKeys = CommonHelper.getCollectionAutocompleteKeys(collections, ref.id, key + \".\", level + 2); // +2 to reduce the recursive results\n                    if (subKeys.length) {\n                        result = result.concat(subKeys);\n                    }\n                }\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Generates a list with all @collection.* autocomplete field keys.\n     *\n     * @param  {Array} collections\n     * @return {Array}\n     */\n    static getCollectionJoinAutocompleteKeys(collections) {\n        const result = [];\n\n        let prefix, keys;\n\n        for (const collection of collections) {\n            if (collection.system) {\n                continue // skip system collections for now\n            }\n\n            prefix = \"@collection.\" + collection.name + \".\";\n            keys = CommonHelper.getCollectionAutocompleteKeys(collections, collection.name, prefix);\n            for (const key of keys) {\n                result.push(key);\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Generates a list with all @request.* autocomplete field keys.\n     *\n     * @param  {Array}  collections\n     * @param  {String} baseCollectionName (used for the `@request.body.*` fields)\n     * @return {Array}\n     */\n    static getRequestAutocompleteKeys(collections, baseCollectionName) {\n        const result = [];\n\n        result.push(\"@request.context\");\n        result.push(\"@request.method\");\n        result.push(\"@request.query.\");\n        result.push(\"@request.body.\");\n        result.push(\"@request.headers.\");\n        result.push(\"@request.auth.collectionId\");\n        result.push(\"@request.auth.collectionName\");\n\n        // load auth collection fields\n        const authCollections = collections.filter((collection) => collection.type === \"auth\");\n        for (const collection of authCollections) {\n            if (collection.system) {\n                continue // skip system collections for now\n            }\n            const authKeys = CommonHelper.getCollectionAutocompleteKeys(collections, collection.id, \"@request.auth.\");\n            for (const k of authKeys) {\n                CommonHelper.pushUnique(result, k);\n            }\n        }\n\n        // load base collection fields into @request.body.*\n        if (baseCollectionName) {\n            const keys = CommonHelper.getCollectionAutocompleteKeys(collections, baseCollectionName, \"@request.body.\");\n            for (const key of keys) {\n                result.push(key);\n\n                // add \":isset\" modifier to non-base keys\n                const parts = key.split(\".\");\n                if (\n                    parts.length === 3 &&\n                    // doesn't contain another modifier\n                    parts[2].indexOf(\":\") === -1\n                ) {\n                    result.push(key + \":isset\");\n                }\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Parses the specified SQL index and returns an object with its components.\n     *\n     * For example:\n     *\n     * ```js\n     * parseIndex(\"CREATE UNIQUE INDEX IF NOT EXISTS schemaname.idxname on tablename (col1, col2) where expr\")\n     * // output:\n     * {\n     *   \"unique\":     true,\n     *   \"optional\":   true,\n     *   \"schemaName\": \"schemaname\"\n     *   \"indexName\":  \"idxname\"\n     *   \"tableName\":  \"tablename\"\n     *   \"columns\":    [{name: \"col1\", \"collate\": \"\", \"sort\": \"\"}, {name: \"col1\", \"collate\": \"\", \"sort\": \"\"}]\n     *   \"where\":      \"expr\"\n     * }\n     * ```\n     *\n     * @param  {String} idx\n     * @return {Object}\n     */\n    static parseIndex(idx) {\n        const result = {\n            unique: false,\n            optional: false,\n            schemaName: \"\",\n            indexName: \"\",\n            tableName: \"\",\n            columns: [],\n            where: \"\",\n        };\n\n        const indexRegex = /create\\s+(unique\\s+)?\\s*index\\s*(if\\s+not\\s+exists\\s+)?(\\S*)\\s+on\\s+(\\S*)\\s*\\(([\\s\\S]*)\\)(?:\\s*where\\s+([\\s\\S]*))?/gmi;\n        const matches = indexRegex.exec((idx || \"\").trim())\n\n        if (matches?.length != 7) {\n            return result;\n        }\n\n        const sqlQuoteRegex = /^[\\\"\\'\\`\\[\\{}]|[\\\"\\'\\`\\]\\}]$/gm\n\n        // unique\n        result.unique = matches[1]?.trim().toLowerCase() === \"unique\";\n\n        // optional\n        result.optional = !CommonHelper.isEmpty(matches[2]?.trim());\n\n        // schemaName and indexName\n        const namePair = (matches[3] || \"\").split(\".\");\n        if (namePair.length == 2) {\n            result.schemaName = namePair[0].replace(sqlQuoteRegex, \"\");\n            result.indexName = namePair[1].replace(sqlQuoteRegex, \"\");\n        } else {\n            result.schemaName = \"\";\n            result.indexName = namePair[0].replace(sqlQuoteRegex, \"\");\n        }\n\n        // tableName\n        result.tableName = (matches[4] || \"\").replace(sqlQuoteRegex, \"\");\n\n        // columns\n        const rawColumns = (matches[5] || \"\")\n            .replace(/,(?=[^\\(]*\\))/gmi, \"{PB_TEMP}\") // temporary replace comma within expressions for easier splitting\n            .split(\",\");                              // split columns\n\n        for (let col of rawColumns) {\n            col = col.trim().replaceAll(\"{PB_TEMP}\", \",\") // revert temp replacement\n\n            const colRegex = /^([\\s\\S]+?)(?:\\s+collate\\s+([\\w]+))?(?:\\s+(asc|desc))?$/gmi\n            const colMatches = colRegex.exec(col);\n            if (colMatches?.length != 4) {\n                continue\n            }\n\n            const colOrExpr = colMatches[1]?.trim()?.replace(sqlQuoteRegex, \"\");\n            if (!colOrExpr) {\n                continue;\n            }\n            result.columns.push({\n                name: colOrExpr,\n                collate: colMatches[2] || \"\",\n                sort: colMatches[3]?.toUpperCase() || \"\",\n            });\n        }\n\n        // WHERE expression\n        result.where = matches[6] || \"\";\n\n        return result;\n    }\n\n    /**\n     * Builds an index expression from parsed index parts (see parseIndex()).\n     *\n     * @param  {Array} indexParts\n     * @return {String}\n     */\n    static buildIndex(indexParts) {\n        let result = \"CREATE \";\n\n        if (indexParts.unique) {\n            result += \"UNIQUE \";\n        }\n\n        result += \"INDEX \";\n\n        if (indexParts.optional) {\n            result += \"IF NOT EXISTS \";\n        }\n\n        if (indexParts.schemaName) {\n            result += `\\`${indexParts.schemaName}\\`.`;\n        }\n\n        result += `\\`${indexParts.indexName || \"idx_\" + CommonHelper.randomString(10)}\\` `;\n\n        result += `ON \\`${indexParts.tableName}\\` (`;\n\n        const nonEmptyCols = indexParts.columns.filter((col) => !!col?.name);\n\n        if (nonEmptyCols.length > 1) {\n            result += \"\\n  \";\n        }\n\n        result += nonEmptyCols.map((col) => {\n            let item = \"\";\n\n            if (col.name.includes(\"(\") || col.name.includes(\" \")) {\n                // most likely an expression\n                item += col.name;\n            } else {\n                // regular identifier\n                item += (\"`\" + col.name + \"`\");\n            }\n\n            if (col.collate) {\n                item += (\" COLLATE \" + col.collate);\n            }\n\n            if (col.sort) {\n                item += (\" \" + col.sort.toUpperCase());\n            }\n\n            return item;\n        })\n            .join(\",\\n  \");\n\n        if (nonEmptyCols.length > 1) {\n            result += \"\\n\";\n        }\n\n        result += `)`;\n\n        if (indexParts.where) {\n            result += ` WHERE ${indexParts.where}`;\n        }\n\n        return result;\n    }\n\n    /**\n     * Replaces the idx table name with newTableName.\n     *\n     * @param  {String} idx\n     * @param  {String} newTableName\n     * @return {String}\n     */\n    static replaceIndexTableName(idx, newTableName) {\n        const parsed = CommonHelper.parseIndex(idx);\n\n        parsed.tableName = newTableName;\n\n        return CommonHelper.buildIndex(parsed);\n    }\n\n    /**\n     * Replaces an idx column name with a new one (if exists).\n     *\n     * @param  {String} idx\n     * @param  {String} oldColumn\n     * @param  {String} newColumn\n     * @return {String}\n     */\n    static replaceIndexColumn(idx, oldColumn, newColumn) {\n        if (oldColumn === newColumn) {\n            return idx; // no change\n        }\n\n        const parsed = CommonHelper.parseIndex(idx);\n\n        let hasChange = false;\n        for (let col of parsed.columns) {\n            if (col.name === oldColumn) {\n                col.name = newColumn;\n                hasChange = true;\n            }\n        }\n\n        return hasChange ? CommonHelper.buildIndex(parsed) : idx;\n    }\n\n    /**\n     * Normalizes the search filter by converting a simple search term into\n     * a wildcard filter expression using the provided fallback search fields.\n     *\n     * If searchTerm is already an expression it is returned without changes.\n     *\n     * @param  {String} searchTerm\n     * @param  {Array}  fallbackFields\n     * @return {String}\n     */\n    static normalizeSearchFilter(searchTerm, fallbackFields) {\n        searchTerm = (searchTerm || \"\").trim();\n        if (!searchTerm || !fallbackFields.length) {\n            return searchTerm;\n        }\n\n        const opChars = [\"=\", \"!=\", \"~\", \"!~\", \">\", \">=\", \"<\", \"<=\"];\n\n        // loosely check if it is already a filter expression\n        for (const op of opChars) {\n            if (searchTerm.includes(op)) {\n                return searchTerm;\n            }\n        }\n\n        searchTerm = isNaN(searchTerm) && searchTerm != \"true\" && searchTerm != \"false\"\n            ? `\"${searchTerm.replace(/^[\\\"\\'\\`]|[\\\"\\'\\`]$/gm, \"\")}\"`\n            : searchTerm;\n\n        return fallbackFields.map((f) => `${f}~${searchTerm}`).join(\"||\");\n    }\n\n    /**\n     * The same as normalizeSearchFilter() but with preset common logs fields.\n     *\n     * @param  {String} searchTerm\n     * @param  {Array}  fallbackFields\n     * @return {String}\n     */\n    static normalizeLogsFilter(searchTerm, extraFallbackFields = []) {\n        return CommonHelper.normalizeSearchFilter(searchTerm, [\"level\", \"message\", \"data\"].concat(extraFallbackFields));\n    }\n\n    /**\n     * Iniitialize a new blank SchemaField POJO and merge it with the provided data (if any).\n     *\n     * @param  {Object} [data]\n     * @return {Object}\n     */\n    static initSchemaField(data) {\n        return Object.assign({\n            id: '',\n            name: '',\n            type: 'text',\n            system: false,\n            hidden: false,\n            required: false,\n        }, data);\n    }\n\n    /**\n     * Triggers a window resize event.\n     */\n    static triggerResize() {\n        window.dispatchEvent(new Event(\"resize\"))\n    }\n\n    /**\n     * Extracts the hash query parameters from the current url and\n     * returns them as plain object.\n     *\n     * @return {Object}\n     */\n    static getHashQueryParams() {\n        let query = \"\";\n\n        const queryStart = window.location.hash.indexOf(\"?\");\n        if (queryStart > -1) {\n            query = window.location.hash.substring(queryStart + 1);\n        }\n\n        return Object.fromEntries(new URLSearchParams(query))\n    }\n\n    /**\n     * Replaces the current hash query parameters with the provided `params`\n     * without adding new state to the browser history.\n     *\n     * @param {Object} params\n     */\n    static replaceHashQueryParams(params) {\n        params = params || {};\n\n        let query = \"\";\n\n        let hash = window.location.hash\n\n        const queryStart = hash.indexOf(\"?\");\n        if (queryStart > -1) {\n            query = hash.substring(queryStart + 1);\n            hash = hash.substring(0, queryStart);\n        }\n\n        const parsed = new URLSearchParams(query)\n\n        for (let key in params) {\n            const val = params[key];\n\n            if (val === null) {\n                parsed.delete(key);\n            } else {\n                parsed.set(key, val);\n            }\n        }\n\n        query = parsed.toString();\n        if (query != \"\") {\n            hash += (\"?\" + query);\n        }\n\n        // replace the hash/fragment part with the updated one\n        let href = window.location.href;\n        const hashIndex = href.indexOf(\"#\");\n        if (hashIndex > -1) {\n            href = href.substring(0, hashIndex);\n        }\n        window.location.replace(href + hash);\n    }\n}\n","// Simple Svelte tooltip action.\n// ===================================================================\n//\n// ### Example usage\n//\n// Default (position bottom):\n// ```html\n// <span use:tooltip={\"My tooltip\"}>Lorem Ipsum</span>\n// ```\n//\n// Custom options (valid positions: top, right, bottom, left, bottom-left, bottom-right, top-left, top-right):\n// ```html\n// <span use:tooltip={{text: \"My tooltip\", position: \"top-left\", class: \"...\", delay: 300, hideOnClick: false}}>Lorem Ipsum</span>\n// ```\n// ===================================================================\n\nimport CommonHelper from \"@/utils/CommonHelper\";\n\nlet showTimeoutId;\nlet tooltipContainer;\n\nconst defaultTooltipClass = \"app-tooltip\";\n\nfunction normalize(rawData) {\n    if (typeof rawData == \"string\") {\n        return {\n            text: rawData,\n            position: \"bottom\",\n            hideOnClick: null, // auto\n        }\n    }\n\n    return rawData || {};\n}\n\nfunction getTooltip() {\n    tooltipContainer = tooltipContainer || document.querySelector(\".\" + defaultTooltipClass);\n\n    if (!tooltipContainer) {\n        // create\n        tooltipContainer = document.createElement(\"div\");\n        tooltipContainer.classList.add(defaultTooltipClass);\n        document.body.appendChild(tooltipContainer);\n    }\n\n    return tooltipContainer;\n}\n\nfunction refreshTooltip(node, data) {\n    let tooltip = getTooltip();\n    if (!tooltip.classList.contains(\"active\") || !data?.text) {\n        hideTooltip();\n        return; // no need to update since it is not active or there is no text to display\n    }\n\n    // set tooltip content\n    tooltip.textContent = data.text;\n\n    // reset tooltip styling\n    tooltip.className = defaultTooltipClass + \" active\";\n    if (data.class) {\n        tooltip.classList.add(data.class);\n    }\n    if (data.position) {\n        tooltip.classList.add(data.position);\n    }\n\n    // reset tooltip position\n    tooltip.style.top = \"0px\";\n    tooltip.style.left = \"0px\";\n\n    // note: doesn\"t use getBoundingClientRect() here because the\n    // tooltip could be animated/scaled/transformed and we need the real size\n    let tooltipHeight = tooltip.offsetHeight;\n    let tooltipWidth = tooltip.offsetWidth;\n\n    let nodeRect = node.getBoundingClientRect();\n    let top = 0;\n    let left = 0;\n    let tolerance = 5;\n\n    // calculate tooltip position position\n    if (data.position == \"left\") {\n        top = nodeRect.top + (nodeRect.height / 2) - (tooltipHeight / 2);\n        left = nodeRect.left - tooltipWidth - tolerance;\n    } else if (data.position == \"right\") {\n        top = nodeRect.top + (nodeRect.height / 2) - (tooltipHeight / 2);\n        left = nodeRect.right + tolerance;\n    } else if (data.position == \"top\") {\n        top = nodeRect.top - tooltipHeight - tolerance;\n        left = nodeRect.left + (nodeRect.width / 2) - (tooltipWidth / 2);\n    } else if (data.position == \"top-left\") {\n        top = nodeRect.top - tooltipHeight - tolerance;\n        left = nodeRect.left;\n    } else if (data.position == \"top-right\") {\n        top = nodeRect.top - tooltipHeight - tolerance;\n        left = nodeRect.right - tooltipWidth;\n    } else if (data.position == \"bottom-left\") {\n        top = nodeRect.top + nodeRect.height + tolerance;\n        left = nodeRect.left;\n    } else if (data.position == \"bottom-right\") {\n        top = nodeRect.top + nodeRect.height + tolerance;\n        left = nodeRect.right - tooltipWidth;\n    } else { // bottom\n        top = nodeRect.top + nodeRect.height + tolerance;\n        left = nodeRect.left + (nodeRect.width / 2) - (tooltipWidth / 2);\n    }\n\n    // right edge boundary\n    if ((left + tooltipWidth) > document.documentElement.clientWidth) {\n        left = document.documentElement.clientWidth - tooltipWidth;\n    }\n\n    // left edge boundary\n    left = left >= 0 ? left : 0;\n\n    // bottom edge boundary\n    if ((top + tooltipHeight) > document.documentElement.clientHeight) {\n        top = document.documentElement.clientHeight - tooltipHeight;\n    }\n\n    // top edge boundary\n    top = top >= 0 ? top : 0;\n\n    // apply new tooltip position\n    tooltip.style.top = top + \"px\";\n    tooltip.style.left = left + \"px\";\n}\n\nfunction hideTooltip() {\n    clearTimeout(showTimeoutId);\n    getTooltip().classList.remove(\"active\");\n    getTooltip().activeNode = undefined;\n}\n\nfunction showTooltip(node, data) {\n    getTooltip().activeNode = node;\n\n    clearTimeout(showTimeoutId);\n    showTimeoutId = setTimeout(() => {\n        getTooltip().classList.add(\"active\");\n\n        refreshTooltip(node, data);\n    }, (!isNaN(data.delay) ? data.delay : 0));\n}\n\nexport default function tooltip(node, tooltipData) {\n    let data = normalize(tooltipData);\n\n    function showEventHandler() {\n        showTooltip(node, data);\n    }\n\n    function hideEventHandler() {\n        hideTooltip();\n    }\n\n    node.addEventListener(\"mouseenter\", showEventHandler);\n    node.addEventListener(\"mouseleave\", hideEventHandler);\n    node.addEventListener(\"blur\", hideEventHandler);\n    if (data.hideOnClick === true || (data.hideOnClick === null && CommonHelper.isFocusable(node))) {\n        node.addEventListener(\"click\", hideEventHandler);\n    }\n\n    // trigger tooltip container creation (if not inserted already)\n    getTooltip();\n\n    return {\n        update(newTooltipData) {\n            data = normalize(newTooltipData);\n\n            if (getTooltip()?.activeNode?.contains(node)) {\n                refreshTooltip(node, data);\n            }\n        },\n        destroy() {\n            if (getTooltip()?.activeNode?.contains(node)) {\n                hideTooltip();\n            }\n\n            node.removeEventListener(\"mouseenter\", showEventHandler);\n            node.removeEventListener(\"mouseleave\", hideEventHandler);\n            node.removeEventListener(\"blur\", hideEventHandler);\n            node.removeEventListener(\"click\", hideEventHandler);\n        },\n    };\n}\n","/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nexport { identity as linear } from '../internal/index.js';\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function backInOut(t) {\n\tconst s = 1.70158 * 1.525;\n\tif ((t *= 2) < 1) return 0.5 * (t * t * ((s + 1) * t - s));\n\treturn 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function backIn(t) {\n\tconst s = 1.70158;\n\treturn t * t * ((s + 1) * t - s);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function backOut(t) {\n\tconst s = 1.70158;\n\treturn --t * t * ((s + 1) * t + s) + 1;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function bounceOut(t) {\n\tconst a = 4.0 / 11.0;\n\tconst b = 8.0 / 11.0;\n\tconst c = 9.0 / 10.0;\n\tconst ca = 4356.0 / 361.0;\n\tconst cb = 35442.0 / 1805.0;\n\tconst cc = 16061.0 / 1805.0;\n\tconst t2 = t * t;\n\treturn t < a\n\t\t? 7.5625 * t2\n\t\t: t < b\n\t\t? 9.075 * t2 - 9.9 * t + 3.4\n\t\t: t < c\n\t\t? ca * t2 - cb * t + cc\n\t\t: 10.8 * t * t - 20.52 * t + 10.72;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function bounceInOut(t) {\n\treturn t < 0.5 ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0)) : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function bounceIn(t) {\n\treturn 1.0 - bounceOut(1.0 - t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function circInOut(t) {\n\tif ((t *= 2) < 1) return -0.5 * (Math.sqrt(1 - t * t) - 1);\n\treturn 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function circIn(t) {\n\treturn 1.0 - Math.sqrt(1.0 - t * t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function circOut(t) {\n\treturn Math.sqrt(1 - --t * t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function cubicInOut(t) {\n\treturn t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function cubicIn(t) {\n\treturn t * t * t;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function cubicOut(t) {\n\tconst f = t - 1.0;\n\treturn f * f * f + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function elasticInOut(t) {\n\treturn t < 0.5\n\t\t? 0.5 * Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) * Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n\t\t: 0.5 *\n\t\t\t\tMath.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n\t\t\t\tMath.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n\t\t\t\t1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function elasticIn(t) {\n\treturn Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function elasticOut(t) {\n\treturn Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function expoInOut(t) {\n\treturn t === 0.0 || t === 1.0\n\t\t? t\n\t\t: t < 0.5\n\t\t? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n\t\t: -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function expoIn(t) {\n\treturn t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function expoOut(t) {\n\treturn t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quadInOut(t) {\n\tt /= 0.5;\n\tif (t < 1) return 0.5 * t * t;\n\tt--;\n\treturn -0.5 * (t * (t - 2) - 1);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quadIn(t) {\n\treturn t * t;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quadOut(t) {\n\treturn -t * (t - 2.0);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quartInOut(t) {\n\treturn t < 0.5 ? +8.0 * Math.pow(t, 4.0) : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quartIn(t) {\n\treturn Math.pow(t, 4.0);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quartOut(t) {\n\treturn Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quintInOut(t) {\n\tif ((t *= 2) < 1) return 0.5 * t * t * t * t * t;\n\treturn 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quintIn(t) {\n\treturn t * t * t * t * t;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quintOut(t) {\n\treturn --t * t * t * t * t + 1;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function sineInOut(t) {\n\treturn -0.5 * (Math.cos(Math.PI * t) - 1);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function sineIn(t) {\n\tconst v = Math.cos(t * Math.PI * 0.5);\n\tif (Math.abs(v) < 1e-14) return 1;\n\telse return 1 - v;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function sineOut(t) {\n\treturn Math.sin((t * Math.PI) / 2);\n}\n","import { cubicOut, cubicInOut, linear } from '../easing/index.js';\nimport { assign, split_css_unit, is_function } from '../internal/index.js';\n\n/**\n * Animates a `blur` filter alongside an element's opacity.\n *\n * https://svelte.dev/docs/svelte-transition#blur\n * @param {Element} node\n * @param {import('./public').BlurParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function blur(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst f = style.filter === 'none' ? '' : style.filter;\n\tconst od = target_opacity * (1 - opacity);\n\tconst [value, unit] = split_css_unit(amount);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_t, u) => `opacity: ${target_opacity - od * u}; filter: ${f} blur(${u * value}${unit});`\n\t};\n}\n\n/**\n * Animates the opacity of an element from 0 to the current opacity for `in` transitions and from the current opacity to 0 for `out` transitions.\n *\n * https://svelte.dev/docs/svelte-transition#fade\n * @param {Element} node\n * @param {import('./public').FadeParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function fade(node, { delay = 0, duration = 400, easing = linear } = {}) {\n\tconst o = +getComputedStyle(node).opacity;\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t) => `opacity: ${t * o}`\n\t};\n}\n\n/**\n * Animates the x and y positions and the opacity of an element. `in` transitions animate from the provided values, passed as parameters to the element's default values. `out` transitions animate from the element's default values to the provided values.\n *\n * https://svelte.dev/docs/svelte-transition#fly\n * @param {Element} node\n * @param {import('./public').FlyParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function fly(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst transform = style.transform === 'none' ? '' : style.transform;\n\tconst od = target_opacity * (1 - opacity);\n\tconst [xValue, xUnit] = split_css_unit(x);\n\tconst [yValue, yUnit] = split_css_unit(y);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * xValue}${xUnit}, ${(1 - t) * yValue}${yUnit});\n\t\t\topacity: ${target_opacity - od * u}`\n\t};\n}\n\n/**\n * Slides an element in and out.\n *\n * https://svelte.dev/docs/svelte-transition#slide\n * @param {Element} node\n * @param {import('./public').SlideParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function slide(node, { delay = 0, duration = 400, easing = cubicOut, axis = 'y' } = {}) {\n\tconst style = getComputedStyle(node);\n\tconst opacity = +style.opacity;\n\tconst primary_property = axis === 'y' ? 'height' : 'width';\n\tconst primary_property_value = parseFloat(style[primary_property]);\n\tconst secondary_properties = axis === 'y' ? ['top', 'bottom'] : ['left', 'right'];\n\tconst capitalized_secondary_properties = secondary_properties.map(\n\t\t(e) => `${e[0].toUpperCase()}${e.slice(1)}`\n\t);\n\tconst padding_start_value = parseFloat(style[`padding${capitalized_secondary_properties[0]}`]);\n\tconst padding_end_value = parseFloat(style[`padding${capitalized_secondary_properties[1]}`]);\n\tconst margin_start_value = parseFloat(style[`margin${capitalized_secondary_properties[0]}`]);\n\tconst margin_end_value = parseFloat(style[`margin${capitalized_secondary_properties[1]}`]);\n\tconst border_width_start_value = parseFloat(\n\t\tstyle[`border${capitalized_secondary_properties[0]}Width`]\n\t);\n\tconst border_width_end_value = parseFloat(\n\t\tstyle[`border${capitalized_secondary_properties[1]}Width`]\n\t);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t) =>\n\t\t\t'overflow: hidden;' +\n\t\t\t`opacity: ${Math.min(t * 20, 1) * opacity};` +\n\t\t\t`${primary_property}: ${t * primary_property_value}px;` +\n\t\t\t`padding-${secondary_properties[0]}: ${t * padding_start_value}px;` +\n\t\t\t`padding-${secondary_properties[1]}: ${t * padding_end_value}px;` +\n\t\t\t`margin-${secondary_properties[0]}: ${t * margin_start_value}px;` +\n\t\t\t`margin-${secondary_properties[1]}: ${t * margin_end_value}px;` +\n\t\t\t`border-${secondary_properties[0]}-width: ${t * border_width_start_value}px;` +\n\t\t\t`border-${secondary_properties[1]}-width: ${t * border_width_end_value}px;`\n\t};\n}\n\n/**\n * Animates the opacity and scale of an element. `in` transitions animate from an element's current (default) values to the provided values, passed as parameters. `out` transitions animate from the provided values to an element's default values.\n *\n * https://svelte.dev/docs/svelte-transition#scale\n * @param {Element} node\n * @param {import('./public').ScaleParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function scale(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst transform = style.transform === 'none' ? '' : style.transform;\n\tconst sd = 1 - start;\n\tconst od = target_opacity * (1 - opacity);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - sd * u});\n\t\t\topacity: ${target_opacity - od * u}\n\t\t`\n\t};\n}\n\n/**\n * Animates the stroke of an SVG element, like a snake in a tube. `in` transitions begin with the path invisible and draw the path to the screen over time. `out` transitions start in a visible state and gradually erase the path. `draw` only works with elements that have a `getTotalLength` method, like `<path>` and `<polyline>`.\n *\n * https://svelte.dev/docs/svelte-transition#draw\n * @param {SVGElement & { getTotalLength(): number }} node\n * @param {import('./public').DrawParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function draw(node, { delay = 0, speed, duration, easing = cubicInOut } = {}) {\n\tlet len = node.getTotalLength();\n\tconst style = getComputedStyle(node);\n\tif (style.strokeLinecap !== 'butt') {\n\t\tlen += parseInt(style.strokeWidth);\n\t}\n\tif (duration === undefined) {\n\t\tif (speed === undefined) {\n\t\t\tduration = 800;\n\t\t} else {\n\t\t\tduration = len / speed;\n\t\t}\n\t} else if (typeof duration === 'function') {\n\t\tduration = duration(len);\n\t}\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_, u) => `\n\t\t\tstroke-dasharray: ${len};\n\t\t\tstroke-dashoffset: ${u * len};\n\t\t`\n\t};\n}\n\n/**\n * The `crossfade` function creates a pair of [transitions](https://svelte.dev/docs#template-syntax-element-directives-transition-fn) called `send` and `receive`. When an element is 'sent', it looks for a corresponding element being 'received', and generates a transition that transforms the element to its counterpart's position and fades it out. When an element is 'received', the reverse happens. If there is no counterpart, the `fallback` transition is used.\n *\n * https://svelte.dev/docs/svelte-transition#crossfade\n * @param {import('./public').CrossfadeParams & {\n * \tfallback?: (node: Element, params: import('./public').CrossfadeParams, intro: boolean) => import('./public').TransitionConfig;\n * }} params\n * @returns {[(node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig, (node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig]}\n */\nexport function crossfade({ fallback, ...defaults }) {\n\t/** @type {Map<any, Element>} */\n\tconst to_receive = new Map();\n\t/** @type {Map<any, Element>} */\n\tconst to_send = new Map();\n\t/**\n\t * @param {Element} from_node\n\t * @param {Element} node\n\t * @param {import('./public').CrossfadeParams} params\n\t * @returns {import('./public').TransitionConfig}\n\t */\n\tfunction crossfade(from_node, node, params) {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = (d) => Math.sqrt(d) * 30,\n\t\t\teasing = cubicOut\n\t\t} = assign(assign({}, defaults), params);\n\t\tconst from = from_node.getBoundingClientRect();\n\t\tconst to = node.getBoundingClientRect();\n\t\tconst dx = from.left - to.left;\n\t\tconst dy = from.top - to.top;\n\t\tconst dw = from.width / to.width;\n\t\tconst dh = from.height / to.height;\n\t\tconst d = Math.sqrt(dx * dx + dy * dy);\n\t\tconst style = getComputedStyle(node);\n\t\tconst transform = style.transform === 'none' ? '' : style.transform;\n\t\tconst opacity = +style.opacity;\n\t\treturn {\n\t\t\tdelay,\n\t\t\tduration: is_function(duration) ? duration(d) : duration,\n\t\t\teasing,\n\t\t\tcss: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${\n\t\t\t\tt + (1 - t) * dh\n\t\t\t});\n\t\t\t`\n\t\t};\n\t}\n\n\t/**\n\t * @param {Map<any, Element>} items\n\t * @param {Map<any, Element>} counterparts\n\t * @param {boolean} intro\n\t * @returns {(node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig}\n\t */\n\tfunction transition(items, counterparts, intro) {\n\t\treturn (node, params) => {\n\t\t\titems.set(params.key, node);\n\t\t\treturn () => {\n\t\t\t\tif (counterparts.has(params.key)) {\n\t\t\t\t\tconst other_node = counterparts.get(params.key);\n\t\t\t\t\tcounterparts.delete(params.key);\n\t\t\t\t\treturn crossfade(other_node, node, params);\n\t\t\t\t}\n\t\t\t\t// if the node is disappearing altogether\n\t\t\t\t// (i.e. wasn't claimed by the other list)\n\t\t\t\t// then we need to supply an outro\n\t\t\t\titems.delete(params.key);\n\t\t\t\treturn fallback && fallback(node, params, intro);\n\t\t\t};\n\t\t};\n\t}\n\treturn [transition(to_send, to_receive, false), transition(to_receive, to_send, true)];\n}\n","<script context=\"module\">\n    let holder;\n\n    let activePanels = [];\n\n    function getHolder() {\n        holder = holder || document.querySelector(\".overlays\");\n\n        if (!holder) {\n            // create\n            holder = document.createElement(\"div\");\n            holder.classList.add(\"overlays\");\n            document.body.appendChild(holder);\n        }\n\n        return holder;\n    }\n</script>\n\n<script>\n    /**\n     * Example usage:\n     * ```html\n     * <OverlayPanel bind:active={popupActive} popup={false}>\n     *     <h5 slot=\"header\">My title</h5>\n     *     <p>Lorem ipsum dolor sit amet...</p>\n     *     <svelte:fragment slot=\"footer\">\n     *         <button class=\"btn btn-transparent\">Cancel</button>\n     *         <button class=\"btn btn-expanded\">Save</button>\n     *     </svelte:fragment>\n     * </OverlayPanel>\n     * ```\n     */\n    import { onMount, createEventDispatcher, tick } from \"svelte\";\n    import { fade, fly } from \"svelte/transition\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    let classes = \"\";\n    export { classes as class }; // export reserved keyword\n\n    export let active = false;\n    export let popup = false;\n    export let overlayClose = true;\n    export let btnClose = true;\n    export let escClose = true;\n    export let beforeOpen = undefined; // function callback called before open; if return false - no open\n    export let beforeHide = undefined; // function callback called before hide; if return false - no close\n\n    const dispatch = createEventDispatcher();\n    const uniqueId = \"op_\" + CommonHelper.randomString(10);\n\n    let wrapper;\n    let contentPanel;\n    let oldFocusedElem;\n    let transitionSpeed = 150;\n    let contentScrollThrottle;\n    let contentScrollClass = \"\";\n    let oldActive = active;\n\n    $: if (oldActive != active) {\n        onActiveChange(active);\n    }\n\n    $: handleContentScroll(contentPanel, true);\n\n    $: if (wrapper) {\n        zIndexUpdate();\n    }\n\n    $: if (active) {\n        registerActivePanel();\n    } else {\n        unregisterActivePanel();\n    }\n\n    export function show() {\n        if (typeof beforeOpen === \"function\" && beforeOpen() === false) {\n            return;\n        }\n\n        active = true;\n    }\n\n    export function hide() {\n        if (typeof beforeHide === \"function\" && beforeHide() === false) {\n            return;\n        }\n\n        active = false;\n    }\n\n    export function isActive() {\n        return active;\n    }\n\n    async function onActiveChange(newState) {\n        oldActive = newState;\n\n        if (newState) {\n            oldFocusedElem = document.activeElement;\n            dispatch(\"show\");\n            wrapper?.focus();\n        } else {\n            clearTimeout(contentScrollThrottle);\n            dispatch(\"hide\");\n            oldFocusedElem?.focus();\n        }\n\n        await tick();\n\n        zIndexUpdate();\n    }\n\n    function zIndexUpdate() {\n        if (!wrapper) {\n            return;\n        }\n\n        if (active) {\n            wrapper.style.zIndex = highestZIndex();\n        } else {\n            wrapper.style = \"\";\n        }\n    }\n\n    function registerActivePanel() {\n        CommonHelper.pushUnique(activePanels, uniqueId);\n\n        document.body.classList.add(\"overlay-active\");\n    }\n\n    function unregisterActivePanel() {\n        CommonHelper.removeByValue(activePanels, uniqueId);\n\n        if (!activePanels.length) {\n            document.body.classList.remove(\"overlay-active\");\n        }\n    }\n\n    function highestZIndex() {\n        return 1000 + getHolder().querySelectorAll(\".overlay-panel-container.active\").length;\n    }\n\n    function handleEscPress(e) {\n        if (\n            active &&\n            escClose &&\n            e.code == \"Escape\" &&\n            !CommonHelper.isInput(e.target) &&\n            wrapper &&\n            // it is the top most popup\n            wrapper.style.zIndex == highestZIndex()\n        ) {\n            e.preventDefault();\n            hide();\n        }\n    }\n\n    function handleResize(e) {\n        if (active) {\n            handleContentScroll(contentPanel);\n        }\n    }\n\n    function handleContentScroll(panel, reset) {\n        if (reset) {\n            contentScrollClass = \"\";\n        }\n\n        if (!panel || contentScrollThrottle) {\n            return;\n        }\n\n        contentScrollThrottle = setTimeout(() => {\n            clearTimeout(contentScrollThrottle);\n            contentScrollThrottle = null;\n\n            if (!panel) {\n                return; // deleted during timeout\n            }\n\n            let heightDiff = panel.scrollHeight - panel.offsetHeight;\n            if (heightDiff > 0) {\n                contentScrollClass = \"scrollable\";\n            } else {\n                contentScrollClass = \"\";\n                return; // no scroll\n            }\n\n            if (panel.scrollTop == 0) {\n                contentScrollClass += \" scroll-top-reached\";\n            } else if (panel.scrollTop + panel.offsetHeight == panel.scrollHeight) {\n                contentScrollClass += \" scroll-bottom-reached\";\n            }\n        }, 100);\n    }\n\n    onMount(() => {\n        // move outside of its current parent\n        getHolder().appendChild(wrapper);\n\n        let wrapperCopy = wrapper;\n\n        return () => {\n            clearTimeout(contentScrollThrottle);\n\n            unregisterActivePanel();\n\n            wrapperCopy?.remove();\n        };\n    });\n</script>\n\n<svelte:window on:resize={handleResize} on:keydown={handleEscPress} />\n\n<div bind:this={wrapper} class=\"overlay-panel-wrapper\" tabindex=\"-1\">\n    {#if active}\n        <div class=\"overlay-panel-container\" class:padded={popup} class:active>\n            <!-- svelte-ignore a11y-click-events-have-key-events -->\n            <!-- svelte-ignore a11y-no-static-element-interactions -->\n            <div\n                class=\"overlay\"\n                on:click|preventDefault={() => (overlayClose ? hide() : true)}\n                transition:fade={{ duration: transitionSpeed, opacity: 0 }}\n            />\n\n            <div\n                class=\"overlay-panel {classes} {contentScrollClass}\"\n                class:popup\n                in:fly={popup ? { duration: transitionSpeed, y: -10 } : { duration: transitionSpeed, x: 50 }}\n                out:fly={popup ? { duration: transitionSpeed, y: 10 } : { duration: transitionSpeed, x: 50 }}\n            >\n                <div class=\"overlay-panel-section panel-header\">\n                    {#if btnClose && !popup}\n                        <button\n                            type=\"button\"\n                            aria-label=\"Close\"\n                            class=\"overlay-close\"\n                            transition:fade={{ duration: transitionSpeed }}\n                            on:click|preventDefault={hide}\n                        >\n                            <i class=\"ri-close-line\" aria-hidden=\"true\" />\n                        </button>\n                    {/if}\n\n                    <slot name=\"header\" />\n\n                    {#if btnClose && popup}\n                        <button\n                            type=\"button\"\n                            aria-label=\"Close\"\n                            class=\"btn btn-sm btn-circle btn-transparent btn-close m-l-auto\"\n                            on:click|preventDefault={hide}\n                        >\n                            <i class=\"ri-close-line txt-lg\" aria-hidden=\"true\" />\n                        </button>\n                    {/if}\n                </div>\n\n                <div\n                    bind:this={contentPanel}\n                    class=\"overlay-panel-section panel-content\"\n                    on:scroll={(e) => handleContentScroll(e.target)}\n                >\n                    <slot />\n                </div>\n\n                <div class=\"overlay-panel-section panel-footer\">\n                    <slot name=\"footer\" />\n                </div>\n            </div>\n        </div>\n    {/if}\n</div>\n","import {\n\trun_all,\n\tsubscribe,\n\tnoop,\n\tsafe_not_equal,\n\tis_function,\n\tget_store_value\n} from '../internal/index.js';\n\nconst subscriber_queue = [];\n\n/**\n * Creates a `Readable` store that allows reading by subscription.\n *\n * https://svelte.dev/docs/svelte-store#readable\n * @template T\n * @param {T} [value] initial value\n * @param {import('./public.js').StartStopNotifier<T>} [start]\n * @returns {import('./public.js').Readable<T>}\n */\nexport function readable(value, start) {\n\treturn {\n\t\tsubscribe: writable(value, start).subscribe\n\t};\n}\n\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n *\n * https://svelte.dev/docs/svelte-store#writable\n * @template T\n * @param {T} [value] initial value\n * @param {import('./public.js').StartStopNotifier<T>} [start]\n * @returns {import('./public.js').Writable<T>}\n */\nexport function writable(value, start = noop) {\n\t/** @type {import('./public.js').Unsubscriber} */\n\tlet stop;\n\t/** @type {Set<import('./private.js').SubscribeInvalidateTuple<T>>} */\n\tconst subscribers = new Set();\n\t/** @param {T} new_value\n\t * @returns {void}\n\t */\n\tfunction set(new_value) {\n\t\tif (safe_not_equal(value, new_value)) {\n\t\t\tvalue = new_value;\n\t\t\tif (stop) {\n\t\t\t\t// store is ready\n\t\t\t\tconst run_queue = !subscriber_queue.length;\n\t\t\t\tfor (const subscriber of subscribers) {\n\t\t\t\t\tsubscriber[1]();\n\t\t\t\t\tsubscriber_queue.push(subscriber, value);\n\t\t\t\t}\n\t\t\t\tif (run_queue) {\n\t\t\t\t\tfor (let i = 0; i < subscriber_queue.length; i += 2) {\n\t\t\t\t\t\tsubscriber_queue[i][0](subscriber_queue[i + 1]);\n\t\t\t\t\t}\n\t\t\t\t\tsubscriber_queue.length = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @param {import('./public.js').Updater<T>} fn\n\t * @returns {void}\n\t */\n\tfunction update(fn) {\n\t\tset(fn(value));\n\t}\n\n\t/**\n\t * @param {import('./public.js').Subscriber<T>} run\n\t * @param {import('./private.js').Invalidator<T>} [invalidate]\n\t * @returns {import('./public.js').Unsubscriber}\n\t */\n\tfunction subscribe(run, invalidate = noop) {\n\t\t/** @type {import('./private.js').SubscribeInvalidateTuple<T>} */\n\t\tconst subscriber = [run, invalidate];\n\t\tsubscribers.add(subscriber);\n\t\tif (subscribers.size === 1) {\n\t\t\tstop = start(set, update) || noop;\n\t\t}\n\t\trun(value);\n\t\treturn () => {\n\t\t\tsubscribers.delete(subscriber);\n\t\t\tif (subscribers.size === 0 && stop) {\n\t\t\t\tstop();\n\t\t\t\tstop = null;\n\t\t\t}\n\t\t};\n\t}\n\treturn { set, update, subscribe };\n}\n\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n *\n * https://svelte.dev/docs/svelte-store#derived\n * @template {import('./private.js').Stores} S\n * @template T\n * @overload\n * @param {S} stores - input stores\n * @param {(values: import('./private.js').StoresValues<S>, set: (value: T) => void, update: (fn: import('./public.js').Updater<T>) => void) => import('./public.js').Unsubscriber | void} fn - function callback that aggregates the values\n * @param {T} [initial_value] - initial value\n * @returns {import('./public.js').Readable<T>}\n */\n\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n *\n * https://svelte.dev/docs/svelte-store#derived\n * @template {import('./private.js').Stores} S\n * @template T\n * @overload\n * @param {S} stores - input stores\n * @param {(values: import('./private.js').StoresValues<S>) => T} fn - function callback that aggregates the values\n * @param {T} [initial_value] - initial value\n * @returns {import('./public.js').Readable<T>}\n */\n\n/**\n * @template {import('./private.js').Stores} S\n * @template T\n * @param {S} stores\n * @param {Function} fn\n * @param {T} [initial_value]\n * @returns {import('./public.js').Readable<T>}\n */\nexport function derived(stores, fn, initial_value) {\n\tconst single = !Array.isArray(stores);\n\t/** @type {Array<import('./public.js').Readable<any>>} */\n\tconst stores_array = single ? [stores] : stores;\n\tif (!stores_array.every(Boolean)) {\n\t\tthrow new Error('derived() expects stores as input, got a falsy value');\n\t}\n\tconst auto = fn.length < 2;\n\treturn readable(initial_value, (set, update) => {\n\t\tlet started = false;\n\t\tconst values = [];\n\t\tlet pending = 0;\n\t\tlet cleanup = noop;\n\t\tconst sync = () => {\n\t\t\tif (pending) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcleanup();\n\t\t\tconst result = fn(single ? values[0] : values, set, update);\n\t\t\tif (auto) {\n\t\t\t\tset(result);\n\t\t\t} else {\n\t\t\t\tcleanup = is_function(result) ? result : noop;\n\t\t\t}\n\t\t};\n\t\tconst unsubscribers = stores_array.map((store, i) =>\n\t\t\tsubscribe(\n\t\t\t\tstore,\n\t\t\t\t(value) => {\n\t\t\t\t\tvalues[i] = value;\n\t\t\t\t\tpending &= ~(1 << i);\n\t\t\t\t\tif (started) {\n\t\t\t\t\t\tsync();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tpending |= 1 << i;\n\t\t\t\t}\n\t\t\t)\n\t\t);\n\t\tstarted = true;\n\t\tsync();\n\t\treturn function stop() {\n\t\t\trun_all(unsubscribers);\n\t\t\tcleanup();\n\t\t\t// We need to set this to false because callbacks can still happen despite having unsubscribed:\n\t\t\t// Callbacks might already be placed in the queue which doesn't know it should no longer\n\t\t\t// invoke this derived store.\n\t\t\tstarted = false;\n\t\t};\n\t});\n}\n\n/**\n * Takes a store and returns a new one derived from the old one that is readable.\n *\n * https://svelte.dev/docs/svelte-store#readonly\n * @template T\n * @param {import('./public.js').Readable<T>} store  - store to make readonly\n * @returns {import('./public.js').Readable<T>}\n */\nexport function readonly(store) {\n\treturn {\n\t\tsubscribe: store.subscribe.bind(store)\n\t};\n}\n\nexport { get_store_value as get };\n","import { writable } from \"svelte/store\";\n\n// eg.\n// {\n//   \"text\":        \"Do you really want to delete the selectedItem\",\n//   \"yesCallback\": function() {...},\n//   \"noCallback\":  function() {...},\n// }\nexport const confirmation = writable({});\n\n/**\n * @param {String}   text\n * @param {Function} [yesCallback]\n * @param {Function} [noCallback]\n */\nexport function confirm(text, yesCallback, noCallback) {\n    confirmation.set({\n        text:        text,\n        yesCallback: yesCallback,\n        noCallback:  noCallback,\n    });\n}\n\nexport function resetConfirmation() {\n    confirmation.set({});\n}\n","<script>\n    import { tick } from \"svelte\";\n    import OverlayPanel from \"@/components/base/OverlayPanel.svelte\";\n    import { confirmation, resetConfirmation } from \"@/stores/confirmation\";\n\n    let confirmationPopup;\n    let isConfirmationBusy = false;\n    let confirmed = false;\n\n    $: if ($confirmation?.text) {\n        confirmed = false;\n        confirmationPopup?.show();\n    }\n</script>\n\n<OverlayPanel\n    bind:this={confirmationPopup}\n    class=\"confirm-popup hide-content overlay-panel-sm\"\n    overlayClose={!isConfirmationBusy}\n    escClose={!isConfirmationBusy}\n    btnClose={false}\n    popup\n    on:hide={async () => {\n        if (!confirmed && $confirmation?.noCallback) {\n            $confirmation.noCallback();\n        }\n        await tick();\n        confirmed = false;\n        resetConfirmation();\n    }}\n>\n    <h4 class=\"block center txt-break\" slot=\"header\">{$confirmation?.text}</h4>\n\n    <svelte:fragment slot=\"footer\">\n        <!-- svelte-ignore a11y-autofocus -->\n        <button\n            autofocus\n            type=\"button\"\n            class=\"btn btn-transparent btn-expanded-sm\"\n            disabled={isConfirmationBusy}\n            on:click={() => {\n                confirmed = false;\n                confirmationPopup?.hide();\n            }}\n        >\n            <span class=\"txt\">No</span>\n        </button>\n        <button\n            type=\"button\"\n            class=\"btn btn-danger btn-expanded\"\n            class:btn-loading={isConfirmationBusy}\n            disabled={isConfirmationBusy}\n            on:click={async () => {\n                if ($confirmation?.yesCallback) {\n                    isConfirmationBusy = true;\n                    await Promise.resolve($confirmation.yesCallback());\n                    isConfirmationBusy = false;\n                }\n                confirmed = true;\n                confirmationPopup?.hide();\n            }}\n        >\n            <span class=\"txt\">Yes</span>\n        </button>\n    </svelte:fragment>\n</OverlayPanel>\n","<script context=\"module\">\n    /*\n     * ---------------------------------------------------------------\n     * The below component is similar to https://github.com/tinymce/tinymce-svelte\n     * but with removed unnecessary dependencies (eg. the TinyMCE cloud loading script)\n     * and with extra error catching to handle the async edge-cases\n     * when the init event is fired after the Svelte component was destroyed.\n     * ---------------------------------------------------------------\n     */\n\n    function createScriptLoader() {\n        let state = {\n            listeners: [],\n            scriptLoaded: false,\n            injected: false,\n        };\n\n        function injectScript(doc, url, callback) {\n            state.injected = true;\n            const script = doc.createElement(\"script\");\n            script.referrerPolicy = \"origin\";\n            script.type = \"application/javascript\";\n            script.src = url;\n            script.onload = () => {\n                callback();\n            };\n            if (doc.head) {\n                doc.head.appendChild(script);\n            }\n        }\n\n        function load(doc, url, callback) {\n            if (state.scriptLoaded) {\n                callback();\n            } else {\n                state.listeners.push(callback);\n                // check we can access doc\n                if (!state.injected) {\n                    injectScript(doc, url, () => {\n                        state.listeners.forEach((fn) => fn());\n                        state.scriptLoaded = true;\n                    });\n                }\n            }\n        }\n\n        return { load };\n    }\n\n    let scriptLoader = createScriptLoader();\n</script>\n\n<script>\n    import { onMount, createEventDispatcher } from \"svelte\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    export let id = \"tinymce_svelte\" + CommonHelper.randomString(7);\n    export let inline = undefined;\n    export let disabled = false;\n    export let scriptSrc = `${import.meta.env.BASE_URL}libs/tinymce/tinymce.min.js`;\n    export let conf = {};\n    export let modelEvents = \"change input undo redo\";\n    export let value = \"\";\n    export let text = \"\";\n    export let cssClass = \"tinymce-wrapper\";\n\n    // Events\n    // ---------------------------------------------------------------\n    const validEvents = [\n        \"Activate\",\n        \"AddUndo\",\n        \"BeforeAddUndo\",\n        \"BeforeExecCommand\",\n        \"BeforeGetContent\",\n        \"BeforeRenderUI\",\n        \"BeforeSetContent\",\n        \"BeforePaste\",\n        \"Blur\",\n        \"Change\",\n        \"ClearUndos\",\n        \"Click\",\n        \"ContextMenu\",\n        \"Copy\",\n        \"Cut\",\n        \"Dblclick\",\n        \"Deactivate\",\n        \"Dirty\",\n        \"Drag\",\n        \"DragDrop\",\n        \"DragEnd\",\n        \"DragGesture\",\n        \"DragOver\",\n        \"Drop\",\n        \"ExecCommand\",\n        \"Focus\",\n        \"FocusIn\",\n        \"FocusOut\",\n        \"GetContent\",\n        \"Hide\",\n        \"Init\",\n        \"KeyDown\",\n        \"KeyPress\",\n        \"KeyUp\",\n        \"LoadContent\",\n        \"MouseDown\",\n        \"MouseEnter\",\n        \"MouseLeave\",\n        \"MouseMove\",\n        \"MouseOut\",\n        \"MouseOver\",\n        \"MouseUp\",\n        \"NodeChange\",\n        \"ObjectResizeStart\",\n        \"ObjectResized\",\n        \"ObjectSelected\",\n        \"Paste\",\n        \"PostProcess\",\n        \"PostRender\",\n        \"PreProcess\",\n        \"ProgressState\",\n        \"Redo\",\n        \"Remove\",\n        \"Reset\",\n        \"ResizeEditor\",\n        \"SaveContent\",\n        \"SelectionChange\",\n        \"SetAttrib\",\n        \"SetContent\",\n        \"Show\",\n        \"Submit\",\n        \"Undo\",\n        \"VisualAid\",\n    ];\n\n    const bindHandlers = (editor, dispatch) => {\n        validEvents.forEach((eventName) => {\n            editor.on(eventName, (e) => {\n                dispatch(eventName.toLowerCase(), {\n                    eventName,\n                    event: e,\n                    editor,\n                });\n            });\n        });\n    };\n    // ---------------------------------------------------------------\n\n    let container;\n    let element;\n    let editorRef;\n\n    let lastVal = value;\n    let disablindCache = disabled;\n\n    const dispatch = createEventDispatcher();\n\n    $: {\n        try {\n            if (editorRef && lastVal !== value) {\n                editorRef.setContent(value);\n                text = editorRef.getContent({ format: \"text\" });\n            }\n            if (editorRef && disabled !== disablindCache) {\n                disablindCache = disabled;\n                if (typeof editorRef.mode?.set === \"function\") {\n                    editorRef.mode.set(disabled ? \"readonly\" : \"design\");\n                } else {\n                    editorRef.setMode(disabled ? \"readonly\" : \"design\");\n                }\n            }\n        } catch (err) {\n            console.warn(\"TinyMCE reactive error:\", err);\n        }\n    }\n\n    function getTinymce() {\n        return window && window.tinymce ? window.tinymce : null;\n    }\n\n    function init() {\n        const finalInit = {\n            ...conf,\n            target: element,\n            inline: inline !== undefined ? inline : conf.inline !== undefined ? conf.inline : false,\n            readonly: disabled,\n            setup: (editor) => {\n                editorRef = editor;\n                editor.on(\"init\", () => {\n                    editor.setContent(value);\n                    // bind model events\n                    editor.on(modelEvents, () => {\n                        lastVal = editor.getContent();\n                        if (lastVal !== value) {\n                            value = lastVal;\n                            text = editor.getContent({ format: \"text\" });\n                        }\n                    });\n                });\n\n                bindHandlers(editor, dispatch);\n\n                if (typeof conf.setup === \"function\") {\n                    conf.setup(editor);\n                }\n            },\n        };\n\n        element.style.visibility = \"\";\n\n        getTinymce().init(finalInit);\n    }\n\n    onMount(() => {\n        if (getTinymce() !== null) {\n            init();\n        } else {\n            scriptLoader.load(container.ownerDocument, scriptSrc, () => {\n                // init if the container is not removed from the DOM\n                if (container) {\n                    init();\n                }\n            });\n        }\n\n        return () => {\n            try {\n                if (editorRef) {\n                    // temp workaround for https://github.com/tinymce/tinymce/issues/9377\n                    editorRef.dom?.unbind(document);\n\n                    getTinymce()?.remove(editorRef);\n                }\n            } catch (_) {}\n        };\n    });\n</script>\n\n<div bind:this={container} class={cssClass}>\n    {#if inline}\n        <div {id} bind:this={element} />\n    {:else}\n        <textarea {id} bind:this={element} style=\"visibility: hidden\" />\n    {/if}\n</div>\n","import { cubicOut } from '../easing/index.js';\nimport { is_function } from '../internal/index.js';\n\n/**\n * The flip function calculates the start and end position of an element and animates between them, translating the x and y values.\n * `flip` stands for [First, Last, Invert, Play](https://aerotwist.com/blog/flip-your-animations/).\n *\n * https://svelte.dev/docs/svelte-animate#flip\n * @param {Element} node\n * @param {{ from: DOMRect; to: DOMRect }} fromTo\n * @param {import('./public.js').FlipParams} params\n * @returns {import('./public.js').AnimationConfig}\n */\nexport function flip(node, { from, to }, params = {}) {\n\tconst style = getComputedStyle(node);\n\tconst transform = style.transform === 'none' ? '' : style.transform;\n\tconst [ox, oy] = style.transformOrigin.split(' ').map(parseFloat);\n\tconst dx = from.left + (from.width * ox) / to.width - (to.left + ox);\n\tconst dy = from.top + (from.height * oy) / to.height - (to.top + oy);\n\tconst { delay = 0, duration = (d) => Math.sqrt(d) * 120, easing = cubicOut } = params;\n\treturn {\n\t\tdelay,\n\t\tduration: is_function(duration) ? duration(Math.sqrt(dx * dx + dy * dy)) : duration,\n\t\teasing,\n\t\tcss: (t, u) => {\n\t\t\tconst x = u * dx;\n\t\t\tconst y = u * dy;\n\t\t\tconst sx = t + (u * from.width) / to.width;\n\t\t\tconst sy = t + (u * from.height) / to.height;\n\t\t\treturn `transform: ${transform} translate(${x}px, ${y}px) scale(${sx}, ${sy});`;\n\t\t}\n\t};\n}\n","import { writable } from \"svelte/store\";\nimport CommonHelper from \"@/utils/CommonHelper\";\n\nexport const toasts = writable([]);\n\nexport function addInfoToast(message, duration = 4000) {\n    return addToast(message, \"info\", duration);\n}\n\nexport function addSuccessToast(message, duration = 3000) {\n    return addToast(message, \"success\", duration);\n}\n\nexport function addErrorToast(message, duration = 4500) {\n    return addToast(message, \"error\", duration);\n}\n\nexport function addWarningToast(message, duration = 4500) {\n    return addToast(message, \"warning\", duration);\n}\n\nexport function addToast(message, type, duration) {\n    duration = duration || 4000;\n    const toast = {\n        message: message,\n        type: type,\n        duration: duration,\n        timeout: setTimeout(() => {\n            removeToast(toast);\n        }, duration)\n    };\n\n    toasts.update((t) => {\n        removeToastFromArray(t, toast.message)\n\n        CommonHelper.pushOrReplaceByKey(t, toast, \"message\");\n\n        return t;\n    });\n}\n\nexport function removeToast(messageOrToast) {\n    toasts.update((t) => {\n        removeToastFromArray(t, messageOrToast);\n\n        return t;\n    });\n}\n\nexport function removeAllToasts() {\n    toasts.update((t) => {\n        for (let toast of t) {\n            removeToastFromArray(t, toast);\n        }\n\n        return [];\n    });\n}\n\n// Internal toast removal method (usually used to delete previous duplicated toasts).\n// NB! This doesn't update the store value! Use `removeToast()` instead.\nfunction removeToastFromArray(arr, messageOrToast) {\n    let toast;\n    if (typeof messageOrToast == \"string\") {\n        toast = CommonHelper.findByKey(arr, \"message\", messageOrToast);\n    } else {\n        toast = messageOrToast;\n    }\n\n    if (!toast) {\n        return;\n    }\n\n    clearTimeout(toast.timeout);\n    CommonHelper.removeByKey(arr, \"message\", toast.message);\n}\n","<script>\n    import { fade, slide } from \"svelte/transition\";\n    import { flip } from \"svelte/animate\";\n    import { toasts, removeToast } from \"@/stores/toasts\";\n</script>\n\n<div class=\"toasts-wrapper\">\n    {#each $toasts as toast (toast.message)}\n        <div\n            class=\"alert txt-break\"\n            class:alert-info={toast.type == \"info\"}\n            class:alert-success={toast.type == \"success\"}\n            class:alert-danger={toast.type == \"error\"}\n            class:alert-warning={toast.type == \"warning\"}\n            in:slide={{ duration: 150 }}\n            out:fade={{ duration: 150 }}\n            animate:flip={{ duration: 150 }}\n        >\n            <div class=\"icon\">\n                {#if toast.type === \"info\"}\n                    <i class=\"ri-information-line\" />\n                {:else if toast.type === \"success\"}\n                    <i class=\"ri-checkbox-circle-line\" />\n                {:else if toast.type === \"warning\"}\n                    <i class=\"ri-error-warning-line\" />\n                {:else}\n                    <i class=\"ri-alert-line\" />\n                {/if}\n            </div>\n\n            <div class=\"content\">{toast.message}</div>\n\n            <button type=\"button\" class=\"close\" on:click|preventDefault={() => removeToast(toast)}>\n                <i class=\"ri-close-line\" />\n            </button>\n        </div>\n    {/each}\n</div>\n","<script>\n    import { createEventDispatcher, onMount } from \"svelte\";\n    import { fly } from \"svelte/transition\";\n\n    export let trigger = undefined;\n    export let active = false;\n    export let escClose = true;\n    export let autoScroll = true;\n    export let closableClass = \"closable\";\n    let classes = \"\";\n    export { classes as class }; // export reserved keyword\n\n    let container;\n    let containerChild;\n    let activeTrigger;\n    let scrollTimeoutId;\n    let hideTimeoutId;\n    let isOutsideMouseDown = false;\n\n    const dispatch = createEventDispatcher();\n\n    $: if (container) {\n        bindTrigger(trigger);\n    }\n\n    $: if (active) {\n        activeTrigger?.classList?.add(\"active\");\n        activeTrigger?.setAttribute(\"aria-expanded\", true);\n        dispatch(\"show\");\n    } else {\n        activeTrigger?.classList?.remove(\"active\");\n        activeTrigger?.setAttribute(\"aria-expanded\", false);\n        dispatch(\"hide\");\n    }\n\n    export function hideWithDelay(delay = 0) {\n        if (!active) {\n            return;\n        }\n\n        clearTimeout(hideTimeoutId);\n        hideTimeoutId = setTimeout(hide, delay);\n    }\n\n    export function hide() {\n        if (!active) {\n            return; // already hidden\n        }\n\n        active = false;\n        isOutsideMouseDown = false;\n        clearTimeout(scrollTimeoutId);\n        clearTimeout(hideTimeoutId);\n    }\n\n    export function show() {\n        clearTimeout(hideTimeoutId);\n        clearTimeout(scrollTimeoutId);\n\n        if (active) {\n            return; // already active\n        }\n\n        active = true;\n\n        // focus toggler container not nested into the trigger\n        if (!activeTrigger?.contains(container)) {\n            container?.focus();\n        }\n\n        scrollTimeoutId = setTimeout(() => {\n            if (!autoScroll) {\n                return;\n            }\n\n            if (containerChild?.scrollIntoViewIfNeeded) {\n                containerChild?.scrollIntoViewIfNeeded();\n            } else if (containerChild?.scrollIntoView) {\n                containerChild?.scrollIntoView({\n                    behavior: \"smooth\",\n                    block: \"nearest\",\n                });\n            }\n        }, 180);\n    }\n\n    export function toggle() {\n        if (active) {\n            hide();\n        } else {\n            show();\n        }\n    }\n\n    function isClosable(elem) {\n        return (\n            !container ||\n            elem.classList.contains(closableClass) ||\n            (container.contains(elem) && elem.closest && elem.closest(\".\" + closableClass))\n        );\n    }\n\n    function bindTrigger(newTrigger) {\n        cleanup();\n\n        container?.addEventListener(\"click\", handleContainerClick);\n        container?.addEventListener(\"keydown\", handleContainerKeydown);\n\n        activeTrigger = newTrigger || container?.parentNode;\n        activeTrigger?.addEventListener(\"click\", handleTriggerClick);\n        activeTrigger?.addEventListener(\"keydown\", handleTriggerKeydown);\n    }\n\n    function cleanup() {\n        clearTimeout(scrollTimeoutId);\n        clearTimeout(hideTimeoutId);\n\n        container?.removeEventListener(\"click\", handleContainerClick);\n        container?.removeEventListener(\"keydown\", handleContainerKeydown);\n\n        activeTrigger?.removeEventListener(\"click\", handleTriggerClick);\n        activeTrigger?.removeEventListener(\"keydown\", handleTriggerKeydown);\n    }\n\n    // toggler container handlers\n    // ---------------------------------------------------------------\n    function handleContainerClick(e) {\n        e.stopPropagation(); // prevents firing the trigger click event in case it is nested\n\n        if (isClosable(e.target)) {\n            hide();\n        }\n    }\n\n    function handleContainerKeydown(e) {\n        if (e.code === \"Enter\" || e.code === \"Space\") {\n            e.stopPropagation(); // prevents firing the trigger keydown event in case it is nested\n\n            if (isClosable(e.target)) {\n                // hide with a short delay since the button on:click events\n                // doesn't fire if the element is not visible\n                hideWithDelay(150);\n            }\n        }\n    }\n\n    // trigger handlers\n    // ---------------------------------------------------------------\n    function handleTriggerClick(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        toggle();\n    }\n\n    function handleTriggerKeydown(e) {\n        if (e.code === \"Enter\" || e.code === \"Space\") {\n            e.preventDefault();\n            e.stopPropagation();\n            toggle();\n        }\n    }\n\n    function handleFocusChange(e) {\n        if (active && !activeTrigger?.contains(e.target) && !container?.contains(e.target)) {\n            toggle();\n        }\n    }\n\n    function handleEscPress(e) {\n        if (active && escClose && e.code === \"Escape\") {\n            e.preventDefault();\n            hide();\n        }\n    }\n\n    function handleOutsideMousedown(e) {\n        if (!active) {\n            return;\n        }\n\n        isOutsideMouseDown = !container?.contains(e.target);\n    }\n\n    function handleOutsideClick(e) {\n        if (\n            active &&\n            isOutsideMouseDown &&\n            !container?.contains(e.target) &&\n            !activeTrigger?.contains(e.target) &&\n            !e.target?.closest(\".flatpickr-calendar\")\n        ) {\n            hide();\n        }\n    }\n\n    onMount(() => {\n        bindTrigger();\n\n        return () => cleanup();\n    });\n</script>\n\n<svelte:window\n    on:click={handleOutsideClick}\n    on:mousedown={handleOutsideMousedown}\n    on:keydown={handleEscPress}\n    on:focusin={handleFocusChange}\n/>\n\n<div bind:this={container} class=\"toggler-container\" tabindex=\"-1\" role=\"menu\">\n    {#if active}\n        <div bind:this={containerChild} class={classes} class:active transition:fly={{ duration: 150, y: 3 }}>\n            <slot />\n        </div>\n    {/if}\n</div>\n","import { writable } from \"svelte/store\";\n\nexport const pageTitle = writable('');\n\nexport const appName = writable('');\n\nexport const hideControls = writable(false);\n","import { writable } from \"svelte/store\";\nimport CommonHelper from \"@/utils/CommonHelper\";\n\nexport const errors = writable({});\n\n/**\n * @param {Object} newErrors\n */\nexport function setErrors(newErrors) {\n    errors.set(newErrors || {});\n}\n\n/**\n * @param {String}       name\n * @param {String|Array} message\n */\nexport function addError(name, message) {\n    errors.update((e) => {\n        CommonHelper.setByPath(e, name, CommonHelper.sentenize(message))\n        return e;\n    });\n}\n\n/**\n * @param {String} name\n */\nexport function removeError(name) {\n    errors.update((e) => {\n        CommonHelper.deleteByPath(e, name);\n        return e;\n    });\n}\n","import { writable } from \"svelte/store\";\n\n// logged app superuser\nexport const superuser = writable({});\n\nexport function setSuperuser(model) {\n    superuser.set(model || {});\n}\n","class ClientResponseError extends Error{constructor(e){super(\"ClientResponseError\"),this.url=\"\",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,ClientResponseError.prototype),null!==e&&\"object\"==typeof e&&(this.url=\"string\"==typeof e.url?e.url:\"\",this.status=\"number\"==typeof e.status?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,null!==e.response&&\"object\"==typeof e.response?this.response=e.response:null!==e.data&&\"object\"==typeof e.data?this.response=e.data:this.response={}),this.originalError||e instanceof ClientResponseError||(this.originalError=e),\"undefined\"!=typeof DOMException&&e instanceof DOMException&&(this.isAbort=!0),this.name=\"ClientResponseError \"+this.status,this.message=this.response?.message,this.message||(this.isAbort?this.message=\"The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.\":this.originalError?.cause?.message?.includes(\"ECONNREFUSED ::1\")?this.message=\"Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).\":this.message=\"Something went wrong while processing your request.\")}get data(){return this.response}toJSON(){return{...this}}}const e=/^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;function cookieParse(e,t){const s={};if(\"string\"!=typeof e)return s;const i=Object.assign({},t||{}).decode||defaultDecode;let n=0;for(;n<e.length;){const t=e.indexOf(\"=\",n);if(-1===t)break;let r=e.indexOf(\";\",n);if(-1===r)r=e.length;else if(r<t){n=e.lastIndexOf(\";\",t-1)+1;continue}const o=e.slice(n,t).trim();if(void 0===s[o]){let n=e.slice(t+1,r).trim();34===n.charCodeAt(0)&&(n=n.slice(1,-1));try{s[o]=i(n)}catch(e){s[o]=n}}n=r+1}return s}function cookieSerialize(t,s,i){const n=Object.assign({},i||{}),r=n.encode||defaultEncode;if(!e.test(t))throw new TypeError(\"argument name is invalid\");const o=r(s);if(o&&!e.test(o))throw new TypeError(\"argument val is invalid\");let a=t+\"=\"+o;if(null!=n.maxAge){const e=n.maxAge-0;if(isNaN(e)||!isFinite(e))throw new TypeError(\"option maxAge is invalid\");a+=\"; Max-Age=\"+Math.floor(e)}if(n.domain){if(!e.test(n.domain))throw new TypeError(\"option domain is invalid\");a+=\"; Domain=\"+n.domain}if(n.path){if(!e.test(n.path))throw new TypeError(\"option path is invalid\");a+=\"; Path=\"+n.path}if(n.expires){if(!function isDate(e){return\"[object Date]\"===Object.prototype.toString.call(e)||e instanceof Date}(n.expires)||isNaN(n.expires.valueOf()))throw new TypeError(\"option expires is invalid\");a+=\"; Expires=\"+n.expires.toUTCString()}if(n.httpOnly&&(a+=\"; HttpOnly\"),n.secure&&(a+=\"; Secure\"),n.priority){switch(\"string\"==typeof n.priority?n.priority.toLowerCase():n.priority){case\"low\":a+=\"; Priority=Low\";break;case\"medium\":a+=\"; Priority=Medium\";break;case\"high\":a+=\"; Priority=High\";break;default:throw new TypeError(\"option priority is invalid\")}}if(n.sameSite){switch(\"string\"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:a+=\"; SameSite=Strict\";break;case\"lax\":a+=\"; SameSite=Lax\";break;case\"strict\":a+=\"; SameSite=Strict\";break;case\"none\":a+=\"; SameSite=None\";break;default:throw new TypeError(\"option sameSite is invalid\")}}return a}function defaultDecode(e){return-1!==e.indexOf(\"%\")?decodeURIComponent(e):e}function defaultEncode(e){return encodeURIComponent(e)}const t=\"undefined\"!=typeof navigator&&\"ReactNative\"===navigator.product||\"undefined\"!=typeof global&&global.HermesInternal;let s;function getTokenPayload(e){if(e)try{const t=decodeURIComponent(s(e.split(\".\")[1]).split(\"\").map((function(e){return\"%\"+(\"00\"+e.charCodeAt(0).toString(16)).slice(-2)})).join(\"\"));return JSON.parse(t)||{}}catch(e){}return{}}function isTokenExpired(e,t=0){let s=getTokenPayload(e);return!(Object.keys(s).length>0&&(!s.exp||s.exp-t>Date.now()/1e3))}s=\"function\"!=typeof atob||t?e=>{let t=String(e).replace(/=+$/,\"\");if(t.length%4==1)throw new Error(\"'atob' failed: The string to be decoded is not correctly encoded.\");for(var s,i,n=0,r=0,o=\"\";i=t.charAt(r++);~i&&(s=n%4?64*s+i:i,n++%4)?o+=String.fromCharCode(255&s>>(-2*n&6)):0)i=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".indexOf(i);return o}:atob;const i=\"pb_auth\";class BaseAuthStore{constructor(){this.baseToken=\"\",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get record(){return this.baseModel}get model(){return this.baseModel}get isValid(){return!isTokenExpired(this.token)}get isSuperuser(){let e=getTokenPayload(this.token);return\"auth\"==e.type&&(\"_superusers\"==this.record?.collectionName||!this.record?.collectionName&&\"pbc_3142635823\"==e.collectionId)}get isAdmin(){return console.warn(\"Please replace pb.authStore.isAdmin with pb.authStore.isSuperuser OR simply check the value of pb.authStore.record?.collectionName\"),this.isSuperuser}get isAuthRecord(){return console.warn(\"Please replace pb.authStore.isAuthRecord with !pb.authStore.isSuperuser OR simply check the value of pb.authStore.record?.collectionName\"),\"auth\"==getTokenPayload(this.token).type&&!this.isSuperuser}save(e,t){this.baseToken=e||\"\",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken=\"\",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=i){const s=cookieParse(e||\"\")[t]||\"\";let n={};try{n=JSON.parse(s),(null===typeof n||\"object\"!=typeof n||Array.isArray(n))&&(n={})}catch(e){}this.save(n.token||\"\",n.record||n.model||null)}exportToCookie(e,t=i){const s={secure:!0,sameSite:!0,httpOnly:!0,path:\"/\"},n=getTokenPayload(this.token);s.expires=n?.exp?new Date(1e3*n.exp):new Date(\"1970-01-01\"),e=Object.assign({},s,e);const r={token:this.token,record:this.record?JSON.parse(JSON.stringify(this.record)):null};let o=cookieSerialize(t,JSON.stringify(r),e);const a=\"undefined\"!=typeof Blob?new Blob([o]).size:o.length;if(r.record&&a>4096){r.record={id:r.record?.id,email:r.record?.email};const s=[\"collectionId\",\"collectionName\",\"verified\"];for(const e in this.record)s.includes(e)&&(r.record[e]=this.record[e]);o=cookieSerialize(t,JSON.stringify(r),e)}return o}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.record),()=>{for(let t=this._onChangeCallbacks.length-1;t>=0;t--)if(this._onChangeCallbacks[t]==e)return delete this._onChangeCallbacks[t],void this._onChangeCallbacks.splice(t,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.record)}}class LocalAuthStore extends BaseAuthStore{constructor(e=\"pocketbase_auth\"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||\"\"}get record(){const e=this._storageGet(this.storageKey)||{};return e.record||e.model||null}get model(){return this.record}save(e,t){this._storageSet(this.storageKey,{token:e,record:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if(\"undefined\"!=typeof window&&window?.localStorage){const t=window.localStorage.getItem(e)||\"\";try{return JSON.parse(t)}catch(e){return t}}return this.storageFallback[e]}_storageSet(e,t){if(\"undefined\"!=typeof window&&window?.localStorage){let s=t;\"string\"!=typeof t&&(s=JSON.stringify(t)),window.localStorage.setItem(e,s)}else this.storageFallback[e]=t}_storageRemove(e){\"undefined\"!=typeof window&&window?.localStorage&&window.localStorage?.removeItem(e),delete this.storageFallback[e]}_bindStorageEvent(){\"undefined\"!=typeof window&&window?.localStorage&&window.addEventListener&&window.addEventListener(\"storage\",(e=>{if(e.key!=this.storageKey)return;const t=this._storageGet(this.storageKey)||{};super.save(t.token||\"\",t.record||t.model||null)}))}}class BaseService{constructor(e){this.client=e}}class SettingsService extends BaseService{async getAll(e){return e=Object.assign({method:\"GET\"},e),this.client.send(\"/api/settings\",e)}async update(e,t){return t=Object.assign({method:\"PATCH\",body:e},t),this.client.send(\"/api/settings\",t)}async testS3(e=\"storage\",t){return t=Object.assign({method:\"POST\",body:{filesystem:e}},t),this.client.send(\"/api/settings/test/s3\",t).then((()=>!0))}async testEmail(e,t,s,i){return i=Object.assign({method:\"POST\",body:{email:t,template:s,collection:e}},i),this.client.send(\"/api/settings/test/email\",i).then((()=>!0))}async generateAppleClientSecret(e,t,s,i,n,r){return r=Object.assign({method:\"POST\",body:{clientId:e,teamId:t,keyId:s,privateKey:i,duration:n}},r),this.client.send(\"/api/settings/apple/generate-client-secret\",r)}}const n=[\"requestKey\",\"$cancelKey\",\"$autoCancel\",\"fetch\",\"headers\",\"body\",\"query\",\"params\",\"cache\",\"credentials\",\"headers\",\"integrity\",\"keepalive\",\"method\",\"mode\",\"redirect\",\"referrer\",\"referrerPolicy\",\"signal\",\"window\"];function normalizeUnknownQueryParams(e){if(e){e.query=e.query||{};for(let t in e)n.includes(t)||(e.query[t]=e[t],delete e[t])}}function serializeQueryParams(e){const t=[];for(const s in e){const i=encodeURIComponent(s),n=Array.isArray(e[s])?e[s]:[e[s]];for(let e of n)e=prepareQueryParamValue(e),null!==e&&t.push(i+\"=\"+e)}return t.join(\"&\")}function prepareQueryParamValue(e){return null==e?null:e instanceof Date?encodeURIComponent(e.toISOString().replace(\"T\",\" \")):\"object\"==typeof e?encodeURIComponent(JSON.stringify(e)):encodeURIComponent(e)}class RealtimeService extends BaseService{constructor(){super(...arguments),this.clientId=\"\",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(e,t,s){if(!e)throw new Error(\"topic must be set.\");let i=e;if(s){normalizeUnknownQueryParams(s=Object.assign({},s));const e=\"options=\"+encodeURIComponent(JSON.stringify({query:s.query,headers:s.headers}));i+=(i.includes(\"?\")?\"&\":\"?\")+e}const listener=function(e){const s=e;let i;try{i=JSON.parse(s?.data)}catch{}t(i||{})};return this.subscriptions[i]||(this.subscriptions[i]=[]),this.subscriptions[i].push(listener),this.isConnected?1===this.subscriptions[i].length?await this.submitSubscriptions():this.eventSource?.addEventListener(i,listener):await this.connect(),async()=>this.unsubscribeByTopicAndListener(e,listener)}async unsubscribe(e){let t=!1;if(e){const s=this.getSubscriptionsByTopic(e);for(let e in s)if(this.hasSubscriptionListeners(e)){for(let t of this.subscriptions[e])this.eventSource?.removeEventListener(e,t);delete this.subscriptions[e],t||(t=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?t&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(e){let t=!1;for(let s in this.subscriptions)if((s+\"?\").startsWith(e)){t=!0;for(let e of this.subscriptions[s])this.eventSource?.removeEventListener(s,e);delete this.subscriptions[s]}t&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(e,t){let s=!1;const i=this.getSubscriptionsByTopic(e);for(let e in i){if(!Array.isArray(this.subscriptions[e])||!this.subscriptions[e].length)continue;let i=!1;for(let s=this.subscriptions[e].length-1;s>=0;s--)this.subscriptions[e][s]===t&&(i=!0,delete this.subscriptions[e][s],this.subscriptions[e].splice(s,1),this.eventSource?.removeEventListener(e,t));i&&(this.subscriptions[e].length||delete this.subscriptions[e],s||this.hasSubscriptionListeners(e)||(s=!0))}this.hasSubscriptionListeners()?s&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(e){if(this.subscriptions=this.subscriptions||{},e)return!!this.subscriptions[e]?.length;for(let e in this.subscriptions)if(this.subscriptions[e]?.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send(\"/api/realtime\",{method:\"POST\",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch((e=>{if(!e?.isAbort)throw e}))}getSubscriptionsCancelKey(){return\"realtime_\"+this.clientId}getSubscriptionsByTopic(e){const t={};e=e.includes(\"?\")?e:e+\"?\";for(let s in this.subscriptions)(s+\"?\").startsWith(e)&&(t[s]=this.subscriptions[s]);return t}getNonEmptySubscriptionKeys(){const e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}async connect(){if(!(this.reconnectAttempts>0))return new Promise(((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()}))}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout((()=>{this.connectErrorHandler(new Error(\"EventSource connect took too long.\"))}),this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildURL(\"/api/realtime\")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error(\"Failed to establish realtime connection.\"))},this.eventSource.addEventListener(\"PB_CONNECT\",(e=>{const t=e;this.clientId=t?.lastEventId,this.submitSubscriptions().then((async()=>{let e=3;for(;this.hasUnsentSubscriptions()&&e>0;)e--,await this.submitSubscriptions()})).then((()=>{for(let e of this.pendingConnects)e.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const t=this.getSubscriptionsByTopic(\"PB_CONNECT\");for(let s in t)for(let i of t[s])i(e)})).catch((e=>{this.clientId=\"\",this.connectErrorHandler(e)}))}))}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionKeys();if(e.length!=this.lastSentSubscriptions.length)return!0;for(const t of e)if(!this.lastSentSubscriptions.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let t of this.pendingConnects)t.reject(new ClientResponseError(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout((()=>{this.initConnect()}),t)}disconnect(e=!1){if(this.clientId&&this.onDisconnect&&this.onDisconnect(Object.keys(this.subscriptions)),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),this.eventSource?.close(),this.eventSource=null,this.clientId=\"\",!e){this.reconnectAttempts=0;for(let e of this.pendingConnects)e.resolve();this.pendingConnects=[]}}}class CrudService extends BaseService{decode(e){return e}async getFullList(e,t){if(\"number\"==typeof e)return this._getFullList(e,t);let s=500;return(t=Object.assign({},e,t)).batch&&(s=t.batch,delete t.batch),this._getFullList(s,t)}async getList(e=1,t=30,s){return(s=Object.assign({method:\"GET\"},s)).query=Object.assign({page:e,perPage:t},s.query),this.client.send(this.baseCrudPath,s).then((e=>(e.items=e.items?.map((e=>this.decode(e)))||[],e)))}async getFirstListItem(e,t){return(t=Object.assign({requestKey:\"one_by_filter_\"+this.baseCrudPath+\"_\"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then((e=>{if(!e?.items?.length)throw new ClientResponseError({status:404,response:{code:404,message:\"The requested resource wasn't found.\",data:{}}});return e.items[0]}))}async getOne(e,t){if(!e)throw new ClientResponseError({url:this.client.buildURL(this.baseCrudPath+\"/\"),status:404,response:{code:404,message:\"Missing required record id.\",data:{}}});return t=Object.assign({method:\"GET\"},t),this.client.send(this.baseCrudPath+\"/\"+encodeURIComponent(e),t).then((e=>this.decode(e)))}async create(e,t){return t=Object.assign({method:\"POST\",body:e},t),this.client.send(this.baseCrudPath,t).then((e=>this.decode(e)))}async update(e,t,s){return s=Object.assign({method:\"PATCH\",body:t},s),this.client.send(this.baseCrudPath+\"/\"+encodeURIComponent(e),s).then((e=>this.decode(e)))}async delete(e,t){return t=Object.assign({method:\"DELETE\"},t),this.client.send(this.baseCrudPath+\"/\"+encodeURIComponent(e),t).then((()=>!0))}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let s=[],request=async i=>this.getList(i,e||500,t).then((e=>{const t=e.items;return s=s.concat(t),t.length==e.perPage?request(i+1):s}));return request(1)}}function normalizeLegacyOptionsArgs(e,t,s,i){const n=void 0!==i;return n||void 0!==s?n?(console.warn(e),t.body=Object.assign({},t.body,s),t.query=Object.assign({},t.query,i),t):Object.assign(t,s):t}function resetAutoRefresh(e){e._resetAutoRefresh?.()}class RecordService extends CrudService{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+\"/records\"}get baseCollectionPath(){return\"/api/collections/\"+encodeURIComponent(this.collectionIdOrName)}get isSuperusers(){return\"_superusers\"==this.collectionIdOrName||\"_pbc_2773867675\"==this.collectionIdOrName}async subscribe(e,t,s){if(!e)throw new Error(\"Missing topic.\");if(!t)throw new Error(\"Missing subscription callback.\");return this.client.realtime.subscribe(this.collectionIdOrName+\"/\"+e,t,s)}async unsubscribe(e){return e?this.client.realtime.unsubscribe(this.collectionIdOrName+\"/\"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(e,t){if(\"number\"==typeof e)return super.getFullList(e,t);const s=Object.assign({},e,t);return super.getFullList(s)}async getList(e=1,t=30,s){return super.getList(e,t,s)}async getFirstListItem(e,t){return super.getFirstListItem(e,t)}async getOne(e,t){return super.getOne(e,t)}async create(e,t){return super.create(e,t)}async update(e,t,s){return super.update(e,t,s).then((e=>{if(this.client.authStore.record?.id===e?.id&&(this.client.authStore.record?.collectionId===this.collectionIdOrName||this.client.authStore.record?.collectionName===this.collectionIdOrName)){let t=Object.assign({},this.client.authStore.record.expand),s=Object.assign({},this.client.authStore.record,e);t&&(s.expand=Object.assign(t,e.expand)),this.client.authStore.save(this.client.authStore.token,s)}return e}))}async delete(e,t){return super.delete(e,t).then((t=>(!t||this.client.authStore.record?.id!==e||this.client.authStore.record?.collectionId!==this.collectionIdOrName&&this.client.authStore.record?.collectionName!==this.collectionIdOrName||this.client.authStore.clear(),t)))}authResponse(e){const t=this.decode(e?.record||{});return this.client.authStore.save(e?.token,t),Object.assign({},e,{token:e?.token||\"\",record:t})}async listAuthMethods(e){return e=Object.assign({method:\"GET\",fields:\"mfa,otp,password,oauth2\"},e),this.client.send(this.baseCollectionPath+\"/auth-methods\",e)}async authWithPassword(e,t,s){let i;s=Object.assign({method:\"POST\",body:{identity:e,password:t}},s),this.isSuperusers&&(i=s.autoRefreshThreshold,delete s.autoRefreshThreshold,s.autoRefresh||resetAutoRefresh(this.client));let n=await this.client.send(this.baseCollectionPath+\"/auth-with-password\",s);return n=this.authResponse(n),i&&this.isSuperusers&&function registerAutoRefresh(e,t,s,i){resetAutoRefresh(e);const n=e.beforeSend,r=e.authStore.record,o=e.authStore.onChange(((t,s)=>{(!t||s?.id!=r?.id||(s?.collectionId||r?.collectionId)&&s?.collectionId!=r?.collectionId)&&resetAutoRefresh(e)}));e._resetAutoRefresh=function(){o(),e.beforeSend=n,delete e._resetAutoRefresh},e.beforeSend=async(r,o)=>{const a=e.authStore.token;if(o.query?.autoRefresh)return n?n(r,o):{url:r,sendOptions:o};let c=e.authStore.isValid;if(c&&isTokenExpired(e.authStore.token,t))try{await s()}catch(e){c=!1}c||await i();const l=o.headers||{};for(let t in l)if(\"authorization\"==t.toLowerCase()&&a==l[t]&&e.authStore.token){l[t]=e.authStore.token;break}return o.headers=l,n?n(r,o):{url:r,sendOptions:o}}}(this.client,i,(()=>this.authRefresh({autoRefresh:!0})),(()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},s)))),n}async authWithOAuth2Code(e,t,s,i,n,r,o){let a={method:\"POST\",body:{provider:e,code:t,codeVerifier:s,redirectURL:i,createData:n}};return a=normalizeLegacyOptionsArgs(\"This form of authWithOAuth2Code(provider, code, codeVerifier, redirectURL, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectURL, createData?, options?).\",a,r,o),this.client.send(this.baseCollectionPath+\"/auth-with-oauth2\",a).then((e=>this.authResponse(e)))}authWithOAuth2(...e){if(e.length>1||\"string\"==typeof e?.[0])return console.warn(\"PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration.\"),this.authWithOAuth2Code(e?.[0]||\"\",e?.[1]||\"\",e?.[2]||\"\",e?.[3]||\"\",e?.[4]||{},e?.[5]||{},e?.[6]||{});const t=e?.[0]||{};let s=null;t.urlCallback||(s=openBrowserPopup(void 0));const i=new RealtimeService(this.client);function cleanup(){s?.close(),i.unsubscribe()}const n={},r=t.requestKey;return r&&(n.requestKey=r),this.listAuthMethods(n).then((e=>{const n=e.oauth2.providers.find((e=>e.name===t.provider));if(!n)throw new ClientResponseError(new Error(`Missing or invalid provider \"${t.provider}\".`));const o=this.client.buildURL(\"/api/oauth2-redirect\"),a=r?this.client.cancelControllers?.[r]:void 0;return a&&(a.signal.onabort=()=>{cleanup()}),new Promise((async(e,r)=>{try{await i.subscribe(\"@oauth2\",(async s=>{const c=i.clientId;try{if(!s.state||c!==s.state)throw new Error(\"State parameters don't match.\");if(s.error||!s.code)throw new Error(\"OAuth2 redirect error or missing code: \"+s.error);const i=Object.assign({},t);delete i.provider,delete i.scopes,delete i.createData,delete i.urlCallback,a?.signal?.onabort&&(a.signal.onabort=null);const r=await this.authWithOAuth2Code(n.name,s.code,n.codeVerifier,o,t.createData,i);e(r)}catch(e){r(new ClientResponseError(e))}cleanup()}));const c={state:i.clientId};t.scopes?.length&&(c.scope=t.scopes.join(\" \"));const l=this._replaceQueryParams(n.authURL+o,c);let h=t.urlCallback||function(e){s?s.location.href=e:s=openBrowserPopup(e)};await h(l)}catch(e){cleanup(),r(new ClientResponseError(e))}}))})).catch((e=>{throw cleanup(),e}))}async authRefresh(e,t){let s={method:\"POST\"};return s=normalizeLegacyOptionsArgs(\"This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).\",s,e,t),this.client.send(this.baseCollectionPath+\"/auth-refresh\",s).then((e=>this.authResponse(e)))}async requestPasswordReset(e,t,s){let i={method:\"POST\",body:{email:e}};return i=normalizeLegacyOptionsArgs(\"This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).\",i,t,s),this.client.send(this.baseCollectionPath+\"/request-password-reset\",i).then((()=>!0))}async confirmPasswordReset(e,t,s,i,n){let r={method:\"POST\",body:{token:e,password:t,passwordConfirm:s}};return r=normalizeLegacyOptionsArgs(\"This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).\",r,i,n),this.client.send(this.baseCollectionPath+\"/confirm-password-reset\",r).then((()=>!0))}async requestVerification(e,t,s){let i={method:\"POST\",body:{email:e}};return i=normalizeLegacyOptionsArgs(\"This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).\",i,t,s),this.client.send(this.baseCollectionPath+\"/request-verification\",i).then((()=>!0))}async confirmVerification(e,t,s){let i={method:\"POST\",body:{token:e}};return i=normalizeLegacyOptionsArgs(\"This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).\",i,t,s),this.client.send(this.baseCollectionPath+\"/confirm-verification\",i).then((()=>{const t=getTokenPayload(e),s=this.client.authStore.record;return s&&!s.verified&&s.id===t.id&&s.collectionId===t.collectionId&&(s.verified=!0,this.client.authStore.save(this.client.authStore.token,s)),!0}))}async requestEmailChange(e,t,s){let i={method:\"POST\",body:{newEmail:e}};return i=normalizeLegacyOptionsArgs(\"This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).\",i,t,s),this.client.send(this.baseCollectionPath+\"/request-email-change\",i).then((()=>!0))}async confirmEmailChange(e,t,s,i){let n={method:\"POST\",body:{token:e,password:t}};return n=normalizeLegacyOptionsArgs(\"This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).\",n,s,i),this.client.send(this.baseCollectionPath+\"/confirm-email-change\",n).then((()=>{const t=getTokenPayload(e),s=this.client.authStore.record;return s&&s.id===t.id&&s.collectionId===t.collectionId&&this.client.authStore.clear(),!0}))}async listExternalAuths(e,t){return this.client.collection(\"_externalAuths\").getFullList(Object.assign({},t,{filter:this.client.filter(\"recordRef = {:id}\",{id:e})}))}async unlinkExternalAuth(e,t,s){const i=await this.client.collection(\"_externalAuths\").getFirstListItem(this.client.filter(\"recordRef = {:recordId} && provider = {:provider}\",{recordId:e,provider:t}));return this.client.collection(\"_externalAuths\").delete(i.id,s).then((()=>!0))}async requestOTP(e,t){return t=Object.assign({method:\"POST\",body:{email:e}},t),this.client.send(this.baseCollectionPath+\"/request-otp\",t)}async authWithOTP(e,t,s){return s=Object.assign({method:\"POST\",body:{otpId:e,password:t}},s),this.client.send(this.baseCollectionPath+\"/auth-with-otp\",s).then((e=>this.authResponse(e)))}async impersonate(e,t,s){(s=Object.assign({method:\"POST\",body:{duration:t}},s)).headers=s.headers||{},s.headers.Authorization||(s.headers.Authorization=this.client.authStore.token);const i=new Client(this.client.baseURL,new BaseAuthStore,this.client.lang),n=await i.send(this.baseCollectionPath+\"/impersonate/\"+encodeURIComponent(e),s);return i.authStore.save(n?.token,this.decode(n?.record||{})),i}_replaceQueryParams(e,t={}){let s=e,i=\"\";e.indexOf(\"?\")>=0&&(s=e.substring(0,e.indexOf(\"?\")),i=e.substring(e.indexOf(\"?\")+1));const n={},r=i.split(\"&\");for(const e of r){if(\"\"==e)continue;const t=e.split(\"=\");n[decodeURIComponent(t[0].replace(/\\+/g,\" \"))]=decodeURIComponent((t[1]||\"\").replace(/\\+/g,\" \"))}for(let e in t)t.hasOwnProperty(e)&&(null==t[e]?delete n[e]:n[e]=t[e]);i=\"\";for(let e in n)n.hasOwnProperty(e)&&(\"\"!=i&&(i+=\"&\"),i+=encodeURIComponent(e.replace(/%20/g,\"+\"))+\"=\"+encodeURIComponent(n[e].replace(/%20/g,\"+\")));return\"\"!=i?s+\"?\"+i:s}}function openBrowserPopup(e){if(\"undefined\"==typeof window||!window?.open)throw new ClientResponseError(new Error(\"Not in a browser context - please pass a custom urlCallback function.\"));let t=1024,s=768,i=window.innerWidth,n=window.innerHeight;t=t>i?i:t,s=s>n?n:s;let r=i/2-t/2,o=n/2-s/2;return window.open(e,\"popup_window\",\"width=\"+t+\",height=\"+s+\",top=\"+o+\",left=\"+r+\",resizable,menubar=no\")}class CollectionService extends CrudService{get baseCrudPath(){return\"/api/collections\"}async import(e,t=!1,s){return s=Object.assign({method:\"PUT\",body:{collections:e,deleteMissing:t}},s),this.client.send(this.baseCrudPath+\"/import\",s).then((()=>!0))}async getScaffolds(e){return e=Object.assign({method:\"GET\"},e),this.client.send(this.baseCrudPath+\"/meta/scaffolds\",e)}async truncate(e,t){return t=Object.assign({method:\"DELETE\"},t),this.client.send(this.baseCrudPath+\"/\"+encodeURIComponent(e)+\"/truncate\",t).then((()=>!0))}}class LogService extends BaseService{async getList(e=1,t=30,s){return(s=Object.assign({method:\"GET\"},s)).query=Object.assign({page:e,perPage:t},s.query),this.client.send(\"/api/logs\",s)}async getOne(e,t){if(!e)throw new ClientResponseError({url:this.client.buildURL(\"/api/logs/\"),status:404,response:{code:404,message:\"Missing required log id.\",data:{}}});return t=Object.assign({method:\"GET\"},t),this.client.send(\"/api/logs/\"+encodeURIComponent(e),t)}async getStats(e){return e=Object.assign({method:\"GET\"},e),this.client.send(\"/api/logs/stats\",e)}}class HealthService extends BaseService{async check(e){return e=Object.assign({method:\"GET\"},e),this.client.send(\"/api/health\",e)}}class FileService extends BaseService{getUrl(e,t,s={}){return console.warn(\"Please replace pb.files.getUrl() with pb.files.getURL()\"),this.getURL(e,t,s)}getURL(e,t,s={}){if(!t||!e?.id||!e?.collectionId&&!e?.collectionName)return\"\";const i=[];i.push(\"api\"),i.push(\"files\"),i.push(encodeURIComponent(e.collectionId||e.collectionName)),i.push(encodeURIComponent(e.id)),i.push(encodeURIComponent(t));let n=this.client.buildURL(i.join(\"/\"));if(Object.keys(s).length){!1===s.download&&delete s.download;const e=new URLSearchParams(s);n+=(n.includes(\"?\")?\"&\":\"?\")+e}return n}async getToken(e){return e=Object.assign({method:\"POST\"},e),this.client.send(\"/api/files/token\",e).then((e=>e?.token||\"\"))}}class BackupService extends BaseService{async getFullList(e){return e=Object.assign({method:\"GET\"},e),this.client.send(\"/api/backups\",e)}async create(e,t){return t=Object.assign({method:\"POST\",body:{name:e}},t),this.client.send(\"/api/backups\",t).then((()=>!0))}async upload(e,t){return t=Object.assign({method:\"POST\",body:e},t),this.client.send(\"/api/backups/upload\",t).then((()=>!0))}async delete(e,t){return t=Object.assign({method:\"DELETE\"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then((()=>!0))}async restore(e,t){return t=Object.assign({method:\"POST\"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then((()=>!0))}getDownloadUrl(e,t){return console.warn(\"Please replace pb.backups.getDownloadUrl() with pb.backups.getDownloadURL()\"),this.getDownloadURL(e,t)}getDownloadURL(e,t){return this.client.buildURL(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}}class CronService extends BaseService{async getFullList(e){return e=Object.assign({method:\"GET\"},e),this.client.send(\"/api/crons\",e)}async run(e,t){return t=Object.assign({method:\"POST\"},t),this.client.send(`/api/crons/${encodeURIComponent(e)}`,t).then((()=>!0))}}function isFile(e){return\"undefined\"!=typeof Blob&&e instanceof Blob||\"undefined\"!=typeof File&&e instanceof File||null!==e&&\"object\"==typeof e&&e.uri&&(\"undefined\"!=typeof navigator&&\"ReactNative\"===navigator.product||\"undefined\"!=typeof global&&global.HermesInternal)}function isFormData(e){return e&&(\"FormData\"===e.constructor.name||\"undefined\"!=typeof FormData&&e instanceof FormData)}function hasFileField(e){for(const t in e){const s=Array.isArray(e[t])?e[t]:[e[t]];for(const e of s)if(isFile(e))return!0}return!1}const r=/^[\\-\\.\\d]+$/;function inferFormDataValue(e){if(\"string\"!=typeof e)return e;if(\"true\"==e)return!0;if(\"false\"==e)return!1;if((\"-\"===e[0]||e[0]>=\"0\"&&e[0]<=\"9\")&&r.test(e)){let t=+e;if(\"\"+t===e)return t}return e}class BatchService extends BaseService{constructor(){super(...arguments),this.requests=[],this.subs={}}collection(e){return this.subs[e]||(this.subs[e]=new SubBatchService(this.requests,e)),this.subs[e]}async send(e){const t=new FormData,s=[];for(let e=0;e<this.requests.length;e++){const i=this.requests[e];if(s.push({method:i.method,url:i.url,headers:i.headers,body:i.json}),i.files)for(let s in i.files){const n=i.files[s]||[];for(let i of n)t.append(\"requests.\"+e+\".\"+s,i)}}return t.append(\"@jsonPayload\",JSON.stringify({requests:s})),e=Object.assign({method:\"POST\",body:t},e),this.client.send(\"/api/batch\",e)}}class SubBatchService{constructor(e,t){this.requests=[],this.requests=e,this.collectionIdOrName=t}upsert(e,t){t=Object.assign({body:e||{}},t);const s={method:\"PUT\",url:\"/api/collections/\"+encodeURIComponent(this.collectionIdOrName)+\"/records\"};this.prepareRequest(s,t),this.requests.push(s)}create(e,t){t=Object.assign({body:e||{}},t);const s={method:\"POST\",url:\"/api/collections/\"+encodeURIComponent(this.collectionIdOrName)+\"/records\"};this.prepareRequest(s,t),this.requests.push(s)}update(e,t,s){s=Object.assign({body:t||{}},s);const i={method:\"PATCH\",url:\"/api/collections/\"+encodeURIComponent(this.collectionIdOrName)+\"/records/\"+encodeURIComponent(e)};this.prepareRequest(i,s),this.requests.push(i)}delete(e,t){t=Object.assign({},t);const s={method:\"DELETE\",url:\"/api/collections/\"+encodeURIComponent(this.collectionIdOrName)+\"/records/\"+encodeURIComponent(e)};this.prepareRequest(s,t),this.requests.push(s)}prepareRequest(e,t){if(normalizeUnknownQueryParams(t),e.headers=t.headers,e.json={},e.files={},void 0!==t.query){const s=serializeQueryParams(t.query);s&&(e.url+=(e.url.includes(\"?\")?\"&\":\"?\")+s)}let s=t.body;isFormData(s)&&(s=function convertFormDataToObject(e){let t={};return e.forEach(((e,s)=>{if(\"@jsonPayload\"===s&&\"string\"==typeof e)try{let s=JSON.parse(e);Object.assign(t,s)}catch(e){console.warn(\"@jsonPayload error:\",e)}else void 0!==t[s]?(Array.isArray(t[s])||(t[s]=[t[s]]),t[s].push(inferFormDataValue(e))):t[s]=inferFormDataValue(e)})),t}(s));for(const t in s){const i=s[t];if(isFile(i))e.files[t]=e.files[t]||[],e.files[t].push(i);else if(Array.isArray(i)){const s=[],n=[];for(const e of i)isFile(e)?s.push(e):n.push(e);if(s.length>0&&s.length==i.length){e.files[t]=e.files[t]||[];for(let i of s)e.files[t].push(i)}else if(e.json[t]=n,s.length>0){let i=t;t.startsWith(\"+\")||t.endsWith(\"+\")||(i+=\"+\"),e.files[i]=e.files[i]||[];for(let t of s)e.files[i].push(t)}}else e.json[t]=i}}}class Client{get baseUrl(){return this.baseURL}set baseUrl(e){this.baseURL=e}constructor(e=\"/\",t,s=\"en-US\"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseURL=e,this.lang=s,t?this.authStore=t:\"undefined\"!=typeof window&&window.Deno?this.authStore=new BaseAuthStore:this.authStore=new LocalAuthStore,this.collections=new CollectionService(this),this.files=new FileService(this),this.logs=new LogService(this),this.settings=new SettingsService(this),this.realtime=new RealtimeService(this),this.health=new HealthService(this),this.backups=new BackupService(this),this.crons=new CronService(this)}get admins(){return this.collection(\"_superusers\")}createBatch(){return new BatchService(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new RecordService(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}filter(e,t){if(!t)return e;for(let s in t){let i=t[s];switch(typeof i){case\"boolean\":case\"number\":i=\"\"+i;break;case\"string\":i=\"'\"+i.replace(/'/g,\"\\\\'\")+\"'\";break;default:i=null===i?\"null\":i instanceof Date?\"'\"+i.toISOString().replace(\"T\",\" \")+\"'\":\"'\"+JSON.stringify(i).replace(/'/g,\"\\\\'\")+\"'\"}e=e.replaceAll(\"{:\"+s+\"}\",i)}return e}getFileUrl(e,t,s={}){return console.warn(\"Please replace pb.getFileUrl() with pb.files.getURL()\"),this.files.getURL(e,t,s)}buildUrl(e){return console.warn(\"Please replace pb.buildUrl() with pb.buildURL()\"),this.buildURL(e)}buildURL(e){let t=this.baseURL;return\"undefined\"==typeof window||!window.location||t.startsWith(\"https://\")||t.startsWith(\"http://\")||(t=window.location.origin?.endsWith(\"/\")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||\"\",this.baseURL.startsWith(\"/\")||(t+=window.location.pathname||\"/\",t+=t.endsWith(\"/\")?\"\":\"/\"),t+=this.baseURL),e&&(t+=t.endsWith(\"/\")?\"\":\"/\",t+=e.startsWith(\"/\")?e.substring(1):e),t}async send(e,t){t=this.initSendOptions(e,t);let s=this.buildURL(e);if(this.beforeSend){const e=Object.assign({},await this.beforeSend(s,t));void 0!==e.url||void 0!==e.options?(s=e.url||s,t=e.options||t):Object.keys(e).length&&(t=e,console?.warn&&console.warn(\"Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`.\"))}if(void 0!==t.query){const e=serializeQueryParams(t.query);e&&(s+=(s.includes(\"?\")?\"&\":\"?\")+e),delete t.query}\"application/json\"==this.getHeader(t.headers,\"Content-Type\")&&t.body&&\"string\"!=typeof t.body&&(t.body=JSON.stringify(t.body));return(t.fetch||fetch)(s,t).then((async e=>{let s={};try{s=await e.json()}catch(e){}if(this.afterSend&&(s=await this.afterSend(e,s,t)),e.status>=400)throw new ClientResponseError({url:e.url,status:e.status,data:s});return s})).catch((e=>{throw new ClientResponseError(e)}))}initSendOptions(e,t){if((t=Object.assign({method:\"GET\"},t)).body=function convertToFormDataIfNeeded(e){if(\"undefined\"==typeof FormData||void 0===e||\"object\"!=typeof e||null===e||isFormData(e)||!hasFileField(e))return e;const t=new FormData;for(const s in e){const i=e[s];if(\"object\"!=typeof i||hasFileField({data:i})){const e=Array.isArray(i)?i:[i];for(let i of e)t.append(s,i)}else{let e={};e[s]=i,t.append(\"@jsonPayload\",JSON.stringify(e))}}return t}(t.body),normalizeUnknownQueryParams(t),t.query=Object.assign({},t.params,t.query),void 0===t.requestKey&&(!1===t.$autoCancel||!1===t.query.$autoCancel?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,null!==this.getHeader(t.headers,\"Content-Type\")||isFormData(t.body)||(t.headers=Object.assign({},t.headers,{\"Content-Type\":\"application/json\"})),null===this.getHeader(t.headers,\"Accept-Language\")&&(t.headers=Object.assign({},t.headers,{\"Accept-Language\":this.lang})),this.authStore.token&&null===this.getHeader(t.headers,\"Authorization\")&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&null!==t.requestKey){const s=t.requestKey||(t.method||\"GET\")+e;delete t.requestKey,this.cancelRequest(s);const i=new AbortController;this.cancelControllers[s]=i,t.signal=i.signal}return t}getHeader(e,t){e=e||{},t=t.toLowerCase();for(let s in e)if(s.toLowerCase()==t)return e[s];return null}}class AsyncAuthStore extends BaseAuthStore{constructor(e){super(),this.queue=[],this.saveFunc=e.save,this.clearFunc=e.clear,this._enqueue((()=>this._loadInitial(e.initial)))}save(e,t){super.save(e,t);let s=\"\";try{s=JSON.stringify({token:e,record:t})}catch(e){console.warn(\"AsyncAuthStore: failed to stringify the new state\")}this._enqueue((()=>this.saveFunc(s)))}clear(){super.clear(),this.clearFunc?this._enqueue((()=>this.clearFunc())):this._enqueue((()=>this.saveFunc(\"\")))}async _loadInitial(e){try{if(e=await e){let t;\"string\"==typeof e?t=JSON.parse(e)||{}:\"object\"==typeof e&&(t=e),this.save(t.token||\"\",t.record||t.model||null)}}catch(e){}}_enqueue(e){this.queue.push(e),1==this.queue.length&&this._dequeue()}_dequeue(){this.queue.length&&this.queue[0]().finally((()=>{this.queue.shift(),this.queue.length&&this._dequeue()}))}}export{AsyncAuthStore,BaseAuthStore,BatchService,ClientResponseError,CollectionService,CrudService,HealthService,LocalAuthStore,LogService,RealtimeService,RecordService,SubBatchService,cookieParse,cookieSerialize,Client as default,getTokenPayload,isTokenExpired,normalizeUnknownQueryParams,serializeQueryParams};\n//# sourceMappingURL=pocketbase.es.mjs.map\n","import ApiClient from \"@/utils/ApiClient\";\nimport CommonHelper from \"@/utils/CommonHelper\";\nimport { get, writable } from \"svelte/store\";\n\nexport const collections = writable([]);\nexport const activeCollection = writable({});\nexport const isCollectionsLoading = writable(false);\nexport const protectedFilesCollectionsCache = writable({});\nexport const scaffolds = writable({});\n\nlet notifyChannel;\n\nif (typeof BroadcastChannel != \"undefined\") {\n    notifyChannel = new BroadcastChannel(\"collections\");\n\n    notifyChannel.onmessage = () => {\n        loadCollections(get(activeCollection)?.id)\n    }\n}\n\nfunction notifyOtherTabs() {\n    notifyChannel?.postMessage(\"reload\");\n}\n\nexport function changeActiveCollectionByIdOrName(collectionIdOrName) {\n    collections.update((list) => {\n        const found = list.find((c) => c.id == collectionIdOrName || c.name == collectionIdOrName);\n        if (found) {\n            activeCollection.set(found);\n        } else if (list.length) {\n            activeCollection.set(list.find((c) => !c.system) || list[0]);\n        }\n\n        return list;\n    });\n}\n\n// add or update collection\nexport function addCollection(collection) {\n    activeCollection.update((current) => {\n        return CommonHelper.isEmpty(current?.id) || current.id === collection.id ? collection : current;\n    });\n\n    collections.update((list) => {\n        CommonHelper.pushOrReplaceByKey(list, collection, \"id\");\n\n        refreshProtectedFilesCollectionsCache();\n\n        notifyOtherTabs();\n\n        return CommonHelper.sortCollections(list);\n    });\n}\n\nexport function removeCollection(collection) {\n    collections.update((list) => {\n        CommonHelper.removeByKey(list, \"id\", collection.id);\n\n        activeCollection.update((current) => {\n            if (current.id === collection.id) {\n                return list.find((c) => !c.system) || list[0];\n            }\n            return current;\n        });\n\n        refreshProtectedFilesCollectionsCache();\n\n        notifyOtherTabs();\n\n        return list;\n    });\n}\n\n// load all collections\nexport async function loadCollections(activeIdOrName = null) {\n    isCollectionsLoading.set(true);\n\n    try {\n        const promises = [];\n        promises.push(ApiClient.collections.getScaffolds());\n        promises.push(ApiClient.collections.getFullList());\n\n        let [resultScaffolds, resultCollections] = await Promise.all(promises);\n\n        scaffolds.set(resultScaffolds);\n\n        resultCollections = CommonHelper.sortCollections(resultCollections);\n\n        collections.set(resultCollections);\n\n        const found = activeIdOrName && resultCollections.find((c) => c.id == activeIdOrName || c.name == activeIdOrName);\n        if (found) {\n            activeCollection.set(found);\n        } else if (resultCollections.length) {\n            activeCollection.set(resultCollections.find((c) => !c.system) || resultCollections[0]);\n        }\n\n        refreshProtectedFilesCollectionsCache();\n    } catch (err) {\n        ApiClient.error(err);\n    }\n\n    isCollectionsLoading.set(false);\n}\n\nfunction refreshProtectedFilesCollectionsCache() {\n    protectedFilesCollectionsCache.update((cache) => {\n        collections.update((current) => {\n            for (let c of current) {\n                cache[c.id] = !!c.fields?.find((f) => f.type == \"file\" && f.protected);\n            }\n\n            return current;\n        });\n\n        return cache;\n    });\n}\n","export function parse(str, loose) {\n\tif (str instanceof RegExp) return { keys:false, pattern:str };\n\tvar c, o, tmp, ext, keys=[], pattern='', arr = str.split('/');\n\tarr[0] || arr.shift();\n\n\twhile (tmp = arr.shift()) {\n\t\tc = tmp[0];\n\t\tif (c === '*') {\n\t\t\tkeys.push('wild');\n\t\t\tpattern += '/(.*)';\n\t\t} else if (c === ':') {\n\t\t\to = tmp.indexOf('?', 1);\n\t\t\text = tmp.indexOf('.', 1);\n\t\t\tkeys.push( tmp.substring(1, !!~o ? o : !!~ext ? ext : tmp.length) );\n\t\t\tpattern += !!~o && !~ext ? '(?:/([^/]+?))?' : '/([^/]+?)';\n\t\t\tif (!!~ext) pattern += (!!~o ? '?' : '') + '\\\\' + tmp.substring(ext);\n\t\t} else {\n\t\t\tpattern += '/' + tmp;\n\t\t}\n\t}\n\n\treturn {\n\t\tkeys: keys,\n\t\tpattern: new RegExp('^' + pattern + (loose ? '(?=$|\\/)' : '\\/?$'), 'i')\n\t};\n}\n\nvar RGX = /(\\/|^)([:*][^/]*?)(\\?)?(?=[/.]|$)/g;\n\n// error if key missing?\nexport function inject(route, values) {\n\treturn route.replace(RGX, (x, lead, key, optional) => {\n\t\tx = values[key=='*' ? 'wild' : key.substring(1)];\n\t\treturn x ? '/'+x : (optional || key=='*') ? '' : '/' + key;\n\t});\n}\n","<script context=\"module\">\nimport {readable, writable, derived} from 'svelte/store'\nimport {tick} from 'svelte'\n\n/**\n * @typedef {Object} Location\n * @property {string} location - Location (page/view), for example `/book`\n * @property {string} [querystring] - Querystring from the hash, as a string not parsed\n */\n/**\n * Returns the current location from the hash.\n *\n * @returns {Location} Location object\n * @private\n */\nfunction getLocation() {\n    const hashPosition = window.location.href.indexOf('#/')\n    let location = (hashPosition > -1) ? window.location.href.substr(hashPosition + 1) : '/'\n\n    // Check if there's a querystring\n    const qsPosition = location.indexOf('?')\n    let querystring = ''\n    if (qsPosition > -1) {\n        querystring = location.substr(qsPosition + 1)\n        location = location.substr(0, qsPosition)\n    }\n\n    return {location, querystring}\n}\n\n/**\n * Readable store that returns the current full location (incl. querystring)\n */\nexport const loc = readable(\n    null,\n    // eslint-disable-next-line prefer-arrow-callback\n    function start(set) {\n        set(getLocation())\n\n        const update = () => {\n            set(getLocation())\n        }\n        window.addEventListener('hashchange', update, false)\n\n        return function stop() {\n            window.removeEventListener('hashchange', update, false)\n        }\n    }\n)\n\n/**\n * Readable store that returns the current location\n */\nexport const location = derived(\n    loc,\n    (_loc) => _loc.location\n)\n\n/**\n * Readable store that returns the current querystring\n */\nexport const querystring = derived(\n    loc,\n    (_loc) => _loc.querystring\n)\n\n/**\n * Store that returns the currently-matched params.\n * Despite this being writable, consumers should not change the value of the store.\n * It is exported as a readable store only (in the typings file)\n */\nexport const params = writable(undefined)\n\n/**\n * Navigates to a new page programmatically.\n *\n * @param {string} location - Path to navigate to (must start with `/` or '#/')\n * @return {Promise<void>} Promise that resolves after the page navigation has completed\n */\nexport async function push(location) {\n    if (!location || location.length < 1 || (location.charAt(0) != '/' && location.indexOf('#/') !== 0)) {\n        throw Error('Invalid parameter location')\n    }\n\n    // Execute this code when the current call stack is complete\n    await tick()\n\n    // Note: this will include scroll state in history even when restoreScrollState is false\n    history.replaceState({...history.state, __svelte_spa_router_scrollX: window.scrollX, __svelte_spa_router_scrollY: window.scrollY}, undefined)      \n    window.location.hash = (location.charAt(0) == '#' ? '' : '#') + location\n}\n\n/**\n * Navigates back in history (equivalent to pressing the browser's back button).\n * \n * @return {Promise<void>} Promise that resolves after the page navigation has completed\n */\nexport async function pop() {\n    // Execute this code when the current call stack is complete\n    await tick()\n\n    window.history.back()\n}\n\n/**\n * Replaces the current page but without modifying the history stack.\n *\n * @param {string} location - Path to navigate to (must start with `/` or '#/')\n * @return {Promise<void>} Promise that resolves after the page navigation has completed\n */\nexport async function replace(location) {\n    if (!location || location.length < 1 || (location.charAt(0) != '/' && location.indexOf('#/') !== 0)) {\n        throw Error('Invalid parameter location')\n    }\n\n    // Execute this code when the current call stack is complete\n    await tick()\n\n    const dest = (location.charAt(0) == '#' ? '' : '#') + location\n    try {\n        const newState = {\n            ...history.state\n        }\n        delete newState['__svelte_spa_router_scrollX']\n        delete newState['__svelte_spa_router_scrollY']\n        window.history.replaceState(newState, undefined, dest)\n    }\n    catch (e) {\n        // eslint-disable-next-line no-console\n        console.warn('Caught exception while replacing the current page. If you\\'re running this in the Svelte REPL, please note that the `replace` method might not work in this environment.')\n    }\n\n    // The method above doesn't trigger the hashchange event, so let's do that manually\n    window.dispatchEvent(new Event('hashchange'))\n}\n\n/**\n * Dictionary with options for the link action.\n * @typedef {Object} LinkActionOpts\n * @property {string} href - A string to use in place of the link's href attribute. Using this allows for updating link's targets reactively.\n * @property {boolean} disabled - If true, link is disabled\n */\n\n/**\n * Svelte Action that enables a link element (`<a>`) to use our history management.\n *\n * For example:\n *\n * ````html\n * <a href=\"/books\" use:link>View books</a>\n * ````\n *\n * @param {HTMLElement} node - The target node (automatically set by Svelte). Must be an anchor tag (`<a>`) with a href attribute starting in `/`\n * @param {string|LinkActionOpts} opts - Options object. For legacy reasons, we support a string too which will be the value for opts.href\n */\nexport function link(node, opts) {\n    opts = linkOpts(opts)\n\n    // Only apply to <a> tags\n    if (!node || !node.tagName || node.tagName.toLowerCase() != 'a') {\n        throw Error('Action \"link\" can only be used with <a> tags')\n    }\n\n    updateLink(node, opts)\n\n    return {\n        update(updated) {\n            updated = linkOpts(updated)\n            updateLink(node, updated)\n        }\n    }\n}\n\n/**\n * Tries to restore the scroll state from the given history state.\n *\n * @param {{__svelte_spa_router_scrollX: number, __svelte_spa_router_scrollY: number}} [state] - The history state to restore from.\n */\nexport function restoreScroll(state) {\n    // If this exists, then this is a back navigation: restore the scroll position\n    if (state) {\n        window.scrollTo(state.__svelte_spa_router_scrollX, state.__svelte_spa_router_scrollY)\n    }\n    else {\n        // Otherwise this is a forward navigation: scroll to top\n        window.scrollTo(0, 0)\n    }\n}\n\n// Internal function used by the link function\nfunction updateLink(node, opts) {\n    let href = opts.href || node.getAttribute('href')\n\n    // Destination must start with '/' or '#/'\n    if (href && href.charAt(0) == '/') {\n        // Add # to the href attribute\n        href = '#' + href\n    }\n    else if (!href || href.length < 2 || href.slice(0, 2) != '#/') {\n        throw Error('Invalid value for \"href\" attribute: ' + href)\n    }\n\n    node.setAttribute('href', href)\n    node.addEventListener('click', (event) => {\n        // Prevent default anchor onclick behaviour\n        event.preventDefault()\n        if (!opts.disabled) {\n            scrollstateHistoryHandler(event.currentTarget.getAttribute('href'))\n        }\n    })\n}\n\n// Internal function that ensures the argument of the link action is always an object\nfunction linkOpts(val) {\n    if (val && typeof val == 'string') {\n        return {\n            href: val\n        }\n    }\n    else {\n        return val || {}\n    }\n}\n\n/**\n * The handler attached to an anchor tag responsible for updating the\n * current history state with the current scroll state\n *\n * @param {string} href - Destination\n */\nfunction scrollstateHistoryHandler(href) {\n    // Setting the url (3rd arg) to href will break clicking for reasons, so don't try to do that\n    history.replaceState({...history.state, __svelte_spa_router_scrollX: window.scrollX, __svelte_spa_router_scrollY: window.scrollY}, undefined)\n    // This will force an update as desired, but this time our scroll state will be attached\n    window.location.hash = href\n}\n</script>\n\n{#if componentParams}\n    <svelte:component\n    this={component}\n    params={componentParams}\n    on:routeEvent\n    {...props}\n    />\n{:else}\n    <svelte:component\n    this={component}\n    on:routeEvent\n    {...props}\n    />\n{/if}\n\n<script>\nimport {onDestroy, createEventDispatcher, afterUpdate} from 'svelte'\nimport {parse} from 'regexparam'\n\n/**\n * Dictionary of all routes, in the format `'/path': component`.\n *\n * For example:\n * ````js\n * import HomeRoute from './routes/HomeRoute.svelte'\n * import BooksRoute from './routes/BooksRoute.svelte'\n * import NotFoundRoute from './routes/NotFoundRoute.svelte'\n * routes = {\n *     '/': HomeRoute,\n *     '/books': BooksRoute,\n *     '*': NotFoundRoute\n * }\n * ````\n */\nexport let routes = {}\n\n/**\n * Optional prefix for the routes in this router. This is useful for example in the case of nested routers.\n */\nexport let prefix = ''\n\n/**\n * If set to true, the router will restore scroll positions on back navigation\n * and scroll to top on forward navigation.\n */\nexport let restoreScrollState = false\n\n/**\n * Container for a route: path, component\n */\nclass RouteItem {\n    /**\n     * Initializes the object and creates a regular expression from the path, using regexparam.\n     *\n     * @param {string} path - Path to the route (must start with '/' or '*')\n     * @param {SvelteComponent|WrappedComponent} component - Svelte component for the route, optionally wrapped\n     */\n    constructor(path, component) {\n        if (!component || (typeof component != 'function' && (typeof component != 'object' || component._sveltesparouter !== true))) {\n            throw Error('Invalid component object')\n        }\n\n        // Path must be a regular or expression, or a string starting with '/' or '*'\n        if (!path || \n            (typeof path == 'string' && (path.length < 1 || (path.charAt(0) != '/' && path.charAt(0) != '*'))) ||\n            (typeof path == 'object' && !(path instanceof RegExp))\n        ) {\n            throw Error('Invalid value for \"path\" argument - strings must start with / or *')\n        }\n\n        const {pattern, keys} = parse(path)\n\n        this.path = path\n\n        // Check if the component is wrapped and we have conditions\n        if (typeof component == 'object' && component._sveltesparouter === true) {\n            this.component = component.component\n            this.conditions = component.conditions || []\n            this.userData = component.userData\n            this.props = component.props || {}\n        }\n        else {\n            // Convert the component to a function that returns a Promise, to normalize it\n            this.component = () => Promise.resolve(component)\n            this.conditions = []\n            this.props = {}\n        }\n\n        this._pattern = pattern\n        this._keys = keys\n    }\n\n    /**\n     * Checks if `path` matches the current route.\n     * If there's a match, will return the list of parameters from the URL (if any).\n     * In case of no match, the method will return `null`.\n     *\n     * @param {string} path - Path to test\n     * @returns {null|Object.<string, string>} List of paramters from the URL if there's a match, or `null` otherwise.\n     */\n    match(path) {\n        // If there's a prefix, check if it matches the start of the path.\n        // If not, bail early, else remove it before we run the matching.\n        if (prefix) {\n            if (typeof prefix == 'string') {\n                if (path.startsWith(prefix)) {\n                    path = path.substr(prefix.length) || '/'\n                }\n                else {\n                    return null\n                }\n            }\n            else if (prefix instanceof RegExp) {\n                const match = path.match(prefix)\n                if (match && match[0]) {\n                    path = path.substr(match[0].length) || '/'\n                }\n                else {\n                    return null\n                }\n            }\n        }\n\n        // Check if the pattern matches\n        const matches = this._pattern.exec(path)\n        if (matches === null) {\n            return null\n        }\n\n        // If the input was a regular expression, this._keys would be false, so return matches as is\n        if (this._keys === false) {\n            return matches\n        }\n\n        const out = {}\n        let i = 0\n        while (i < this._keys.length) {\n            // In the match parameters, URL-decode all values\n            try {\n                out[this._keys[i]] = decodeURIComponent(matches[i + 1] || '') || null\n            }\n            catch (e) {\n                out[this._keys[i]] = null\n            }\n            i++\n        }\n        return out\n    }\n\n    /**\n     * Dictionary with route details passed to the pre-conditions functions, as well as the `routeLoading`, `routeLoaded` and `conditionsFailed` events\n     * @typedef {Object} RouteDetail\n     * @property {string|RegExp} route - Route matched as defined in the route definition (could be a string or a reguar expression object)\n     * @property {string} location - Location path\n     * @property {string} querystring - Querystring from the hash\n     * @property {object} [userData] - Custom data passed by the user\n     * @property {SvelteComponent} [component] - Svelte component (only in `routeLoaded` events)\n     * @property {string} [name] - Name of the Svelte component (only in `routeLoaded` events)\n     */\n\n    /**\n     * Executes all conditions (if any) to control whether the route can be shown. Conditions are executed in the order they are defined, and if a condition fails, the following ones aren't executed.\n     * \n     * @param {RouteDetail} detail - Route detail\n     * @returns {boolean} Returns true if all the conditions succeeded\n     */\n    async checkConditions(detail) {\n        for (let i = 0; i < this.conditions.length; i++) {\n            if (!(await this.conditions[i](detail))) {\n                return false\n            }\n        }\n\n        return true\n    }\n}\n\n// Set up all routes\nconst routesList = []\nif (routes instanceof Map) {\n    // If it's a map, iterate on it right away\n    routes.forEach((route, path) => {\n        routesList.push(new RouteItem(path, route))\n    })\n}\nelse {\n    // We have an object, so iterate on its own properties\n    Object.keys(routes).forEach((path) => {\n        routesList.push(new RouteItem(path, routes[path]))\n    })\n}\n\n// Props for the component to render\nlet component = null\nlet componentParams = null\nlet props = {}\n\n// Event dispatcher from Svelte\nconst dispatch = createEventDispatcher()\n\n// Just like dispatch, but executes on the next iteration of the event loop\nasync function dispatchNextTick(name, detail) {\n    // Execute this code when the current call stack is complete\n    await tick()\n    dispatch(name, detail)\n}\n\n// If this is set, then that means we have popped into this var the state of our last scroll position\nlet previousScrollState = null\n\n// Update history.scrollRestoration depending on restoreScrollState\n$: history.scrollRestoration = restoreScrollState ? 'manual' : 'auto'\nlet popStateChanged = null\nif (restoreScrollState) {\n    popStateChanged = (event) => {\n        // If this event was from our history.replaceState, event.state will contain\n        // our scroll history. Otherwise, event.state will be null (like on forward\n        // navigation)\n        if (event.state && (event.state.__svelte_spa_router_scrollY || event.state.__svelte_spa_router_scrollX)) {\n            previousScrollState = event.state\n        }\n        else {\n            previousScrollState = null\n        }\n    }\n    // This is removed in the destroy() invocation below\n    window.addEventListener('popstate', popStateChanged)\n\n    afterUpdate(() => {\n        restoreScroll(previousScrollState)\n    })\n}\n\n// Always have the latest value of loc\nlet lastLoc = null\n\n// Current object of the component loaded\nlet componentObj = null\n\n// Handle hash change events\n// Listen to changes in the $loc store and update the page\n// Do not use the $: syntax because it gets triggered by too many things\nconst unsubscribeLoc = loc.subscribe(async (newLoc) => {\n    lastLoc = newLoc\n\n    // Find a route matching the location\n    let i = 0\n    while (i < routesList.length) {\n        const match = routesList[i].match(newLoc.location)\n        if (!match) {\n            i++\n            continue\n        }\n\n        const detail = {\n            route: routesList[i].path,\n            location: newLoc.location,\n            querystring: newLoc.querystring,\n            userData: routesList[i].userData,\n            params: (match && typeof match == 'object' && Object.keys(match).length) ? match : null\n        }\n\n        // Check if the route can be loaded - if all conditions succeed\n        if (!(await routesList[i].checkConditions(detail))) {\n            // Don't display anything\n            component = null\n            componentObj = null\n            // Trigger an event to notify the user, then exit\n            dispatchNextTick('conditionsFailed', detail)\n            return\n        }\n\n        // Trigger an event to alert that we're loading the route\n        // We need to clone the object on every event invocation so we don't risk the object to be modified in the next tick\n        dispatchNextTick('routeLoading', Object.assign({}, detail))\n\n        // If there's a component to show while we're loading the route, display it\n        const obj = routesList[i].component\n        // Do not replace the component if we're loading the same one as before, to avoid the route being unmounted and re-mounted\n        if (componentObj != obj) {\n            if (obj.loading) {\n                component = obj.loading\n                componentObj = obj\n                componentParams = obj.loadingParams\n                props = {}\n\n                // Trigger the routeLoaded event for the loading component\n                // Create a copy of detail so we don't modify the object for the dynamic route (and the dynamic route doesn't modify our object too)\n                dispatchNextTick('routeLoaded', Object.assign({}, detail, {\n                    component: component,\n                    name: component.name,\n                    params: componentParams\n                }))\n            }\n            else {\n                component = null\n                componentObj = null\n            }\n\n            // Invoke the Promise\n            const loaded = await obj()\n\n            // Now that we're here, after the promise resolved, check if we still want this component, as the user might have navigated to another page in the meanwhile\n            if (newLoc != lastLoc) {\n                // Don't update the component, just exit\n                return\n            }\n\n            // If there is a \"default\" property, which is used by async routes, then pick that\n            component = (loaded && loaded.default) || loaded\n            componentObj = obj\n        }\n\n        // Set componentParams only if we have a match, to avoid a warning similar to `<Component> was created with unknown prop 'params'`\n        // Of course, this assumes that developers always add a \"params\" prop when they are expecting parameters\n        if (match && typeof match == 'object' && Object.keys(match).length) {\n            componentParams = match\n        }\n        else {\n            componentParams = null\n        }\n\n        // Set static props, if any\n        props = routesList[i].props\n\n        // Dispatch the routeLoaded event then exit\n        // We need to clone the object on every event invocation so we don't risk the object to be modified in the next tick\n        dispatchNextTick('routeLoaded', Object.assign({}, detail, {\n            component: component,\n            name: component.name,\n            params: componentParams\n        })).then(() => {\n            params.set(componentParams)\n        })\n        return\n    }\n\n    // If we're still here, there was no match, so show the empty component\n    component = null\n    componentObj = null\n    params.set(undefined)\n})\n\nonDestroy(() => {\n    unsubscribeLoc()\n    popStateChanged && window.removeEventListener('popstate', popStateChanged)\n})\n</script>\n","import PocketBase, { LocalAuthStore, isTokenExpired } from \"pocketbase\";\n// ---\nimport { protectedFilesCollectionsCache } from \"@/stores/collections\";\nimport { setErrors } from \"@/stores/errors\";\nimport { setSuperuser } from \"@/stores/superuser\";\nimport { addErrorToast } from \"@/stores/toasts\";\nimport CommonHelper from \"@/utils/CommonHelper\";\nimport { replace } from \"svelte-spa-router\";\nimport { get } from \"svelte/store\";\n\nconst superuserFileTokenKey = \"pb_superuser_file_token\";\n\n/**\n * Clears the authorized state and redirects to the login page.\n *\n * @param {Boolean} [redirect] Whether to redirect to the login page.\n */\nPocketBase.prototype.logout = function (redirect = true) {\n    this.authStore.clear();\n\n    if (redirect) {\n        replace(\"/login\");\n    }\n};\n\n/**\n * Generic API error response handler.\n *\n * @param  {Error}   err        The API error itself.\n * @param  {Boolean} notify     Whether to add a toast notification.\n * @param  {String}  defaultMsg Default toast notification message if the error doesn't have one.\n */\nPocketBase.prototype.error = function (err, notify = true, defaultMsg = \"\") {\n    if (!err || !(err instanceof Error) || err.isAbort) {\n        return;\n    }\n\n    const statusCode = (err?.status << 0) || 400;\n    const responseData = err?.data || {};\n    const msg = responseData.message || err.message || defaultMsg;\n\n    // add toast error notification\n    if (notify && msg) {\n        addErrorToast(msg);\n    }\n\n    // populate form field errors\n    if (!CommonHelper.isEmpty(responseData.data)) {\n        setErrors(responseData.data);\n    }\n\n    // unauthorized\n    if (statusCode === 401) {\n        this.cancelAllRequests();\n        return this.logout();\n    }\n\n    // forbidden\n    if (statusCode === 403) {\n        this.cancelAllRequests();\n        return replace(\"/\");\n    }\n};\n\n/**\n * @return {Promise<String>}\n */\nPocketBase.prototype.getSuperuserFileToken = async function (collectionId = \"\") {\n    let needToken = true;\n\n    if (collectionId) {\n        const protectedCollections = get(protectedFilesCollectionsCache);\n        needToken = typeof protectedCollections[collectionId] !== \"undefined\"\n            ? protectedCollections[collectionId]\n            : true;\n    }\n\n    if (!needToken) {\n        return \"\";\n    }\n\n    let token = localStorage.getItem(superuserFileTokenKey) || \"\";\n\n    // request a new token only if the previous one is missing or will expire soon\n    if (!token || isTokenExpired(token, 10)) {\n        // remove previously stored token (if any)\n        token && localStorage.removeItem(superuserFileTokenKey);\n\n        if (!this._superuserFileTokenRequest) {\n            this._superuserFileTokenRequest = this.files.getToken();\n        }\n\n        token = await this._superuserFileTokenRequest;\n        localStorage.setItem(superuserFileTokenKey, token);\n        this._superuserFileTokenRequest = null;\n    }\n\n    return token;\n}\n\n// Custom auth store to sync the svelte superuser store state with the authorized superuser instance.\nclass AppAuthStore extends LocalAuthStore {\n    /**\n     * @inheritdoc\n     */\n    constructor(storageKey = \"__pb_superuser_auth__\") {\n        super(storageKey);\n\n        this.save(this.token, this.record);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    save(token, record) {\n        super.save(token, record);\n\n        if (record?.collectionName == \"_superusers\") {\n            setSuperuser(record);\n        }\n    }\n\n    /**\n     * @inheritdoc\n     */\n    clear() {\n        super.clear();\n\n        setSuperuser(null);\n    }\n}\n\nconst pb = new PocketBase(import.meta.env.PB_BACKEND_URL, new AppAuthStore());\n\nif (pb.authStore.isValid) {\n    pb.collection(pb.authStore.record.collectionName)\n        .authRefresh()\n        .catch((err) => {\n            console.warn(\"Failed to refresh the existing auth token:\", err);\n\n            // clear the store only on invalidated/expired token\n            const status = err?.status << 0;\n            if (status == 401 || status == 403) {\n                pb.authStore.clear();\n            }\n        });\n}\n\nexport default pb;\n","import {parse} from 'regexparam'\nimport {loc} from './Router.svelte'\n\n// List of nodes to update\nconst nodes = []\n\n// Current location\nlet location\n\n// Function that updates all nodes marking the active ones\nfunction checkActive(el) {\n    const matchesLocation = el.pattern.test(location)\n    toggleClasses(el, el.className, matchesLocation)\n    toggleClasses(el, el.inactiveClassName, !matchesLocation)\n}\n\nfunction toggleClasses(el, className, shouldAdd) {\n    (className || '').split(' ').forEach((cls) => {\n        if (!cls) {\n            return\n        }\n        // Remove the class firsts\n        el.node.classList.remove(cls)\n\n        // If the pattern doesn't match, then set the class\n        if (shouldAdd) {\n            el.node.classList.add(cls)\n        }\n    })\n}\n\n// Listen to changes in the location\nloc.subscribe((value) => {\n    // Update the location\n    location = value.location + (value.querystring ? '?' + value.querystring : '')\n\n    // Update all nodes\n    nodes.map(checkActive)\n})\n\n/**\n * @typedef {Object} ActiveOptions\n * @property {string|RegExp} [path] - Path expression that makes the link active when matched (must start with '/' or '*'); default is the link's href\n * @property {string} [className] - CSS class to apply to the element when active; default value is \"active\"\n */\n\n/**\n * Svelte Action for automatically adding the \"active\" class to elements (links, or any other DOM element) when the current location matches a certain path.\n * \n * @param {HTMLElement} node - The target node (automatically set by Svelte)\n * @param {ActiveOptions|string|RegExp} [opts] - Can be an object of type ActiveOptions, or a string (or regular expressions) representing ActiveOptions.path.\n * @returns {{destroy: function(): void}} Destroy function\n */\nexport default function active(node, opts) {\n    // Check options\n    if (opts && (typeof opts == 'string' || (typeof opts == 'object' && opts instanceof RegExp))) {\n        // Interpret strings and regular expressions as opts.path\n        opts = {\n            path: opts\n        }\n    }\n    else {\n        // Ensure opts is a dictionary\n        opts = opts || {}\n    }\n\n    // Path defaults to link target\n    if (!opts.path && node.hasAttribute('href')) {\n        opts.path = node.getAttribute('href')\n        if (opts.path && opts.path.length > 1 && opts.path.charAt(0) == '#') {\n            opts.path = opts.path.substring(1)\n        }\n    }\n\n    // Default class name\n    if (!opts.className) {\n        opts.className = 'active'\n    }\n\n    // If path is a string, it must start with '/' or '*'\n    if (!opts.path || \n        typeof opts.path == 'string' && (opts.path.length < 1 || (opts.path.charAt(0) != '/' && opts.path.charAt(0) != '*'))\n    ) {\n        throw Error('Invalid value for \"path\" argument')\n    }\n\n    // If path is not a regular expression already, make it\n    const {pattern} = typeof opts.path == 'string' ?\n        parse(opts.path) :\n        {pattern: opts.path}\n\n    // Add the node to the list\n    const el = {\n        node,\n        className: opts.className,\n        inactiveClassName: opts.inactiveClassName,\n        pattern\n    }\n    nodes.push(el)\n\n    // Trigger the action right away\n    checkActive(el)\n\n    return {\n        // When the element is destroyed, remove it from the list\n        destroy() {\n            nodes.splice(nodes.indexOf(el), 1)\n        }\n    }\n}\n","<script>\n    import { replace } from \"svelte-spa-router\";\n    import ApiClient from \"@/utils/ApiClient\";\n\n    handler();\n\n    function handler() {\n        if (ApiClient.authStore.isValid) {\n            replace(\"/collections\");\n        } else {\n            ApiClient.logout();\n        }\n    }\n</script>\n","<script>\n    import { onMount } from \"svelte\";\n    import { slide, scale } from \"svelte/transition\";\n    import tooltip from \"@/actions/tooltip\";\n    import { errors, removeError } from \"@/stores/errors\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    const uniqueId = \"field_\" + CommonHelper.randomString(7);\n    const defaultError = \"Invalid value\";\n\n    export let name = \"\";\n    export let inlineError = false;\n\n    let classes = undefined;\n    export { classes as class }; // export reserved keyword\n\n    let container;\n    let fieldErrors = [];\n\n    $: {\n        fieldErrors = CommonHelper.toArray(CommonHelper.getNestedVal($errors, name));\n    }\n\n    export function changed() {\n        removeError(name);\n    }\n\n    onMount(() => {\n        container.addEventListener(\"input\", changed);\n        container.addEventListener(\"change\", changed);\n\n        return () => {\n            container.removeEventListener(\"input\", changed);\n            container.removeEventListener(\"change\", changed);\n        };\n    });\n\n    function getErrorMessage(err) {\n        if (typeof err === \"object\") {\n            return err?.message || err?.code || defaultError;\n        }\n\n        return err || defaultError;\n    }\n</script>\n\n<!-- svelte-ignore a11y-click-events-have-key-events -->\n<!-- svelte-ignore a11y-no-static-element-interactions -->\n<div bind:this={container} class={classes} class:error={fieldErrors.length} on:click>\n    <slot {uniqueId} />\n\n    {#if inlineError && fieldErrors.length}\n        <div class=\"form-field-addon inline-error-icon\">\n            <i\n                class=\"ri-error-warning-fill txt-danger\"\n                transition:scale={{ duration: 150, start: 0.7 }}\n                use:tooltip={{\n                    position: \"left\",\n                    text: fieldErrors.map(getErrorMessage).join(\"\\n\"),\n                }}\n            />\n        </div>\n    {:else}\n        {#each fieldErrors as error}\n            <div class=\"help-block help-block-error\" transition:slide={{ duration: 150 }}>\n                <pre>{getErrorMessage(error)}</pre>\n            </div>\n        {/each}\n    {/if}\n</div>\n","<script>\n    import { superuser } from \"@/stores/superuser\";\n\n    export let center = false;\n\n    let classes = \"\";\n    export { classes as class }; // export reserved keyword\n</script>\n\n<div class=\"page-wrapper {classes}\" class:center-content={center}>\n    <main class=\"page-content\">\n        <slot />\n    </main>\n\n    <footer class=\"page-footer\">\n        <slot name=\"footer\" />\n\n        {#if $superuser?.id}\n            <a href={import.meta.env.PB_DOCS_URL} target=\"_blank\" rel=\"noopener noreferrer\">\n                <i class=\"ri-book-open-line txt-sm\" />\n                <span class=\"txt\">Docs</span>\n            </a>\n            <span class=\"delimiter\">|</span>\n            <a href={import.meta.env.PB_RELEASES} target=\"_blank\" rel=\"noopener noreferrer\" title=\"Releases\">\n                <span class=\"txt\">PocketBase {import.meta.env.PB_VERSION}</span>\n            </a>\n        {/if}\n    </footer>\n</div>\n","<script>\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { createEventDispatcher, onMount } from \"svelte\";\n    import { fly } from \"svelte/transition\";\n\n    const dispatch = createEventDispatcher();\n    const uniqueId = \"search_\" + CommonHelper.randomString(7);\n\n    export let value = \"\";\n    export let placeholder = 'Search term or filter like created > \"2022-01-01\"...';\n\n    // autocomplete filter component fields\n    export let autocompleteCollection = null;\n    export let extraAutocompleteKeys = [];\n\n    let filterComponent;\n    let isFilterComponentLoading = false;\n\n    let searchInput;\n    let tempValue = \"\";\n\n    $: if (typeof value === \"string\") {\n        tempValue = value;\n    }\n\n    function clear(focusInput = true) {\n        tempValue = \"\";\n        if (focusInput) {\n            searchInput?.focus();\n        }\n        dispatch(\"clear\");\n    }\n\n    function submit() {\n        value = tempValue;\n        dispatch(\"submit\", value);\n    }\n\n    async function loadFilterComponent() {\n        if (filterComponent || isFilterComponentLoading) {\n            return; // already loaded or in the process\n        }\n\n        isFilterComponentLoading = true;\n\n        filterComponent = (await import(\"@/components/base/FilterAutocompleteInput.svelte\")).default;\n\n        isFilterComponentLoading = false;\n    }\n\n    onMount(() => {\n        loadFilterComponent();\n    });\n</script>\n\n<!-- svelte-ignore a11y-click-events-have-key-events -->\n<!-- svelte-ignore a11y-no-noninteractive-element-interactions -->\n<form class=\"searchbar\" on:click|stopPropagation on:submit|preventDefault={submit}>\n    <label for={uniqueId} class=\"m-l-10 txt-xl\">\n        <i class=\"ri-search-line\" />\n    </label>\n\n    {#if filterComponent && !isFilterComponentLoading}\n        <svelte:component\n            this={filterComponent}\n            id={uniqueId}\n            singleLine\n            disableRequestKeys\n            disableCollectionJoinKeys\n            {extraAutocompleteKeys}\n            baseCollection={autocompleteCollection}\n            placeholder={value || placeholder}\n            bind:value={tempValue}\n            on:submit={submit}\n        />\n    {:else}\n        <input\n            bind:this={searchInput}\n            type=\"text\"\n            id={uniqueId}\n            placeholder={value || placeholder}\n            bind:value={tempValue}\n        />\n    {/if}\n\n    {#if (value.length || tempValue.length) && tempValue != value}\n        <button\n            type=\"submit\"\n            class=\"btn btn-expanded-sm btn-sm btn-warning\"\n            transition:fly={{ duration: 150, x: 5 }}\n        >\n            <span class=\"txt\">Search</span>\n        </button>\n    {/if}\n\n    {#if value.length || tempValue.length}\n        <button\n            type=\"button\"\n            class=\"btn btn-transparent btn-sm btn-hint p-l-xs p-r-xs m-l-10\"\n            transition:fly={{ duration: 150, x: 5 }}\n            on:click={() => {\n                clear(false);\n                submit();\n            }}\n        >\n            <span class=\"txt\">Clear</span>\n        </button>\n    {/if}\n</form>\n","<script>\n    import { createEventDispatcher, onMount } from \"svelte\";\n    import tooltip from \"@/actions/tooltip\";\n\n    const dispatch = createEventDispatcher();\n\n    let tooltipData = { text: \"Refresh\", position: \"right\" };\n    export { tooltipData as tooltip };\n\n    let classes = \"\";\n    export { classes as class };\n\n    let refreshTimeoutId = null;\n\n    function refresh() {\n        dispatch(\"refresh\");\n\n        // clear tooltip\n        const oldTooltipData = tooltipData;\n        tooltipData = null;\n\n        clearTimeout(refreshTimeoutId);\n        refreshTimeoutId = setTimeout(() => {\n            refreshTimeoutId = null;\n            tooltipData = oldTooltipData;\n        }, 150);\n    }\n\n    onMount(() => {\n        return () => clearTimeout(refreshTimeoutId);\n    });\n</script>\n\n<button\n    type=\"button\"\n    aria-label=\"Refresh\"\n    class=\"btn btn-transparent btn-circle {classes}\"\n    class:refreshing={refreshTimeoutId}\n    use:tooltip={tooltipData}\n    on:click={refresh}\n>\n    <i class=\"ri-refresh-line\" />\n</button>\n\n<style>\n    @keyframes refresh {\n        100% {\n            transform: rotate(180deg);\n        }\n    }\n    .btn.refreshing i {\n        animation: refresh 150ms ease-out;\n    }\n</style>\n","<script>\n    import { onMount, createEventDispatcher } from \"svelte\";\n\n    const dispatch = createEventDispatcher();\n\n    let classes = \"\";\n    export { classes as class }; // export reserved keyword\n\n    export let vThreshold = 0;\n    export let hThreshold = 0;\n    export let dispatchOnNoScroll = true;\n\n    let wrapper = null;\n    let scrollClasses = \"\";\n    let throttleTimeoutId = null;\n    let hDiff;\n    let vDiff;\n    let wrapperWidth;\n    let wrapperHeight;\n    let observer;\n\n    export function resetVerticalScroll() {\n        if (!wrapper) {\n            return;\n        }\n\n        wrapper.scrollTop = 0;\n    }\n\n    export function resetHorizontalScroll() {\n        if (!wrapper) {\n            return;\n        }\n\n        wrapper.scrollLeft = 0;\n    }\n\n    export function refresh() {\n        if (!wrapper) {\n            return;\n        }\n\n        scrollClasses = \"\";\n\n        // +2 extra threshold as a workaround for the lack of subpixel precision\n        wrapperWidth = wrapper.clientWidth + 2;\n        wrapperHeight = wrapper.clientHeight + 2;\n\n        hDiff = wrapper.scrollWidth - wrapperWidth;\n        vDiff = wrapper.scrollHeight - wrapperHeight;\n\n        // vertical scroller\n        if (vDiff > 0) {\n            scrollClasses += \" v-scroll\";\n\n            if (vThreshold >= wrapperHeight) {\n                vThreshold = 0;\n            }\n\n            if (wrapper.scrollTop - vThreshold <= 0) {\n                scrollClasses += \" v-scroll-start\";\n                dispatch(\"vScrollStart\");\n            }\n\n            if (wrapper.scrollTop + vThreshold >= vDiff) {\n                scrollClasses += \" v-scroll-end\";\n                dispatch(\"vScrollEnd\");\n            }\n        } else if (dispatchOnNoScroll) {\n            dispatch(\"vScrollEnd\");\n        }\n\n        // horizontal scroller\n        if (hDiff > 0) {\n            scrollClasses += \" h-scroll\";\n\n            if (hThreshold >= wrapperWidth) {\n                hThreshold = 0;\n            }\n\n            if (wrapper.scrollLeft - hThreshold <= 0) {\n                scrollClasses += \" h-scroll-start\";\n                dispatch(\"hScrollStart\");\n            }\n            if (wrapper.scrollLeft + hThreshold >= hDiff) {\n                scrollClasses += \" h-scroll-end\";\n                dispatch(\"hScrollEnd\");\n            }\n        } else if (dispatchOnNoScroll) {\n            dispatch(\"hScrollEnd\");\n        }\n    }\n\n    export function throttleRefresh() {\n        if (throttleTimeoutId) {\n            return;\n        }\n\n        throttleTimeoutId = setTimeout(() => {\n            refresh();\n\n            throttleTimeoutId = null;\n        }, 150);\n    }\n\n    onMount(() => {\n        throttleRefresh();\n\n        observer = new MutationObserver(throttleRefresh);\n\n        observer.observe(wrapper, {\n            attributeFilter: [\"width\", \"height\"],\n            childList: true,\n            subtree: true,\n        });\n\n        return () => {\n            observer?.disconnect();\n            clearTimeout(throttleTimeoutId);\n        };\n    });\n</script>\n\n<svelte:window on:resize={throttleRefresh} />\n\n<div class=\"scroller-wrapper\">\n    <slot name=\"before\" />\n\n    <div bind:this={wrapper} class=\"scroller {classes} {scrollClasses}\" on:scroll={throttleRefresh}>\n        <slot />\n    </div>\n\n    <slot name=\"after\" />\n</div>\n\n<style>\n    .scroller {\n        width: auto;\n        min-height: 0;\n        overflow: auto;\n    }\n    .scroller-wrapper {\n        position: relative;\n        min-height: 0;\n    }\n    :global(.scroller-wrapper .columns-dropdown) {\n        top: 40px;\n        z-index: 101;\n        max-height: 340px;\n    }\n</style>\n","<script>\n    let classes = \"\";\n    export { classes as class }; // export reserved keyword\n\n    export let name;\n    export let sort = \"\";\n    export let disable = false;\n\n    function toggleSort() {\n        if (disable) {\n            return;\n        }\n\n        if (\"-\" + name === sort) {\n            sort = \"+\" + name;\n        } else {\n            sort = \"-\" + name;\n        }\n    }\n</script>\n\n<th\n    tabindex=\"0\"\n    title={name}\n    class=\"col-sort {classes}\"\n    class:col-sort-disabled={disable}\n    class:sort-active={sort === \"-\" + name || sort === \"+\" + name}\n    class:sort-desc={sort === \"-\" + name}\n    class:sort-asc={sort === \"+\" + name}\n    on:click={() => toggleSort()}\n    on:keydown={(e) => {\n        if (e.code === \"Enter\" || e.code === \"Space\") {\n            e.preventDefault();\n            toggleSort();\n        }\n    }}\n>\n    <slot />\n</th>\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    export let date;\n\n    const tooltipData = {\n        // generate the tooltip text as getter to speed up the initial load\n        // in case the component is used with large number of items\n        get text() {\n            return CommonHelper.formatToLocalDate(date, \"yyyy-MM-dd HH:mm:ss.SSS\") + \" Local\";\n        },\n    };\n</script>\n\n<span class=\"txt-nowrap\" use:tooltip={tooltipData}>\n    {date.replace(\"Z\", \" UTC\")}\n</span>\n","<script>\n    import { logLevels } from \"@/utils/CommonHelper\";\n\n    export let level;\n\n    $: label = logLevels.find((l) => l.level == level)?.label;\n</script>\n\n<div class=\"label log-level-label level-{level}\">\n    <span class=\"txt\">\n        {label || \"UNKN\"} ({level})\n    </span>\n</div>\n\n<style lang=\"scss\">\n    .log-level-label {\n        min-width: 75px;\n        font-weight: 600;\n        font-size: var(--xsFontSize);\n        &:before {\n            content: \"\";\n            width: 5px;\n            height: 5px;\n            border-radius: 5px;\n            background: var(--baseAlt4Color);\n        }\n        &.level--8:before {\n            background: var(--primaryColor);\n        }\n        &.level-0:before {\n            background: var(--infoColor);\n        }\n        &.level-4:before {\n            background: var(--warningColor);\n        }\n        &.level-8:before {\n            background: var(--dangerColor);\n        }\n    }\n</style>\n","<script>\n    import Scroller from \"@/components/base/Scroller.svelte\";\n    import SortHeader from \"@/components/base/SortHeader.svelte\";\n    import LogDate from \"@/components/logs/LogDate.svelte\";\n    import LogLevel from \"@/components/logs/LogLevel.svelte\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { createEventDispatcher } from \"svelte\";\n    import { fly } from \"svelte/transition\";\n\n    const dispatch = createEventDispatcher();\n\n    const perPage = 50;\n\n    export let filter = \"\";\n    export let presets = \"\";\n    export let zoom = {};\n    export let sort = \"-@rowid\";\n\n    let logs = [];\n    let currentPage = 1;\n    let lastLoadCount = 0;\n    let isLoading = false;\n    let yieldedId = 0;\n    let bulkSelected = {};\n\n    $: if (\n        typeof sort !== \"undefined\" ||\n        typeof filter !== \"undefined\" ||\n        typeof presets !== \"undefined\" ||\n        typeof zoom !== \"undefined\"\n    ) {\n        clearList();\n        load(1);\n    }\n\n    $: canLoadMore = lastLoadCount >= perPage;\n\n    $: totalBulkSelected = Object.keys(bulkSelected).length;\n\n    $: areAllLogsSelected = logs.length && totalBulkSelected === logs.length;\n\n    export async function load(page = 1, breakTasks = true) {\n        isLoading = true;\n\n        const normalizedFilter = [presets, CommonHelper.normalizeLogsFilter(filter)];\n\n        if (zoom.min && zoom.max) {\n            normalizedFilter.push(`created >= \"${zoom.min}\" && created <= \"${zoom.max}\"`);\n        }\n\n        return ApiClient.logs\n            .getList(page, perPage, {\n                sort: sort,\n                skipTotal: 1,\n                filter: normalizedFilter\n                    .filter(Boolean)\n                    .map((f) => \"(\" + f + \")\")\n                    .join(\"&&\"),\n            })\n            .then(async (result) => {\n                if (page <= 1) {\n                    clearList();\n                }\n\n                const items = CommonHelper.toArray(result.items);\n\n                isLoading = false;\n                currentPage = result.page;\n                lastLoadCount = result.items?.length || 0;\n\n                dispatch(\"load\", logs.concat(items));\n\n                // optimize the logs listing by rendering the rows in task batches\n                if (breakTasks) {\n                    const currentYieldId = ++yieldedId;\n\n                    while (items.length) {\n                        if (yieldedId != currentYieldId) {\n                            break; // new yeild has been started\n                        }\n\n                        const subset = items.splice(0, 10);\n                        for (let item of subset) {\n                            CommonHelper.pushOrReplaceByKey(logs, item);\n                        }\n\n                        logs = logs;\n\n                        await CommonHelper.yieldToMain();\n                    }\n                } else {\n                    for (let item of items) {\n                        CommonHelper.pushOrReplaceByKey(logs, item);\n                    }\n\n                    logs = logs;\n                }\n            })\n            .catch((err) => {\n                if (!err?.isAbort) {\n                    isLoading = false;\n                    console.warn(err);\n                    clearList();\n                    ApiClient.error(err, !normalizedFilter || err?.status != 400); // silence filter errors\n                }\n            });\n    }\n\n    function clearList() {\n        logs = [];\n        bulkSelected = {};\n        currentPage = 1;\n        lastLoadCount = 0;\n    }\n\n    function toggleSelectAllLogs() {\n        if (areAllLogsSelected) {\n            deselectAllLogs();\n        } else {\n            selectAllLogs();\n        }\n    }\n\n    function deselectAllLogs() {\n        bulkSelected = {};\n    }\n\n    function selectAllLogs() {\n        for (const log of logs) {\n            bulkSelected[log.id] = log;\n        }\n\n        bulkSelected = bulkSelected;\n    }\n\n    function toggleSelectLog(log) {\n        if (!bulkSelected[log.id]) {\n            bulkSelected[log.id] = log;\n        } else {\n            delete bulkSelected[log.id];\n        }\n\n        bulkSelected = bulkSelected; // trigger reactivity\n    }\n\n    const dateFilenameRegex = /[-:\\. ]/gi;\n\n    function downloadSelected() {\n        // extract the bulk selected log objects sorted desc\n        const selected = Object.values(bulkSelected).sort((a, b) => {\n            if (a.created < b.created) {\n                return 1;\n            }\n\n            if (a.created > b.created) {\n                return -1;\n            }\n\n            return 0;\n        });\n\n        if (!selected.length) {\n            return; // nothing to download\n        }\n\n        if (selected.length == 1) {\n            return CommonHelper.downloadJson(\n                selected[0],\n                \"log_\" + selected[0].created.replaceAll(dateFilenameRegex, \"\") + \".json\",\n            );\n        }\n\n        const to = selected[0].created.replaceAll(dateFilenameRegex, \"\");\n        const from = selected[selected.length - 1].created.replaceAll(dateFilenameRegex, \"\");\n\n        return CommonHelper.downloadJson(selected, `${selected.length}_logs_${from}_to_${to}.json`);\n    }\n\n    function getLogPreviewKeys(log) {\n        let keys = [];\n\n        if (!log.data) {\n            return keys;\n        }\n\n        if (log.data.type == \"request\") {\n            const requestKeys = [\"status\", \"execTime\", \"auth\", \"authId\", \"userIP\"];\n            for (let key of requestKeys) {\n                if (typeof log.data[key] != \"undefined\") {\n                    keys.push({ key });\n                }\n            }\n\n            // add the referer if it is from a different source\n            if (log.data.referer && !log.data.referer.includes(window.location.host)) {\n                keys.push({ key: \"referer\" });\n            }\n        } else {\n            // extract the first 6 keys (excluding the error and details)\n            const allKeys = Object.keys(log.data);\n            for (const key of allKeys) {\n                if (key != \"error\" && key != \"details\" && keys.length < 6) {\n                    keys.push({ key });\n                }\n            }\n        }\n\n        // ensure that the error and detail keys are last\n        if (log.data.error) {\n            keys.push({ key: \"error\", label: \"label-danger\" });\n        }\n        if (log.data.details) {\n            keys.push({ key: \"details\", label: \"label-warning\" });\n        }\n\n        return keys;\n    }\n</script>\n\n<Scroller class=\"table-wrapper\">\n    <table class=\"table\" class:table-loading={isLoading}>\n        <thead>\n            <tr>\n                <th class=\"bulk-select-col min-width\">\n                    {#if isLoading}\n                        <span class=\"loader loader-sm\" />\n                    {:else}\n                        <div class=\"form-field\">\n                            <input\n                                type=\"checkbox\"\n                                id=\"checkbox_0\"\n                                disabled={!logs.length}\n                                checked={areAllLogsSelected}\n                                on:change={() => toggleSelectAllLogs()}\n                            />\n                            <label for=\"checkbox_0\" />\n                        </div>\n                    {/if}\n                </th>\n\n                <SortHeader disable class=\"col-field-level min-width\" name=\"level\" bind:sort>\n                    <div class=\"col-header-content\">\n                        <i class=\"ri-bookmark-line\" />\n                        <span class=\"txt\">level</span>\n                    </div>\n                </SortHeader>\n\n                <SortHeader disable class=\"col-type-text col-field-message\" name=\"data\" bind:sort>\n                    <div class=\"col-header-content\">\n                        <i class=\"ri-file-list-2-line\" />\n                        <span class=\"txt\">message</span>\n                    </div>\n                </SortHeader>\n\n                <SortHeader disable class=\"col-type-date col-field-created\" name=\"created\" bind:sort>\n                    <div class=\"col-header-content\">\n                        <i class={CommonHelper.getFieldTypeIcon(\"date\")} />\n                        <span class=\"txt\">created</span>\n                    </div>\n                </SortHeader>\n\n                <th class=\"col-type-action min-width\" />\n            </tr>\n        </thead>\n        <tbody>\n            {#each logs as log (log.id)}\n                {@const isRequest = log.data?.type == \"request\"}\n                {@const previewKeys = getLogPreviewKeys(log)}\n                <tr\n                    tabindex=\"0\"\n                    class=\"row-handle\"\n                    on:click={() => dispatch(\"select\", log)}\n                    on:keydown={(e) => {\n                        if (e.code === \"Enter\") {\n                            e.preventDefault();\n                            dispatch(\"select\", log);\n                        }\n                    }}\n                >\n                    <td class=\"bulk-select-col min-width\">\n                        <!-- svelte-ignore a11y-click-events-have-key-events -->\n                        <!-- svelte-ignore a11y-no-static-element-interactions -->\n                        <div class=\"form-field\" on:click|stopPropagation>\n                            <input\n                                type=\"checkbox\"\n                                id=\"checkbox_{log.id}\"\n                                checked={bulkSelected[log.id]}\n                                on:change={() => toggleSelectLog(log)}\n                            />\n                            <label for=\"checkbox_{log.id}\" />\n                        </div>\n                    </td>\n\n                    <td class=\"col-type-text col-field-level min-width\">\n                        <LogLevel level={log.level} />\n                    </td>\n\n                    <td class=\"col-type-text col-field-message\">\n                        <div class=\"flex flex-gap-10\">\n                            <span class=\"txt-ellipsis\">{log.message}</span>\n                        </div>\n                        {#if previewKeys.length}\n                            <div class=\"flex flex-wrap flex-gap-10 m-t-10\">\n                                {#each previewKeys as keyItem}\n                                    <span class=\"label label-sm {keyItem.label || ''}\">\n                                        {#if isRequest && keyItem.key == \"execTime\"}\n                                            {keyItem.key}: {log.data[keyItem.key]}ms\n                                        {:else}\n                                            {keyItem.key}: {CommonHelper.stringifyValue(\n                                                log.data[keyItem.key],\n                                                \"N/A\",\n                                                80,\n                                            )}\n                                        {/if}\n                                    </span>\n                                {/each}\n                            </div>\n                        {/if}\n                    </td>\n\n                    <td class=\"col-type-date col-field-created\">\n                        <LogDate date={log.created} />\n                    </td>\n\n                    <td class=\"col-type-action min-width\">\n                        <i class=\"ri-arrow-right-line\" />\n                    </td>\n                </tr>\n            {:else}\n                {#if isLoading}\n                    <tr>\n                        <td colspan=\"99\" class=\"p-xs\">\n                            <span class=\"skeleton-loader m-0\" />\n                        </td>\n                    </tr>\n                {:else}\n                    <tr>\n                        <td colspan=\"99\" class=\"txt-center txt-hint p-xs\">\n                            <h6>No logs found.</h6>\n                            {#if filter?.length}\n                                <button\n                                    type=\"button\"\n                                    class=\"btn btn-hint btn-expanded m-t-sm\"\n                                    on:click={() => (filter = \"\")}\n                                >\n                                    <span class=\"txt\">Clear filters</span>\n                                </button>\n                            {/if}\n                        </td>\n                    </tr>\n                {/if}\n            {/each}\n        </tbody>\n    </table>\n</Scroller>\n\n{#if logs.length && canLoadMore}\n    <div class=\"block txt-center m-t-sm\">\n        <button\n            type=\"button\"\n            class=\"btn btn-lg btn-secondary btn-expanded\"\n            class:btn-loading={isLoading}\n            class:btn-disabled={isLoading}\n            on:click={() => load(currentPage + 1)}\n        >\n            <span class=\"txt\">Load more</span>\n        </button>\n    </div>\n{/if}\n\n{#if totalBulkSelected}\n    <div class=\"bulkbar\" transition:fly={{ duration: 150, y: 5 }}>\n        <div class=\"txt\">\n            Selected <strong>{totalBulkSelected}</strong>\n            {totalBulkSelected === 1 ? \"log\" : \"logs\"}\n        </div>\n        <button\n            type=\"button\"\n            class=\"btn btn-xs btn-transparent btn-outline p-l-5 p-r-5\"\n            on:click={() => deselectAllLogs()}\n        >\n            <span class=\"txt\">Reset</span>\n        </button>\n        <div class=\"flex-fill\" />\n        <button type=\"button\" class=\"btn btn-sm\" on:click={downloadSelected}>\n            <span class=\"txt\">Download as JSON</span>\n        </button>\n    </div>\n{/if}\n\n<style>\n    .bulkbar {\n        position: sticky;\n        margin-top: var(--smSpacing);\n        bottom: var(--baseSpacing);\n    }\n    .col-field-level {\n        min-width: 100px;\n    }\n    .col-field-message {\n        min-width: 600px;\n    }\n</style>\n","/*!\n * @kurkle/color v0.3.4\n * https://github.com/kurkle/color#readme\n * (c) 2024 Jukka Kurkela\n * Released under the MIT License\n */\nfunction round(v) {\n  return v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n  return lim(round(v * 2.55), 0, 255);\n}\nfunction b2p(v) {\n  return lim(round(v / 2.55), 0, 100);\n}\nfunction n2b(v) {\n  return lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n  return lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n  return lim(round(v * 100), 0, 100);\n}\n\nconst map$1 = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = [...'0123456789ABCDEF'];\nconst h1 = b => hex[b & 0xF];\nconst h2 = b => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = b => ((b & 0xF0) >> 4) === (b & 0xF);\nconst isShort = v => eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\nfunction hexParse(str) {\n  var len = str.length;\n  var ret;\n  if (str[0] === '#') {\n    if (len === 4 || len === 5) {\n      ret = {\n        r: 255 & map$1[str[1]] * 17,\n        g: 255 & map$1[str[2]] * 17,\n        b: 255 & map$1[str[3]] * 17,\n        a: len === 5 ? map$1[str[4]] * 17 : 255\n      };\n    } else if (len === 7 || len === 9) {\n      ret = {\n        r: map$1[str[1]] << 4 | map$1[str[2]],\n        g: map$1[str[3]] << 4 | map$1[str[4]],\n        b: map$1[str[5]] << 4 | map$1[str[6]],\n        a: len === 9 ? (map$1[str[7]] << 4 | map$1[str[8]]) : 255\n      };\n    }\n  }\n  return ret;\n}\nconst alpha = (a, f) => a < 255 ? f(a) : '';\nfunction hexString(v) {\n  var f = isShort(v) ? h1 : h2;\n  return v\n    ? '#' + f(v.r) + f(v.g) + f(v.b) + alpha(v.a, f)\n    : undefined;\n}\n\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n  const a = s * Math.min(l, 1 - l);\n  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  return [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n  const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n  return [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n  const rgb = hsl2rgbn(h, 1, 0.5);\n  let i;\n  if (w + b > 1) {\n    i = 1 / (w + b);\n    w *= i;\n    b *= i;\n  }\n  for (i = 0; i < 3; i++) {\n    rgb[i] *= 1 - w - b;\n    rgb[i] += w;\n  }\n  return rgb;\n}\nfunction hueValue(r, g, b, d, max) {\n  if (r === max) {\n    return ((g - b) / d) + (g < b ? 6 : 0);\n  }\n  if (g === max) {\n    return (b - r) / d + 2;\n  }\n  return (r - g) / d + 4;\n}\nfunction rgb2hsl(v) {\n  const range = 255;\n  const r = v.r / range;\n  const g = v.g / range;\n  const b = v.b / range;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const l = (max + min) / 2;\n  let h, s, d;\n  if (max !== min) {\n    d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    h = hueValue(r, g, b, d, max);\n    h = h * 60 + 0.5;\n  }\n  return [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n  return (\n    Array.isArray(a)\n      ? f(a[0], a[1], a[2])\n      : f(a, b, c)\n  ).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n  return calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n  return calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n  return calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n  return (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n  const m = HUE_RE.exec(str);\n  let a = 255;\n  let v;\n  if (!m) {\n    return;\n  }\n  if (m[5] !== v) {\n    a = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n  }\n  const h = hue(+m[2]);\n  const p1 = +m[3] / 100;\n  const p2 = +m[4] / 100;\n  if (m[1] === 'hwb') {\n    v = hwb2rgb(h, p1, p2);\n  } else if (m[1] === 'hsv') {\n    v = hsv2rgb(h, p1, p2);\n  } else {\n    v = hsl2rgb(h, p1, p2);\n  }\n  return {\n    r: v[0],\n    g: v[1],\n    b: v[2],\n    a: a\n  };\n}\nfunction rotate(v, deg) {\n  var h = rgb2hsl(v);\n  h[0] = hue(h[0] + deg);\n  h = hsl2rgb(h);\n  v.r = h[0];\n  v.g = h[1];\n  v.b = h[2];\n}\nfunction hslString(v) {\n  if (!v) {\n    return;\n  }\n  const a = rgb2hsl(v);\n  const h = a[0];\n  const s = n2p(a[1]);\n  const l = n2p(a[2]);\n  return v.a < 255\n    ? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n    : `hsl(${h}, ${s}%, ${l}%)`;\n}\n\nconst map = {\n\tx: 'dark',\n\tZ: 'light',\n\tY: 're',\n\tX: 'blu',\n\tW: 'gr',\n\tV: 'medium',\n\tU: 'slate',\n\tA: 'ee',\n\tT: 'ol',\n\tS: 'or',\n\tB: 'ra',\n\tC: 'lateg',\n\tD: 'ights',\n\tR: 'in',\n\tQ: 'turquois',\n\tE: 'hi',\n\tP: 'ro',\n\tO: 'al',\n\tN: 'le',\n\tM: 'de',\n\tL: 'yello',\n\tF: 'en',\n\tK: 'ch',\n\tG: 'arks',\n\tH: 'ea',\n\tI: 'ightg',\n\tJ: 'wh'\n};\nconst names$1 = {\n\tOiceXe: 'f0f8ff',\n\tantiquewEte: 'faebd7',\n\taqua: 'ffff',\n\taquamarRe: '7fffd4',\n\tazuY: 'f0ffff',\n\tbeige: 'f5f5dc',\n\tbisque: 'ffe4c4',\n\tblack: '0',\n\tblanKedOmond: 'ffebcd',\n\tXe: 'ff',\n\tXeviTet: '8a2be2',\n\tbPwn: 'a52a2a',\n\tburlywood: 'deb887',\n\tcaMtXe: '5f9ea0',\n\tKartYuse: '7fff00',\n\tKocTate: 'd2691e',\n\tcSO: 'ff7f50',\n\tcSnflowerXe: '6495ed',\n\tcSnsilk: 'fff8dc',\n\tcrimson: 'dc143c',\n\tcyan: 'ffff',\n\txXe: '8b',\n\txcyan: '8b8b',\n\txgTMnPd: 'b8860b',\n\txWay: 'a9a9a9',\n\txgYF: '6400',\n\txgYy: 'a9a9a9',\n\txkhaki: 'bdb76b',\n\txmagFta: '8b008b',\n\txTivegYF: '556b2f',\n\txSange: 'ff8c00',\n\txScEd: '9932cc',\n\txYd: '8b0000',\n\txsOmon: 'e9967a',\n\txsHgYF: '8fbc8f',\n\txUXe: '483d8b',\n\txUWay: '2f4f4f',\n\txUgYy: '2f4f4f',\n\txQe: 'ced1',\n\txviTet: '9400d3',\n\tdAppRk: 'ff1493',\n\tdApskyXe: 'bfff',\n\tdimWay: '696969',\n\tdimgYy: '696969',\n\tdodgerXe: '1e90ff',\n\tfiYbrick: 'b22222',\n\tflSOwEte: 'fffaf0',\n\tfoYstWAn: '228b22',\n\tfuKsia: 'ff00ff',\n\tgaRsbSo: 'dcdcdc',\n\tghostwEte: 'f8f8ff',\n\tgTd: 'ffd700',\n\tgTMnPd: 'daa520',\n\tWay: '808080',\n\tgYF: '8000',\n\tgYFLw: 'adff2f',\n\tgYy: '808080',\n\thoneyMw: 'f0fff0',\n\thotpRk: 'ff69b4',\n\tRdianYd: 'cd5c5c',\n\tRdigo: '4b0082',\n\tivSy: 'fffff0',\n\tkhaki: 'f0e68c',\n\tlavFMr: 'e6e6fa',\n\tlavFMrXsh: 'fff0f5',\n\tlawngYF: '7cfc00',\n\tNmoncEffon: 'fffacd',\n\tZXe: 'add8e6',\n\tZcSO: 'f08080',\n\tZcyan: 'e0ffff',\n\tZgTMnPdLw: 'fafad2',\n\tZWay: 'd3d3d3',\n\tZgYF: '90ee90',\n\tZgYy: 'd3d3d3',\n\tZpRk: 'ffb6c1',\n\tZsOmon: 'ffa07a',\n\tZsHgYF: '20b2aa',\n\tZskyXe: '87cefa',\n\tZUWay: '778899',\n\tZUgYy: '778899',\n\tZstAlXe: 'b0c4de',\n\tZLw: 'ffffe0',\n\tlime: 'ff00',\n\tlimegYF: '32cd32',\n\tlRF: 'faf0e6',\n\tmagFta: 'ff00ff',\n\tmaPon: '800000',\n\tVaquamarRe: '66cdaa',\n\tVXe: 'cd',\n\tVScEd: 'ba55d3',\n\tVpurpN: '9370db',\n\tVsHgYF: '3cb371',\n\tVUXe: '7b68ee',\n\tVsprRggYF: 'fa9a',\n\tVQe: '48d1cc',\n\tVviTetYd: 'c71585',\n\tmidnightXe: '191970',\n\tmRtcYam: 'f5fffa',\n\tmistyPse: 'ffe4e1',\n\tmoccasR: 'ffe4b5',\n\tnavajowEte: 'ffdead',\n\tnavy: '80',\n\tTdlace: 'fdf5e6',\n\tTive: '808000',\n\tTivedBb: '6b8e23',\n\tSange: 'ffa500',\n\tSangeYd: 'ff4500',\n\tScEd: 'da70d6',\n\tpOegTMnPd: 'eee8aa',\n\tpOegYF: '98fb98',\n\tpOeQe: 'afeeee',\n\tpOeviTetYd: 'db7093',\n\tpapayawEp: 'ffefd5',\n\tpHKpuff: 'ffdab9',\n\tperu: 'cd853f',\n\tpRk: 'ffc0cb',\n\tplum: 'dda0dd',\n\tpowMrXe: 'b0e0e6',\n\tpurpN: '800080',\n\tYbeccapurpN: '663399',\n\tYd: 'ff0000',\n\tPsybrown: 'bc8f8f',\n\tPyOXe: '4169e1',\n\tsaddNbPwn: '8b4513',\n\tsOmon: 'fa8072',\n\tsandybPwn: 'f4a460',\n\tsHgYF: '2e8b57',\n\tsHshell: 'fff5ee',\n\tsiFna: 'a0522d',\n\tsilver: 'c0c0c0',\n\tskyXe: '87ceeb',\n\tUXe: '6a5acd',\n\tUWay: '708090',\n\tUgYy: '708090',\n\tsnow: 'fffafa',\n\tsprRggYF: 'ff7f',\n\tstAlXe: '4682b4',\n\ttan: 'd2b48c',\n\tteO: '8080',\n\ttEstN: 'd8bfd8',\n\ttomato: 'ff6347',\n\tQe: '40e0d0',\n\tviTet: 'ee82ee',\n\tJHt: 'f5deb3',\n\twEte: 'ffffff',\n\twEtesmoke: 'f5f5f5',\n\tLw: 'ffff00',\n\tLwgYF: '9acd32'\n};\nfunction unpack() {\n  const unpacked = {};\n  const keys = Object.keys(names$1);\n  const tkeys = Object.keys(map);\n  let i, j, k, ok, nk;\n  for (i = 0; i < keys.length; i++) {\n    ok = nk = keys[i];\n    for (j = 0; j < tkeys.length; j++) {\n      k = tkeys[j];\n      nk = nk.replace(k, map[k]);\n    }\n    k = parseInt(names$1[ok], 16);\n    unpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n  }\n  return unpacked;\n}\n\nlet names;\nfunction nameParse(str) {\n  if (!names) {\n    names = unpack();\n    names.transparent = [0, 0, 0, 0];\n  }\n  const a = names[str.toLowerCase()];\n  return a && {\n    r: a[0],\n    g: a[1],\n    b: a[2],\n    a: a.length === 4 ? a[3] : 255\n  };\n}\n\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n  const m = RGB_RE.exec(str);\n  let a = 255;\n  let r, g, b;\n  if (!m) {\n    return;\n  }\n  if (m[7] !== r) {\n    const v = +m[7];\n    a = m[8] ? p2b(v) : lim(v * 255, 0, 255);\n  }\n  r = +m[1];\n  g = +m[3];\n  b = +m[5];\n  r = 255 & (m[2] ? p2b(r) : lim(r, 0, 255));\n  g = 255 & (m[4] ? p2b(g) : lim(g, 0, 255));\n  b = 255 & (m[6] ? p2b(b) : lim(b, 0, 255));\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\nfunction rgbString(v) {\n  return v && (\n    v.a < 255\n      ? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n      : `rgb(${v.r}, ${v.g}, ${v.b})`\n  );\n}\n\nconst to = v => v <= 0.0031308 ? v * 12.92 : Math.pow(v, 1.0 / 2.4) * 1.055 - 0.055;\nconst from = v => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\nfunction interpolate(rgb1, rgb2, t) {\n  const r = from(b2n(rgb1.r));\n  const g = from(b2n(rgb1.g));\n  const b = from(b2n(rgb1.b));\n  return {\n    r: n2b(to(r + t * (from(b2n(rgb2.r)) - r))),\n    g: n2b(to(g + t * (from(b2n(rgb2.g)) - g))),\n    b: n2b(to(b + t * (from(b2n(rgb2.b)) - b))),\n    a: rgb1.a + t * (rgb2.a - rgb1.a)\n  };\n}\n\nfunction modHSL(v, i, ratio) {\n  if (v) {\n    let tmp = rgb2hsl(v);\n    tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n    tmp = hsl2rgb(tmp);\n    v.r = tmp[0];\n    v.g = tmp[1];\n    v.b = tmp[2];\n  }\n}\nfunction clone(v, proto) {\n  return v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n  var v = {r: 0, g: 0, b: 0, a: 255};\n  if (Array.isArray(input)) {\n    if (input.length >= 3) {\n      v = {r: input[0], g: input[1], b: input[2], a: 255};\n      if (input.length > 3) {\n        v.a = n2b(input[3]);\n      }\n    }\n  } else {\n    v = clone(input, {r: 0, g: 0, b: 0, a: 1});\n    v.a = n2b(v.a);\n  }\n  return v;\n}\nfunction functionParse(str) {\n  if (str.charAt(0) === 'r') {\n    return rgbParse(str);\n  }\n  return hueParse(str);\n}\nclass Color {\n  constructor(input) {\n    if (input instanceof Color) {\n      return input;\n    }\n    const type = typeof input;\n    let v;\n    if (type === 'object') {\n      v = fromObject(input);\n    } else if (type === 'string') {\n      v = hexParse(input) || nameParse(input) || functionParse(input);\n    }\n    this._rgb = v;\n    this._valid = !!v;\n  }\n  get valid() {\n    return this._valid;\n  }\n  get rgb() {\n    var v = clone(this._rgb);\n    if (v) {\n      v.a = b2n(v.a);\n    }\n    return v;\n  }\n  set rgb(obj) {\n    this._rgb = fromObject(obj);\n  }\n  rgbString() {\n    return this._valid ? rgbString(this._rgb) : undefined;\n  }\n  hexString() {\n    return this._valid ? hexString(this._rgb) : undefined;\n  }\n  hslString() {\n    return this._valid ? hslString(this._rgb) : undefined;\n  }\n  mix(color, weight) {\n    if (color) {\n      const c1 = this.rgb;\n      const c2 = color.rgb;\n      let w2;\n      const p = weight === w2 ? 0.5 : weight;\n      const w = 2 * p - 1;\n      const a = c1.a - c2.a;\n      const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n      w2 = 1 - w1;\n      c1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n      c1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n      c1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n      c1.a = p * c1.a + (1 - p) * c2.a;\n      this.rgb = c1;\n    }\n    return this;\n  }\n  interpolate(color, t) {\n    if (color) {\n      this._rgb = interpolate(this._rgb, color._rgb, t);\n    }\n    return this;\n  }\n  clone() {\n    return new Color(this.rgb);\n  }\n  alpha(a) {\n    this._rgb.a = n2b(a);\n    return this;\n  }\n  clearer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 - ratio;\n    return this;\n  }\n  greyscale() {\n    const rgb = this._rgb;\n    const val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n    rgb.r = rgb.g = rgb.b = val;\n    return this;\n  }\n  opaquer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 + ratio;\n    return this;\n  }\n  negate() {\n    const v = this._rgb;\n    v.r = 255 - v.r;\n    v.g = 255 - v.g;\n    v.b = 255 - v.b;\n    return this;\n  }\n  lighten(ratio) {\n    modHSL(this._rgb, 2, ratio);\n    return this;\n  }\n  darken(ratio) {\n    modHSL(this._rgb, 2, -ratio);\n    return this;\n  }\n  saturate(ratio) {\n    modHSL(this._rgb, 1, ratio);\n    return this;\n  }\n  desaturate(ratio) {\n    modHSL(this._rgb, 1, -ratio);\n    return this;\n  }\n  rotate(deg) {\n    rotate(this._rgb, deg);\n    return this;\n  }\n}\n\nfunction index_esm(input) {\n  return new Color(input);\n}\n\nexport { Color, b2n, b2p, index_esm as default, hexParse, hexString, hsl2rgb, hslString, hsv2rgb, hueParse, hwb2rgb, lim, n2b, n2p, nameParse, p2b, rgb2hsl, rgbParse, rgbString, rotate, round };\n","/*!\n * Chart.js v4.4.9\n * https://www.chartjs.org\n * (c) 2025 Chart.js Contributors\n * Released under the MIT License\n */\nimport { Color } from '@kurkle/color';\n\n/**\n * @namespace Chart.helpers\n */ /**\n * An empty function that can be used, for example, for optional callback.\n */ function noop() {\n/* noop */ }\n/**\n * Returns a unique id, sequentially generated from a global variable.\n */ const uid = (()=>{\n    let id = 0;\n    return ()=>id++;\n})();\n/**\n * Returns true if `value` is neither null nor undefined, else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */ function isNullOrUndef(value) {\n    return value === null || value === undefined;\n}\n/**\n * Returns true if `value` is an array (including typed arrays), else returns false.\n * @param value - The value to test.\n * @function\n */ function isArray(value) {\n    if (Array.isArray && Array.isArray(value)) {\n        return true;\n    }\n    const type = Object.prototype.toString.call(value);\n    if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') {\n        return true;\n    }\n    return false;\n}\n/**\n * Returns true if `value` is an object (excluding null), else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */ function isObject(value) {\n    return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\n/**\n * Returns true if `value` is a finite number, else returns false\n * @param value  - The value to test.\n */ function isNumberFinite(value) {\n    return (typeof value === 'number' || value instanceof Number) && isFinite(+value);\n}\n/**\n * Returns `value` if finite, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is not finite.\n */ function finiteOrDefault(value, defaultValue) {\n    return isNumberFinite(value) ? value : defaultValue;\n}\n/**\n * Returns `value` if defined, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is undefined.\n */ function valueOrDefault(value, defaultValue) {\n    return typeof value === 'undefined' ? defaultValue : value;\n}\nconst toPercentage = (value, dimension)=>typeof value === 'string' && value.endsWith('%') ? parseFloat(value) / 100 : +value / dimension;\nconst toDimension = (value, dimension)=>typeof value === 'string' && value.endsWith('%') ? parseFloat(value) / 100 * dimension : +value;\n/**\n * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the\n * value returned by `fn`. If `fn` is not a function, this method returns undefined.\n * @param fn - The function to call.\n * @param args - The arguments with which `fn` should be called.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n */ function callback(fn, args, thisArg) {\n    if (fn && typeof fn.call === 'function') {\n        return fn.apply(thisArg, args);\n    }\n}\nfunction each(loopable, fn, thisArg, reverse) {\n    let i, len, keys;\n    if (isArray(loopable)) {\n        len = loopable.length;\n        if (reverse) {\n            for(i = len - 1; i >= 0; i--){\n                fn.call(thisArg, loopable[i], i);\n            }\n        } else {\n            for(i = 0; i < len; i++){\n                fn.call(thisArg, loopable[i], i);\n            }\n        }\n    } else if (isObject(loopable)) {\n        keys = Object.keys(loopable);\n        len = keys.length;\n        for(i = 0; i < len; i++){\n            fn.call(thisArg, loopable[keys[i]], keys[i]);\n        }\n    }\n}\n/**\n * Returns true if the `a0` and `a1` arrays have the same content, else returns false.\n * @param a0 - The array to compare\n * @param a1 - The array to compare\n * @private\n */ function _elementsEqual(a0, a1) {\n    let i, ilen, v0, v1;\n    if (!a0 || !a1 || a0.length !== a1.length) {\n        return false;\n    }\n    for(i = 0, ilen = a0.length; i < ilen; ++i){\n        v0 = a0[i];\n        v1 = a1[i];\n        if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Returns a deep copy of `source` without keeping references on objects and arrays.\n * @param source - The value to clone.\n */ function clone(source) {\n    if (isArray(source)) {\n        return source.map(clone);\n    }\n    if (isObject(source)) {\n        const target = Object.create(null);\n        const keys = Object.keys(source);\n        const klen = keys.length;\n        let k = 0;\n        for(; k < klen; ++k){\n            target[keys[k]] = clone(source[keys[k]]);\n        }\n        return target;\n    }\n    return source;\n}\nfunction isValidKey(key) {\n    return [\n        '__proto__',\n        'prototype',\n        'constructor'\n    ].indexOf(key) === -1;\n}\n/**\n * The default merger when Chart.helpers.merge is called without merger option.\n * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.\n * @private\n */ function _merger(key, target, source, options) {\n    if (!isValidKey(key)) {\n        return;\n    }\n    const tval = target[key];\n    const sval = source[key];\n    if (isObject(tval) && isObject(sval)) {\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        merge(tval, sval, options);\n    } else {\n        target[key] = clone(sval);\n    }\n}\nfunction merge(target, source, options) {\n    const sources = isArray(source) ? source : [\n        source\n    ];\n    const ilen = sources.length;\n    if (!isObject(target)) {\n        return target;\n    }\n    options = options || {};\n    const merger = options.merger || _merger;\n    let current;\n    for(let i = 0; i < ilen; ++i){\n        current = sources[i];\n        if (!isObject(current)) {\n            continue;\n        }\n        const keys = Object.keys(current);\n        for(let k = 0, klen = keys.length; k < klen; ++k){\n            merger(keys[k], target, current, options);\n        }\n    }\n    return target;\n}\nfunction mergeIf(target, source) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    return merge(target, source, {\n        merger: _mergerIf\n    });\n}\n/**\n * Merges source[key] in target[key] only if target[key] is undefined.\n * @private\n */ function _mergerIf(key, target, source) {\n    if (!isValidKey(key)) {\n        return;\n    }\n    const tval = target[key];\n    const sval = source[key];\n    if (isObject(tval) && isObject(sval)) {\n        mergeIf(tval, sval);\n    } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n        target[key] = clone(sval);\n    }\n}\n/**\n * @private\n */ function _deprecated(scope, value, previous, current) {\n    if (value !== undefined) {\n        console.warn(scope + ': \"' + previous + '\" is deprecated. Please use \"' + current + '\" instead');\n    }\n}\n// resolveObjectKey resolver cache\nconst keyResolvers = {\n    // Chart.helpers.core resolveObjectKey should resolve empty key to root object\n    '': (v)=>v,\n    // default resolvers\n    x: (o)=>o.x,\n    y: (o)=>o.y\n};\n/**\n * @private\n */ function _splitKey(key) {\n    const parts = key.split('.');\n    const keys = [];\n    let tmp = '';\n    for (const part of parts){\n        tmp += part;\n        if (tmp.endsWith('\\\\')) {\n            tmp = tmp.slice(0, -1) + '.';\n        } else {\n            keys.push(tmp);\n            tmp = '';\n        }\n    }\n    return keys;\n}\nfunction _getKeyResolver(key) {\n    const keys = _splitKey(key);\n    return (obj)=>{\n        for (const k of keys){\n            if (k === '') {\n                break;\n            }\n            obj = obj && obj[k];\n        }\n        return obj;\n    };\n}\nfunction resolveObjectKey(obj, key) {\n    const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key));\n    return resolver(obj);\n}\n/**\n * @private\n */ function _capitalize(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n}\nconst defined = (value)=>typeof value !== 'undefined';\nconst isFunction = (value)=>typeof value === 'function';\n// Adapted from https://stackoverflow.com/questions/31128855/comparing-ecma6-sets-for-equality#31129384\nconst setsEqual = (a, b)=>{\n    if (a.size !== b.size) {\n        return false;\n    }\n    for (const item of a){\n        if (!b.has(item)) {\n            return false;\n        }\n    }\n    return true;\n};\n/**\n * @param e - The event\n * @private\n */ function _isClickEvent(e) {\n    return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n\n/**\n * @alias Chart.helpers.math\n * @namespace\n */ const PI = Math.PI;\nconst TAU = 2 * PI;\nconst PITAU = TAU + PI;\nconst INFINITY = Number.POSITIVE_INFINITY;\nconst RAD_PER_DEG = PI / 180;\nconst HALF_PI = PI / 2;\nconst QUARTER_PI = PI / 4;\nconst TWO_THIRDS_PI = PI * 2 / 3;\nconst log10 = Math.log10;\nconst sign = Math.sign;\nfunction almostEquals(x, y, epsilon) {\n    return Math.abs(x - y) < epsilon;\n}\n/**\n * Implementation of the nice number algorithm used in determining where axis labels will go\n */ function niceNum(range) {\n    const roundedRange = Math.round(range);\n    range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n    const niceRange = Math.pow(10, Math.floor(log10(range)));\n    const fraction = range / niceRange;\n    const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n    return niceFraction * niceRange;\n}\n/**\n * Returns an array of factors sorted from 1 to sqrt(value)\n * @private\n */ function _factorize(value) {\n    const result = [];\n    const sqrt = Math.sqrt(value);\n    let i;\n    for(i = 1; i < sqrt; i++){\n        if (value % i === 0) {\n            result.push(i);\n            result.push(value / i);\n        }\n    }\n    if (sqrt === (sqrt | 0)) {\n        result.push(sqrt);\n    }\n    result.sort((a, b)=>a - b).pop();\n    return result;\n}\n/**\n * Verifies that attempting to coerce n to string or number won't throw a TypeError.\n */ function isNonPrimitive(n) {\n    return typeof n === 'symbol' || typeof n === 'object' && n !== null && !(Symbol.toPrimitive in n || 'toString' in n || 'valueOf' in n);\n}\nfunction isNumber(n) {\n    return !isNonPrimitive(n) && !isNaN(parseFloat(n)) && isFinite(n);\n}\nfunction almostWhole(x, epsilon) {\n    const rounded = Math.round(x);\n    return rounded - epsilon <= x && rounded + epsilon >= x;\n}\n/**\n * @private\n */ function _setMinAndMaxByKey(array, target, property) {\n    let i, ilen, value;\n    for(i = 0, ilen = array.length; i < ilen; i++){\n        value = array[i][property];\n        if (!isNaN(value)) {\n            target.min = Math.min(target.min, value);\n            target.max = Math.max(target.max, value);\n        }\n    }\n}\nfunction toRadians(degrees) {\n    return degrees * (PI / 180);\n}\nfunction toDegrees(radians) {\n    return radians * (180 / PI);\n}\n/**\n * Returns the number of decimal places\n * i.e. the number of digits after the decimal point, of the value of this Number.\n * @param x - A number.\n * @returns The number of decimal places.\n * @private\n */ function _decimalPlaces(x) {\n    if (!isNumberFinite(x)) {\n        return;\n    }\n    let e = 1;\n    let p = 0;\n    while(Math.round(x * e) / e !== x){\n        e *= 10;\n        p++;\n    }\n    return p;\n}\n// Gets the angle from vertical upright to the point about a centre.\nfunction getAngleFromPoint(centrePoint, anglePoint) {\n    const distanceFromXCenter = anglePoint.x - centrePoint.x;\n    const distanceFromYCenter = anglePoint.y - centrePoint.y;\n    const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n    let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n    if (angle < -0.5 * PI) {\n        angle += TAU; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\n    }\n    return {\n        angle,\n        distance: radialDistanceFromCenter\n    };\n}\nfunction distanceBetweenPoints(pt1, pt2) {\n    return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\n/**\n * Shortest distance between angles, in either direction.\n * @private\n */ function _angleDiff(a, b) {\n    return (a - b + PITAU) % TAU - PI;\n}\n/**\n * Normalize angle to be between 0 and 2*PI\n * @private\n */ function _normalizeAngle(a) {\n    return (a % TAU + TAU) % TAU;\n}\n/**\n * @private\n */ function _angleBetween(angle, start, end, sameAngleIsFullCircle) {\n    const a = _normalizeAngle(angle);\n    const s = _normalizeAngle(start);\n    const e = _normalizeAngle(end);\n    const angleToStart = _normalizeAngle(s - a);\n    const angleToEnd = _normalizeAngle(e - a);\n    const startToAngle = _normalizeAngle(a - s);\n    const endToAngle = _normalizeAngle(a - e);\n    return a === s || a === e || sameAngleIsFullCircle && s === e || angleToStart > angleToEnd && startToAngle < endToAngle;\n}\n/**\n * Limit `value` between `min` and `max`\n * @param value\n * @param min\n * @param max\n * @private\n */ function _limitValue(value, min, max) {\n    return Math.max(min, Math.min(max, value));\n}\n/**\n * @param {number} value\n * @private\n */ function _int16Range(value) {\n    return _limitValue(value, -32768, 32767);\n}\n/**\n * @param value\n * @param start\n * @param end\n * @param [epsilon]\n * @private\n */ function _isBetween(value, start, end, epsilon = 1e-6) {\n    return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n\nfunction _lookup(table, value, cmp) {\n    cmp = cmp || ((index)=>table[index] < value);\n    let hi = table.length - 1;\n    let lo = 0;\n    let mid;\n    while(hi - lo > 1){\n        mid = lo + hi >> 1;\n        if (cmp(mid)) {\n            lo = mid;\n        } else {\n            hi = mid;\n        }\n    }\n    return {\n        lo,\n        hi\n    };\n}\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @param last - lookup last index\n * @private\n */ const _lookupByKey = (table, key, value, last)=>_lookup(table, value, last ? (index)=>{\n        const ti = table[index][key];\n        return ti < value || ti === value && table[index + 1][key] === value;\n    } : (index)=>table[index][key] < value);\n/**\n * Reverse binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @private\n */ const _rlookupByKey = (table, key, value)=>_lookup(table, value, (index)=>table[index][key] >= value);\n/**\n * Return subset of `values` between `min` and `max` inclusive.\n * Values are assumed to be in sorted order.\n * @param values - sorted array of values\n * @param min - min value\n * @param max - max value\n */ function _filterBetween(values, min, max) {\n    let start = 0;\n    let end = values.length;\n    while(start < end && values[start] < min){\n        start++;\n    }\n    while(end > start && values[end - 1] > max){\n        end--;\n    }\n    return start > 0 || end < values.length ? values.slice(start, end) : values;\n}\nconst arrayEvents = [\n    'push',\n    'pop',\n    'shift',\n    'splice',\n    'unshift'\n];\nfunction listenArrayEvents(array, listener) {\n    if (array._chartjs) {\n        array._chartjs.listeners.push(listener);\n        return;\n    }\n    Object.defineProperty(array, '_chartjs', {\n        configurable: true,\n        enumerable: false,\n        value: {\n            listeners: [\n                listener\n            ]\n        }\n    });\n    arrayEvents.forEach((key)=>{\n        const method = '_onData' + _capitalize(key);\n        const base = array[key];\n        Object.defineProperty(array, key, {\n            configurable: true,\n            enumerable: false,\n            value (...args) {\n                const res = base.apply(this, args);\n                array._chartjs.listeners.forEach((object)=>{\n                    if (typeof object[method] === 'function') {\n                        object[method](...args);\n                    }\n                });\n                return res;\n            }\n        });\n    });\n}\nfunction unlistenArrayEvents(array, listener) {\n    const stub = array._chartjs;\n    if (!stub) {\n        return;\n    }\n    const listeners = stub.listeners;\n    const index = listeners.indexOf(listener);\n    if (index !== -1) {\n        listeners.splice(index, 1);\n    }\n    if (listeners.length > 0) {\n        return;\n    }\n    arrayEvents.forEach((key)=>{\n        delete array[key];\n    });\n    delete array._chartjs;\n}\n/**\n * @param items\n */ function _arrayUnique(items) {\n    const set = new Set(items);\n    if (set.size === items.length) {\n        return items;\n    }\n    return Array.from(set);\n}\n\nfunction fontString(pixelSize, fontStyle, fontFamily) {\n    return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\n/**\n* Request animation polyfill\n*/ const requestAnimFrame = function() {\n    if (typeof window === 'undefined') {\n        return function(callback) {\n            return callback();\n        };\n    }\n    return window.requestAnimationFrame;\n}();\n/**\n * Throttles calling `fn` once per animation frame\n * Latest arguments are used on the actual call\n */ function throttled(fn, thisArg) {\n    let argsToUse = [];\n    let ticking = false;\n    return function(...args) {\n        // Save the args for use later\n        argsToUse = args;\n        if (!ticking) {\n            ticking = true;\n            requestAnimFrame.call(window, ()=>{\n                ticking = false;\n                fn.apply(thisArg, argsToUse);\n            });\n        }\n    };\n}\n/**\n * Debounces calling `fn` for `delay` ms\n */ function debounce(fn, delay) {\n    let timeout;\n    return function(...args) {\n        if (delay) {\n            clearTimeout(timeout);\n            timeout = setTimeout(fn, delay, args);\n        } else {\n            fn.apply(this, args);\n        }\n        return delay;\n    };\n}\n/**\n * Converts 'start' to 'left', 'end' to 'right' and others to 'center'\n * @private\n */ const _toLeftRightCenter = (align)=>align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\n/**\n * Returns `start`, `end` or `(start + end) / 2` depending on `align`. Defaults to `center`\n * @private\n */ const _alignStartEnd = (align, start, end)=>align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\n/**\n * Returns `left`, `right` or `(left + right) / 2` depending on `align`. Defaults to `left`\n * @private\n */ const _textX = (align, left, right, rtl)=>{\n    const check = rtl ? 'left' : 'right';\n    return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n/**\n * Return start and count of visible points.\n * @private\n */ function _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\n    const pointCount = points.length;\n    let start = 0;\n    let count = pointCount;\n    if (meta._sorted) {\n        const { iScale , vScale , _parsed  } = meta;\n        const spanGaps = meta.dataset ? meta.dataset.options ? meta.dataset.options.spanGaps : null : null;\n        const axis = iScale.axis;\n        const { min , max , minDefined , maxDefined  } = iScale.getUserBounds();\n        if (minDefined) {\n            start = Math.min(// @ts-expect-error Need to type _parsed\n            _lookupByKey(_parsed, axis, min).lo, // @ts-expect-error Need to fix types on _lookupByKey\n            animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo);\n            if (spanGaps) {\n                const distanceToDefinedLo = _parsed.slice(0, start + 1).reverse().findIndex((point)=>!isNullOrUndef(point[vScale.axis]));\n                start -= Math.max(0, distanceToDefinedLo);\n            }\n            start = _limitValue(start, 0, pointCount - 1);\n        }\n        if (maxDefined) {\n            let end = Math.max(// @ts-expect-error Need to type _parsed\n            _lookupByKey(_parsed, iScale.axis, max, true).hi + 1, // @ts-expect-error Need to fix types on _lookupByKey\n            animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1);\n            if (spanGaps) {\n                const distanceToDefinedHi = _parsed.slice(end - 1).findIndex((point)=>!isNullOrUndef(point[vScale.axis]));\n                end += Math.max(0, distanceToDefinedHi);\n            }\n            count = _limitValue(end, start, pointCount) - start;\n        } else {\n            count = pointCount - start;\n        }\n    }\n    return {\n        start,\n        count\n    };\n}\n/**\n * Checks if the scale ranges have changed.\n * @param {object} meta - dataset meta.\n * @returns {boolean}\n * @private\n */ function _scaleRangesChanged(meta) {\n    const { xScale , yScale , _scaleRanges  } = meta;\n    const newRanges = {\n        xmin: xScale.min,\n        xmax: xScale.max,\n        ymin: yScale.min,\n        ymax: yScale.max\n    };\n    if (!_scaleRanges) {\n        meta._scaleRanges = newRanges;\n        return true;\n    }\n    const changed = _scaleRanges.xmin !== xScale.min || _scaleRanges.xmax !== xScale.max || _scaleRanges.ymin !== yScale.min || _scaleRanges.ymax !== yScale.max;\n    Object.assign(_scaleRanges, newRanges);\n    return changed;\n}\n\nconst atEdge = (t)=>t === 0 || t === 1;\nconst elasticIn = (t, s, p)=>-(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t, s, p)=>Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\n/**\n * Easing functions adapted from Robert Penner's easing equations.\n * @namespace Chart.helpers.easing.effects\n * @see http://www.robertpenner.com/easing/\n */ const effects = {\n    linear: (t)=>t,\n    easeInQuad: (t)=>t * t,\n    easeOutQuad: (t)=>-t * (t - 2),\n    easeInOutQuad: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t : -0.5 * (--t * (t - 2) - 1),\n    easeInCubic: (t)=>t * t * t,\n    easeOutCubic: (t)=>(t -= 1) * t * t + 1,\n    easeInOutCubic: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t : 0.5 * ((t -= 2) * t * t + 2),\n    easeInQuart: (t)=>t * t * t * t,\n    easeOutQuart: (t)=>-((t -= 1) * t * t * t - 1),\n    easeInOutQuart: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t * t : -0.5 * ((t -= 2) * t * t * t - 2),\n    easeInQuint: (t)=>t * t * t * t * t,\n    easeOutQuint: (t)=>(t -= 1) * t * t * t * t + 1,\n    easeInOutQuint: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t * t * t : 0.5 * ((t -= 2) * t * t * t * t + 2),\n    easeInSine: (t)=>-Math.cos(t * HALF_PI) + 1,\n    easeOutSine: (t)=>Math.sin(t * HALF_PI),\n    easeInOutSine: (t)=>-0.5 * (Math.cos(PI * t) - 1),\n    easeInExpo: (t)=>t === 0 ? 0 : Math.pow(2, 10 * (t - 1)),\n    easeOutExpo: (t)=>t === 1 ? 1 : -Math.pow(2, -10 * t) + 1,\n    easeInOutExpo: (t)=>atEdge(t) ? t : t < 0.5 ? 0.5 * Math.pow(2, 10 * (t * 2 - 1)) : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n    easeInCirc: (t)=>t >= 1 ? t : -(Math.sqrt(1 - t * t) - 1),\n    easeOutCirc: (t)=>Math.sqrt(1 - (t -= 1) * t),\n    easeInOutCirc: (t)=>(t /= 0.5) < 1 ? -0.5 * (Math.sqrt(1 - t * t) - 1) : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n    easeInElastic: (t)=>atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n    easeOutElastic: (t)=>atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n    easeInOutElastic (t) {\n        const s = 0.1125;\n        const p = 0.45;\n        return atEdge(t) ? t : t < 0.5 ? 0.5 * elasticIn(t * 2, s, p) : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n    },\n    easeInBack (t) {\n        const s = 1.70158;\n        return t * t * ((s + 1) * t - s);\n    },\n    easeOutBack (t) {\n        const s = 1.70158;\n        return (t -= 1) * t * ((s + 1) * t + s) + 1;\n    },\n    easeInOutBack (t) {\n        let s = 1.70158;\n        if ((t /= 0.5) < 1) {\n            return 0.5 * (t * t * (((s *= 1.525) + 1) * t - s));\n        }\n        return 0.5 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2);\n    },\n    easeInBounce: (t)=>1 - effects.easeOutBounce(1 - t),\n    easeOutBounce (t) {\n        const m = 7.5625;\n        const d = 2.75;\n        if (t < 1 / d) {\n            return m * t * t;\n        }\n        if (t < 2 / d) {\n            return m * (t -= 1.5 / d) * t + 0.75;\n        }\n        if (t < 2.5 / d) {\n            return m * (t -= 2.25 / d) * t + 0.9375;\n        }\n        return m * (t -= 2.625 / d) * t + 0.984375;\n    },\n    easeInOutBounce: (t)=>t < 0.5 ? effects.easeInBounce(t * 2) * 0.5 : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5\n};\n\nfunction isPatternOrGradient(value) {\n    if (value && typeof value === 'object') {\n        const type = value.toString();\n        return type === '[object CanvasPattern]' || type === '[object CanvasGradient]';\n    }\n    return false;\n}\nfunction color(value) {\n    return isPatternOrGradient(value) ? value : new Color(value);\n}\nfunction getHoverColor(value) {\n    return isPatternOrGradient(value) ? value : new Color(value).saturate(0.5).darken(0.1).hexString();\n}\n\nconst numbers = [\n    'x',\n    'y',\n    'borderWidth',\n    'radius',\n    'tension'\n];\nconst colors = [\n    'color',\n    'borderColor',\n    'backgroundColor'\n];\nfunction applyAnimationsDefaults(defaults) {\n    defaults.set('animation', {\n        delay: undefined,\n        duration: 1000,\n        easing: 'easeOutQuart',\n        fn: undefined,\n        from: undefined,\n        loop: undefined,\n        to: undefined,\n        type: undefined\n    });\n    defaults.describe('animation', {\n        _fallback: false,\n        _indexable: false,\n        _scriptable: (name)=>name !== 'onProgress' && name !== 'onComplete' && name !== 'fn'\n    });\n    defaults.set('animations', {\n        colors: {\n            type: 'color',\n            properties: colors\n        },\n        numbers: {\n            type: 'number',\n            properties: numbers\n        }\n    });\n    defaults.describe('animations', {\n        _fallback: 'animation'\n    });\n    defaults.set('transitions', {\n        active: {\n            animation: {\n                duration: 400\n            }\n        },\n        resize: {\n            animation: {\n                duration: 0\n            }\n        },\n        show: {\n            animations: {\n                colors: {\n                    from: 'transparent'\n                },\n                visible: {\n                    type: 'boolean',\n                    duration: 0\n                }\n            }\n        },\n        hide: {\n            animations: {\n                colors: {\n                    to: 'transparent'\n                },\n                visible: {\n                    type: 'boolean',\n                    easing: 'linear',\n                    fn: (v)=>v | 0\n                }\n            }\n        }\n    });\n}\n\nfunction applyLayoutsDefaults(defaults) {\n    defaults.set('layout', {\n        autoPadding: true,\n        padding: {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0\n        }\n    });\n}\n\nconst intlCache = new Map();\nfunction getNumberFormat(locale, options) {\n    options = options || {};\n    const cacheKey = locale + JSON.stringify(options);\n    let formatter = intlCache.get(cacheKey);\n    if (!formatter) {\n        formatter = new Intl.NumberFormat(locale, options);\n        intlCache.set(cacheKey, formatter);\n    }\n    return formatter;\n}\nfunction formatNumber(num, locale, options) {\n    return getNumberFormat(locale, options).format(num);\n}\n\nconst formatters = {\n values (value) {\n        return isArray(value) ?  value : '' + value;\n    },\n numeric (tickValue, index, ticks) {\n        if (tickValue === 0) {\n            return '0';\n        }\n        const locale = this.chart.options.locale;\n        let notation;\n        let delta = tickValue;\n        if (ticks.length > 1) {\n            const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n            if (maxTick < 1e-4 || maxTick > 1e+15) {\n                notation = 'scientific';\n            }\n            delta = calculateDelta(tickValue, ticks);\n        }\n        const logDelta = log10(Math.abs(delta));\n        const numDecimal = isNaN(logDelta) ? 1 : Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n        const options = {\n            notation,\n            minimumFractionDigits: numDecimal,\n            maximumFractionDigits: numDecimal\n        };\n        Object.assign(options, this.options.ticks.format);\n        return formatNumber(tickValue, locale, options);\n    },\n logarithmic (tickValue, index, ticks) {\n        if (tickValue === 0) {\n            return '0';\n        }\n        const remain = ticks[index].significand || tickValue / Math.pow(10, Math.floor(log10(tickValue)));\n        if ([\n            1,\n            2,\n            3,\n            5,\n            10,\n            15\n        ].includes(remain) || index > 0.8 * ticks.length) {\n            return formatters.numeric.call(this, tickValue, index, ticks);\n        }\n        return '';\n    }\n};\nfunction calculateDelta(tickValue, ticks) {\n    let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n    if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n        delta = tickValue - Math.floor(tickValue);\n    }\n    return delta;\n}\n var Ticks = {\n    formatters\n};\n\nfunction applyScaleDefaults(defaults) {\n    defaults.set('scale', {\n        display: true,\n        offset: false,\n        reverse: false,\n        beginAtZero: false,\n bounds: 'ticks',\n        clip: true,\n grace: 0,\n        grid: {\n            display: true,\n            lineWidth: 1,\n            drawOnChartArea: true,\n            drawTicks: true,\n            tickLength: 8,\n            tickWidth: (_ctx, options)=>options.lineWidth,\n            tickColor: (_ctx, options)=>options.color,\n            offset: false\n        },\n        border: {\n            display: true,\n            dash: [],\n            dashOffset: 0.0,\n            width: 1\n        },\n        title: {\n            display: false,\n            text: '',\n            padding: {\n                top: 4,\n                bottom: 4\n            }\n        },\n        ticks: {\n            minRotation: 0,\n            maxRotation: 50,\n            mirror: false,\n            textStrokeWidth: 0,\n            textStrokeColor: '',\n            padding: 3,\n            display: true,\n            autoSkip: true,\n            autoSkipPadding: 3,\n            labelOffset: 0,\n            callback: Ticks.formatters.values,\n            minor: {},\n            major: {},\n            align: 'center',\n            crossAlign: 'near',\n            showLabelBackdrop: false,\n            backdropColor: 'rgba(255, 255, 255, 0.75)',\n            backdropPadding: 2\n        }\n    });\n    defaults.route('scale.ticks', 'color', '', 'color');\n    defaults.route('scale.grid', 'color', '', 'borderColor');\n    defaults.route('scale.border', 'color', '', 'borderColor');\n    defaults.route('scale.title', 'color', '', 'color');\n    defaults.describe('scale', {\n        _fallback: false,\n        _scriptable: (name)=>!name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n        _indexable: (name)=>name !== 'borderDash' && name !== 'tickBorderDash' && name !== 'dash'\n    });\n    defaults.describe('scales', {\n        _fallback: 'scale'\n    });\n    defaults.describe('scale.ticks', {\n        _scriptable: (name)=>name !== 'backdropPadding' && name !== 'callback',\n        _indexable: (name)=>name !== 'backdropPadding'\n    });\n}\n\nconst overrides = Object.create(null);\nconst descriptors = Object.create(null);\n function getScope$1(node, key) {\n    if (!key) {\n        return node;\n    }\n    const keys = key.split('.');\n    for(let i = 0, n = keys.length; i < n; ++i){\n        const k = keys[i];\n        node = node[k] || (node[k] = Object.create(null));\n    }\n    return node;\n}\nfunction set(root, scope, values) {\n    if (typeof scope === 'string') {\n        return merge(getScope$1(root, scope), values);\n    }\n    return merge(getScope$1(root, ''), scope);\n}\n class Defaults {\n    constructor(_descriptors, _appliers){\n        this.animation = undefined;\n        this.backgroundColor = 'rgba(0,0,0,0.1)';\n        this.borderColor = 'rgba(0,0,0,0.1)';\n        this.color = '#666';\n        this.datasets = {};\n        this.devicePixelRatio = (context)=>context.chart.platform.getDevicePixelRatio();\n        this.elements = {};\n        this.events = [\n            'mousemove',\n            'mouseout',\n            'click',\n            'touchstart',\n            'touchmove'\n        ];\n        this.font = {\n            family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n            size: 12,\n            style: 'normal',\n            lineHeight: 1.2,\n            weight: null\n        };\n        this.hover = {};\n        this.hoverBackgroundColor = (ctx, options)=>getHoverColor(options.backgroundColor);\n        this.hoverBorderColor = (ctx, options)=>getHoverColor(options.borderColor);\n        this.hoverColor = (ctx, options)=>getHoverColor(options.color);\n        this.indexAxis = 'x';\n        this.interaction = {\n            mode: 'nearest',\n            intersect: true,\n            includeInvisible: false\n        };\n        this.maintainAspectRatio = true;\n        this.onHover = null;\n        this.onClick = null;\n        this.parsing = true;\n        this.plugins = {};\n        this.responsive = true;\n        this.scale = undefined;\n        this.scales = {};\n        this.showLine = true;\n        this.drawActiveElementsOnTop = true;\n        this.describe(_descriptors);\n        this.apply(_appliers);\n    }\n set(scope, values) {\n        return set(this, scope, values);\n    }\n get(scope) {\n        return getScope$1(this, scope);\n    }\n describe(scope, values) {\n        return set(descriptors, scope, values);\n    }\n    override(scope, values) {\n        return set(overrides, scope, values);\n    }\n route(scope, name, targetScope, targetName) {\n        const scopeObject = getScope$1(this, scope);\n        const targetScopeObject = getScope$1(this, targetScope);\n        const privateName = '_' + name;\n        Object.defineProperties(scopeObject, {\n            [privateName]: {\n                value: scopeObject[name],\n                writable: true\n            },\n            [name]: {\n                enumerable: true,\n                get () {\n                    const local = this[privateName];\n                    const target = targetScopeObject[targetName];\n                    if (isObject(local)) {\n                        return Object.assign({}, target, local);\n                    }\n                    return valueOrDefault(local, target);\n                },\n                set (value) {\n                    this[privateName] = value;\n                }\n            }\n        });\n    }\n    apply(appliers) {\n        appliers.forEach((apply)=>apply(this));\n    }\n}\nvar defaults = /* #__PURE__ */ new Defaults({\n    _scriptable: (name)=>!name.startsWith('on'),\n    _indexable: (name)=>name !== 'events',\n    hover: {\n        _fallback: 'interaction'\n    },\n    interaction: {\n        _scriptable: false,\n        _indexable: false\n    }\n}, [\n    applyAnimationsDefaults,\n    applyLayoutsDefaults,\n    applyScaleDefaults\n]);\n\n/**\n * Converts the given font object into a CSS font string.\n * @param font - A font object.\n * @return The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font\n * @private\n */ function toFontString(font) {\n    if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n        return null;\n    }\n    return (font.style ? font.style + ' ' : '') + (font.weight ? font.weight + ' ' : '') + font.size + 'px ' + font.family;\n}\n/**\n * @private\n */ function _measureText(ctx, data, gc, longest, string) {\n    let textWidth = data[string];\n    if (!textWidth) {\n        textWidth = data[string] = ctx.measureText(string).width;\n        gc.push(string);\n    }\n    if (textWidth > longest) {\n        longest = textWidth;\n    }\n    return longest;\n}\n/**\n * @private\n */ // eslint-disable-next-line complexity\nfunction _longestText(ctx, font, arrayOfThings, cache) {\n    cache = cache || {};\n    let data = cache.data = cache.data || {};\n    let gc = cache.garbageCollect = cache.garbageCollect || [];\n    if (cache.font !== font) {\n        data = cache.data = {};\n        gc = cache.garbageCollect = [];\n        cache.font = font;\n    }\n    ctx.save();\n    ctx.font = font;\n    let longest = 0;\n    const ilen = arrayOfThings.length;\n    let i, j, jlen, thing, nestedThing;\n    for(i = 0; i < ilen; i++){\n        thing = arrayOfThings[i];\n        // Undefined strings and arrays should not be measured\n        if (thing !== undefined && thing !== null && !isArray(thing)) {\n            longest = _measureText(ctx, data, gc, longest, thing);\n        } else if (isArray(thing)) {\n            // if it is an array lets measure each element\n            // to do maybe simplify this function a bit so we can do this more recursively?\n            for(j = 0, jlen = thing.length; j < jlen; j++){\n                nestedThing = thing[j];\n                // Undefined strings and arrays should not be measured\n                if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n                    longest = _measureText(ctx, data, gc, longest, nestedThing);\n                }\n            }\n        }\n    }\n    ctx.restore();\n    const gcLen = gc.length / 2;\n    if (gcLen > arrayOfThings.length) {\n        for(i = 0; i < gcLen; i++){\n            delete data[gc[i]];\n        }\n        gc.splice(0, gcLen);\n    }\n    return longest;\n}\n/**\n * Returns the aligned pixel value to avoid anti-aliasing blur\n * @param chart - The chart instance.\n * @param pixel - A pixel value.\n * @param width - The width of the element.\n * @returns The aligned pixel value.\n * @private\n */ function _alignPixel(chart, pixel, width) {\n    const devicePixelRatio = chart.currentDevicePixelRatio;\n    const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n    return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\n/**\n * Clears the entire canvas.\n */ function clearCanvas(canvas, ctx) {\n    if (!ctx && !canvas) {\n        return;\n    }\n    ctx = ctx || canvas.getContext('2d');\n    ctx.save();\n    // canvas.width and canvas.height do not consider the canvas transform,\n    // while clearRect does\n    ctx.resetTransform();\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.restore();\n}\nfunction drawPoint(ctx, options, x, y) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    drawPointLegend(ctx, options, x, y, null);\n}\n// eslint-disable-next-line complexity\nfunction drawPointLegend(ctx, options, x, y, w) {\n    let type, xOffset, yOffset, size, cornerRadius, width, xOffsetW, yOffsetW;\n    const style = options.pointStyle;\n    const rotation = options.rotation;\n    const radius = options.radius;\n    let rad = (rotation || 0) * RAD_PER_DEG;\n    if (style && typeof style === 'object') {\n        type = style.toString();\n        if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n            ctx.save();\n            ctx.translate(x, y);\n            ctx.rotate(rad);\n            ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n            ctx.restore();\n            return;\n        }\n    }\n    if (isNaN(radius) || radius <= 0) {\n        return;\n    }\n    ctx.beginPath();\n    switch(style){\n        // Default includes circle\n        default:\n            if (w) {\n                ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU);\n            } else {\n                ctx.arc(x, y, radius, 0, TAU);\n            }\n            ctx.closePath();\n            break;\n        case 'triangle':\n            width = w ? w / 2 : radius;\n            ctx.moveTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            rad += TWO_THIRDS_PI;\n            ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            rad += TWO_THIRDS_PI;\n            ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            ctx.closePath();\n            break;\n        case 'rectRounded':\n            // NOTE: the rounded rect implementation changed to use `arc` instead of\n            // `quadraticCurveTo` since it generates better results when rect is\n            // almost a circle. 0.516 (instead of 0.5) produces results with visually\n            // closer proportion to the previous impl and it is inscribed in the\n            // circle with `radius`. For more details, see the following PRs:\n            // https://github.com/chartjs/Chart.js/issues/5597\n            // https://github.com/chartjs/Chart.js/issues/5858\n            cornerRadius = radius * 0.516;\n            size = radius - cornerRadius;\n            xOffset = Math.cos(rad + QUARTER_PI) * size;\n            xOffsetW = Math.cos(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n            yOffset = Math.sin(rad + QUARTER_PI) * size;\n            yOffsetW = Math.sin(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n            ctx.arc(x - xOffsetW, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n            ctx.arc(x + yOffsetW, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n            ctx.arc(x + xOffsetW, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n            ctx.arc(x - yOffsetW, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n            ctx.closePath();\n            break;\n        case 'rect':\n            if (!rotation) {\n                size = Math.SQRT1_2 * radius;\n                width = w ? w / 2 : size;\n                ctx.rect(x - width, y - size, 2 * width, 2 * size);\n                break;\n            }\n            rad += QUARTER_PI;\n        /* falls through */ case 'rectRot':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            ctx.closePath();\n            break;\n        case 'crossRot':\n            rad += QUARTER_PI;\n        /* falls through */ case 'cross':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            break;\n        case 'star':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            rad += QUARTER_PI;\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            break;\n        case 'line':\n            xOffset = w ? w / 2 : Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            ctx.moveTo(x - xOffset, y - yOffset);\n            ctx.lineTo(x + xOffset, y + yOffset);\n            break;\n        case 'dash':\n            ctx.moveTo(x, y);\n            ctx.lineTo(x + Math.cos(rad) * (w ? w / 2 : radius), y + Math.sin(rad) * radius);\n            break;\n        case false:\n            ctx.closePath();\n            break;\n    }\n    ctx.fill();\n    if (options.borderWidth > 0) {\n        ctx.stroke();\n    }\n}\n/**\n * Returns true if the point is inside the rectangle\n * @param point - The point to test\n * @param area - The rectangle\n * @param margin - allowed margin\n * @private\n */ function _isPointInArea(point, area, margin) {\n    margin = margin || 0.5; // margin - default is to match rounded decimals\n    return !area || point && point.x > area.left - margin && point.x < area.right + margin && point.y > area.top - margin && point.y < area.bottom + margin;\n}\nfunction clipArea(ctx, area) {\n    ctx.save();\n    ctx.beginPath();\n    ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n    ctx.clip();\n}\nfunction unclipArea(ctx) {\n    ctx.restore();\n}\n/**\n * @private\n */ function _steppedLineTo(ctx, previous, target, flip, mode) {\n    if (!previous) {\n        return ctx.lineTo(target.x, target.y);\n    }\n    if (mode === 'middle') {\n        const midpoint = (previous.x + target.x) / 2.0;\n        ctx.lineTo(midpoint, previous.y);\n        ctx.lineTo(midpoint, target.y);\n    } else if (mode === 'after' !== !!flip) {\n        ctx.lineTo(previous.x, target.y);\n    } else {\n        ctx.lineTo(target.x, previous.y);\n    }\n    ctx.lineTo(target.x, target.y);\n}\n/**\n * @private\n */ function _bezierCurveTo(ctx, previous, target, flip) {\n    if (!previous) {\n        return ctx.lineTo(target.x, target.y);\n    }\n    ctx.bezierCurveTo(flip ? previous.cp1x : previous.cp2x, flip ? previous.cp1y : previous.cp2y, flip ? target.cp2x : target.cp1x, flip ? target.cp2y : target.cp1y, target.x, target.y);\n}\nfunction setRenderOpts(ctx, opts) {\n    if (opts.translation) {\n        ctx.translate(opts.translation[0], opts.translation[1]);\n    }\n    if (!isNullOrUndef(opts.rotation)) {\n        ctx.rotate(opts.rotation);\n    }\n    if (opts.color) {\n        ctx.fillStyle = opts.color;\n    }\n    if (opts.textAlign) {\n        ctx.textAlign = opts.textAlign;\n    }\n    if (opts.textBaseline) {\n        ctx.textBaseline = opts.textBaseline;\n    }\n}\nfunction decorateText(ctx, x, y, line, opts) {\n    if (opts.strikethrough || opts.underline) {\n        /**\n     * Now that IE11 support has been dropped, we can use more\n     * of the TextMetrics object. The actual bounding boxes\n     * are unflagged in Chrome, Firefox, Edge, and Safari so they\n     * can be safely used.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics#Browser_compatibility\n     */ const metrics = ctx.measureText(line);\n        const left = x - metrics.actualBoundingBoxLeft;\n        const right = x + metrics.actualBoundingBoxRight;\n        const top = y - metrics.actualBoundingBoxAscent;\n        const bottom = y + metrics.actualBoundingBoxDescent;\n        const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n        ctx.strokeStyle = ctx.fillStyle;\n        ctx.beginPath();\n        ctx.lineWidth = opts.decorationWidth || 2;\n        ctx.moveTo(left, yDecoration);\n        ctx.lineTo(right, yDecoration);\n        ctx.stroke();\n    }\n}\nfunction drawBackdrop(ctx, opts) {\n    const oldColor = ctx.fillStyle;\n    ctx.fillStyle = opts.color;\n    ctx.fillRect(opts.left, opts.top, opts.width, opts.height);\n    ctx.fillStyle = oldColor;\n}\n/**\n * Render text onto the canvas\n */ function renderText(ctx, text, x, y, font, opts = {}) {\n    const lines = isArray(text) ? text : [\n        text\n    ];\n    const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n    let i, line;\n    ctx.save();\n    ctx.font = font.string;\n    setRenderOpts(ctx, opts);\n    for(i = 0; i < lines.length; ++i){\n        line = lines[i];\n        if (opts.backdrop) {\n            drawBackdrop(ctx, opts.backdrop);\n        }\n        if (stroke) {\n            if (opts.strokeColor) {\n                ctx.strokeStyle = opts.strokeColor;\n            }\n            if (!isNullOrUndef(opts.strokeWidth)) {\n                ctx.lineWidth = opts.strokeWidth;\n            }\n            ctx.strokeText(line, x, y, opts.maxWidth);\n        }\n        ctx.fillText(line, x, y, opts.maxWidth);\n        decorateText(ctx, x, y, line, opts);\n        y += Number(font.lineHeight);\n    }\n    ctx.restore();\n}\n/**\n * Add a path of a rectangle with rounded corners to the current sub-path\n * @param ctx - Context\n * @param rect - Bounding rect\n */ function addRoundedRectPath(ctx, rect) {\n    const { x , y , w , h , radius  } = rect;\n    // top left arc\n    ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, 1.5 * PI, PI, true);\n    // line from top left to bottom left\n    ctx.lineTo(x, y + h - radius.bottomLeft);\n    // bottom left arc\n    ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n    // line from bottom left to bottom right\n    ctx.lineTo(x + w - radius.bottomRight, y + h);\n    // bottom right arc\n    ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n    // line from bottom right to top right\n    ctx.lineTo(x + w, y + radius.topRight);\n    // top right arc\n    ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n    // line from top right to top left\n    ctx.lineTo(x + radius.topLeft, y);\n}\n\nconst LINE_HEIGHT = /^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/;\nconst FONT_STYLE = /^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;\n/**\n * @alias Chart.helpers.options\n * @namespace\n */ /**\n * Converts the given line height `value` in pixels for a specific font `size`.\n * @param value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').\n * @param size - The font size (in pixels) used to resolve relative `value`.\n * @returns The effective line height in pixels (size * 1.2 if value is invalid).\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\n * @since 2.7.0\n */ function toLineHeight(value, size) {\n    const matches = ('' + value).match(LINE_HEIGHT);\n    if (!matches || matches[1] === 'normal') {\n        return size * 1.2;\n    }\n    value = +matches[2];\n    switch(matches[3]){\n        case 'px':\n            return value;\n        case '%':\n            value /= 100;\n            break;\n    }\n    return size * value;\n}\nconst numberOrZero = (v)=>+v || 0;\nfunction _readValueToProps(value, props) {\n    const ret = {};\n    const objProps = isObject(props);\n    const keys = objProps ? Object.keys(props) : props;\n    const read = isObject(value) ? objProps ? (prop)=>valueOrDefault(value[prop], value[props[prop]]) : (prop)=>value[prop] : ()=>value;\n    for (const prop of keys){\n        ret[prop] = numberOrZero(read(prop));\n    }\n    return ret;\n}\n/**\n * Converts the given value into a TRBL object.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left)\n * @since 3.0.0\n */ function toTRBL(value) {\n    return _readValueToProps(value, {\n        top: 'y',\n        right: 'x',\n        bottom: 'y',\n        left: 'x'\n    });\n}\n/**\n * Converts the given value into a TRBL corners object (similar with css border-radius).\n * @param value - If a number, set the value to all TRBL corner components,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n * @returns The TRBL corner values (topLeft, topRight, bottomLeft, bottomRight)\n * @since 3.0.0\n */ function toTRBLCorners(value) {\n    return _readValueToProps(value, [\n        'topLeft',\n        'topRight',\n        'bottomLeft',\n        'bottomRight'\n    ]);\n}\n/**\n * Converts the given value into a padding object with pre-computed width/height.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left, width, height)\n * @since 2.7.0\n */ function toPadding(value) {\n    const obj = toTRBL(value);\n    obj.width = obj.left + obj.right;\n    obj.height = obj.top + obj.bottom;\n    return obj;\n}\n/**\n * Parses font options and returns the font object.\n * @param options - A object that contains font options to be parsed.\n * @param fallback - A object that contains fallback font options.\n * @return The font object.\n * @private\n */ function toFont(options, fallback) {\n    options = options || {};\n    fallback = fallback || defaults.font;\n    let size = valueOrDefault(options.size, fallback.size);\n    if (typeof size === 'string') {\n        size = parseInt(size, 10);\n    }\n    let style = valueOrDefault(options.style, fallback.style);\n    if (style && !('' + style).match(FONT_STYLE)) {\n        console.warn('Invalid font style specified: \"' + style + '\"');\n        style = undefined;\n    }\n    const font = {\n        family: valueOrDefault(options.family, fallback.family),\n        lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n        size,\n        style,\n        weight: valueOrDefault(options.weight, fallback.weight),\n        string: ''\n    };\n    font.string = toFontString(font);\n    return font;\n}\n/**\n * Evaluates the given `inputs` sequentially and returns the first defined value.\n * @param inputs - An array of values, falling back to the last value.\n * @param context - If defined and the current value is a function, the value\n * is called with `context` as first argument and the result becomes the new input.\n * @param index - If defined and the current value is an array, the value\n * at `index` become the new input.\n * @param info - object to return information about resolution in\n * @param info.cacheable - Will be set to `false` if option is not cacheable.\n * @since 2.7.0\n */ function resolve(inputs, context, index, info) {\n    let cacheable = true;\n    let i, ilen, value;\n    for(i = 0, ilen = inputs.length; i < ilen; ++i){\n        value = inputs[i];\n        if (value === undefined) {\n            continue;\n        }\n        if (context !== undefined && typeof value === 'function') {\n            value = value(context);\n            cacheable = false;\n        }\n        if (index !== undefined && isArray(value)) {\n            value = value[index % value.length];\n            cacheable = false;\n        }\n        if (value !== undefined) {\n            if (info && !cacheable) {\n                info.cacheable = false;\n            }\n            return value;\n        }\n    }\n}\n/**\n * @param minmax\n * @param grace\n * @param beginAtZero\n * @private\n */ function _addGrace(minmax, grace, beginAtZero) {\n    const { min , max  } = minmax;\n    const change = toDimension(grace, (max - min) / 2);\n    const keepZero = (value, add)=>beginAtZero && value === 0 ? 0 : value + add;\n    return {\n        min: keepZero(min, -Math.abs(change)),\n        max: keepZero(max, change)\n    };\n}\nfunction createContext(parentContext, context) {\n    return Object.assign(Object.create(parentContext), context);\n}\n\n/**\n * Creates a Proxy for resolving raw values for options.\n * @param scopes - The option scopes to look for values, in resolution order\n * @param prefixes - The prefixes for values, in resolution order.\n * @param rootScopes - The root option scopes\n * @param fallback - Parent scopes fallback\n * @param getTarget - callback for getting the target for changed values\n * @returns Proxy\n * @private\n */ function _createResolver(scopes, prefixes = [\n    ''\n], rootScopes, fallback, getTarget = ()=>scopes[0]) {\n    const finalRootScopes = rootScopes || scopes;\n    if (typeof fallback === 'undefined') {\n        fallback = _resolve('_fallback', scopes);\n    }\n    const cache = {\n        [Symbol.toStringTag]: 'Object',\n        _cacheable: true,\n        _scopes: scopes,\n        _rootScopes: finalRootScopes,\n        _fallback: fallback,\n        _getTarget: getTarget,\n        override: (scope)=>_createResolver([\n                scope,\n                ...scopes\n            ], prefixes, finalRootScopes, fallback)\n    };\n    return new Proxy(cache, {\n        /**\n     * A trap for the delete operator.\n     */ deleteProperty (target, prop) {\n            delete target[prop]; // remove from cache\n            delete target._keys; // remove cached keys\n            delete scopes[0][prop]; // remove from top level scope\n            return true;\n        },\n        /**\n     * A trap for getting property values.\n     */ get (target, prop) {\n            return _cached(target, prop, ()=>_resolveWithPrefixes(prop, prefixes, scopes, target));\n        },\n        /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */ getOwnPropertyDescriptor (target, prop) {\n            return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n        },\n        /**\n     * A trap for Object.getPrototypeOf.\n     */ getPrototypeOf () {\n            return Reflect.getPrototypeOf(scopes[0]);\n        },\n        /**\n     * A trap for the in operator.\n     */ has (target, prop) {\n            return getKeysFromAllScopes(target).includes(prop);\n        },\n        /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */ ownKeys (target) {\n            return getKeysFromAllScopes(target);\n        },\n        /**\n     * A trap for setting property values.\n     */ set (target, prop, value) {\n            const storage = target._storage || (target._storage = getTarget());\n            target[prop] = storage[prop] = value; // set to top level scope + cache\n            delete target._keys; // remove cached keys\n            return true;\n        }\n    });\n}\n/**\n * Returns an Proxy for resolving option values with context.\n * @param proxy - The Proxy returned by `_createResolver`\n * @param context - Context object for scriptable/indexable options\n * @param subProxy - The proxy provided for scriptable options\n * @param descriptorDefaults - Defaults for descriptors\n * @private\n */ function _attachContext(proxy, context, subProxy, descriptorDefaults) {\n    const cache = {\n        _cacheable: false,\n        _proxy: proxy,\n        _context: context,\n        _subProxy: subProxy,\n        _stack: new Set(),\n        _descriptors: _descriptors(proxy, descriptorDefaults),\n        setContext: (ctx)=>_attachContext(proxy, ctx, subProxy, descriptorDefaults),\n        override: (scope)=>_attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n    };\n    return new Proxy(cache, {\n        /**\n     * A trap for the delete operator.\n     */ deleteProperty (target, prop) {\n            delete target[prop]; // remove from cache\n            delete proxy[prop]; // remove from proxy\n            return true;\n        },\n        /**\n     * A trap for getting property values.\n     */ get (target, prop, receiver) {\n            return _cached(target, prop, ()=>_resolveWithContext(target, prop, receiver));\n        },\n        /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */ getOwnPropertyDescriptor (target, prop) {\n            return target._descriptors.allKeys ? Reflect.has(proxy, prop) ? {\n                enumerable: true,\n                configurable: true\n            } : undefined : Reflect.getOwnPropertyDescriptor(proxy, prop);\n        },\n        /**\n     * A trap for Object.getPrototypeOf.\n     */ getPrototypeOf () {\n            return Reflect.getPrototypeOf(proxy);\n        },\n        /**\n     * A trap for the in operator.\n     */ has (target, prop) {\n            return Reflect.has(proxy, prop);\n        },\n        /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */ ownKeys () {\n            return Reflect.ownKeys(proxy);\n        },\n        /**\n     * A trap for setting property values.\n     */ set (target, prop, value) {\n            proxy[prop] = value; // set to proxy\n            delete target[prop]; // remove from cache\n            return true;\n        }\n    });\n}\n/**\n * @private\n */ function _descriptors(proxy, defaults = {\n    scriptable: true,\n    indexable: true\n}) {\n    const { _scriptable =defaults.scriptable , _indexable =defaults.indexable , _allKeys =defaults.allKeys  } = proxy;\n    return {\n        allKeys: _allKeys,\n        scriptable: _scriptable,\n        indexable: _indexable,\n        isScriptable: isFunction(_scriptable) ? _scriptable : ()=>_scriptable,\n        isIndexable: isFunction(_indexable) ? _indexable : ()=>_indexable\n    };\n}\nconst readKey = (prefix, name)=>prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop, value)=>isObject(value) && prop !== 'adapters' && (Object.getPrototypeOf(value) === null || value.constructor === Object);\nfunction _cached(target, prop, resolve) {\n    if (Object.prototype.hasOwnProperty.call(target, prop) || prop === 'constructor') {\n        return target[prop];\n    }\n    const value = resolve();\n    // cache the resolved value\n    target[prop] = value;\n    return value;\n}\nfunction _resolveWithContext(target, prop, receiver) {\n    const { _proxy , _context , _subProxy , _descriptors: descriptors  } = target;\n    let value = _proxy[prop]; // resolve from proxy\n    // resolve with context\n    if (isFunction(value) && descriptors.isScriptable(prop)) {\n        value = _resolveScriptable(prop, value, target, receiver);\n    }\n    if (isArray(value) && value.length) {\n        value = _resolveArray(prop, value, target, descriptors.isIndexable);\n    }\n    if (needsSubResolver(prop, value)) {\n        // if the resolved value is an object, create a sub resolver for it\n        value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n    }\n    return value;\n}\nfunction _resolveScriptable(prop, getValue, target, receiver) {\n    const { _proxy , _context , _subProxy , _stack  } = target;\n    if (_stack.has(prop)) {\n        throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n    }\n    _stack.add(prop);\n    let value = getValue(_context, _subProxy || receiver);\n    _stack.delete(prop);\n    if (needsSubResolver(prop, value)) {\n        // When scriptable option returns an object, create a resolver on that.\n        value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n    }\n    return value;\n}\nfunction _resolveArray(prop, value, target, isIndexable) {\n    const { _proxy , _context , _subProxy , _descriptors: descriptors  } = target;\n    if (typeof _context.index !== 'undefined' && isIndexable(prop)) {\n        return value[_context.index % value.length];\n    } else if (isObject(value[0])) {\n        // Array of objects, return array or resolvers\n        const arr = value;\n        const scopes = _proxy._scopes.filter((s)=>s !== arr);\n        value = [];\n        for (const item of arr){\n            const resolver = createSubResolver(scopes, _proxy, prop, item);\n            value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n        }\n    }\n    return value;\n}\nfunction resolveFallback(fallback, prop, value) {\n    return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\nconst getScope = (key, parent)=>key === true ? parent : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\nfunction addScopes(set, parentScopes, key, parentFallback, value) {\n    for (const parent of parentScopes){\n        const scope = getScope(key, parent);\n        if (scope) {\n            set.add(scope);\n            const fallback = resolveFallback(scope._fallback, key, value);\n            if (typeof fallback !== 'undefined' && fallback !== key && fallback !== parentFallback) {\n                // When we reach the descriptor that defines a new _fallback, return that.\n                // The fallback will resume to that new scope.\n                return fallback;\n            }\n        } else if (scope === false && typeof parentFallback !== 'undefined' && key !== parentFallback) {\n            // Fallback to `false` results to `false`, when falling back to different key.\n            // For example `interaction` from `hover` or `plugins.tooltip` and `animation` from `animations`\n            return null;\n        }\n    }\n    return false;\n}\nfunction createSubResolver(parentScopes, resolver, prop, value) {\n    const rootScopes = resolver._rootScopes;\n    const fallback = resolveFallback(resolver._fallback, prop, value);\n    const allScopes = [\n        ...parentScopes,\n        ...rootScopes\n    ];\n    const set = new Set();\n    set.add(value);\n    let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n    if (key === null) {\n        return false;\n    }\n    if (typeof fallback !== 'undefined' && fallback !== prop) {\n        key = addScopesFromKey(set, allScopes, fallback, key, value);\n        if (key === null) {\n            return false;\n        }\n    }\n    return _createResolver(Array.from(set), [\n        ''\n    ], rootScopes, fallback, ()=>subGetTarget(resolver, prop, value));\n}\nfunction addScopesFromKey(set, allScopes, key, fallback, item) {\n    while(key){\n        key = addScopes(set, allScopes, key, fallback, item);\n    }\n    return key;\n}\nfunction subGetTarget(resolver, prop, value) {\n    const parent = resolver._getTarget();\n    if (!(prop in parent)) {\n        parent[prop] = {};\n    }\n    const target = parent[prop];\n    if (isArray(target) && isObject(value)) {\n        // For array of objects, the object is used to store updated values\n        return value;\n    }\n    return target || {};\n}\nfunction _resolveWithPrefixes(prop, prefixes, scopes, proxy) {\n    let value;\n    for (const prefix of prefixes){\n        value = _resolve(readKey(prefix, prop), scopes);\n        if (typeof value !== 'undefined') {\n            return needsSubResolver(prop, value) ? createSubResolver(scopes, proxy, prop, value) : value;\n        }\n    }\n}\nfunction _resolve(key, scopes) {\n    for (const scope of scopes){\n        if (!scope) {\n            continue;\n        }\n        const value = scope[key];\n        if (typeof value !== 'undefined') {\n            return value;\n        }\n    }\n}\nfunction getKeysFromAllScopes(target) {\n    let keys = target._keys;\n    if (!keys) {\n        keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n    }\n    return keys;\n}\nfunction resolveKeysFromAllScopes(scopes) {\n    const set = new Set();\n    for (const scope of scopes){\n        for (const key of Object.keys(scope).filter((k)=>!k.startsWith('_'))){\n            set.add(key);\n        }\n    }\n    return Array.from(set);\n}\nfunction _parseObjectDataRadialScale(meta, data, start, count) {\n    const { iScale  } = meta;\n    const { key ='r'  } = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for(i = 0, ilen = count; i < ilen; ++i){\n        index = i + start;\n        item = data[index];\n        parsed[i] = {\n            r: iScale.parse(resolveObjectKey(item, key), index)\n        };\n    }\n    return parsed;\n}\n\nconst EPSILON = Number.EPSILON || 1e-14;\nconst getPoint = (points, i)=>i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis)=>indexAxis === 'x' ? 'y' : 'x';\nfunction splineCurve(firstPoint, middlePoint, afterPoint, t) {\n    // Props to Rob Spencer at scaled innovation for his post on splining between points\n    // http://scaledinnovation.com/analytics/splines/aboutSplines.html\n    // This function must also respect \"skipped\" points\n    const previous = firstPoint.skip ? middlePoint : firstPoint;\n    const current = middlePoint;\n    const next = afterPoint.skip ? middlePoint : afterPoint;\n    const d01 = distanceBetweenPoints(current, previous);\n    const d12 = distanceBetweenPoints(next, current);\n    let s01 = d01 / (d01 + d12);\n    let s12 = d12 / (d01 + d12);\n    // If all points are the same, s01 & s02 will be inf\n    s01 = isNaN(s01) ? 0 : s01;\n    s12 = isNaN(s12) ? 0 : s12;\n    const fa = t * s01; // scaling factor for triangle Ta\n    const fb = t * s12;\n    return {\n        previous: {\n            x: current.x - fa * (next.x - previous.x),\n            y: current.y - fa * (next.y - previous.y)\n        },\n        next: {\n            x: current.x + fb * (next.x - previous.x),\n            y: current.y + fb * (next.y - previous.y)\n        }\n    };\n}\n/**\n * Adjust tangents to ensure monotonic properties\n */ function monotoneAdjust(points, deltaK, mK) {\n    const pointsLen = points.length;\n    let alphaK, betaK, tauK, squaredMagnitude, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(let i = 0; i < pointsLen - 1; ++i){\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent || !pointAfter) {\n            continue;\n        }\n        if (almostEquals(deltaK[i], 0, EPSILON)) {\n            mK[i] = mK[i + 1] = 0;\n            continue;\n        }\n        alphaK = mK[i] / deltaK[i];\n        betaK = mK[i + 1] / deltaK[i];\n        squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n        if (squaredMagnitude <= 9) {\n            continue;\n        }\n        tauK = 3 / Math.sqrt(squaredMagnitude);\n        mK[i] = alphaK * tauK * deltaK[i];\n        mK[i + 1] = betaK * tauK * deltaK[i];\n    }\n}\nfunction monotoneCompute(points, mK, indexAxis = 'x') {\n    const valueAxis = getValueAxis(indexAxis);\n    const pointsLen = points.length;\n    let delta, pointBefore, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(let i = 0; i < pointsLen; ++i){\n        pointBefore = pointCurrent;\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent) {\n            continue;\n        }\n        const iPixel = pointCurrent[indexAxis];\n        const vPixel = pointCurrent[valueAxis];\n        if (pointBefore) {\n            delta = (iPixel - pointBefore[indexAxis]) / 3;\n            pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n            pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n        }\n        if (pointAfter) {\n            delta = (pointAfter[indexAxis] - iPixel) / 3;\n            pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n            pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n        }\n    }\n}\n/**\n * This function calculates Bézier control points in a similar way than |splineCurve|,\n * but preserves monotonicity of the provided data and ensures no local extremums are added\n * between the dataset discrete points due to the interpolation.\n * See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\n */ function splineCurveMonotone(points, indexAxis = 'x') {\n    const valueAxis = getValueAxis(indexAxis);\n    const pointsLen = points.length;\n    const deltaK = Array(pointsLen).fill(0);\n    const mK = Array(pointsLen);\n    // Calculate slopes (deltaK) and initialize tangents (mK)\n    let i, pointBefore, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(i = 0; i < pointsLen; ++i){\n        pointBefore = pointCurrent;\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent) {\n            continue;\n        }\n        if (pointAfter) {\n            const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n            // In the case of two points that appear at the same x pixel, slopeDeltaX is 0\n            deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n        }\n        mK[i] = !pointBefore ? deltaK[i] : !pointAfter ? deltaK[i - 1] : sign(deltaK[i - 1]) !== sign(deltaK[i]) ? 0 : (deltaK[i - 1] + deltaK[i]) / 2;\n    }\n    monotoneAdjust(points, deltaK, mK);\n    monotoneCompute(points, mK, indexAxis);\n}\nfunction capControlPoint(pt, min, max) {\n    return Math.max(Math.min(pt, max), min);\n}\nfunction capBezierPoints(points, area) {\n    let i, ilen, point, inArea, inAreaPrev;\n    let inAreaNext = _isPointInArea(points[0], area);\n    for(i = 0, ilen = points.length; i < ilen; ++i){\n        inAreaPrev = inArea;\n        inArea = inAreaNext;\n        inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n        if (!inArea) {\n            continue;\n        }\n        point = points[i];\n        if (inAreaPrev) {\n            point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n            point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n        }\n        if (inAreaNext) {\n            point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n            point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n        }\n    }\n}\n/**\n * @private\n */ function _updateBezierControlPoints(points, options, area, loop, indexAxis) {\n    let i, ilen, point, controlPoints;\n    // Only consider points that are drawn in case the spanGaps option is used\n    if (options.spanGaps) {\n        points = points.filter((pt)=>!pt.skip);\n    }\n    if (options.cubicInterpolationMode === 'monotone') {\n        splineCurveMonotone(points, indexAxis);\n    } else {\n        let prev = loop ? points[points.length - 1] : points[0];\n        for(i = 0, ilen = points.length; i < ilen; ++i){\n            point = points[i];\n            controlPoints = splineCurve(prev, point, points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen], options.tension);\n            point.cp1x = controlPoints.previous.x;\n            point.cp1y = controlPoints.previous.y;\n            point.cp2x = controlPoints.next.x;\n            point.cp2y = controlPoints.next.y;\n            prev = point;\n        }\n    }\n    if (options.capBezierPoints) {\n        capBezierPoints(points, area);\n    }\n}\n\n/**\n * @private\n */ function _isDomSupported() {\n    return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n/**\n * @private\n */ function _getParentNode(domNode) {\n    let parent = domNode.parentNode;\n    if (parent && parent.toString() === '[object ShadowRoot]') {\n        parent = parent.host;\n    }\n    return parent;\n}\n/**\n * convert max-width/max-height values that may be percentages into a number\n * @private\n */ function parseMaxStyle(styleValue, node, parentProperty) {\n    let valueInPixels;\n    if (typeof styleValue === 'string') {\n        valueInPixels = parseInt(styleValue, 10);\n        if (styleValue.indexOf('%') !== -1) {\n            // percentage * size in dimension\n            valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n        }\n    } else {\n        valueInPixels = styleValue;\n    }\n    return valueInPixels;\n}\nconst getComputedStyle = (element)=>element.ownerDocument.defaultView.getComputedStyle(element, null);\nfunction getStyle(el, property) {\n    return getComputedStyle(el).getPropertyValue(property);\n}\nconst positions = [\n    'top',\n    'right',\n    'bottom',\n    'left'\n];\nfunction getPositionedStyle(styles, style, suffix) {\n    const result = {};\n    suffix = suffix ? '-' + suffix : '';\n    for(let i = 0; i < 4; i++){\n        const pos = positions[i];\n        result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n    }\n    result.width = result.left + result.right;\n    result.height = result.top + result.bottom;\n    return result;\n}\nconst useOffsetPos = (x, y, target)=>(x > 0 || y > 0) && (!target || !target.shadowRoot);\n/**\n * @param e\n * @param canvas\n * @returns Canvas position\n */ function getCanvasPosition(e, canvas) {\n    const touches = e.touches;\n    const source = touches && touches.length ? touches[0] : e;\n    const { offsetX , offsetY  } = source;\n    let box = false;\n    let x, y;\n    if (useOffsetPos(offsetX, offsetY, e.target)) {\n        x = offsetX;\n        y = offsetY;\n    } else {\n        const rect = canvas.getBoundingClientRect();\n        x = source.clientX - rect.left;\n        y = source.clientY - rect.top;\n        box = true;\n    }\n    return {\n        x,\n        y,\n        box\n    };\n}\n/**\n * Gets an event's x, y coordinates, relative to the chart area\n * @param event\n * @param chart\n * @returns x and y coordinates of the event\n */ function getRelativePosition(event, chart) {\n    if ('native' in event) {\n        return event;\n    }\n    const { canvas , currentDevicePixelRatio  } = chart;\n    const style = getComputedStyle(canvas);\n    const borderBox = style.boxSizing === 'border-box';\n    const paddings = getPositionedStyle(style, 'padding');\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const { x , y , box  } = getCanvasPosition(event, canvas);\n    const xOffset = paddings.left + (box && borders.left);\n    const yOffset = paddings.top + (box && borders.top);\n    let { width , height  } = chart;\n    if (borderBox) {\n        width -= paddings.width + borders.width;\n        height -= paddings.height + borders.height;\n    }\n    return {\n        x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n        y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n    };\n}\nfunction getContainerSize(canvas, width, height) {\n    let maxWidth, maxHeight;\n    if (width === undefined || height === undefined) {\n        const container = canvas && _getParentNode(canvas);\n        if (!container) {\n            width = canvas.clientWidth;\n            height = canvas.clientHeight;\n        } else {\n            const rect = container.getBoundingClientRect(); // this is the border box of the container\n            const containerStyle = getComputedStyle(container);\n            const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n            const containerPadding = getPositionedStyle(containerStyle, 'padding');\n            width = rect.width - containerPadding.width - containerBorder.width;\n            height = rect.height - containerPadding.height - containerBorder.height;\n            maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n            maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n        }\n    }\n    return {\n        width,\n        height,\n        maxWidth: maxWidth || INFINITY,\n        maxHeight: maxHeight || INFINITY\n    };\n}\nconst round1 = (v)=>Math.round(v * 10) / 10;\n// eslint-disable-next-line complexity\nfunction getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {\n    const style = getComputedStyle(canvas);\n    const margins = getPositionedStyle(style, 'margin');\n    const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n    const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n    const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n    let { width , height  } = containerSize;\n    if (style.boxSizing === 'content-box') {\n        const borders = getPositionedStyle(style, 'border', 'width');\n        const paddings = getPositionedStyle(style, 'padding');\n        width -= paddings.width + borders.width;\n        height -= paddings.height + borders.height;\n    }\n    width = Math.max(0, width - margins.width);\n    height = Math.max(0, aspectRatio ? width / aspectRatio : height - margins.height);\n    width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n    height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n    if (width && !height) {\n        // https://github.com/chartjs/Chart.js/issues/4659\n        // If the canvas has width, but no height, default to aspectRatio of 2 (canvas default)\n        height = round1(width / 2);\n    }\n    const maintainHeight = bbWidth !== undefined || bbHeight !== undefined;\n    if (maintainHeight && aspectRatio && containerSize.height && height > containerSize.height) {\n        height = containerSize.height;\n        width = round1(Math.floor(height * aspectRatio));\n    }\n    return {\n        width,\n        height\n    };\n}\n/**\n * @param chart\n * @param forceRatio\n * @param forceStyle\n * @returns True if the canvas context size or transformation has changed.\n */ function retinaScale(chart, forceRatio, forceStyle) {\n    const pixelRatio = forceRatio || 1;\n    const deviceHeight = Math.floor(chart.height * pixelRatio);\n    const deviceWidth = Math.floor(chart.width * pixelRatio);\n    chart.height = Math.floor(chart.height);\n    chart.width = Math.floor(chart.width);\n    const canvas = chart.canvas;\n    // If no style has been set on the canvas, the render size is used as display size,\n    // making the chart visually bigger, so let's enforce it to the \"correct\" values.\n    // See https://github.com/chartjs/Chart.js/issues/3575\n    if (canvas.style && (forceStyle || !canvas.style.height && !canvas.style.width)) {\n        canvas.style.height = `${chart.height}px`;\n        canvas.style.width = `${chart.width}px`;\n    }\n    if (chart.currentDevicePixelRatio !== pixelRatio || canvas.height !== deviceHeight || canvas.width !== deviceWidth) {\n        chart.currentDevicePixelRatio = pixelRatio;\n        canvas.height = deviceHeight;\n        canvas.width = deviceWidth;\n        chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n        return true;\n    }\n    return false;\n}\n/**\n * Detects support for options object argument in addEventListener.\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n * @private\n */ const supportsEventListenerOptions = function() {\n    let passiveSupported = false;\n    try {\n        const options = {\n            get passive () {\n                passiveSupported = true;\n                return false;\n            }\n        };\n        if (_isDomSupported()) {\n            window.addEventListener('test', null, options);\n            window.removeEventListener('test', null, options);\n        }\n    } catch (e) {\n    // continue regardless of error\n    }\n    return passiveSupported;\n}();\n/**\n * The \"used\" size is the final value of a dimension property after all calculations have\n * been performed. This method uses the computed style of `element` but returns undefined\n * if the computed style is not expressed in pixels. That can happen in some cases where\n * `element` has a size relative to its parent and this last one is not yet displayed,\n * for example because of `display: none` on a parent node.\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\n * @returns Size in pixels or undefined if unknown.\n */ function readUsedSize(element, property) {\n    const value = getStyle(element, property);\n    const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n    return matches ? +matches[1] : undefined;\n}\n\n/**\n * @private\n */ function _pointInLine(p1, p2, t, mode) {\n    return {\n        x: p1.x + t * (p2.x - p1.x),\n        y: p1.y + t * (p2.y - p1.y)\n    };\n}\n/**\n * @private\n */ function _steppedInterpolation(p1, p2, t, mode) {\n    return {\n        x: p1.x + t * (p2.x - p1.x),\n        y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y : mode === 'after' ? t < 1 ? p1.y : p2.y : t > 0 ? p2.y : p1.y\n    };\n}\n/**\n * @private\n */ function _bezierInterpolation(p1, p2, t, mode) {\n    const cp1 = {\n        x: p1.cp2x,\n        y: p1.cp2y\n    };\n    const cp2 = {\n        x: p2.cp1x,\n        y: p2.cp1y\n    };\n    const a = _pointInLine(p1, cp1, t);\n    const b = _pointInLine(cp1, cp2, t);\n    const c = _pointInLine(cp2, p2, t);\n    const d = _pointInLine(a, b, t);\n    const e = _pointInLine(b, c, t);\n    return _pointInLine(d, e, t);\n}\n\nconst getRightToLeftAdapter = function(rectX, width) {\n    return {\n        x (x) {\n            return rectX + rectX + width - x;\n        },\n        setWidth (w) {\n            width = w;\n        },\n        textAlign (align) {\n            if (align === 'center') {\n                return align;\n            }\n            return align === 'right' ? 'left' : 'right';\n        },\n        xPlus (x, value) {\n            return x - value;\n        },\n        leftForLtr (x, itemWidth) {\n            return x - itemWidth;\n        }\n    };\n};\nconst getLeftToRightAdapter = function() {\n    return {\n        x (x) {\n            return x;\n        },\n        setWidth (w) {},\n        textAlign (align) {\n            return align;\n        },\n        xPlus (x, value) {\n            return x + value;\n        },\n        leftForLtr (x, _itemWidth) {\n            return x;\n        }\n    };\n};\nfunction getRtlAdapter(rtl, rectX, width) {\n    return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\nfunction overrideTextDirection(ctx, direction) {\n    let style, original;\n    if (direction === 'ltr' || direction === 'rtl') {\n        style = ctx.canvas.style;\n        original = [\n            style.getPropertyValue('direction'),\n            style.getPropertyPriority('direction')\n        ];\n        style.setProperty('direction', direction, 'important');\n        ctx.prevTextDirection = original;\n    }\n}\nfunction restoreTextDirection(ctx, original) {\n    if (original !== undefined) {\n        delete ctx.prevTextDirection;\n        ctx.canvas.style.setProperty('direction', original[0], original[1]);\n    }\n}\n\nfunction propertyFn(property) {\n    if (property === 'angle') {\n        return {\n            between: _angleBetween,\n            compare: _angleDiff,\n            normalize: _normalizeAngle\n        };\n    }\n    return {\n        between: _isBetween,\n        compare: (a, b)=>a - b,\n        normalize: (x)=>x\n    };\n}\nfunction normalizeSegment({ start , end , count , loop , style  }) {\n    return {\n        start: start % count,\n        end: end % count,\n        loop: loop && (end - start + 1) % count === 0,\n        style\n    };\n}\nfunction getSegment(segment, points, bounds) {\n    const { property , start: startBound , end: endBound  } = bounds;\n    const { between , normalize  } = propertyFn(property);\n    const count = points.length;\n    let { start , end , loop  } = segment;\n    let i, ilen;\n    if (loop) {\n        start += count;\n        end += count;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n                break;\n            }\n            start--;\n            end--;\n        }\n        start %= count;\n        end %= count;\n    }\n    if (end < start) {\n        end += count;\n    }\n    return {\n        start,\n        end,\n        loop,\n        style: segment.style\n    };\n}\n function _boundSegment(segment, points, bounds) {\n    if (!bounds) {\n        return [\n            segment\n        ];\n    }\n    const { property , start: startBound , end: endBound  } = bounds;\n    const count = points.length;\n    const { compare , between , normalize  } = propertyFn(property);\n    const { start , end , loop , style  } = getSegment(segment, points, bounds);\n    const result = [];\n    let inside = false;\n    let subStart = null;\n    let value, point, prevValue;\n    const startIsBefore = ()=>between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n    const endIsBefore = ()=>compare(endBound, value) === 0 || between(endBound, prevValue, value);\n    const shouldStart = ()=>inside || startIsBefore();\n    const shouldStop = ()=>!inside || endIsBefore();\n    for(let i = start, prev = start; i <= end; ++i){\n        point = points[i % count];\n        if (point.skip) {\n            continue;\n        }\n        value = normalize(point[property]);\n        if (value === prevValue) {\n            continue;\n        }\n        inside = between(value, startBound, endBound);\n        if (subStart === null && shouldStart()) {\n            subStart = compare(value, startBound) === 0 ? i : prev;\n        }\n        if (subStart !== null && shouldStop()) {\n            result.push(normalizeSegment({\n                start: subStart,\n                end: i,\n                loop,\n                count,\n                style\n            }));\n            subStart = null;\n        }\n        prev = i;\n        prevValue = value;\n    }\n    if (subStart !== null) {\n        result.push(normalizeSegment({\n            start: subStart,\n            end,\n            loop,\n            count,\n            style\n        }));\n    }\n    return result;\n}\n function _boundSegments(line, bounds) {\n    const result = [];\n    const segments = line.segments;\n    for(let i = 0; i < segments.length; i++){\n        const sub = _boundSegment(segments[i], line.points, bounds);\n        if (sub.length) {\n            result.push(...sub);\n        }\n    }\n    return result;\n}\n function findStartAndEnd(points, count, loop, spanGaps) {\n    let start = 0;\n    let end = count - 1;\n    if (loop && !spanGaps) {\n        while(start < count && !points[start].skip){\n            start++;\n        }\n    }\n    while(start < count && points[start].skip){\n        start++;\n    }\n    start %= count;\n    if (loop) {\n        end += start;\n    }\n    while(end > start && points[end % count].skip){\n        end--;\n    }\n    end %= count;\n    return {\n        start,\n        end\n    };\n}\n function solidSegments(points, start, max, loop) {\n    const count = points.length;\n    const result = [];\n    let last = start;\n    let prev = points[start];\n    let end;\n    for(end = start + 1; end <= max; ++end){\n        const cur = points[end % count];\n        if (cur.skip || cur.stop) {\n            if (!prev.skip) {\n                loop = false;\n                result.push({\n                    start: start % count,\n                    end: (end - 1) % count,\n                    loop\n                });\n                start = last = cur.stop ? end : null;\n            }\n        } else {\n            last = end;\n            if (prev.skip) {\n                start = end;\n            }\n        }\n        prev = cur;\n    }\n    if (last !== null) {\n        result.push({\n            start: start % count,\n            end: last % count,\n            loop\n        });\n    }\n    return result;\n}\n function _computeSegments(line, segmentOptions) {\n    const points = line.points;\n    const spanGaps = line.options.spanGaps;\n    const count = points.length;\n    if (!count) {\n        return [];\n    }\n    const loop = !!line._loop;\n    const { start , end  } = findStartAndEnd(points, count, loop, spanGaps);\n    if (spanGaps === true) {\n        return splitByStyles(line, [\n            {\n                start,\n                end,\n                loop\n            }\n        ], points, segmentOptions);\n    }\n    const max = end < start ? end + count : end;\n    const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n    return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\n function splitByStyles(line, segments, points, segmentOptions) {\n    if (!segmentOptions || !segmentOptions.setContext || !points) {\n        return segments;\n    }\n    return doSplitByStyles(line, segments, points, segmentOptions);\n}\n function doSplitByStyles(line, segments, points, segmentOptions) {\n    const chartContext = line._chart.getContext();\n    const baseStyle = readStyle(line.options);\n    const { _datasetIndex: datasetIndex , options: { spanGaps  }  } = line;\n    const count = points.length;\n    const result = [];\n    let prevStyle = baseStyle;\n    let start = segments[0].start;\n    let i = start;\n    function addStyle(s, e, l, st) {\n        const dir = spanGaps ? -1 : 1;\n        if (s === e) {\n            return;\n        }\n        s += count;\n        while(points[s % count].skip){\n            s -= dir;\n        }\n        while(points[e % count].skip){\n            e += dir;\n        }\n        if (s % count !== e % count) {\n            result.push({\n                start: s % count,\n                end: e % count,\n                loop: l,\n                style: st\n            });\n            prevStyle = st;\n            start = e % count;\n        }\n    }\n    for (const segment of segments){\n        start = spanGaps ? start : segment.start;\n        let prev = points[start % count];\n        let style;\n        for(i = start + 1; i <= segment.end; i++){\n            const pt = points[i % count];\n            style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n                type: 'segment',\n                p0: prev,\n                p1: pt,\n                p0DataIndex: (i - 1) % count,\n                p1DataIndex: i % count,\n                datasetIndex\n            })));\n            if (styleChanged(style, prevStyle)) {\n                addStyle(start, i - 1, segment.loop, prevStyle);\n            }\n            prev = pt;\n            prevStyle = style;\n        }\n        if (start < i - 1) {\n            addStyle(start, i - 1, segment.loop, prevStyle);\n        }\n    }\n    return result;\n}\nfunction readStyle(options) {\n    return {\n        backgroundColor: options.backgroundColor,\n        borderCapStyle: options.borderCapStyle,\n        borderDash: options.borderDash,\n        borderDashOffset: options.borderDashOffset,\n        borderJoinStyle: options.borderJoinStyle,\n        borderWidth: options.borderWidth,\n        borderColor: options.borderColor\n    };\n}\nfunction styleChanged(style, prevStyle) {\n    if (!prevStyle) {\n        return false;\n    }\n    const cache = [];\n    const replacer = function(key, value) {\n        if (!isPatternOrGradient(value)) {\n            return value;\n        }\n        if (!cache.includes(value)) {\n            cache.push(value);\n        }\n        return cache.indexOf(value);\n    };\n    return JSON.stringify(style, replacer) !== JSON.stringify(prevStyle, replacer);\n}\n\nfunction getSizeForArea(scale, chartArea, field) {\n    return scale.options.clip ? scale[field] : chartArea[field];\n}\nfunction getDatasetArea(meta, chartArea) {\n    const { xScale , yScale  } = meta;\n    if (xScale && yScale) {\n        return {\n            left: getSizeForArea(xScale, chartArea, 'left'),\n            right: getSizeForArea(xScale, chartArea, 'right'),\n            top: getSizeForArea(yScale, chartArea, 'top'),\n            bottom: getSizeForArea(yScale, chartArea, 'bottom')\n        };\n    }\n    return chartArea;\n}\nfunction getDatasetClipArea(chart, meta) {\n    const clip = meta._clip;\n    if (clip.disabled) {\n        return false;\n    }\n    const area = getDatasetArea(meta, chart.chartArea);\n    return {\n        left: clip.left === false ? 0 : area.left - (clip.left === true ? 0 : clip.left),\n        right: clip.right === false ? chart.width : area.right + (clip.right === true ? 0 : clip.right),\n        top: clip.top === false ? 0 : area.top - (clip.top === true ? 0 : clip.top),\n        bottom: clip.bottom === false ? chart.height : area.bottom + (clip.bottom === true ? 0 : clip.bottom)\n    };\n}\n\nexport { unclipArea as $, _rlookupByKey as A, _lookupByKey as B, _isPointInArea as C, getAngleFromPoint as D, toPadding as E, each as F, getMaximumSize as G, HALF_PI as H, _getParentNode as I, readUsedSize as J, supportsEventListenerOptions as K, throttled as L, _isDomSupported as M, _factorize as N, finiteOrDefault as O, PI as P, callback as Q, _addGrace as R, _limitValue as S, TAU as T, toDegrees as U, _measureText as V, _int16Range as W, _alignPixel as X, clipArea as Y, renderText as Z, _arrayUnique as _, resolve as a, getStyle as a$, toFont as a0, _toLeftRightCenter as a1, _alignStartEnd as a2, overrides as a3, merge as a4, _capitalize as a5, descriptors as a6, isFunction as a7, _attachContext as a8, _createResolver as a9, getRtlAdapter as aA, overrideTextDirection as aB, _textX as aC, restoreTextDirection as aD, drawPointLegend as aE, distanceBetweenPoints as aF, noop as aG, _setMinAndMaxByKey as aH, niceNum as aI, almostWhole as aJ, almostEquals as aK, _decimalPlaces as aL, Ticks as aM, log10 as aN, _longestText as aO, _filterBetween as aP, _lookup as aQ, isPatternOrGradient as aR, getHoverColor as aS, clone as aT, _merger as aU, _mergerIf as aV, _deprecated as aW, _splitKey as aX, toFontString as aY, splineCurve as aZ, splineCurveMonotone as a_, _descriptors as aa, mergeIf as ab, uid as ac, debounce as ad, retinaScale as ae, clearCanvas as af, setsEqual as ag, getDatasetClipArea as ah, _elementsEqual as ai, _isClickEvent as aj, _isBetween as ak, _readValueToProps as al, _updateBezierControlPoints as am, _computeSegments as an, _boundSegments as ao, _steppedInterpolation as ap, _bezierInterpolation as aq, _pointInLine as ar, _steppedLineTo as as, _bezierCurveTo as at, drawPoint as au, addRoundedRectPath as av, toTRBL as aw, toTRBLCorners as ax, _boundSegment as ay, _normalizeAngle as az, isArray as b, fontString as b0, toLineHeight as b1, PITAU as b2, INFINITY as b3, RAD_PER_DEG as b4, QUARTER_PI as b5, TWO_THIRDS_PI as b6, _angleDiff as b7, color as c, defaults as d, effects as e, resolveObjectKey as f, isNumberFinite as g, defined as h, isObject as i, createContext as j, isNullOrUndef as k, listenArrayEvents as l, toPercentage as m, toDimension as n, formatNumber as o, _angleBetween as p, _getStartAndCountOfVisiblePoints as q, requestAnimFrame as r, sign as s, toRadians as t, unlistenArrayEvents as u, valueOrDefault as v, _scaleRangesChanged as w, isNumber as x, _parseObjectDataRadialScale as y, getRelativePosition as z };\n//# sourceMappingURL=helpers.dataset.js.map\n","/*!\n * Chart.js v4.4.9\n * https://www.chartjs.org\n * (c) 2025 Chart.js Contributors\n * Released under the MIT License\n */\nimport { r as requestAnimFrame, a as resolve, e as effects, c as color, i as isObject, d as defaults, b as isArray, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as defined, s as sign, j as createContext, k as isNullOrUndef, _ as _arrayUnique, t as toRadians, m as toPercentage, n as toDimension, T as TAU, o as formatNumber, p as _angleBetween, H as HALF_PI, P as PI, q as _getStartAndCountOfVisiblePoints, w as _scaleRangesChanged, x as isNumber, y as _parseObjectDataRadialScale, z as getRelativePosition, A as _rlookupByKey, B as _lookupByKey, C as _isPointInArea, D as getAngleFromPoint, E as toPadding, F as each, G as getMaximumSize, I as _getParentNode, J as readUsedSize, K as supportsEventListenerOptions, L as throttled, M as _isDomSupported, N as _factorize, O as finiteOrDefault, Q as callback, R as _addGrace, S as _limitValue, U as toDegrees, V as _measureText, W as _int16Range, X as _alignPixel, Y as clipArea, Z as renderText, $ as unclipArea, a0 as toFont, a1 as _toLeftRightCenter, a2 as _alignStartEnd, a3 as overrides, a4 as merge, a5 as _capitalize, a6 as descriptors, a7 as isFunction, a8 as _attachContext, a9 as _createResolver, aa as _descriptors, ab as mergeIf, ac as uid, ad as debounce, ae as retinaScale, af as clearCanvas, ag as setsEqual, ah as getDatasetClipArea, ai as _elementsEqual, aj as _isClickEvent, ak as _isBetween, al as _readValueToProps, am as _updateBezierControlPoints, an as _computeSegments, ao as _boundSegments, ap as _steppedInterpolation, aq as _bezierInterpolation, ar as _pointInLine, as as _steppedLineTo, at as _bezierCurveTo, au as drawPoint, av as addRoundedRectPath, aw as toTRBL, ax as toTRBLCorners, ay as _boundSegment, az as _normalizeAngle, aA as getRtlAdapter, aB as overrideTextDirection, aC as _textX, aD as restoreTextDirection, aE as drawPointLegend, aF as distanceBetweenPoints, aG as noop, aH as _setMinAndMaxByKey, aI as niceNum, aJ as almostWhole, aK as almostEquals, aL as _decimalPlaces, aM as Ticks, aN as log10, aO as _longestText, aP as _filterBetween, aQ as _lookup } from './chunks/helpers.dataset.js';\nimport '@kurkle/color';\n\nclass Animator {\n    constructor(){\n        this._request = null;\n        this._charts = new Map();\n        this._running = false;\n        this._lastDate = undefined;\n    }\n _notify(chart, anims, date, type) {\n        const callbacks = anims.listeners[type];\n        const numSteps = anims.duration;\n        callbacks.forEach((fn)=>fn({\n                chart,\n                initial: anims.initial,\n                numSteps,\n                currentStep: Math.min(date - anims.start, numSteps)\n            }));\n    }\n _refresh() {\n        if (this._request) {\n            return;\n        }\n        this._running = true;\n        this._request = requestAnimFrame.call(window, ()=>{\n            this._update();\n            this._request = null;\n            if (this._running) {\n                this._refresh();\n            }\n        });\n    }\n _update(date = Date.now()) {\n        let remaining = 0;\n        this._charts.forEach((anims, chart)=>{\n            if (!anims.running || !anims.items.length) {\n                return;\n            }\n            const items = anims.items;\n            let i = items.length - 1;\n            let draw = false;\n            let item;\n            for(; i >= 0; --i){\n                item = items[i];\n                if (item._active) {\n                    if (item._total > anims.duration) {\n                        anims.duration = item._total;\n                    }\n                    item.tick(date);\n                    draw = true;\n                } else {\n                    items[i] = items[items.length - 1];\n                    items.pop();\n                }\n            }\n            if (draw) {\n                chart.draw();\n                this._notify(chart, anims, date, 'progress');\n            }\n            if (!items.length) {\n                anims.running = false;\n                this._notify(chart, anims, date, 'complete');\n                anims.initial = false;\n            }\n            remaining += items.length;\n        });\n        this._lastDate = date;\n        if (remaining === 0) {\n            this._running = false;\n        }\n    }\n _getAnims(chart) {\n        const charts = this._charts;\n        let anims = charts.get(chart);\n        if (!anims) {\n            anims = {\n                running: false,\n                initial: true,\n                items: [],\n                listeners: {\n                    complete: [],\n                    progress: []\n                }\n            };\n            charts.set(chart, anims);\n        }\n        return anims;\n    }\n listen(chart, event, cb) {\n        this._getAnims(chart).listeners[event].push(cb);\n    }\n add(chart, items) {\n        if (!items || !items.length) {\n            return;\n        }\n        this._getAnims(chart).items.push(...items);\n    }\n has(chart) {\n        return this._getAnims(chart).items.length > 0;\n    }\n start(chart) {\n        const anims = this._charts.get(chart);\n        if (!anims) {\n            return;\n        }\n        anims.running = true;\n        anims.start = Date.now();\n        anims.duration = anims.items.reduce((acc, cur)=>Math.max(acc, cur._duration), 0);\n        this._refresh();\n    }\n    running(chart) {\n        if (!this._running) {\n            return false;\n        }\n        const anims = this._charts.get(chart);\n        if (!anims || !anims.running || !anims.items.length) {\n            return false;\n        }\n        return true;\n    }\n stop(chart) {\n        const anims = this._charts.get(chart);\n        if (!anims || !anims.items.length) {\n            return;\n        }\n        const items = anims.items;\n        let i = items.length - 1;\n        for(; i >= 0; --i){\n            items[i].cancel();\n        }\n        anims.items = [];\n        this._notify(chart, anims, Date.now(), 'complete');\n    }\n remove(chart) {\n        return this._charts.delete(chart);\n    }\n}\nvar animator = /* #__PURE__ */ new Animator();\n\nconst transparent = 'transparent';\nconst interpolators = {\n    boolean (from, to, factor) {\n        return factor > 0.5 ? to : from;\n    },\n color (from, to, factor) {\n        const c0 = color(from || transparent);\n        const c1 = c0.valid && color(to || transparent);\n        return c1 && c1.valid ? c1.mix(c0, factor).hexString() : to;\n    },\n    number (from, to, factor) {\n        return from + (to - from) * factor;\n    }\n};\nclass Animation {\n    constructor(cfg, target, prop, to){\n        const currentValue = target[prop];\n        to = resolve([\n            cfg.to,\n            to,\n            currentValue,\n            cfg.from\n        ]);\n        const from = resolve([\n            cfg.from,\n            currentValue,\n            to\n        ]);\n        this._active = true;\n        this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n        this._easing = effects[cfg.easing] || effects.linear;\n        this._start = Math.floor(Date.now() + (cfg.delay || 0));\n        this._duration = this._total = Math.floor(cfg.duration);\n        this._loop = !!cfg.loop;\n        this._target = target;\n        this._prop = prop;\n        this._from = from;\n        this._to = to;\n        this._promises = undefined;\n    }\n    active() {\n        return this._active;\n    }\n    update(cfg, to, date) {\n        if (this._active) {\n            this._notify(false);\n            const currentValue = this._target[this._prop];\n            const elapsed = date - this._start;\n            const remain = this._duration - elapsed;\n            this._start = date;\n            this._duration = Math.floor(Math.max(remain, cfg.duration));\n            this._total += elapsed;\n            this._loop = !!cfg.loop;\n            this._to = resolve([\n                cfg.to,\n                to,\n                currentValue,\n                cfg.from\n            ]);\n            this._from = resolve([\n                cfg.from,\n                currentValue,\n                to\n            ]);\n        }\n    }\n    cancel() {\n        if (this._active) {\n            this.tick(Date.now());\n            this._active = false;\n            this._notify(false);\n        }\n    }\n    tick(date) {\n        const elapsed = date - this._start;\n        const duration = this._duration;\n        const prop = this._prop;\n        const from = this._from;\n        const loop = this._loop;\n        const to = this._to;\n        let factor;\n        this._active = from !== to && (loop || elapsed < duration);\n        if (!this._active) {\n            this._target[prop] = to;\n            this._notify(true);\n            return;\n        }\n        if (elapsed < 0) {\n            this._target[prop] = from;\n            return;\n        }\n        factor = elapsed / duration % 2;\n        factor = loop && factor > 1 ? 2 - factor : factor;\n        factor = this._easing(Math.min(1, Math.max(0, factor)));\n        this._target[prop] = this._fn(from, to, factor);\n    }\n    wait() {\n        const promises = this._promises || (this._promises = []);\n        return new Promise((res, rej)=>{\n            promises.push({\n                res,\n                rej\n            });\n        });\n    }\n    _notify(resolved) {\n        const method = resolved ? 'res' : 'rej';\n        const promises = this._promises || [];\n        for(let i = 0; i < promises.length; i++){\n            promises[i][method]();\n        }\n    }\n}\n\nclass Animations {\n    constructor(chart, config){\n        this._chart = chart;\n        this._properties = new Map();\n        this.configure(config);\n    }\n    configure(config) {\n        if (!isObject(config)) {\n            return;\n        }\n        const animationOptions = Object.keys(defaults.animation);\n        const animatedProps = this._properties;\n        Object.getOwnPropertyNames(config).forEach((key)=>{\n            const cfg = config[key];\n            if (!isObject(cfg)) {\n                return;\n            }\n            const resolved = {};\n            for (const option of animationOptions){\n                resolved[option] = cfg[option];\n            }\n            (isArray(cfg.properties) && cfg.properties || [\n                key\n            ]).forEach((prop)=>{\n                if (prop === key || !animatedProps.has(prop)) {\n                    animatedProps.set(prop, resolved);\n                }\n            });\n        });\n    }\n _animateOptions(target, values) {\n        const newOptions = values.options;\n        const options = resolveTargetOptions(target, newOptions);\n        if (!options) {\n            return [];\n        }\n        const animations = this._createAnimations(options, newOptions);\n        if (newOptions.$shared) {\n            awaitAll(target.options.$animations, newOptions).then(()=>{\n                target.options = newOptions;\n            }, ()=>{\n            });\n        }\n        return animations;\n    }\n _createAnimations(target, values) {\n        const animatedProps = this._properties;\n        const animations = [];\n        const running = target.$animations || (target.$animations = {});\n        const props = Object.keys(values);\n        const date = Date.now();\n        let i;\n        for(i = props.length - 1; i >= 0; --i){\n            const prop = props[i];\n            if (prop.charAt(0) === '$') {\n                continue;\n            }\n            if (prop === 'options') {\n                animations.push(...this._animateOptions(target, values));\n                continue;\n            }\n            const value = values[prop];\n            let animation = running[prop];\n            const cfg = animatedProps.get(prop);\n            if (animation) {\n                if (cfg && animation.active()) {\n                    animation.update(cfg, value, date);\n                    continue;\n                } else {\n                    animation.cancel();\n                }\n            }\n            if (!cfg || !cfg.duration) {\n                target[prop] = value;\n                continue;\n            }\n            running[prop] = animation = new Animation(cfg, target, prop, value);\n            animations.push(animation);\n        }\n        return animations;\n    }\n update(target, values) {\n        if (this._properties.size === 0) {\n            Object.assign(target, values);\n            return;\n        }\n        const animations = this._createAnimations(target, values);\n        if (animations.length) {\n            animator.add(this._chart, animations);\n            return true;\n        }\n    }\n}\nfunction awaitAll(animations, properties) {\n    const running = [];\n    const keys = Object.keys(properties);\n    for(let i = 0; i < keys.length; i++){\n        const anim = animations[keys[i]];\n        if (anim && anim.active()) {\n            running.push(anim.wait());\n        }\n    }\n    return Promise.all(running);\n}\nfunction resolveTargetOptions(target, newOptions) {\n    if (!newOptions) {\n        return;\n    }\n    let options = target.options;\n    if (!options) {\n        target.options = newOptions;\n        return;\n    }\n    if (options.$shared) {\n        target.options = options = Object.assign({}, options, {\n            $shared: false,\n            $animations: {}\n        });\n    }\n    return options;\n}\n\nfunction scaleClip(scale, allowedOverflow) {\n    const opts = scale && scale.options || {};\n    const reverse = opts.reverse;\n    const min = opts.min === undefined ? allowedOverflow : 0;\n    const max = opts.max === undefined ? allowedOverflow : 0;\n    return {\n        start: reverse ? max : min,\n        end: reverse ? min : max\n    };\n}\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n    if (allowedOverflow === false) {\n        return false;\n    }\n    const x = scaleClip(xScale, allowedOverflow);\n    const y = scaleClip(yScale, allowedOverflow);\n    return {\n        top: y.end,\n        right: x.end,\n        bottom: y.start,\n        left: x.start\n    };\n}\nfunction toClip(value) {\n    let t, r, b, l;\n    if (isObject(value)) {\n        t = value.top;\n        r = value.right;\n        b = value.bottom;\n        l = value.left;\n    } else {\n        t = r = b = l = value;\n    }\n    return {\n        top: t,\n        right: r,\n        bottom: b,\n        left: l,\n        disabled: value === false\n    };\n}\nfunction getSortedDatasetIndices(chart, filterVisible) {\n    const keys = [];\n    const metasets = chart._getSortedDatasetMetas(filterVisible);\n    let i, ilen;\n    for(i = 0, ilen = metasets.length; i < ilen; ++i){\n        keys.push(metasets[i].index);\n    }\n    return keys;\n}\nfunction applyStack(stack, value, dsIndex, options = {}) {\n    const keys = stack.keys;\n    const singleMode = options.mode === 'single';\n    let i, ilen, datasetIndex, otherValue;\n    if (value === null) {\n        return;\n    }\n    let found = false;\n    for(i = 0, ilen = keys.length; i < ilen; ++i){\n        datasetIndex = +keys[i];\n        if (datasetIndex === dsIndex) {\n            found = true;\n            if (options.all) {\n                continue;\n            }\n            break;\n        }\n        otherValue = stack.values[datasetIndex];\n        if (isNumberFinite(otherValue) && (singleMode || value === 0 || sign(value) === sign(otherValue))) {\n            value += otherValue;\n        }\n    }\n    if (!found && !options.all) {\n        return 0;\n    }\n    return value;\n}\nfunction convertObjectDataToArray(data, meta) {\n    const { iScale , vScale  } = meta;\n    const iAxisKey = iScale.axis === 'x' ? 'x' : 'y';\n    const vAxisKey = vScale.axis === 'x' ? 'x' : 'y';\n    const keys = Object.keys(data);\n    const adata = new Array(keys.length);\n    let i, ilen, key;\n    for(i = 0, ilen = keys.length; i < ilen; ++i){\n        key = keys[i];\n        adata[i] = {\n            [iAxisKey]: key,\n            [vAxisKey]: data[key]\n        };\n    }\n    return adata;\n}\nfunction isStacked(scale, meta) {\n    const stacked = scale && scale.options.stacked;\n    return stacked || stacked === undefined && meta.stack !== undefined;\n}\nfunction getStackKey(indexScale, valueScale, meta) {\n    return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\nfunction getUserBounds(scale) {\n    const { min , max , minDefined , maxDefined  } = scale.getUserBounds();\n    return {\n        min: minDefined ? min : Number.NEGATIVE_INFINITY,\n        max: maxDefined ? max : Number.POSITIVE_INFINITY\n    };\n}\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n    const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n    return subStack[indexValue] || (subStack[indexValue] = {});\n}\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n    for (const meta of vScale.getMatchingVisibleMetas(type).reverse()){\n        const value = stack[meta.index];\n        if (positive && value > 0 || !positive && value < 0) {\n            return meta.index;\n        }\n    }\n    return null;\n}\nfunction updateStacks(controller, parsed) {\n    const { chart , _cachedMeta: meta  } = controller;\n    const stacks = chart._stacks || (chart._stacks = {});\n    const { iScale , vScale , index: datasetIndex  } = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const key = getStackKey(iScale, vScale, meta);\n    const ilen = parsed.length;\n    let stack;\n    for(let i = 0; i < ilen; ++i){\n        const item = parsed[i];\n        const { [iAxis]: index , [vAxis]: value  } = item;\n        const itemStacks = item._stacks || (item._stacks = {});\n        stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n        stack[datasetIndex] = value;\n        stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n        stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n        const visualValues = stack._visualValues || (stack._visualValues = {});\n        visualValues[datasetIndex] = value;\n    }\n}\nfunction getFirstScaleId(chart, axis) {\n    const scales = chart.scales;\n    return Object.keys(scales).filter((key)=>scales[key].axis === axis).shift();\n}\nfunction createDatasetContext(parent, index) {\n    return createContext(parent, {\n        active: false,\n        dataset: undefined,\n        datasetIndex: index,\n        index,\n        mode: 'default',\n        type: 'dataset'\n    });\n}\nfunction createDataContext(parent, index, element) {\n    return createContext(parent, {\n        active: false,\n        dataIndex: index,\n        parsed: undefined,\n        raw: undefined,\n        element,\n        index,\n        mode: 'default',\n        type: 'data'\n    });\n}\nfunction clearStacks(meta, items) {\n    const datasetIndex = meta.controller.index;\n    const axis = meta.vScale && meta.vScale.axis;\n    if (!axis) {\n        return;\n    }\n    items = items || meta._parsed;\n    for (const parsed of items){\n        const stacks = parsed._stacks;\n        if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n            return;\n        }\n        delete stacks[axis][datasetIndex];\n        if (stacks[axis]._visualValues !== undefined && stacks[axis]._visualValues[datasetIndex] !== undefined) {\n            delete stacks[axis]._visualValues[datasetIndex];\n        }\n    }\n}\nconst isDirectUpdateMode = (mode)=>mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared)=>shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart)=>canStack && !meta.hidden && meta._stacked && {\n        keys: getSortedDatasetIndices(chart, true),\n        values: null\n    };\nclass DatasetController {\n static defaults = {};\n static datasetElementType = null;\n static dataElementType = null;\n constructor(chart, datasetIndex){\n        this.chart = chart;\n        this._ctx = chart.ctx;\n        this.index = datasetIndex;\n        this._cachedDataOpts = {};\n        this._cachedMeta = this.getMeta();\n        this._type = this._cachedMeta.type;\n        this.options = undefined;\n         this._parsing = false;\n        this._data = undefined;\n        this._objectData = undefined;\n        this._sharedOptions = undefined;\n        this._drawStart = undefined;\n        this._drawCount = undefined;\n        this.enableOptionSharing = false;\n        this.supportsDecimation = false;\n        this.$context = undefined;\n        this._syncList = [];\n        this.datasetElementType = new.target.datasetElementType;\n        this.dataElementType = new.target.dataElementType;\n        this.initialize();\n    }\n    initialize() {\n        const meta = this._cachedMeta;\n        this.configure();\n        this.linkScales();\n        meta._stacked = isStacked(meta.vScale, meta);\n        this.addElements();\n        if (this.options.fill && !this.chart.isPluginEnabled('filler')) {\n            console.warn(\"Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options\");\n        }\n    }\n    updateIndex(datasetIndex) {\n        if (this.index !== datasetIndex) {\n            clearStacks(this._cachedMeta);\n        }\n        this.index = datasetIndex;\n    }\n    linkScales() {\n        const chart = this.chart;\n        const meta = this._cachedMeta;\n        const dataset = this.getDataset();\n        const chooseId = (axis, x, y, r)=>axis === 'x' ? x : axis === 'r' ? r : y;\n        const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n        const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n        const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n        const indexAxis = meta.indexAxis;\n        const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n        const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n        meta.xScale = this.getScaleForId(xid);\n        meta.yScale = this.getScaleForId(yid);\n        meta.rScale = this.getScaleForId(rid);\n        meta.iScale = this.getScaleForId(iid);\n        meta.vScale = this.getScaleForId(vid);\n    }\n    getDataset() {\n        return this.chart.data.datasets[this.index];\n    }\n    getMeta() {\n        return this.chart.getDatasetMeta(this.index);\n    }\n getScaleForId(scaleID) {\n        return this.chart.scales[scaleID];\n    }\n _getOtherScale(scale) {\n        const meta = this._cachedMeta;\n        return scale === meta.iScale ? meta.vScale : meta.iScale;\n    }\n    reset() {\n        this._update('reset');\n    }\n _destroy() {\n        const meta = this._cachedMeta;\n        if (this._data) {\n            unlistenArrayEvents(this._data, this);\n        }\n        if (meta._stacked) {\n            clearStacks(meta);\n        }\n    }\n _dataCheck() {\n        const dataset = this.getDataset();\n        const data = dataset.data || (dataset.data = []);\n        const _data = this._data;\n        if (isObject(data)) {\n            const meta = this._cachedMeta;\n            this._data = convertObjectDataToArray(data, meta);\n        } else if (_data !== data) {\n            if (_data) {\n                unlistenArrayEvents(_data, this);\n                const meta = this._cachedMeta;\n                clearStacks(meta);\n                meta._parsed = [];\n            }\n            if (data && Object.isExtensible(data)) {\n                listenArrayEvents(data, this);\n            }\n            this._syncList = [];\n            this._data = data;\n        }\n    }\n    addElements() {\n        const meta = this._cachedMeta;\n        this._dataCheck();\n        if (this.datasetElementType) {\n            meta.dataset = new this.datasetElementType();\n        }\n    }\n    buildOrUpdateElements(resetNewElements) {\n        const meta = this._cachedMeta;\n        const dataset = this.getDataset();\n        let stackChanged = false;\n        this._dataCheck();\n        const oldStacked = meta._stacked;\n        meta._stacked = isStacked(meta.vScale, meta);\n        if (meta.stack !== dataset.stack) {\n            stackChanged = true;\n            clearStacks(meta);\n            meta.stack = dataset.stack;\n        }\n        this._resyncElements(resetNewElements);\n        if (stackChanged || oldStacked !== meta._stacked) {\n            updateStacks(this, meta._parsed);\n            meta._stacked = isStacked(meta.vScale, meta);\n        }\n    }\n configure() {\n        const config = this.chart.config;\n        const scopeKeys = config.datasetScopeKeys(this._type);\n        const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n        this.options = config.createResolver(scopes, this.getContext());\n        this._parsing = this.options.parsing;\n        this._cachedDataOpts = {};\n    }\n parse(start, count) {\n        const { _cachedMeta: meta , _data: data  } = this;\n        const { iScale , _stacked  } = meta;\n        const iAxis = iScale.axis;\n        let sorted = start === 0 && count === data.length ? true : meta._sorted;\n        let prev = start > 0 && meta._parsed[start - 1];\n        let i, cur, parsed;\n        if (this._parsing === false) {\n            meta._parsed = data;\n            meta._sorted = true;\n            parsed = data;\n        } else {\n            if (isArray(data[start])) {\n                parsed = this.parseArrayData(meta, data, start, count);\n            } else if (isObject(data[start])) {\n                parsed = this.parseObjectData(meta, data, start, count);\n            } else {\n                parsed = this.parsePrimitiveData(meta, data, start, count);\n            }\n            const isNotInOrderComparedToPrev = ()=>cur[iAxis] === null || prev && cur[iAxis] < prev[iAxis];\n            for(i = 0; i < count; ++i){\n                meta._parsed[i + start] = cur = parsed[i];\n                if (sorted) {\n                    if (isNotInOrderComparedToPrev()) {\n                        sorted = false;\n                    }\n                    prev = cur;\n                }\n            }\n            meta._sorted = sorted;\n        }\n        if (_stacked) {\n            updateStacks(this, parsed);\n        }\n    }\n parsePrimitiveData(meta, data, start, count) {\n        const { iScale , vScale  } = meta;\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        const labels = iScale.getLabels();\n        const singleScale = iScale === vScale;\n        const parsed = new Array(count);\n        let i, ilen, index;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            index = i + start;\n            parsed[i] = {\n                [iAxis]: singleScale || iScale.parse(labels[index], index),\n                [vAxis]: vScale.parse(data[index], index)\n            };\n        }\n        return parsed;\n    }\n parseArrayData(meta, data, start, count) {\n        const { xScale , yScale  } = meta;\n        const parsed = new Array(count);\n        let i, ilen, index, item;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            index = i + start;\n            item = data[index];\n            parsed[i] = {\n                x: xScale.parse(item[0], index),\n                y: yScale.parse(item[1], index)\n            };\n        }\n        return parsed;\n    }\n parseObjectData(meta, data, start, count) {\n        const { xScale , yScale  } = meta;\n        const { xAxisKey ='x' , yAxisKey ='y'  } = this._parsing;\n        const parsed = new Array(count);\n        let i, ilen, index, item;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            index = i + start;\n            item = data[index];\n            parsed[i] = {\n                x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n                y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n            };\n        }\n        return parsed;\n    }\n getParsed(index) {\n        return this._cachedMeta._parsed[index];\n    }\n getDataElement(index) {\n        return this._cachedMeta.data[index];\n    }\n applyStack(scale, parsed, mode) {\n        const chart = this.chart;\n        const meta = this._cachedMeta;\n        const value = parsed[scale.axis];\n        const stack = {\n            keys: getSortedDatasetIndices(chart, true),\n            values: parsed._stacks[scale.axis]._visualValues\n        };\n        return applyStack(stack, value, meta.index, {\n            mode\n        });\n    }\n updateRangeFromParsed(range, scale, parsed, stack) {\n        const parsedValue = parsed[scale.axis];\n        let value = parsedValue === null ? NaN : parsedValue;\n        const values = stack && parsed._stacks[scale.axis];\n        if (stack && values) {\n            stack.values = values;\n            value = applyStack(stack, parsedValue, this._cachedMeta.index);\n        }\n        range.min = Math.min(range.min, value);\n        range.max = Math.max(range.max, value);\n    }\n getMinMax(scale, canStack) {\n        const meta = this._cachedMeta;\n        const _parsed = meta._parsed;\n        const sorted = meta._sorted && scale === meta.iScale;\n        const ilen = _parsed.length;\n        const otherScale = this._getOtherScale(scale);\n        const stack = createStack(canStack, meta, this.chart);\n        const range = {\n            min: Number.POSITIVE_INFINITY,\n            max: Number.NEGATIVE_INFINITY\n        };\n        const { min: otherMin , max: otherMax  } = getUserBounds(otherScale);\n        let i, parsed;\n        function _skip() {\n            parsed = _parsed[i];\n            const otherValue = parsed[otherScale.axis];\n            return !isNumberFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n        }\n        for(i = 0; i < ilen; ++i){\n            if (_skip()) {\n                continue;\n            }\n            this.updateRangeFromParsed(range, scale, parsed, stack);\n            if (sorted) {\n                break;\n            }\n        }\n        if (sorted) {\n            for(i = ilen - 1; i >= 0; --i){\n                if (_skip()) {\n                    continue;\n                }\n                this.updateRangeFromParsed(range, scale, parsed, stack);\n                break;\n            }\n        }\n        return range;\n    }\n    getAllParsedValues(scale) {\n        const parsed = this._cachedMeta._parsed;\n        const values = [];\n        let i, ilen, value;\n        for(i = 0, ilen = parsed.length; i < ilen; ++i){\n            value = parsed[i][scale.axis];\n            if (isNumberFinite(value)) {\n                values.push(value);\n            }\n        }\n        return values;\n    }\n getMaxOverflow() {\n        return false;\n    }\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const iScale = meta.iScale;\n        const vScale = meta.vScale;\n        const parsed = this.getParsed(index);\n        return {\n            label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n            value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n        };\n    }\n _update(mode) {\n        const meta = this._cachedMeta;\n        this.update(mode || 'default');\n        meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n    }\n update(mode) {}\n    draw() {\n        const ctx = this._ctx;\n        const chart = this.chart;\n        const meta = this._cachedMeta;\n        const elements = meta.data || [];\n        const area = chart.chartArea;\n        const active = [];\n        const start = this._drawStart || 0;\n        const count = this._drawCount || elements.length - start;\n        const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\n        let i;\n        if (meta.dataset) {\n            meta.dataset.draw(ctx, area, start, count);\n        }\n        for(i = start; i < start + count; ++i){\n            const element = elements[i];\n            if (element.hidden) {\n                continue;\n            }\n            if (element.active && drawActiveElementsOnTop) {\n                active.push(element);\n            } else {\n                element.draw(ctx, area);\n            }\n        }\n        for(i = 0; i < active.length; ++i){\n            active[i].draw(ctx, area);\n        }\n    }\n getStyle(index, active) {\n        const mode = active ? 'active' : 'default';\n        return index === undefined && this._cachedMeta.dataset ? this.resolveDatasetElementOptions(mode) : this.resolveDataElementOptions(index || 0, mode);\n    }\n getContext(index, active, mode) {\n        const dataset = this.getDataset();\n        let context;\n        if (index >= 0 && index < this._cachedMeta.data.length) {\n            const element = this._cachedMeta.data[index];\n            context = element.$context || (element.$context = createDataContext(this.getContext(), index, element));\n            context.parsed = this.getParsed(index);\n            context.raw = dataset.data[index];\n            context.index = context.dataIndex = index;\n        } else {\n            context = this.$context || (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n            context.dataset = dataset;\n            context.index = context.datasetIndex = this.index;\n        }\n        context.active = !!active;\n        context.mode = mode;\n        return context;\n    }\n resolveDatasetElementOptions(mode) {\n        return this._resolveElementOptions(this.datasetElementType.id, mode);\n    }\n resolveDataElementOptions(index, mode) {\n        return this._resolveElementOptions(this.dataElementType.id, mode, index);\n    }\n _resolveElementOptions(elementType, mode = 'default', index) {\n        const active = mode === 'active';\n        const cache = this._cachedDataOpts;\n        const cacheKey = elementType + '-' + mode;\n        const cached = cache[cacheKey];\n        const sharing = this.enableOptionSharing && defined(index);\n        if (cached) {\n            return cloneIfNotShared(cached, sharing);\n        }\n        const config = this.chart.config;\n        const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n        const prefixes = active ? [\n            `${elementType}Hover`,\n            'hover',\n            elementType,\n            ''\n        ] : [\n            elementType,\n            ''\n        ];\n        const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n        const names = Object.keys(defaults.elements[elementType]);\n        const context = ()=>this.getContext(index, active, mode);\n        const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n        if (values.$shared) {\n            values.$shared = sharing;\n            cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n        }\n        return values;\n    }\n _resolveAnimations(index, transition, active) {\n        const chart = this.chart;\n        const cache = this._cachedDataOpts;\n        const cacheKey = `animation-${transition}`;\n        const cached = cache[cacheKey];\n        if (cached) {\n            return cached;\n        }\n        let options;\n        if (chart.options.animation !== false) {\n            const config = this.chart.config;\n            const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n            const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n            options = config.createResolver(scopes, this.getContext(index, active, transition));\n        }\n        const animations = new Animations(chart, options && options.animations);\n        if (options && options._cacheable) {\n            cache[cacheKey] = Object.freeze(animations);\n        }\n        return animations;\n    }\n getSharedOptions(options) {\n        if (!options.$shared) {\n            return;\n        }\n        return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n    }\n includeOptions(mode, sharedOptions) {\n        return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n    }\n _getSharedOptions(start, mode) {\n        const firstOpts = this.resolveDataElementOptions(start, mode);\n        const previouslySharedOptions = this._sharedOptions;\n        const sharedOptions = this.getSharedOptions(firstOpts);\n        const includeOptions = this.includeOptions(mode, sharedOptions) || sharedOptions !== previouslySharedOptions;\n        this.updateSharedOptions(sharedOptions, mode, firstOpts);\n        return {\n            sharedOptions,\n            includeOptions\n        };\n    }\n updateElement(element, index, properties, mode) {\n        if (isDirectUpdateMode(mode)) {\n            Object.assign(element, properties);\n        } else {\n            this._resolveAnimations(index, mode).update(element, properties);\n        }\n    }\n updateSharedOptions(sharedOptions, mode, newOptions) {\n        if (sharedOptions && !isDirectUpdateMode(mode)) {\n            this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n        }\n    }\n _setStyle(element, index, mode, active) {\n        element.active = active;\n        const options = this.getStyle(index, active);\n        this._resolveAnimations(index, mode, active).update(element, {\n            options: !active && this.getSharedOptions(options) || options\n        });\n    }\n    removeHoverStyle(element, datasetIndex, index) {\n        this._setStyle(element, index, 'active', false);\n    }\n    setHoverStyle(element, datasetIndex, index) {\n        this._setStyle(element, index, 'active', true);\n    }\n _removeDatasetHoverStyle() {\n        const element = this._cachedMeta.dataset;\n        if (element) {\n            this._setStyle(element, undefined, 'active', false);\n        }\n    }\n _setDatasetHoverStyle() {\n        const element = this._cachedMeta.dataset;\n        if (element) {\n            this._setStyle(element, undefined, 'active', true);\n        }\n    }\n _resyncElements(resetNewElements) {\n        const data = this._data;\n        const elements = this._cachedMeta.data;\n        for (const [method, arg1, arg2] of this._syncList){\n            this[method](arg1, arg2);\n        }\n        this._syncList = [];\n        const numMeta = elements.length;\n        const numData = data.length;\n        const count = Math.min(numData, numMeta);\n        if (count) {\n            this.parse(0, count);\n        }\n        if (numData > numMeta) {\n            this._insertElements(numMeta, numData - numMeta, resetNewElements);\n        } else if (numData < numMeta) {\n            this._removeElements(numData, numMeta - numData);\n        }\n    }\n _insertElements(start, count, resetNewElements = true) {\n        const meta = this._cachedMeta;\n        const data = meta.data;\n        const end = start + count;\n        let i;\n        const move = (arr)=>{\n            arr.length += count;\n            for(i = arr.length - 1; i >= end; i--){\n                arr[i] = arr[i - count];\n            }\n        };\n        move(data);\n        for(i = start; i < end; ++i){\n            data[i] = new this.dataElementType();\n        }\n        if (this._parsing) {\n            move(meta._parsed);\n        }\n        this.parse(start, count);\n        if (resetNewElements) {\n            this.updateElements(data, start, count, 'reset');\n        }\n    }\n    updateElements(element, start, count, mode) {}\n _removeElements(start, count) {\n        const meta = this._cachedMeta;\n        if (this._parsing) {\n            const removed = meta._parsed.splice(start, count);\n            if (meta._stacked) {\n                clearStacks(meta, removed);\n            }\n        }\n        meta.data.splice(start, count);\n    }\n _sync(args) {\n        if (this._parsing) {\n            this._syncList.push(args);\n        } else {\n            const [method, arg1, arg2] = args;\n            this[method](arg1, arg2);\n        }\n        this.chart._dataChanges.push([\n            this.index,\n            ...args\n        ]);\n    }\n    _onDataPush() {\n        const count = arguments.length;\n        this._sync([\n            '_insertElements',\n            this.getDataset().data.length - count,\n            count\n        ]);\n    }\n    _onDataPop() {\n        this._sync([\n            '_removeElements',\n            this._cachedMeta.data.length - 1,\n            1\n        ]);\n    }\n    _onDataShift() {\n        this._sync([\n            '_removeElements',\n            0,\n            1\n        ]);\n    }\n    _onDataSplice(start, count) {\n        if (count) {\n            this._sync([\n                '_removeElements',\n                start,\n                count\n            ]);\n        }\n        const newCount = arguments.length - 2;\n        if (newCount) {\n            this._sync([\n                '_insertElements',\n                start,\n                newCount\n            ]);\n        }\n    }\n    _onDataUnshift() {\n        this._sync([\n            '_insertElements',\n            0,\n            arguments.length\n        ]);\n    }\n}\n\nfunction getAllScaleValues(scale, type) {\n    if (!scale._cache.$bar) {\n        const visibleMetas = scale.getMatchingVisibleMetas(type);\n        let values = [];\n        for(let i = 0, ilen = visibleMetas.length; i < ilen; i++){\n            values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n        }\n        scale._cache.$bar = _arrayUnique(values.sort((a, b)=>a - b));\n    }\n    return scale._cache.$bar;\n}\n function computeMinSampleSize(meta) {\n    const scale = meta.iScale;\n    const values = getAllScaleValues(scale, meta.type);\n    let min = scale._length;\n    let i, ilen, curr, prev;\n    const updateMinAndPrev = ()=>{\n        if (curr === 32767 || curr === -32768) {\n            return;\n        }\n        if (defined(prev)) {\n            min = Math.min(min, Math.abs(curr - prev) || min);\n        }\n        prev = curr;\n    };\n    for(i = 0, ilen = values.length; i < ilen; ++i){\n        curr = scale.getPixelForValue(values[i]);\n        updateMinAndPrev();\n    }\n    prev = undefined;\n    for(i = 0, ilen = scale.ticks.length; i < ilen; ++i){\n        curr = scale.getPixelForTick(i);\n        updateMinAndPrev();\n    }\n    return min;\n}\n function computeFitCategoryTraits(index, ruler, options, stackCount) {\n    const thickness = options.barThickness;\n    let size, ratio;\n    if (isNullOrUndef(thickness)) {\n        size = ruler.min * options.categoryPercentage;\n        ratio = options.barPercentage;\n    } else {\n        size = thickness * stackCount;\n        ratio = 1;\n    }\n    return {\n        chunk: size / stackCount,\n        ratio,\n        start: ruler.pixels[index] - size / 2\n    };\n}\n function computeFlexCategoryTraits(index, ruler, options, stackCount) {\n    const pixels = ruler.pixels;\n    const curr = pixels[index];\n    let prev = index > 0 ? pixels[index - 1] : null;\n    let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n    const percent = options.categoryPercentage;\n    if (prev === null) {\n        prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n    }\n    if (next === null) {\n        next = curr + curr - prev;\n    }\n    const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n    const size = Math.abs(next - prev) / 2 * percent;\n    return {\n        chunk: size / stackCount,\n        ratio: options.barPercentage,\n        start\n    };\n}\nfunction parseFloatBar(entry, item, vScale, i) {\n    const startValue = vScale.parse(entry[0], i);\n    const endValue = vScale.parse(entry[1], i);\n    const min = Math.min(startValue, endValue);\n    const max = Math.max(startValue, endValue);\n    let barStart = min;\n    let barEnd = max;\n    if (Math.abs(min) > Math.abs(max)) {\n        barStart = max;\n        barEnd = min;\n    }\n    item[vScale.axis] = barEnd;\n    item._custom = {\n        barStart,\n        barEnd,\n        start: startValue,\n        end: endValue,\n        min,\n        max\n    };\n}\nfunction parseValue(entry, item, vScale, i) {\n    if (isArray(entry)) {\n        parseFloatBar(entry, item, vScale, i);\n    } else {\n        item[vScale.axis] = vScale.parse(entry, i);\n    }\n    return item;\n}\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = [];\n    let i, ilen, item, entry;\n    for(i = start, ilen = start + count; i < ilen; ++i){\n        entry = data[i];\n        item = {};\n        item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n        parsed.push(parseValue(entry, item, vScale, i));\n    }\n    return parsed;\n}\nfunction isFloatBar(custom) {\n    return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\nfunction barSign(size, vScale, actualBase) {\n    if (size !== 0) {\n        return sign(size);\n    }\n    return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\nfunction borderProps(properties) {\n    let reverse, start, end, top, bottom;\n    if (properties.horizontal) {\n        reverse = properties.base > properties.x;\n        start = 'left';\n        end = 'right';\n    } else {\n        reverse = properties.base < properties.y;\n        start = 'bottom';\n        end = 'top';\n    }\n    if (reverse) {\n        top = 'end';\n        bottom = 'start';\n    } else {\n        top = 'start';\n        bottom = 'end';\n    }\n    return {\n        start,\n        end,\n        reverse,\n        top,\n        bottom\n    };\n}\nfunction setBorderSkipped(properties, options, stack, index) {\n    let edge = options.borderSkipped;\n    const res = {};\n    if (!edge) {\n        properties.borderSkipped = res;\n        return;\n    }\n    if (edge === true) {\n        properties.borderSkipped = {\n            top: true,\n            right: true,\n            bottom: true,\n            left: true\n        };\n        return;\n    }\n    const { start , end , reverse , top , bottom  } = borderProps(properties);\n    if (edge === 'middle' && stack) {\n        properties.enableBorderRadius = true;\n        if ((stack._top || 0) === index) {\n            edge = top;\n        } else if ((stack._bottom || 0) === index) {\n            edge = bottom;\n        } else {\n            res[parseEdge(bottom, start, end, reverse)] = true;\n            edge = top;\n        }\n    }\n    res[parseEdge(edge, start, end, reverse)] = true;\n    properties.borderSkipped = res;\n}\nfunction parseEdge(edge, a, b, reverse) {\n    if (reverse) {\n        edge = swap(edge, a, b);\n        edge = startEnd(edge, b, a);\n    } else {\n        edge = startEnd(edge, a, b);\n    }\n    return edge;\n}\nfunction swap(orig, v1, v2) {\n    return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\nfunction startEnd(v, start, end) {\n    return v === 'start' ? start : v === 'end' ? end : v;\n}\nfunction setInflateAmount(properties, { inflateAmount  }, ratio) {\n    properties.inflateAmount = inflateAmount === 'auto' ? ratio === 1 ? 0.33 : 0 : inflateAmount;\n}\nclass BarController extends DatasetController {\n    static id = 'bar';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'bar',\n        categoryPercentage: 0.8,\n        barPercentage: 0.9,\n        grouped: true,\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'base',\n                    'width',\n                    'height'\n                ]\n            }\n        }\n    };\n static overrides = {\n        scales: {\n            _index_: {\n                type: 'category',\n                offset: true,\n                grid: {\n                    offset: true\n                }\n            },\n            _value_: {\n                type: 'linear',\n                beginAtZero: true\n            }\n        }\n    };\n parsePrimitiveData(meta, data, start, count) {\n        return parseArrayOrPrimitive(meta, data, start, count);\n    }\n parseArrayData(meta, data, start, count) {\n        return parseArrayOrPrimitive(meta, data, start, count);\n    }\n parseObjectData(meta, data, start, count) {\n        const { iScale , vScale  } = meta;\n        const { xAxisKey ='x' , yAxisKey ='y'  } = this._parsing;\n        const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n        const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n        const parsed = [];\n        let i, ilen, item, obj;\n        for(i = start, ilen = start + count; i < ilen; ++i){\n            obj = data[i];\n            item = {};\n            item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n            parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n        }\n        return parsed;\n    }\n updateRangeFromParsed(range, scale, parsed, stack) {\n        super.updateRangeFromParsed(range, scale, parsed, stack);\n        const custom = parsed._custom;\n        if (custom && scale === this._cachedMeta.vScale) {\n            range.min = Math.min(range.min, custom.min);\n            range.max = Math.max(range.max, custom.max);\n        }\n    }\n getMaxOverflow() {\n        return 0;\n    }\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const { iScale , vScale  } = meta;\n        const parsed = this.getParsed(index);\n        const custom = parsed._custom;\n        const value = isFloatBar(custom) ? '[' + custom.start + ', ' + custom.end + ']' : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n        return {\n            label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n            value\n        };\n    }\n    initialize() {\n        this.enableOptionSharing = true;\n        super.initialize();\n        const meta = this._cachedMeta;\n        meta.stack = this.getDataset().stack;\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        this.updateElements(meta.data, 0, meta.data.length, mode);\n    }\n    updateElements(bars, start, count, mode) {\n        const reset = mode === 'reset';\n        const { index , _cachedMeta: { vScale  }  } = this;\n        const base = vScale.getBasePixel();\n        const horizontal = vScale.isHorizontal();\n        const ruler = this._getRuler();\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        for(let i = start; i < start + count; i++){\n            const parsed = this.getParsed(i);\n            const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {\n                base,\n                head: base\n            } : this._calculateBarValuePixels(i);\n            const ipixels = this._calculateBarIndexPixels(i, ruler);\n            const stack = (parsed._stacks || {})[vScale.axis];\n            const properties = {\n                horizontal,\n                base: vpixels.base,\n                enableBorderRadius: !stack || isFloatBar(parsed._custom) || index === stack._top || index === stack._bottom,\n                x: horizontal ? vpixels.head : ipixels.center,\n                y: horizontal ? ipixels.center : vpixels.head,\n                height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n                width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n            };\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n            }\n            const options = properties.options || bars[i].options;\n            setBorderSkipped(properties, options, stack, index);\n            setInflateAmount(properties, options, ruler.ratio);\n            this.updateElement(bars[i], i, properties, mode);\n        }\n    }\n _getStacks(last, dataIndex) {\n        const { iScale  } = this._cachedMeta;\n        const metasets = iScale.getMatchingVisibleMetas(this._type).filter((meta)=>meta.controller.options.grouped);\n        const stacked = iScale.options.stacked;\n        const stacks = [];\n        const currentParsed = this._cachedMeta.controller.getParsed(dataIndex);\n        const iScaleValue = currentParsed && currentParsed[iScale.axis];\n        const skipNull = (meta)=>{\n            const parsed = meta._parsed.find((item)=>item[iScale.axis] === iScaleValue);\n            const val = parsed && parsed[meta.vScale.axis];\n            if (isNullOrUndef(val) || isNaN(val)) {\n                return true;\n            }\n        };\n        for (const meta of metasets){\n            if (dataIndex !== undefined && skipNull(meta)) {\n                continue;\n            }\n            if (stacked === false || stacks.indexOf(meta.stack) === -1 || stacked === undefined && meta.stack === undefined) {\n                stacks.push(meta.stack);\n            }\n            if (meta.index === last) {\n                break;\n            }\n        }\n        if (!stacks.length) {\n            stacks.push(undefined);\n        }\n        return stacks;\n    }\n _getStackCount(index) {\n        return this._getStacks(undefined, index).length;\n    }\n _getStackIndex(datasetIndex, name, dataIndex) {\n        const stacks = this._getStacks(datasetIndex, dataIndex);\n        const index = name !== undefined ? stacks.indexOf(name) : -1;\n        return index === -1 ? stacks.length - 1 : index;\n    }\n _getRuler() {\n        const opts = this.options;\n        const meta = this._cachedMeta;\n        const iScale = meta.iScale;\n        const pixels = [];\n        let i, ilen;\n        for(i = 0, ilen = meta.data.length; i < ilen; ++i){\n            pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n        }\n        const barThickness = opts.barThickness;\n        const min = barThickness || computeMinSampleSize(meta);\n        return {\n            min,\n            pixels,\n            start: iScale._startPixel,\n            end: iScale._endPixel,\n            stackCount: this._getStackCount(),\n            scale: iScale,\n            grouped: opts.grouped,\n            ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n        };\n    }\n _calculateBarValuePixels(index) {\n        const { _cachedMeta: { vScale , _stacked , index: datasetIndex  } , options: { base: baseValue , minBarLength  }  } = this;\n        const actualBase = baseValue || 0;\n        const parsed = this.getParsed(index);\n        const custom = parsed._custom;\n        const floating = isFloatBar(custom);\n        let value = parsed[vScale.axis];\n        let start = 0;\n        let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n        let head, size;\n        if (length !== value) {\n            start = length - value;\n            length = value;\n        }\n        if (floating) {\n            value = custom.barStart;\n            length = custom.barEnd - custom.barStart;\n            if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n                start = 0;\n            }\n            start += value;\n        }\n        const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n        let base = vScale.getPixelForValue(startValue);\n        if (this.chart.getDataVisibility(index)) {\n            head = vScale.getPixelForValue(start + length);\n        } else {\n            head = base;\n        }\n        size = head - base;\n        if (Math.abs(size) < minBarLength) {\n            size = barSign(size, vScale, actualBase) * minBarLength;\n            if (value === actualBase) {\n                base -= size / 2;\n            }\n            const startPixel = vScale.getPixelForDecimal(0);\n            const endPixel = vScale.getPixelForDecimal(1);\n            const min = Math.min(startPixel, endPixel);\n            const max = Math.max(startPixel, endPixel);\n            base = Math.max(Math.min(base, max), min);\n            head = base + size;\n            if (_stacked && !floating) {\n                parsed._stacks[vScale.axis]._visualValues[datasetIndex] = vScale.getValueForPixel(head) - vScale.getValueForPixel(base);\n            }\n        }\n        if (base === vScale.getPixelForValue(actualBase)) {\n            const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n            base += halfGrid;\n            size -= halfGrid;\n        }\n        return {\n            size,\n            base,\n            head,\n            center: head + size / 2\n        };\n    }\n _calculateBarIndexPixels(index, ruler) {\n        const scale = ruler.scale;\n        const options = this.options;\n        const skipNull = options.skipNull;\n        const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n        let center, size;\n        if (ruler.grouped) {\n            const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n            const range = options.barThickness === 'flex' ? computeFlexCategoryTraits(index, ruler, options, stackCount) : computeFitCategoryTraits(index, ruler, options, stackCount);\n            const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\n            center = range.start + range.chunk * stackIndex + range.chunk / 2;\n            size = Math.min(maxBarThickness, range.chunk * range.ratio);\n        } else {\n            center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n            size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n        }\n        return {\n            base: center - size / 2,\n            head: center + size / 2,\n            center,\n            size\n        };\n    }\n    draw() {\n        const meta = this._cachedMeta;\n        const vScale = meta.vScale;\n        const rects = meta.data;\n        const ilen = rects.length;\n        let i = 0;\n        for(; i < ilen; ++i){\n            if (this.getParsed(i)[vScale.axis] !== null && !rects[i].hidden) {\n                rects[i].draw(this._ctx);\n            }\n        }\n    }\n}\n\nclass BubbleController extends DatasetController {\n    static id = 'bubble';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'point',\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'borderWidth',\n                    'radius'\n                ]\n            }\n        }\n    };\n static overrides = {\n        scales: {\n            x: {\n                type: 'linear'\n            },\n            y: {\n                type: 'linear'\n            }\n        }\n    };\n    initialize() {\n        this.enableOptionSharing = true;\n        super.initialize();\n    }\n parsePrimitiveData(meta, data, start, count) {\n        const parsed = super.parsePrimitiveData(meta, data, start, count);\n        for(let i = 0; i < parsed.length; i++){\n            parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n        }\n        return parsed;\n    }\n parseArrayData(meta, data, start, count) {\n        const parsed = super.parseArrayData(meta, data, start, count);\n        for(let i = 0; i < parsed.length; i++){\n            const item = data[start + i];\n            parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n        }\n        return parsed;\n    }\n parseObjectData(meta, data, start, count) {\n        const parsed = super.parseObjectData(meta, data, start, count);\n        for(let i = 0; i < parsed.length; i++){\n            const item = data[start + i];\n            parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n        }\n        return parsed;\n    }\n getMaxOverflow() {\n        const data = this._cachedMeta.data;\n        let max = 0;\n        for(let i = data.length - 1; i >= 0; --i){\n            max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n        }\n        return max > 0 && max;\n    }\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const labels = this.chart.data.labels || [];\n        const { xScale , yScale  } = meta;\n        const parsed = this.getParsed(index);\n        const x = xScale.getLabelForValue(parsed.x);\n        const y = yScale.getLabelForValue(parsed.y);\n        const r = parsed._custom;\n        return {\n            label: labels[index] || '',\n            value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n        };\n    }\n    update(mode) {\n        const points = this._cachedMeta.data;\n        this.updateElements(points, 0, points.length, mode);\n    }\n    updateElements(points, start, count, mode) {\n        const reset = mode === 'reset';\n        const { iScale , vScale  } = this._cachedMeta;\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        for(let i = start; i < start + count; i++){\n            const point = points[i];\n            const parsed = !reset && this.getParsed(i);\n            const properties = {};\n            const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n            const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n            properties.skip = isNaN(iPixel) || isNaN(vPixel);\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n                if (reset) {\n                    properties.options.radius = 0;\n                }\n            }\n            this.updateElement(point, i, properties, mode);\n        }\n    }\n resolveDataElementOptions(index, mode) {\n        const parsed = this.getParsed(index);\n        let values = super.resolveDataElementOptions(index, mode);\n        if (values.$shared) {\n            values = Object.assign({}, values, {\n                $shared: false\n            });\n        }\n        const radius = values.radius;\n        if (mode !== 'active') {\n            values.radius = 0;\n        }\n        values.radius += valueOrDefault(parsed && parsed._custom, radius);\n        return values;\n    }\n}\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n    let ratioX = 1;\n    let ratioY = 1;\n    let offsetX = 0;\n    let offsetY = 0;\n    if (circumference < TAU) {\n        const startAngle = rotation;\n        const endAngle = startAngle + circumference;\n        const startX = Math.cos(startAngle);\n        const startY = Math.sin(startAngle);\n        const endX = Math.cos(endAngle);\n        const endY = Math.sin(endAngle);\n        const calcMax = (angle, a, b)=>_angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n        const calcMin = (angle, a, b)=>_angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n        const maxX = calcMax(0, startX, endX);\n        const maxY = calcMax(HALF_PI, startY, endY);\n        const minX = calcMin(PI, startX, endX);\n        const minY = calcMin(PI + HALF_PI, startY, endY);\n        ratioX = (maxX - minX) / 2;\n        ratioY = (maxY - minY) / 2;\n        offsetX = -(maxX + minX) / 2;\n        offsetY = -(maxY + minY) / 2;\n    }\n    return {\n        ratioX,\n        ratioY,\n        offsetX,\n        offsetY\n    };\n}\nclass DoughnutController extends DatasetController {\n    static id = 'doughnut';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'arc',\n        animation: {\n            animateRotate: true,\n            animateScale: false\n        },\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'circumference',\n                    'endAngle',\n                    'innerRadius',\n                    'outerRadius',\n                    'startAngle',\n                    'x',\n                    'y',\n                    'offset',\n                    'borderWidth',\n                    'spacing'\n                ]\n            }\n        },\n        cutout: '50%',\n        rotation: 0,\n        circumference: 360,\n        radius: '100%',\n        spacing: 0,\n        indexAxis: 'r'\n    };\n    static descriptors = {\n        _scriptable: (name)=>name !== 'spacing',\n        _indexable: (name)=>name !== 'spacing' && !name.startsWith('borderDash') && !name.startsWith('hoverBorderDash')\n    };\n static overrides = {\n        aspectRatio: 1,\n        plugins: {\n            legend: {\n                labels: {\n                    generateLabels (chart) {\n                        const data = chart.data;\n                        if (data.labels.length && data.datasets.length) {\n                            const { labels: { pointStyle , color  }  } = chart.legend.options;\n                            return data.labels.map((label, i)=>{\n                                const meta = chart.getDatasetMeta(0);\n                                const style = meta.controller.getStyle(i);\n                                return {\n                                    text: label,\n                                    fillStyle: style.backgroundColor,\n                                    strokeStyle: style.borderColor,\n                                    fontColor: color,\n                                    lineWidth: style.borderWidth,\n                                    pointStyle: pointStyle,\n                                    hidden: !chart.getDataVisibility(i),\n                                    index: i\n                                };\n                            });\n                        }\n                        return [];\n                    }\n                },\n                onClick (e, legendItem, legend) {\n                    legend.chart.toggleDataVisibility(legendItem.index);\n                    legend.chart.update();\n                }\n            }\n        }\n    };\n    constructor(chart, datasetIndex){\n        super(chart, datasetIndex);\n        this.enableOptionSharing = true;\n        this.innerRadius = undefined;\n        this.outerRadius = undefined;\n        this.offsetX = undefined;\n        this.offsetY = undefined;\n    }\n    linkScales() {}\n parse(start, count) {\n        const data = this.getDataset().data;\n        const meta = this._cachedMeta;\n        if (this._parsing === false) {\n            meta._parsed = data;\n        } else {\n            let getter = (i)=>+data[i];\n            if (isObject(data[start])) {\n                const { key ='value'  } = this._parsing;\n                getter = (i)=>+resolveObjectKey(data[i], key);\n            }\n            let i, ilen;\n            for(i = start, ilen = start + count; i < ilen; ++i){\n                meta._parsed[i] = getter(i);\n            }\n        }\n    }\n _getRotation() {\n        return toRadians(this.options.rotation - 90);\n    }\n _getCircumference() {\n        return toRadians(this.options.circumference);\n    }\n _getRotationExtents() {\n        let min = TAU;\n        let max = -TAU;\n        for(let i = 0; i < this.chart.data.datasets.length; ++i){\n            if (this.chart.isDatasetVisible(i) && this.chart.getDatasetMeta(i).type === this._type) {\n                const controller = this.chart.getDatasetMeta(i).controller;\n                const rotation = controller._getRotation();\n                const circumference = controller._getCircumference();\n                min = Math.min(min, rotation);\n                max = Math.max(max, rotation + circumference);\n            }\n        }\n        return {\n            rotation: min,\n            circumference: max - min\n        };\n    }\n update(mode) {\n        const chart = this.chart;\n        const { chartArea  } = chart;\n        const meta = this._cachedMeta;\n        const arcs = meta.data;\n        const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n        const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n        const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n        const chartWeight = this._getRingWeight(this.index);\n        const { circumference , rotation  } = this._getRotationExtents();\n        const { ratioX , ratioY , offsetX , offsetY  } = getRatioAndOffset(rotation, circumference, cutout);\n        const maxWidth = (chartArea.width - spacing) / ratioX;\n        const maxHeight = (chartArea.height - spacing) / ratioY;\n        const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n        const outerRadius = toDimension(this.options.radius, maxRadius);\n        const innerRadius = Math.max(outerRadius * cutout, 0);\n        const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n        this.offsetX = offsetX * outerRadius;\n        this.offsetY = offsetY * outerRadius;\n        meta.total = this.calculateTotal();\n        this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n        this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n        this.updateElements(arcs, 0, arcs.length, mode);\n    }\n _circumference(i, reset) {\n        const opts = this.options;\n        const meta = this._cachedMeta;\n        const circumference = this._getCircumference();\n        if (reset && opts.animation.animateRotate || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n            return 0;\n        }\n        return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n    }\n    updateElements(arcs, start, count, mode) {\n        const reset = mode === 'reset';\n        const chart = this.chart;\n        const chartArea = chart.chartArea;\n        const opts = chart.options;\n        const animationOpts = opts.animation;\n        const centerX = (chartArea.left + chartArea.right) / 2;\n        const centerY = (chartArea.top + chartArea.bottom) / 2;\n        const animateScale = reset && animationOpts.animateScale;\n        const innerRadius = animateScale ? 0 : this.innerRadius;\n        const outerRadius = animateScale ? 0 : this.outerRadius;\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        let startAngle = this._getRotation();\n        let i;\n        for(i = 0; i < start; ++i){\n            startAngle += this._circumference(i, reset);\n        }\n        for(i = start; i < start + count; ++i){\n            const circumference = this._circumference(i, reset);\n            const arc = arcs[i];\n            const properties = {\n                x: centerX + this.offsetX,\n                y: centerY + this.offsetY,\n                startAngle,\n                endAngle: startAngle + circumference,\n                circumference,\n                outerRadius,\n                innerRadius\n            };\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n            }\n            startAngle += circumference;\n            this.updateElement(arc, i, properties, mode);\n        }\n    }\n    calculateTotal() {\n        const meta = this._cachedMeta;\n        const metaData = meta.data;\n        let total = 0;\n        let i;\n        for(i = 0; i < metaData.length; i++){\n            const value = meta._parsed[i];\n            if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n                total += Math.abs(value);\n            }\n        }\n        return total;\n    }\n    calculateCircumference(value) {\n        const total = this._cachedMeta.total;\n        if (total > 0 && !isNaN(value)) {\n            return TAU * (Math.abs(value) / total);\n        }\n        return 0;\n    }\n    getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const chart = this.chart;\n        const labels = chart.data.labels || [];\n        const value = formatNumber(meta._parsed[index], chart.options.locale);\n        return {\n            label: labels[index] || '',\n            value\n        };\n    }\n    getMaxBorderWidth(arcs) {\n        let max = 0;\n        const chart = this.chart;\n        let i, ilen, meta, controller, options;\n        if (!arcs) {\n            for(i = 0, ilen = chart.data.datasets.length; i < ilen; ++i){\n                if (chart.isDatasetVisible(i)) {\n                    meta = chart.getDatasetMeta(i);\n                    arcs = meta.data;\n                    controller = meta.controller;\n                    break;\n                }\n            }\n        }\n        if (!arcs) {\n            return 0;\n        }\n        for(i = 0, ilen = arcs.length; i < ilen; ++i){\n            options = controller.resolveDataElementOptions(i);\n            if (options.borderAlign !== 'inner') {\n                max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n            }\n        }\n        return max;\n    }\n    getMaxOffset(arcs) {\n        let max = 0;\n        for(let i = 0, ilen = arcs.length; i < ilen; ++i){\n            const options = this.resolveDataElementOptions(i);\n            max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n        }\n        return max;\n    }\n _getRingWeightOffset(datasetIndex) {\n        let ringWeightOffset = 0;\n        for(let i = 0; i < datasetIndex; ++i){\n            if (this.chart.isDatasetVisible(i)) {\n                ringWeightOffset += this._getRingWeight(i);\n            }\n        }\n        return ringWeightOffset;\n    }\n _getRingWeight(datasetIndex) {\n        return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n    }\n _getVisibleDatasetWeightTotal() {\n        return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n    }\n}\n\nclass LineController extends DatasetController {\n    static id = 'line';\n static defaults = {\n        datasetElementType: 'line',\n        dataElementType: 'point',\n        showLine: true,\n        spanGaps: false\n    };\n static overrides = {\n        scales: {\n            _index_: {\n                type: 'category'\n            },\n            _value_: {\n                type: 'linear'\n            }\n        }\n    };\n    initialize() {\n        this.enableOptionSharing = true;\n        this.supportsDecimation = true;\n        super.initialize();\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        const { dataset: line , data: points = [] , _dataset  } = meta;\n        const animationsDisabled = this.chart._animationsDisabled;\n        let { start , count  } = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n        this._drawStart = start;\n        this._drawCount = count;\n        if (_scaleRangesChanged(meta)) {\n            start = 0;\n            count = points.length;\n        }\n        line._chart = this.chart;\n        line._datasetIndex = this.index;\n        line._decimated = !!_dataset._decimated;\n        line.points = points;\n        const options = this.resolveDatasetElementOptions(mode);\n        if (!this.options.showLine) {\n            options.borderWidth = 0;\n        }\n        options.segment = this.options.segment;\n        this.updateElement(line, undefined, {\n            animated: !animationsDisabled,\n            options\n        }, mode);\n        this.updateElements(points, start, count, mode);\n    }\n    updateElements(points, start, count, mode) {\n        const reset = mode === 'reset';\n        const { iScale , vScale , _stacked , _dataset  } = this._cachedMeta;\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        const { spanGaps , segment  } = this.options;\n        const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n        const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n        const end = start + count;\n        const pointsCount = points.length;\n        let prevParsed = start > 0 && this.getParsed(start - 1);\n        for(let i = 0; i < pointsCount; ++i){\n            const point = points[i];\n            const properties = directUpdate ? point : {};\n            if (i < start || i >= end) {\n                properties.skip = true;\n                continue;\n            }\n            const parsed = this.getParsed(i);\n            const nullData = isNullOrUndef(parsed[vAxis]);\n            const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n            const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n            properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n            properties.stop = i > 0 && Math.abs(parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;\n            if (segment) {\n                properties.parsed = parsed;\n                properties.raw = _dataset.data[i];\n            }\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n            }\n            if (!directUpdate) {\n                this.updateElement(point, i, properties, mode);\n            }\n            prevParsed = parsed;\n        }\n    }\n getMaxOverflow() {\n        const meta = this._cachedMeta;\n        const dataset = meta.dataset;\n        const border = dataset.options && dataset.options.borderWidth || 0;\n        const data = meta.data || [];\n        if (!data.length) {\n            return border;\n        }\n        const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n        const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n        return Math.max(border, firstPoint, lastPoint) / 2;\n    }\n    draw() {\n        const meta = this._cachedMeta;\n        meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n        super.draw();\n    }\n}\n\nclass PolarAreaController extends DatasetController {\n    static id = 'polarArea';\n static defaults = {\n        dataElementType: 'arc',\n        animation: {\n            animateRotate: true,\n            animateScale: true\n        },\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'startAngle',\n                    'endAngle',\n                    'innerRadius',\n                    'outerRadius'\n                ]\n            }\n        },\n        indexAxis: 'r',\n        startAngle: 0\n    };\n static overrides = {\n        aspectRatio: 1,\n        plugins: {\n            legend: {\n                labels: {\n                    generateLabels (chart) {\n                        const data = chart.data;\n                        if (data.labels.length && data.datasets.length) {\n                            const { labels: { pointStyle , color  }  } = chart.legend.options;\n                            return data.labels.map((label, i)=>{\n                                const meta = chart.getDatasetMeta(0);\n                                const style = meta.controller.getStyle(i);\n                                return {\n                                    text: label,\n                                    fillStyle: style.backgroundColor,\n                                    strokeStyle: style.borderColor,\n                                    fontColor: color,\n                                    lineWidth: style.borderWidth,\n                                    pointStyle: pointStyle,\n                                    hidden: !chart.getDataVisibility(i),\n                                    index: i\n                                };\n                            });\n                        }\n                        return [];\n                    }\n                },\n                onClick (e, legendItem, legend) {\n                    legend.chart.toggleDataVisibility(legendItem.index);\n                    legend.chart.update();\n                }\n            }\n        },\n        scales: {\n            r: {\n                type: 'radialLinear',\n                angleLines: {\n                    display: false\n                },\n                beginAtZero: true,\n                grid: {\n                    circular: true\n                },\n                pointLabels: {\n                    display: false\n                },\n                startAngle: 0\n            }\n        }\n    };\n    constructor(chart, datasetIndex){\n        super(chart, datasetIndex);\n        this.innerRadius = undefined;\n        this.outerRadius = undefined;\n    }\n    getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const chart = this.chart;\n        const labels = chart.data.labels || [];\n        const value = formatNumber(meta._parsed[index].r, chart.options.locale);\n        return {\n            label: labels[index] || '',\n            value\n        };\n    }\n    parseObjectData(meta, data, start, count) {\n        return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n    }\n    update(mode) {\n        const arcs = this._cachedMeta.data;\n        this._updateRadius();\n        this.updateElements(arcs, 0, arcs.length, mode);\n    }\n getMinMax() {\n        const meta = this._cachedMeta;\n        const range = {\n            min: Number.POSITIVE_INFINITY,\n            max: Number.NEGATIVE_INFINITY\n        };\n        meta.data.forEach((element, index)=>{\n            const parsed = this.getParsed(index).r;\n            if (!isNaN(parsed) && this.chart.getDataVisibility(index)) {\n                if (parsed < range.min) {\n                    range.min = parsed;\n                }\n                if (parsed > range.max) {\n                    range.max = parsed;\n                }\n            }\n        });\n        return range;\n    }\n _updateRadius() {\n        const chart = this.chart;\n        const chartArea = chart.chartArea;\n        const opts = chart.options;\n        const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n        const outerRadius = Math.max(minSize / 2, 0);\n        const innerRadius = Math.max(opts.cutoutPercentage ? outerRadius / 100 * opts.cutoutPercentage : 1, 0);\n        const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n        this.outerRadius = outerRadius - radiusLength * this.index;\n        this.innerRadius = this.outerRadius - radiusLength;\n    }\n    updateElements(arcs, start, count, mode) {\n        const reset = mode === 'reset';\n        const chart = this.chart;\n        const opts = chart.options;\n        const animationOpts = opts.animation;\n        const scale = this._cachedMeta.rScale;\n        const centerX = scale.xCenter;\n        const centerY = scale.yCenter;\n        const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n        let angle = datasetStartAngle;\n        let i;\n        const defaultAngle = 360 / this.countVisibleElements();\n        for(i = 0; i < start; ++i){\n            angle += this._computeAngle(i, mode, defaultAngle);\n        }\n        for(i = start; i < start + count; i++){\n            const arc = arcs[i];\n            let startAngle = angle;\n            let endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n            let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(this.getParsed(i).r) : 0;\n            angle = endAngle;\n            if (reset) {\n                if (animationOpts.animateScale) {\n                    outerRadius = 0;\n                }\n                if (animationOpts.animateRotate) {\n                    startAngle = endAngle = datasetStartAngle;\n                }\n            }\n            const properties = {\n                x: centerX,\n                y: centerY,\n                innerRadius: 0,\n                outerRadius,\n                startAngle,\n                endAngle,\n                options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n            };\n            this.updateElement(arc, i, properties, mode);\n        }\n    }\n    countVisibleElements() {\n        const meta = this._cachedMeta;\n        let count = 0;\n        meta.data.forEach((element, index)=>{\n            if (!isNaN(this.getParsed(index).r) && this.chart.getDataVisibility(index)) {\n                count++;\n            }\n        });\n        return count;\n    }\n _computeAngle(index, mode, defaultAngle) {\n        return this.chart.getDataVisibility(index) ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle) : 0;\n    }\n}\n\nclass PieController extends DoughnutController {\n    static id = 'pie';\n static defaults = {\n        cutout: 0,\n        rotation: 0,\n        circumference: 360,\n        radius: '100%'\n    };\n}\n\nclass RadarController extends DatasetController {\n    static id = 'radar';\n static defaults = {\n        datasetElementType: 'line',\n        dataElementType: 'point',\n        indexAxis: 'r',\n        showLine: true,\n        elements: {\n            line: {\n                fill: 'start'\n            }\n        }\n    };\n static overrides = {\n        aspectRatio: 1,\n        scales: {\n            r: {\n                type: 'radialLinear'\n            }\n        }\n    };\n getLabelAndValue(index) {\n        const vScale = this._cachedMeta.vScale;\n        const parsed = this.getParsed(index);\n        return {\n            label: vScale.getLabels()[index],\n            value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n        };\n    }\n    parseObjectData(meta, data, start, count) {\n        return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        const line = meta.dataset;\n        const points = meta.data || [];\n        const labels = meta.iScale.getLabels();\n        line.points = points;\n        if (mode !== 'resize') {\n            const options = this.resolveDatasetElementOptions(mode);\n            if (!this.options.showLine) {\n                options.borderWidth = 0;\n            }\n            const properties = {\n                _loop: true,\n                _fullLoop: labels.length === points.length,\n                options\n            };\n            this.updateElement(line, undefined, properties, mode);\n        }\n        this.updateElements(points, 0, points.length, mode);\n    }\n    updateElements(points, start, count, mode) {\n        const scale = this._cachedMeta.rScale;\n        const reset = mode === 'reset';\n        for(let i = start; i < start + count; i++){\n            const point = points[i];\n            const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n            const pointPosition = scale.getPointPositionForValue(i, this.getParsed(i).r);\n            const x = reset ? scale.xCenter : pointPosition.x;\n            const y = reset ? scale.yCenter : pointPosition.y;\n            const properties = {\n                x,\n                y,\n                angle: pointPosition.angle,\n                skip: isNaN(x) || isNaN(y),\n                options\n            };\n            this.updateElement(point, i, properties, mode);\n        }\n    }\n}\n\nclass ScatterController extends DatasetController {\n    static id = 'scatter';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'point',\n        showLine: false,\n        fill: false\n    };\n static overrides = {\n        interaction: {\n            mode: 'point'\n        },\n        scales: {\n            x: {\n                type: 'linear'\n            },\n            y: {\n                type: 'linear'\n            }\n        }\n    };\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const labels = this.chart.data.labels || [];\n        const { xScale , yScale  } = meta;\n        const parsed = this.getParsed(index);\n        const x = xScale.getLabelForValue(parsed.x);\n        const y = yScale.getLabelForValue(parsed.y);\n        return {\n            label: labels[index] || '',\n            value: '(' + x + ', ' + y + ')'\n        };\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        const { data: points = []  } = meta;\n        const animationsDisabled = this.chart._animationsDisabled;\n        let { start , count  } = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n        this._drawStart = start;\n        this._drawCount = count;\n        if (_scaleRangesChanged(meta)) {\n            start = 0;\n            count = points.length;\n        }\n        if (this.options.showLine) {\n            if (!this.datasetElementType) {\n                this.addElements();\n            }\n            const { dataset: line , _dataset  } = meta;\n            line._chart = this.chart;\n            line._datasetIndex = this.index;\n            line._decimated = !!_dataset._decimated;\n            line.points = points;\n            const options = this.resolveDatasetElementOptions(mode);\n            options.segment = this.options.segment;\n            this.updateElement(line, undefined, {\n                animated: !animationsDisabled,\n                options\n            }, mode);\n        } else if (this.datasetElementType) {\n            delete meta.dataset;\n            this.datasetElementType = false;\n        }\n        this.updateElements(points, start, count, mode);\n    }\n    addElements() {\n        const { showLine  } = this.options;\n        if (!this.datasetElementType && showLine) {\n            this.datasetElementType = this.chart.registry.getElement('line');\n        }\n        super.addElements();\n    }\n    updateElements(points, start, count, mode) {\n        const reset = mode === 'reset';\n        const { iScale , vScale , _stacked , _dataset  } = this._cachedMeta;\n        const firstOpts = this.resolveDataElementOptions(start, mode);\n        const sharedOptions = this.getSharedOptions(firstOpts);\n        const includeOptions = this.includeOptions(mode, sharedOptions);\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        const { spanGaps , segment  } = this.options;\n        const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n        const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n        let prevParsed = start > 0 && this.getParsed(start - 1);\n        for(let i = start; i < start + count; ++i){\n            const point = points[i];\n            const parsed = this.getParsed(i);\n            const properties = directUpdate ? point : {};\n            const nullData = isNullOrUndef(parsed[vAxis]);\n            const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n            const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n            properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n            properties.stop = i > 0 && Math.abs(parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;\n            if (segment) {\n                properties.parsed = parsed;\n                properties.raw = _dataset.data[i];\n            }\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n            }\n            if (!directUpdate) {\n                this.updateElement(point, i, properties, mode);\n            }\n            prevParsed = parsed;\n        }\n        this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    }\n getMaxOverflow() {\n        const meta = this._cachedMeta;\n        const data = meta.data || [];\n        if (!this.options.showLine) {\n            let max = 0;\n            for(let i = data.length - 1; i >= 0; --i){\n                max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n            }\n            return max > 0 && max;\n        }\n        const dataset = meta.dataset;\n        const border = dataset.options && dataset.options.borderWidth || 0;\n        if (!data.length) {\n            return border;\n        }\n        const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n        const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n        return Math.max(border, firstPoint, lastPoint) / 2;\n    }\n}\n\nvar controllers = /*#__PURE__*/Object.freeze({\n__proto__: null,\nBarController: BarController,\nBubbleController: BubbleController,\nDoughnutController: DoughnutController,\nLineController: LineController,\nPieController: PieController,\nPolarAreaController: PolarAreaController,\nRadarController: RadarController,\nScatterController: ScatterController\n});\n\n/**\n * @namespace Chart._adapters\n * @since 2.8.0\n * @private\n */ function abstract() {\n    throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\n/**\n * Date adapter (current used by the time scale)\n * @namespace Chart._adapters._date\n * @memberof Chart._adapters\n * @private\n */ class DateAdapterBase {\n    /**\n   * Override default date adapter methods.\n   * Accepts type parameter to define options type.\n   * @example\n   * Chart._adapters._date.override<{myAdapterOption: string}>({\n   *   init() {\n   *     console.log(this.options.myAdapterOption);\n   *   }\n   * })\n   */ static override(members) {\n        Object.assign(DateAdapterBase.prototype, members);\n    }\n    options;\n    constructor(options){\n        this.options = options || {};\n    }\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    init() {}\n    formats() {\n        return abstract();\n    }\n    parse() {\n        return abstract();\n    }\n    format() {\n        return abstract();\n    }\n    add() {\n        return abstract();\n    }\n    diff() {\n        return abstract();\n    }\n    startOf() {\n        return abstract();\n    }\n    endOf() {\n        return abstract();\n    }\n}\nvar adapters = {\n    _date: DateAdapterBase\n};\n\nfunction binarySearch(metaset, axis, value, intersect) {\n    const { controller , data , _sorted  } = metaset;\n    const iScale = controller._cachedMeta.iScale;\n    const spanGaps = metaset.dataset ? metaset.dataset.options ? metaset.dataset.options.spanGaps : null : null;\n    if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\n        const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n        if (!intersect) {\n            const result = lookupMethod(data, axis, value);\n            if (spanGaps) {\n                const { vScale  } = controller._cachedMeta;\n                const { _parsed  } = metaset;\n                const distanceToDefinedLo = _parsed.slice(0, result.lo + 1).reverse().findIndex((point)=>!isNullOrUndef(point[vScale.axis]));\n                result.lo -= Math.max(0, distanceToDefinedLo);\n                const distanceToDefinedHi = _parsed.slice(result.hi).findIndex((point)=>!isNullOrUndef(point[vScale.axis]));\n                result.hi += Math.max(0, distanceToDefinedHi);\n            }\n            return result;\n        } else if (controller._sharedOptions) {\n            const el = data[0];\n            const range = typeof el.getRange === 'function' && el.getRange(axis);\n            if (range) {\n                const start = lookupMethod(data, axis, value - range);\n                const end = lookupMethod(data, axis, value + range);\n                return {\n                    lo: start.lo,\n                    hi: end.hi\n                };\n            }\n        }\n    }\n    return {\n        lo: 0,\n        hi: data.length - 1\n    };\n}\n function evaluateInteractionItems(chart, axis, position, handler, intersect) {\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    const value = position[axis];\n    for(let i = 0, ilen = metasets.length; i < ilen; ++i){\n        const { index , data  } = metasets[i];\n        const { lo , hi  } = binarySearch(metasets[i], axis, value, intersect);\n        for(let j = lo; j <= hi; ++j){\n            const element = data[j];\n            if (!element.skip) {\n                handler(element, index, j);\n            }\n        }\n    }\n}\n function getDistanceMetricForAxis(axis) {\n    const useX = axis.indexOf('x') !== -1;\n    const useY = axis.indexOf('y') !== -1;\n    return function(pt1, pt2) {\n        const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n        const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n        return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n    };\n}\n function getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) {\n    const items = [];\n    if (!includeInvisible && !chart.isPointInArea(position)) {\n        return items;\n    }\n    const evaluationFunc = function(element, datasetIndex, index) {\n        if (!includeInvisible && !_isPointInArea(element, chart.chartArea, 0)) {\n            return;\n        }\n        if (element.inRange(position.x, position.y, useFinalPosition)) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n        }\n    };\n    evaluateInteractionItems(chart, axis, position, evaluationFunc, true);\n    return items;\n}\n function getNearestRadialItems(chart, position, axis, useFinalPosition) {\n    let items = [];\n    function evaluationFunc(element, datasetIndex, index) {\n        const { startAngle , endAngle  } = element.getProps([\n            'startAngle',\n            'endAngle'\n        ], useFinalPosition);\n        const { angle  } = getAngleFromPoint(element, {\n            x: position.x,\n            y: position.y\n        });\n        if (_angleBetween(angle, startAngle, endAngle)) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n        }\n    }\n    evaluateInteractionItems(chart, axis, position, evaluationFunc);\n    return items;\n}\n function getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n    let items = [];\n    const distanceMetric = getDistanceMetricForAxis(axis);\n    let minDistance = Number.POSITIVE_INFINITY;\n    function evaluationFunc(element, datasetIndex, index) {\n        const inRange = element.inRange(position.x, position.y, useFinalPosition);\n        if (intersect && !inRange) {\n            return;\n        }\n        const center = element.getCenterPoint(useFinalPosition);\n        const pointInArea = !!includeInvisible || chart.isPointInArea(center);\n        if (!pointInArea && !inRange) {\n            return;\n        }\n        const distance = distanceMetric(position, center);\n        if (distance < minDistance) {\n            items = [\n                {\n                    element,\n                    datasetIndex,\n                    index\n                }\n            ];\n            minDistance = distance;\n        } else if (distance === minDistance) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n        }\n    }\n    evaluateInteractionItems(chart, axis, position, evaluationFunc);\n    return items;\n}\n function getNearestItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n    if (!includeInvisible && !chart.isPointInArea(position)) {\n        return [];\n    }\n    return axis === 'r' && !intersect ? getNearestRadialItems(chart, position, axis, useFinalPosition) : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible);\n}\n function getAxisItems(chart, position, axis, intersect, useFinalPosition) {\n    const items = [];\n    const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n    let intersectsItem = false;\n    evaluateInteractionItems(chart, axis, position, (element, datasetIndex, index)=>{\n        if (element[rangeMethod] && element[rangeMethod](position[axis], useFinalPosition)) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n            intersectsItem = intersectsItem || element.inRange(position.x, position.y, useFinalPosition);\n        }\n    });\n    if (intersect && !intersectsItem) {\n        return [];\n    }\n    return items;\n}\n var Interaction = {\n    evaluateInteractionItems,\n    modes: {\n index (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'x';\n            const includeInvisible = options.includeInvisible || false;\n            const items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n            const elements = [];\n            if (!items.length) {\n                return [];\n            }\n            chart.getSortedVisibleDatasetMetas().forEach((meta)=>{\n                const index = items[0].index;\n                const element = meta.data[index];\n                if (element && !element.skip) {\n                    elements.push({\n                        element,\n                        datasetIndex: meta.index,\n                        index\n                    });\n                }\n            });\n            return elements;\n        },\n dataset (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'xy';\n            const includeInvisible = options.includeInvisible || false;\n            let items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n            if (items.length > 0) {\n                const datasetIndex = items[0].datasetIndex;\n                const data = chart.getDatasetMeta(datasetIndex).data;\n                items = [];\n                for(let i = 0; i < data.length; ++i){\n                    items.push({\n                        element: data[i],\n                        datasetIndex,\n                        index: i\n                    });\n                }\n            }\n            return items;\n        },\n point (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'xy';\n            const includeInvisible = options.includeInvisible || false;\n            return getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible);\n        },\n nearest (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'xy';\n            const includeInvisible = options.includeInvisible || false;\n            return getNearestItems(chart, position, axis, options.intersect, useFinalPosition, includeInvisible);\n        },\n x (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            return getAxisItems(chart, position, 'x', options.intersect, useFinalPosition);\n        },\n y (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            return getAxisItems(chart, position, 'y', options.intersect, useFinalPosition);\n        }\n    }\n};\n\nconst STATIC_POSITIONS = [\n    'left',\n    'top',\n    'right',\n    'bottom'\n];\nfunction filterByPosition(array, position) {\n    return array.filter((v)=>v.pos === position);\n}\nfunction filterDynamicPositionByAxis(array, axis) {\n    return array.filter((v)=>STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\nfunction sortByWeight(array, reverse) {\n    return array.sort((a, b)=>{\n        const v0 = reverse ? b : a;\n        const v1 = reverse ? a : b;\n        return v0.weight === v1.weight ? v0.index - v1.index : v0.weight - v1.weight;\n    });\n}\nfunction wrapBoxes(boxes) {\n    const layoutBoxes = [];\n    let i, ilen, box, pos, stack, stackWeight;\n    for(i = 0, ilen = (boxes || []).length; i < ilen; ++i){\n        box = boxes[i];\n        ({ position: pos , options: { stack , stackWeight =1  }  } = box);\n        layoutBoxes.push({\n            index: i,\n            box,\n            pos,\n            horizontal: box.isHorizontal(),\n            weight: box.weight,\n            stack: stack && pos + stack,\n            stackWeight\n        });\n    }\n    return layoutBoxes;\n}\nfunction buildStacks(layouts) {\n    const stacks = {};\n    for (const wrap of layouts){\n        const { stack , pos , stackWeight  } = wrap;\n        if (!stack || !STATIC_POSITIONS.includes(pos)) {\n            continue;\n        }\n        const _stack = stacks[stack] || (stacks[stack] = {\n            count: 0,\n            placed: 0,\n            weight: 0,\n            size: 0\n        });\n        _stack.count++;\n        _stack.weight += stackWeight;\n    }\n    return stacks;\n}\n function setLayoutDims(layouts, params) {\n    const stacks = buildStacks(layouts);\n    const { vBoxMaxWidth , hBoxMaxHeight  } = params;\n    let i, ilen, layout;\n    for(i = 0, ilen = layouts.length; i < ilen; ++i){\n        layout = layouts[i];\n        const { fullSize  } = layout.box;\n        const stack = stacks[layout.stack];\n        const factor = stack && layout.stackWeight / stack.weight;\n        if (layout.horizontal) {\n            layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n            layout.height = hBoxMaxHeight;\n        } else {\n            layout.width = vBoxMaxWidth;\n            layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n        }\n    }\n    return stacks;\n}\nfunction buildLayoutBoxes(boxes) {\n    const layoutBoxes = wrapBoxes(boxes);\n    const fullSize = sortByWeight(layoutBoxes.filter((wrap)=>wrap.box.fullSize), true);\n    const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n    const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n    const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n    const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n    const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n    const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n    return {\n        fullSize,\n        leftAndTop: left.concat(top),\n        rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n        chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n        vertical: left.concat(right).concat(centerVertical),\n        horizontal: top.concat(bottom).concat(centerHorizontal)\n    };\n}\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n    return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\nfunction updateMaxPadding(maxPadding, boxPadding) {\n    maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n    maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n    maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n    maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\nfunction updateDims(chartArea, params, layout, stacks) {\n    const { pos , box  } = layout;\n    const maxPadding = chartArea.maxPadding;\n    if (!isObject(pos)) {\n        if (layout.size) {\n            chartArea[pos] -= layout.size;\n        }\n        const stack = stacks[layout.stack] || {\n            size: 0,\n            count: 1\n        };\n        stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n        layout.size = stack.size / stack.count;\n        chartArea[pos] += layout.size;\n    }\n    if (box.getPadding) {\n        updateMaxPadding(maxPadding, box.getPadding());\n    }\n    const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n    const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n    const widthChanged = newWidth !== chartArea.w;\n    const heightChanged = newHeight !== chartArea.h;\n    chartArea.w = newWidth;\n    chartArea.h = newHeight;\n    return layout.horizontal ? {\n        same: widthChanged,\n        other: heightChanged\n    } : {\n        same: heightChanged,\n        other: widthChanged\n    };\n}\nfunction handleMaxPadding(chartArea) {\n    const maxPadding = chartArea.maxPadding;\n    function updatePos(pos) {\n        const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n        chartArea[pos] += change;\n        return change;\n    }\n    chartArea.y += updatePos('top');\n    chartArea.x += updatePos('left');\n    updatePos('right');\n    updatePos('bottom');\n}\nfunction getMargins(horizontal, chartArea) {\n    const maxPadding = chartArea.maxPadding;\n    function marginForPositions(positions) {\n        const margin = {\n            left: 0,\n            top: 0,\n            right: 0,\n            bottom: 0\n        };\n        positions.forEach((pos)=>{\n            margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n        });\n        return margin;\n    }\n    return horizontal ? marginForPositions([\n        'left',\n        'right'\n    ]) : marginForPositions([\n        'top',\n        'bottom'\n    ]);\n}\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n    const refitBoxes = [];\n    let i, ilen, layout, box, refit, changed;\n    for(i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i){\n        layout = boxes[i];\n        box = layout.box;\n        box.update(layout.width || chartArea.w, layout.height || chartArea.h, getMargins(layout.horizontal, chartArea));\n        const { same , other  } = updateDims(chartArea, params, layout, stacks);\n        refit |= same && refitBoxes.length;\n        changed = changed || other;\n        if (!box.fullSize) {\n            refitBoxes.push(layout);\n        }\n    }\n    return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\nfunction setBoxDims(box, left, top, width, height) {\n    box.top = top;\n    box.left = left;\n    box.right = left + width;\n    box.bottom = top + height;\n    box.width = width;\n    box.height = height;\n}\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n    const userPadding = params.padding;\n    let { x , y  } = chartArea;\n    for (const layout of boxes){\n        const box = layout.box;\n        const stack = stacks[layout.stack] || {\n            count: 1,\n            placed: 0,\n            weight: 1\n        };\n        const weight = layout.stackWeight / stack.weight || 1;\n        if (layout.horizontal) {\n            const width = chartArea.w * weight;\n            const height = stack.size || box.height;\n            if (defined(stack.start)) {\n                y = stack.start;\n            }\n            if (box.fullSize) {\n                setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n            } else {\n                setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n            }\n            stack.start = y;\n            stack.placed += width;\n            y = box.bottom;\n        } else {\n            const height = chartArea.h * weight;\n            const width = stack.size || box.width;\n            if (defined(stack.start)) {\n                x = stack.start;\n            }\n            if (box.fullSize) {\n                setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n            } else {\n                setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n            }\n            stack.start = x;\n            stack.placed += height;\n            x = box.right;\n        }\n    }\n    chartArea.x = x;\n    chartArea.y = y;\n}\nvar layouts = {\n addBox (chart, item) {\n        if (!chart.boxes) {\n            chart.boxes = [];\n        }\n        item.fullSize = item.fullSize || false;\n        item.position = item.position || 'top';\n        item.weight = item.weight || 0;\n        item._layers = item._layers || function() {\n            return [\n                {\n                    z: 0,\n                    draw (chartArea) {\n                        item.draw(chartArea);\n                    }\n                }\n            ];\n        };\n        chart.boxes.push(item);\n    },\n removeBox (chart, layoutItem) {\n        const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n        if (index !== -1) {\n            chart.boxes.splice(index, 1);\n        }\n    },\n configure (chart, item, options) {\n        item.fullSize = options.fullSize;\n        item.position = options.position;\n        item.weight = options.weight;\n    },\n update (chart, width, height, minPadding) {\n        if (!chart) {\n            return;\n        }\n        const padding = toPadding(chart.options.layout.padding);\n        const availableWidth = Math.max(width - padding.width, 0);\n        const availableHeight = Math.max(height - padding.height, 0);\n        const boxes = buildLayoutBoxes(chart.boxes);\n        const verticalBoxes = boxes.vertical;\n        const horizontalBoxes = boxes.horizontal;\n        each(chart.boxes, (box)=>{\n            if (typeof box.beforeLayout === 'function') {\n                box.beforeLayout();\n            }\n        });\n        const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap)=>wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n        const params = Object.freeze({\n            outerWidth: width,\n            outerHeight: height,\n            padding,\n            availableWidth,\n            availableHeight,\n            vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n            hBoxMaxHeight: availableHeight / 2\n        });\n        const maxPadding = Object.assign({}, padding);\n        updateMaxPadding(maxPadding, toPadding(minPadding));\n        const chartArea = Object.assign({\n            maxPadding,\n            w: availableWidth,\n            h: availableHeight,\n            x: padding.left,\n            y: padding.top\n        }, padding);\n        const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n        fitBoxes(boxes.fullSize, chartArea, params, stacks);\n        fitBoxes(verticalBoxes, chartArea, params, stacks);\n        if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n            fitBoxes(verticalBoxes, chartArea, params, stacks);\n        }\n        handleMaxPadding(chartArea);\n        placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n        chartArea.x += chartArea.w;\n        chartArea.y += chartArea.h;\n        placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n        chart.chartArea = {\n            left: chartArea.left,\n            top: chartArea.top,\n            right: chartArea.left + chartArea.w,\n            bottom: chartArea.top + chartArea.h,\n            height: chartArea.h,\n            width: chartArea.w\n        };\n        each(boxes.chartArea, (layout)=>{\n            const box = layout.box;\n            Object.assign(box, chart.chartArea);\n            box.update(chartArea.w, chartArea.h, {\n                left: 0,\n                top: 0,\n                right: 0,\n                bottom: 0\n            });\n        });\n    }\n};\n\nclass BasePlatform {\n acquireContext(canvas, aspectRatio) {}\n releaseContext(context) {\n        return false;\n    }\n addEventListener(chart, type, listener) {}\n removeEventListener(chart, type, listener) {}\n getDevicePixelRatio() {\n        return 1;\n    }\n getMaximumSize(element, width, height, aspectRatio) {\n        width = Math.max(0, width || element.width);\n        height = height || element.height;\n        return {\n            width,\n            height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n        };\n    }\n isAttached(canvas) {\n        return true;\n    }\n updateConfig(config) {\n    }\n}\n\nclass BasicPlatform extends BasePlatform {\n    acquireContext(item) {\n        return item && item.getContext && item.getContext('2d') || null;\n    }\n    updateConfig(config) {\n        config.options.animation = false;\n    }\n}\n\nconst EXPANDO_KEY = '$chartjs';\n const EVENT_TYPES = {\n    touchstart: 'mousedown',\n    touchmove: 'mousemove',\n    touchend: 'mouseup',\n    pointerenter: 'mouseenter',\n    pointerdown: 'mousedown',\n    pointermove: 'mousemove',\n    pointerup: 'mouseup',\n    pointerleave: 'mouseout',\n    pointerout: 'mouseout'\n};\nconst isNullOrEmpty = (value)=>value === null || value === '';\n function initCanvas(canvas, aspectRatio) {\n    const style = canvas.style;\n    const renderHeight = canvas.getAttribute('height');\n    const renderWidth = canvas.getAttribute('width');\n    canvas[EXPANDO_KEY] = {\n        initial: {\n            height: renderHeight,\n            width: renderWidth,\n            style: {\n                display: style.display,\n                height: style.height,\n                width: style.width\n            }\n        }\n    };\n    style.display = style.display || 'block';\n    style.boxSizing = style.boxSizing || 'border-box';\n    if (isNullOrEmpty(renderWidth)) {\n        const displayWidth = readUsedSize(canvas, 'width');\n        if (displayWidth !== undefined) {\n            canvas.width = displayWidth;\n        }\n    }\n    if (isNullOrEmpty(renderHeight)) {\n        if (canvas.style.height === '') {\n            canvas.height = canvas.width / (aspectRatio || 2);\n        } else {\n            const displayHeight = readUsedSize(canvas, 'height');\n            if (displayHeight !== undefined) {\n                canvas.height = displayHeight;\n            }\n        }\n    }\n    return canvas;\n}\nconst eventListenerOptions = supportsEventListenerOptions ? {\n    passive: true\n} : false;\nfunction addListener(node, type, listener) {\n    if (node) {\n        node.addEventListener(type, listener, eventListenerOptions);\n    }\n}\nfunction removeListener(chart, type, listener) {\n    if (chart && chart.canvas) {\n        chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n    }\n}\nfunction fromNativeEvent(event, chart) {\n    const type = EVENT_TYPES[event.type] || event.type;\n    const { x , y  } = getRelativePosition(event, chart);\n    return {\n        type,\n        chart,\n        native: event,\n        x: x !== undefined ? x : null,\n        y: y !== undefined ? y : null\n    };\n}\nfunction nodeListContains(nodeList, canvas) {\n    for (const node of nodeList){\n        if (node === canvas || node.contains(canvas)) {\n            return true;\n        }\n    }\n}\nfunction createAttachObserver(chart, type, listener) {\n    const canvas = chart.canvas;\n    const observer = new MutationObserver((entries)=>{\n        let trigger = false;\n        for (const entry of entries){\n            trigger = trigger || nodeListContains(entry.addedNodes, canvas);\n            trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\n        }\n        if (trigger) {\n            listener();\n        }\n    });\n    observer.observe(document, {\n        childList: true,\n        subtree: true\n    });\n    return observer;\n}\nfunction createDetachObserver(chart, type, listener) {\n    const canvas = chart.canvas;\n    const observer = new MutationObserver((entries)=>{\n        let trigger = false;\n        for (const entry of entries){\n            trigger = trigger || nodeListContains(entry.removedNodes, canvas);\n            trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\n        }\n        if (trigger) {\n            listener();\n        }\n    });\n    observer.observe(document, {\n        childList: true,\n        subtree: true\n    });\n    return observer;\n}\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\nfunction onWindowResize() {\n    const dpr = window.devicePixelRatio;\n    if (dpr === oldDevicePixelRatio) {\n        return;\n    }\n    oldDevicePixelRatio = dpr;\n    drpListeningCharts.forEach((resize, chart)=>{\n        if (chart.currentDevicePixelRatio !== dpr) {\n            resize();\n        }\n    });\n}\nfunction listenDevicePixelRatioChanges(chart, resize) {\n    if (!drpListeningCharts.size) {\n        window.addEventListener('resize', onWindowResize);\n    }\n    drpListeningCharts.set(chart, resize);\n}\nfunction unlistenDevicePixelRatioChanges(chart) {\n    drpListeningCharts.delete(chart);\n    if (!drpListeningCharts.size) {\n        window.removeEventListener('resize', onWindowResize);\n    }\n}\nfunction createResizeObserver(chart, type, listener) {\n    const canvas = chart.canvas;\n    const container = canvas && _getParentNode(canvas);\n    if (!container) {\n        return;\n    }\n    const resize = throttled((width, height)=>{\n        const w = container.clientWidth;\n        listener(width, height);\n        if (w < container.clientWidth) {\n            listener();\n        }\n    }, window);\n    const observer = new ResizeObserver((entries)=>{\n        const entry = entries[0];\n        const width = entry.contentRect.width;\n        const height = entry.contentRect.height;\n        if (width === 0 && height === 0) {\n            return;\n        }\n        resize(width, height);\n    });\n    observer.observe(container);\n    listenDevicePixelRatioChanges(chart, resize);\n    return observer;\n}\nfunction releaseObserver(chart, type, observer) {\n    if (observer) {\n        observer.disconnect();\n    }\n    if (type === 'resize') {\n        unlistenDevicePixelRatioChanges(chart);\n    }\n}\nfunction createProxyAndListen(chart, type, listener) {\n    const canvas = chart.canvas;\n    const proxy = throttled((event)=>{\n        if (chart.ctx !== null) {\n            listener(fromNativeEvent(event, chart));\n        }\n    }, chart);\n    addListener(canvas, type, proxy);\n    return proxy;\n}\n class DomPlatform extends BasePlatform {\n acquireContext(canvas, aspectRatio) {\n        const context = canvas && canvas.getContext && canvas.getContext('2d');\n        if (context && context.canvas === canvas) {\n            initCanvas(canvas, aspectRatio);\n            return context;\n        }\n        return null;\n    }\n releaseContext(context) {\n        const canvas = context.canvas;\n        if (!canvas[EXPANDO_KEY]) {\n            return false;\n        }\n        const initial = canvas[EXPANDO_KEY].initial;\n        [\n            'height',\n            'width'\n        ].forEach((prop)=>{\n            const value = initial[prop];\n            if (isNullOrUndef(value)) {\n                canvas.removeAttribute(prop);\n            } else {\n                canvas.setAttribute(prop, value);\n            }\n        });\n        const style = initial.style || {};\n        Object.keys(style).forEach((key)=>{\n            canvas.style[key] = style[key];\n        });\n        canvas.width = canvas.width;\n        delete canvas[EXPANDO_KEY];\n        return true;\n    }\n addEventListener(chart, type, listener) {\n        this.removeEventListener(chart, type);\n        const proxies = chart.$proxies || (chart.$proxies = {});\n        const handlers = {\n            attach: createAttachObserver,\n            detach: createDetachObserver,\n            resize: createResizeObserver\n        };\n        const handler = handlers[type] || createProxyAndListen;\n        proxies[type] = handler(chart, type, listener);\n    }\n removeEventListener(chart, type) {\n        const proxies = chart.$proxies || (chart.$proxies = {});\n        const proxy = proxies[type];\n        if (!proxy) {\n            return;\n        }\n        const handlers = {\n            attach: releaseObserver,\n            detach: releaseObserver,\n            resize: releaseObserver\n        };\n        const handler = handlers[type] || removeListener;\n        handler(chart, type, proxy);\n        proxies[type] = undefined;\n    }\n    getDevicePixelRatio() {\n        return window.devicePixelRatio;\n    }\n getMaximumSize(canvas, width, height, aspectRatio) {\n        return getMaximumSize(canvas, width, height, aspectRatio);\n    }\n isAttached(canvas) {\n        const container = canvas && _getParentNode(canvas);\n        return !!(container && container.isConnected);\n    }\n}\n\nfunction _detectPlatform(canvas) {\n    if (!_isDomSupported() || typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas) {\n        return BasicPlatform;\n    }\n    return DomPlatform;\n}\n\nclass Element {\n    static defaults = {};\n    static defaultRoutes = undefined;\n    x;\n    y;\n    active = false;\n    options;\n    $animations;\n    tooltipPosition(useFinalPosition) {\n        const { x , y  } = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        return {\n            x,\n            y\n        };\n    }\n    hasValue() {\n        return isNumber(this.x) && isNumber(this.y);\n    }\n    getProps(props, final) {\n        const anims = this.$animations;\n        if (!final || !anims) {\n            // let's not create an object, if not needed\n            return this;\n        }\n        const ret = {};\n        props.forEach((prop)=>{\n            ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop];\n        });\n        return ret;\n    }\n}\n\nfunction autoSkip(scale, ticks) {\n    const tickOpts = scale.options.ticks;\n    const determinedMaxTicks = determineMaxTicks(scale);\n    const ticksLimit = Math.min(tickOpts.maxTicksLimit || determinedMaxTicks, determinedMaxTicks);\n    const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n    const numMajorIndices = majorIndices.length;\n    const first = majorIndices[0];\n    const last = majorIndices[numMajorIndices - 1];\n    const newTicks = [];\n    if (numMajorIndices > ticksLimit) {\n        skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n        return newTicks;\n    }\n    const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n    if (numMajorIndices > 0) {\n        let i, ilen;\n        const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n        skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n        for(i = 0, ilen = numMajorIndices - 1; i < ilen; i++){\n            skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n        }\n        skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n        return newTicks;\n    }\n    skip(ticks, newTicks, spacing);\n    return newTicks;\n}\nfunction determineMaxTicks(scale) {\n    const offset = scale.options.offset;\n    const tickLength = scale._tickSize();\n    const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n    const maxChart = scale._maxLength / tickLength;\n    return Math.floor(Math.min(maxScale, maxChart));\n}\n function calculateSpacing(majorIndices, ticks, ticksLimit) {\n    const evenMajorSpacing = getEvenSpacing(majorIndices);\n    const spacing = ticks.length / ticksLimit;\n    if (!evenMajorSpacing) {\n        return Math.max(spacing, 1);\n    }\n    const factors = _factorize(evenMajorSpacing);\n    for(let i = 0, ilen = factors.length - 1; i < ilen; i++){\n        const factor = factors[i];\n        if (factor > spacing) {\n            return factor;\n        }\n    }\n    return Math.max(spacing, 1);\n}\n function getMajorIndices(ticks) {\n    const result = [];\n    let i, ilen;\n    for(i = 0, ilen = ticks.length; i < ilen; i++){\n        if (ticks[i].major) {\n            result.push(i);\n        }\n    }\n    return result;\n}\n function skipMajors(ticks, newTicks, majorIndices, spacing) {\n    let count = 0;\n    let next = majorIndices[0];\n    let i;\n    spacing = Math.ceil(spacing);\n    for(i = 0; i < ticks.length; i++){\n        if (i === next) {\n            newTicks.push(ticks[i]);\n            count++;\n            next = majorIndices[count * spacing];\n        }\n    }\n}\n function skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n    const start = valueOrDefault(majorStart, 0);\n    const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n    let count = 0;\n    let length, i, next;\n    spacing = Math.ceil(spacing);\n    if (majorEnd) {\n        length = majorEnd - majorStart;\n        spacing = length / Math.floor(length / spacing);\n    }\n    next = start;\n    while(next < 0){\n        count++;\n        next = Math.round(start + count * spacing);\n    }\n    for(i = Math.max(start, 0); i < end; i++){\n        if (i === next) {\n            newTicks.push(ticks[i]);\n            count++;\n            next = Math.round(start + count * spacing);\n        }\n    }\n}\n function getEvenSpacing(arr) {\n    const len = arr.length;\n    let i, diff;\n    if (len < 2) {\n        return false;\n    }\n    for(diff = arr[0], i = 1; i < len; ++i){\n        if (arr[i] - arr[i - 1] !== diff) {\n            return false;\n        }\n    }\n    return diff;\n}\n\nconst reverseAlign = (align)=>align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset)=>edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nconst getTicksLimit = (ticksLength, maxTicksLimit)=>Math.min(maxTicksLimit || ticksLength, ticksLength);\n function sample(arr, numItems) {\n    const result = [];\n    const increment = arr.length / numItems;\n    const len = arr.length;\n    let i = 0;\n    for(; i < len; i += increment){\n        result.push(arr[Math.floor(i)]);\n    }\n    return result;\n}\n function getPixelForGridLine(scale, index, offsetGridLines) {\n    const length = scale.ticks.length;\n    const validIndex = Math.min(index, length - 1);\n    const start = scale._startPixel;\n    const end = scale._endPixel;\n    const epsilon = 1e-6;\n    let lineValue = scale.getPixelForTick(validIndex);\n    let offset;\n    if (offsetGridLines) {\n        if (length === 1) {\n            offset = Math.max(lineValue - start, end - lineValue);\n        } else if (index === 0) {\n            offset = (scale.getPixelForTick(1) - lineValue) / 2;\n        } else {\n            offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n        }\n        lineValue += validIndex < index ? offset : -offset;\n        if (lineValue < start - epsilon || lineValue > end + epsilon) {\n            return;\n        }\n    }\n    return lineValue;\n}\n function garbageCollect(caches, length) {\n    each(caches, (cache)=>{\n        const gc = cache.gc;\n        const gcLen = gc.length / 2;\n        let i;\n        if (gcLen > length) {\n            for(i = 0; i < gcLen; ++i){\n                delete cache.data[gc[i]];\n            }\n            gc.splice(0, gcLen);\n        }\n    });\n}\n function getTickMarkLength(options) {\n    return options.drawTicks ? options.tickLength : 0;\n}\n function getTitleHeight(options, fallback) {\n    if (!options.display) {\n        return 0;\n    }\n    const font = toFont(options.font, fallback);\n    const padding = toPadding(options.padding);\n    const lines = isArray(options.text) ? options.text.length : 1;\n    return lines * font.lineHeight + padding.height;\n}\nfunction createScaleContext(parent, scale) {\n    return createContext(parent, {\n        scale,\n        type: 'scale'\n    });\n}\nfunction createTickContext(parent, index, tick) {\n    return createContext(parent, {\n        tick,\n        index,\n        type: 'tick'\n    });\n}\nfunction titleAlign(align, position, reverse) {\n     let ret = _toLeftRightCenter(align);\n    if (reverse && position !== 'right' || !reverse && position === 'right') {\n        ret = reverseAlign(ret);\n    }\n    return ret;\n}\nfunction titleArgs(scale, offset, position, align) {\n    const { top , left , bottom , right , chart  } = scale;\n    const { chartArea , scales  } = chart;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n    const height = bottom - top;\n    const width = right - left;\n    if (scale.isHorizontal()) {\n        titleX = _alignStartEnd(align, left, right);\n        if (isObject(position)) {\n            const positionAxisID = Object.keys(position)[0];\n            const value = position[positionAxisID];\n            titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n        } else if (position === 'center') {\n            titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n        } else {\n            titleY = offsetFromEdge(scale, position, offset);\n        }\n        maxWidth = right - left;\n    } else {\n        if (isObject(position)) {\n            const positionAxisID = Object.keys(position)[0];\n            const value = position[positionAxisID];\n            titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n        } else if (position === 'center') {\n            titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n        } else {\n            titleX = offsetFromEdge(scale, position, offset);\n        }\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = position === 'left' ? -HALF_PI : HALF_PI;\n    }\n    return {\n        titleX,\n        titleY,\n        maxWidth,\n        rotation\n    };\n}\nclass Scale extends Element {\n    constructor(cfg){\n        super();\n         this.id = cfg.id;\n         this.type = cfg.type;\n         this.options = undefined;\n         this.ctx = cfg.ctx;\n         this.chart = cfg.chart;\n         this.top = undefined;\n         this.bottom = undefined;\n         this.left = undefined;\n         this.right = undefined;\n         this.width = undefined;\n         this.height = undefined;\n        this._margins = {\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n        };\n         this.maxWidth = undefined;\n         this.maxHeight = undefined;\n         this.paddingTop = undefined;\n         this.paddingBottom = undefined;\n         this.paddingLeft = undefined;\n         this.paddingRight = undefined;\n         this.axis = undefined;\n         this.labelRotation = undefined;\n        this.min = undefined;\n        this.max = undefined;\n        this._range = undefined;\n         this.ticks = [];\n         this._gridLineItems = null;\n         this._labelItems = null;\n         this._labelSizes = null;\n        this._length = 0;\n        this._maxLength = 0;\n        this._longestTextCache = {};\n         this._startPixel = undefined;\n         this._endPixel = undefined;\n        this._reversePixels = false;\n        this._userMax = undefined;\n        this._userMin = undefined;\n        this._suggestedMax = undefined;\n        this._suggestedMin = undefined;\n        this._ticksLength = 0;\n        this._borderValue = 0;\n        this._cache = {};\n        this._dataLimitsCached = false;\n        this.$context = undefined;\n    }\n init(options) {\n        this.options = options.setContext(this.getContext());\n        this.axis = options.axis;\n        this._userMin = this.parse(options.min);\n        this._userMax = this.parse(options.max);\n        this._suggestedMin = this.parse(options.suggestedMin);\n        this._suggestedMax = this.parse(options.suggestedMax);\n    }\n parse(raw, index) {\n        return raw;\n    }\n getUserBounds() {\n        let { _userMin , _userMax , _suggestedMin , _suggestedMax  } = this;\n        _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n        _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n        _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n        _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n        return {\n            min: finiteOrDefault(_userMin, _suggestedMin),\n            max: finiteOrDefault(_userMax, _suggestedMax),\n            minDefined: isNumberFinite(_userMin),\n            maxDefined: isNumberFinite(_userMax)\n        };\n    }\n getMinMax(canStack) {\n        let { min , max , minDefined , maxDefined  } = this.getUserBounds();\n        let range;\n        if (minDefined && maxDefined) {\n            return {\n                min,\n                max\n            };\n        }\n        const metas = this.getMatchingVisibleMetas();\n        for(let i = 0, ilen = metas.length; i < ilen; ++i){\n            range = metas[i].controller.getMinMax(this, canStack);\n            if (!minDefined) {\n                min = Math.min(min, range.min);\n            }\n            if (!maxDefined) {\n                max = Math.max(max, range.max);\n            }\n        }\n        min = maxDefined && min > max ? max : min;\n        max = minDefined && min > max ? min : max;\n        return {\n            min: finiteOrDefault(min, finiteOrDefault(max, min)),\n            max: finiteOrDefault(max, finiteOrDefault(min, max))\n        };\n    }\n getPadding() {\n        return {\n            left: this.paddingLeft || 0,\n            top: this.paddingTop || 0,\n            right: this.paddingRight || 0,\n            bottom: this.paddingBottom || 0\n        };\n    }\n getTicks() {\n        return this.ticks;\n    }\n getLabels() {\n        const data = this.chart.data;\n        return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n    }\n getLabelItems(chartArea = this.chart.chartArea) {\n        const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n        return items;\n    }\n    beforeLayout() {\n        this._cache = {};\n        this._dataLimitsCached = false;\n    }\n    beforeUpdate() {\n        callback(this.options.beforeUpdate, [\n            this\n        ]);\n    }\n update(maxWidth, maxHeight, margins) {\n        const { beginAtZero , grace , ticks: tickOpts  } = this.options;\n        const sampleSize = tickOpts.sampleSize;\n        this.beforeUpdate();\n        this.maxWidth = maxWidth;\n        this.maxHeight = maxHeight;\n        this._margins = margins = Object.assign({\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n        }, margins);\n        this.ticks = null;\n        this._labelSizes = null;\n        this._gridLineItems = null;\n        this._labelItems = null;\n        this.beforeSetDimensions();\n        this.setDimensions();\n        this.afterSetDimensions();\n        this._maxLength = this.isHorizontal() ? this.width + margins.left + margins.right : this.height + margins.top + margins.bottom;\n        if (!this._dataLimitsCached) {\n            this.beforeDataLimits();\n            this.determineDataLimits();\n            this.afterDataLimits();\n            this._range = _addGrace(this, grace, beginAtZero);\n            this._dataLimitsCached = true;\n        }\n        this.beforeBuildTicks();\n        this.ticks = this.buildTicks() || [];\n        this.afterBuildTicks();\n        const samplingEnabled = sampleSize < this.ticks.length;\n        this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n        this.configure();\n        this.beforeCalculateLabelRotation();\n        this.calculateLabelRotation();\n        this.afterCalculateLabelRotation();\n        if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n            this.ticks = autoSkip(this, this.ticks);\n            this._labelSizes = null;\n            this.afterAutoSkip();\n        }\n        if (samplingEnabled) {\n            this._convertTicksToLabels(this.ticks);\n        }\n        this.beforeFit();\n        this.fit();\n        this.afterFit();\n        this.afterUpdate();\n    }\n configure() {\n        let reversePixels = this.options.reverse;\n        let startPixel, endPixel;\n        if (this.isHorizontal()) {\n            startPixel = this.left;\n            endPixel = this.right;\n        } else {\n            startPixel = this.top;\n            endPixel = this.bottom;\n            reversePixels = !reversePixels;\n        }\n        this._startPixel = startPixel;\n        this._endPixel = endPixel;\n        this._reversePixels = reversePixels;\n        this._length = endPixel - startPixel;\n        this._alignToPixels = this.options.alignToPixels;\n    }\n    afterUpdate() {\n        callback(this.options.afterUpdate, [\n            this\n        ]);\n    }\n    beforeSetDimensions() {\n        callback(this.options.beforeSetDimensions, [\n            this\n        ]);\n    }\n    setDimensions() {\n        if (this.isHorizontal()) {\n            this.width = this.maxWidth;\n            this.left = 0;\n            this.right = this.width;\n        } else {\n            this.height = this.maxHeight;\n            this.top = 0;\n            this.bottom = this.height;\n        }\n        this.paddingLeft = 0;\n        this.paddingTop = 0;\n        this.paddingRight = 0;\n        this.paddingBottom = 0;\n    }\n    afterSetDimensions() {\n        callback(this.options.afterSetDimensions, [\n            this\n        ]);\n    }\n    _callHooks(name) {\n        this.chart.notifyPlugins(name, this.getContext());\n        callback(this.options[name], [\n            this\n        ]);\n    }\n    beforeDataLimits() {\n        this._callHooks('beforeDataLimits');\n    }\n    determineDataLimits() {}\n    afterDataLimits() {\n        this._callHooks('afterDataLimits');\n    }\n    beforeBuildTicks() {\n        this._callHooks('beforeBuildTicks');\n    }\n buildTicks() {\n        return [];\n    }\n    afterBuildTicks() {\n        this._callHooks('afterBuildTicks');\n    }\n    beforeTickToLabelConversion() {\n        callback(this.options.beforeTickToLabelConversion, [\n            this\n        ]);\n    }\n generateTickLabels(ticks) {\n        const tickOpts = this.options.ticks;\n        let i, ilen, tick;\n        for(i = 0, ilen = ticks.length; i < ilen; i++){\n            tick = ticks[i];\n            tick.label = callback(tickOpts.callback, [\n                tick.value,\n                i,\n                ticks\n            ], this);\n        }\n    }\n    afterTickToLabelConversion() {\n        callback(this.options.afterTickToLabelConversion, [\n            this\n        ]);\n    }\n    beforeCalculateLabelRotation() {\n        callback(this.options.beforeCalculateLabelRotation, [\n            this\n        ]);\n    }\n    calculateLabelRotation() {\n        const options = this.options;\n        const tickOpts = options.ticks;\n        const numTicks = getTicksLimit(this.ticks.length, options.ticks.maxTicksLimit);\n        const minRotation = tickOpts.minRotation || 0;\n        const maxRotation = tickOpts.maxRotation;\n        let labelRotation = minRotation;\n        let tickWidth, maxHeight, maxLabelDiagonal;\n        if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n            this.labelRotation = minRotation;\n            return;\n        }\n        const labelSizes = this._getLabelSizes();\n        const maxLabelWidth = labelSizes.widest.width;\n        const maxLabelHeight = labelSizes.highest.height;\n        const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n        tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n        if (maxLabelWidth + 6 > tickWidth) {\n            tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n            maxHeight = this.maxHeight - getTickMarkLength(options.grid) - tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n            maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n            labelRotation = toDegrees(Math.min(Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)), Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))));\n            labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n        }\n        this.labelRotation = labelRotation;\n    }\n    afterCalculateLabelRotation() {\n        callback(this.options.afterCalculateLabelRotation, [\n            this\n        ]);\n    }\n    afterAutoSkip() {}\n    beforeFit() {\n        callback(this.options.beforeFit, [\n            this\n        ]);\n    }\n    fit() {\n        const minSize = {\n            width: 0,\n            height: 0\n        };\n        const { chart , options: { ticks: tickOpts , title: titleOpts , grid: gridOpts  }  } = this;\n        const display = this._isVisible();\n        const isHorizontal = this.isHorizontal();\n        if (display) {\n            const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n            if (isHorizontal) {\n                minSize.width = this.maxWidth;\n                minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n            } else {\n                minSize.height = this.maxHeight;\n                minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n            }\n            if (tickOpts.display && this.ticks.length) {\n                const { first , last , widest , highest  } = this._getLabelSizes();\n                const tickPadding = tickOpts.padding * 2;\n                const angleRadians = toRadians(this.labelRotation);\n                const cos = Math.cos(angleRadians);\n                const sin = Math.sin(angleRadians);\n                if (isHorizontal) {\n                    const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n                    minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n                } else {\n                    const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n                    minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n                }\n                this._calculatePadding(first, last, sin, cos);\n            }\n        }\n        this._handleMargins();\n        if (isHorizontal) {\n            this.width = this._length = chart.width - this._margins.left - this._margins.right;\n            this.height = minSize.height;\n        } else {\n            this.width = minSize.width;\n            this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n        }\n    }\n    _calculatePadding(first, last, sin, cos) {\n        const { ticks: { align , padding  } , position  } = this.options;\n        const isRotated = this.labelRotation !== 0;\n        const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n        if (this.isHorizontal()) {\n            const offsetLeft = this.getPixelForTick(0) - this.left;\n            const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n            let paddingLeft = 0;\n            let paddingRight = 0;\n            if (isRotated) {\n                if (labelsBelowTicks) {\n                    paddingLeft = cos * first.width;\n                    paddingRight = sin * last.height;\n                } else {\n                    paddingLeft = sin * first.height;\n                    paddingRight = cos * last.width;\n                }\n            } else if (align === 'start') {\n                paddingRight = last.width;\n            } else if (align === 'end') {\n                paddingLeft = first.width;\n            } else if (align !== 'inner') {\n                paddingLeft = first.width / 2;\n                paddingRight = last.width / 2;\n            }\n            this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n            this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n        } else {\n            let paddingTop = last.height / 2;\n            let paddingBottom = first.height / 2;\n            if (align === 'start') {\n                paddingTop = 0;\n                paddingBottom = first.height;\n            } else if (align === 'end') {\n                paddingTop = last.height;\n                paddingBottom = 0;\n            }\n            this.paddingTop = paddingTop + padding;\n            this.paddingBottom = paddingBottom + padding;\n        }\n    }\n _handleMargins() {\n        if (this._margins) {\n            this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n            this._margins.top = Math.max(this.paddingTop, this._margins.top);\n            this._margins.right = Math.max(this.paddingRight, this._margins.right);\n            this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n        }\n    }\n    afterFit() {\n        callback(this.options.afterFit, [\n            this\n        ]);\n    }\n isHorizontal() {\n        const { axis , position  } = this.options;\n        return position === 'top' || position === 'bottom' || axis === 'x';\n    }\n isFullSize() {\n        return this.options.fullSize;\n    }\n _convertTicksToLabels(ticks) {\n        this.beforeTickToLabelConversion();\n        this.generateTickLabels(ticks);\n        let i, ilen;\n        for(i = 0, ilen = ticks.length; i < ilen; i++){\n            if (isNullOrUndef(ticks[i].label)) {\n                ticks.splice(i, 1);\n                ilen--;\n                i--;\n            }\n        }\n        this.afterTickToLabelConversion();\n    }\n _getLabelSizes() {\n        let labelSizes = this._labelSizes;\n        if (!labelSizes) {\n            const sampleSize = this.options.ticks.sampleSize;\n            let ticks = this.ticks;\n            if (sampleSize < ticks.length) {\n                ticks = sample(ticks, sampleSize);\n            }\n            this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length, this.options.ticks.maxTicksLimit);\n        }\n        return labelSizes;\n    }\n _computeLabelSizes(ticks, length, maxTicksLimit) {\n        const { ctx , _longestTextCache: caches  } = this;\n        const widths = [];\n        const heights = [];\n        const increment = Math.floor(length / getTicksLimit(length, maxTicksLimit));\n        let widestLabelSize = 0;\n        let highestLabelSize = 0;\n        let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n        for(i = 0; i < length; i += increment){\n            label = ticks[i].label;\n            tickFont = this._resolveTickFontOptions(i);\n            ctx.font = fontString = tickFont.string;\n            cache = caches[fontString] = caches[fontString] || {\n                data: {},\n                gc: []\n            };\n            lineHeight = tickFont.lineHeight;\n            width = height = 0;\n            if (!isNullOrUndef(label) && !isArray(label)) {\n                width = _measureText(ctx, cache.data, cache.gc, width, label);\n                height = lineHeight;\n            } else if (isArray(label)) {\n                for(j = 0, jlen = label.length; j < jlen; ++j){\n                    nestedLabel =  label[j];\n                    if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n                        width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n                        height += lineHeight;\n                    }\n                }\n            }\n            widths.push(width);\n            heights.push(height);\n            widestLabelSize = Math.max(width, widestLabelSize);\n            highestLabelSize = Math.max(height, highestLabelSize);\n        }\n        garbageCollect(caches, length);\n        const widest = widths.indexOf(widestLabelSize);\n        const highest = heights.indexOf(highestLabelSize);\n        const valueAt = (idx)=>({\n                width: widths[idx] || 0,\n                height: heights[idx] || 0\n            });\n        return {\n            first: valueAt(0),\n            last: valueAt(length - 1),\n            widest: valueAt(widest),\n            highest: valueAt(highest),\n            widths,\n            heights\n        };\n    }\n getLabelForValue(value) {\n        return value;\n    }\n getPixelForValue(value, index) {\n        return NaN;\n    }\n getValueForPixel(pixel) {}\n getPixelForTick(index) {\n        const ticks = this.ticks;\n        if (index < 0 || index > ticks.length - 1) {\n            return null;\n        }\n        return this.getPixelForValue(ticks[index].value);\n    }\n getPixelForDecimal(decimal) {\n        if (this._reversePixels) {\n            decimal = 1 - decimal;\n        }\n        const pixel = this._startPixel + decimal * this._length;\n        return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n    }\n getDecimalForPixel(pixel) {\n        const decimal = (pixel - this._startPixel) / this._length;\n        return this._reversePixels ? 1 - decimal : decimal;\n    }\n getBasePixel() {\n        return this.getPixelForValue(this.getBaseValue());\n    }\n getBaseValue() {\n        const { min , max  } = this;\n        return min < 0 && max < 0 ? max : min > 0 && max > 0 ? min : 0;\n    }\n getContext(index) {\n        const ticks = this.ticks || [];\n        if (index >= 0 && index < ticks.length) {\n            const tick = ticks[index];\n            return tick.$context || (tick.$context = createTickContext(this.getContext(), index, tick));\n        }\n        return this.$context || (this.$context = createScaleContext(this.chart.getContext(), this));\n    }\n _tickSize() {\n        const optionTicks = this.options.ticks;\n        const rot = toRadians(this.labelRotation);\n        const cos = Math.abs(Math.cos(rot));\n        const sin = Math.abs(Math.sin(rot));\n        const labelSizes = this._getLabelSizes();\n        const padding = optionTicks.autoSkipPadding || 0;\n        const w = labelSizes ? labelSizes.widest.width + padding : 0;\n        const h = labelSizes ? labelSizes.highest.height + padding : 0;\n        return this.isHorizontal() ? h * cos > w * sin ? w / cos : h / sin : h * sin < w * cos ? h / cos : w / sin;\n    }\n _isVisible() {\n        const display = this.options.display;\n        if (display !== 'auto') {\n            return !!display;\n        }\n        return this.getMatchingVisibleMetas().length > 0;\n    }\n _computeGridLineItems(chartArea) {\n        const axis = this.axis;\n        const chart = this.chart;\n        const options = this.options;\n        const { grid , position , border  } = options;\n        const offset = grid.offset;\n        const isHorizontal = this.isHorizontal();\n        const ticks = this.ticks;\n        const ticksLength = ticks.length + (offset ? 1 : 0);\n        const tl = getTickMarkLength(grid);\n        const items = [];\n        const borderOpts = border.setContext(this.getContext());\n        const axisWidth = borderOpts.display ? borderOpts.width : 0;\n        const axisHalfWidth = axisWidth / 2;\n        const alignBorderValue = function(pixel) {\n            return _alignPixel(chart, pixel, axisWidth);\n        };\n        let borderValue, i, lineValue, alignedLineValue;\n        let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n        if (position === 'top') {\n            borderValue = alignBorderValue(this.bottom);\n            ty1 = this.bottom - tl;\n            ty2 = borderValue - axisHalfWidth;\n            y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n            y2 = chartArea.bottom;\n        } else if (position === 'bottom') {\n            borderValue = alignBorderValue(this.top);\n            y1 = chartArea.top;\n            y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n            ty1 = borderValue + axisHalfWidth;\n            ty2 = this.top + tl;\n        } else if (position === 'left') {\n            borderValue = alignBorderValue(this.right);\n            tx1 = this.right - tl;\n            tx2 = borderValue - axisHalfWidth;\n            x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n            x2 = chartArea.right;\n        } else if (position === 'right') {\n            borderValue = alignBorderValue(this.left);\n            x1 = chartArea.left;\n            x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n            tx1 = borderValue + axisHalfWidth;\n            tx2 = this.left + tl;\n        } else if (axis === 'x') {\n            if (position === 'center') {\n                borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n            }\n            y1 = chartArea.top;\n            y2 = chartArea.bottom;\n            ty1 = borderValue + axisHalfWidth;\n            ty2 = ty1 + tl;\n        } else if (axis === 'y') {\n            if (position === 'center') {\n                borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n            }\n            tx1 = borderValue - axisHalfWidth;\n            tx2 = tx1 - tl;\n            x1 = chartArea.left;\n            x2 = chartArea.right;\n        }\n        const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n        const step = Math.max(1, Math.ceil(ticksLength / limit));\n        for(i = 0; i < ticksLength; i += step){\n            const context = this.getContext(i);\n            const optsAtIndex = grid.setContext(context);\n            const optsAtIndexBorder = border.setContext(context);\n            const lineWidth = optsAtIndex.lineWidth;\n            const lineColor = optsAtIndex.color;\n            const borderDash = optsAtIndexBorder.dash || [];\n            const borderDashOffset = optsAtIndexBorder.dashOffset;\n            const tickWidth = optsAtIndex.tickWidth;\n            const tickColor = optsAtIndex.tickColor;\n            const tickBorderDash = optsAtIndex.tickBorderDash || [];\n            const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n            lineValue = getPixelForGridLine(this, i, offset);\n            if (lineValue === undefined) {\n                continue;\n            }\n            alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n            if (isHorizontal) {\n                tx1 = tx2 = x1 = x2 = alignedLineValue;\n            } else {\n                ty1 = ty2 = y1 = y2 = alignedLineValue;\n            }\n            items.push({\n                tx1,\n                ty1,\n                tx2,\n                ty2,\n                x1,\n                y1,\n                x2,\n                y2,\n                width: lineWidth,\n                color: lineColor,\n                borderDash,\n                borderDashOffset,\n                tickWidth,\n                tickColor,\n                tickBorderDash,\n                tickBorderDashOffset\n            });\n        }\n        this._ticksLength = ticksLength;\n        this._borderValue = borderValue;\n        return items;\n    }\n _computeLabelItems(chartArea) {\n        const axis = this.axis;\n        const options = this.options;\n        const { position , ticks: optionTicks  } = options;\n        const isHorizontal = this.isHorizontal();\n        const ticks = this.ticks;\n        const { align , crossAlign , padding , mirror  } = optionTicks;\n        const tl = getTickMarkLength(options.grid);\n        const tickAndPadding = tl + padding;\n        const hTickAndPadding = mirror ? -padding : tickAndPadding;\n        const rotation = -toRadians(this.labelRotation);\n        const items = [];\n        let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n        let textBaseline = 'middle';\n        if (position === 'top') {\n            y = this.bottom - hTickAndPadding;\n            textAlign = this._getXAxisLabelAlignment();\n        } else if (position === 'bottom') {\n            y = this.top + hTickAndPadding;\n            textAlign = this._getXAxisLabelAlignment();\n        } else if (position === 'left') {\n            const ret = this._getYAxisLabelAlignment(tl);\n            textAlign = ret.textAlign;\n            x = ret.x;\n        } else if (position === 'right') {\n            const ret = this._getYAxisLabelAlignment(tl);\n            textAlign = ret.textAlign;\n            x = ret.x;\n        } else if (axis === 'x') {\n            if (position === 'center') {\n                y = (chartArea.top + chartArea.bottom) / 2 + tickAndPadding;\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n            }\n            textAlign = this._getXAxisLabelAlignment();\n        } else if (axis === 'y') {\n            if (position === 'center') {\n                x = (chartArea.left + chartArea.right) / 2 - tickAndPadding;\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                x = this.chart.scales[positionAxisID].getPixelForValue(value);\n            }\n            textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n        }\n        if (axis === 'y') {\n            if (align === 'start') {\n                textBaseline = 'top';\n            } else if (align === 'end') {\n                textBaseline = 'bottom';\n            }\n        }\n        const labelSizes = this._getLabelSizes();\n        for(i = 0, ilen = ticks.length; i < ilen; ++i){\n            tick = ticks[i];\n            label = tick.label;\n            const optsAtIndex = optionTicks.setContext(this.getContext(i));\n            pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n            font = this._resolveTickFontOptions(i);\n            lineHeight = font.lineHeight;\n            lineCount = isArray(label) ? label.length : 1;\n            const halfCount = lineCount / 2;\n            const color = optsAtIndex.color;\n            const strokeColor = optsAtIndex.textStrokeColor;\n            const strokeWidth = optsAtIndex.textStrokeWidth;\n            let tickTextAlign = textAlign;\n            if (isHorizontal) {\n                x = pixel;\n                if (textAlign === 'inner') {\n                    if (i === ilen - 1) {\n                        tickTextAlign = !this.options.reverse ? 'right' : 'left';\n                    } else if (i === 0) {\n                        tickTextAlign = !this.options.reverse ? 'left' : 'right';\n                    } else {\n                        tickTextAlign = 'center';\n                    }\n                }\n                if (position === 'top') {\n                    if (crossAlign === 'near' || rotation !== 0) {\n                        textOffset = -lineCount * lineHeight + lineHeight / 2;\n                    } else if (crossAlign === 'center') {\n                        textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n                    } else {\n                        textOffset = -labelSizes.highest.height + lineHeight / 2;\n                    }\n                } else {\n                    if (crossAlign === 'near' || rotation !== 0) {\n                        textOffset = lineHeight / 2;\n                    } else if (crossAlign === 'center') {\n                        textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n                    } else {\n                        textOffset = labelSizes.highest.height - lineCount * lineHeight;\n                    }\n                }\n                if (mirror) {\n                    textOffset *= -1;\n                }\n                if (rotation !== 0 && !optsAtIndex.showLabelBackdrop) {\n                    x += lineHeight / 2 * Math.sin(rotation);\n                }\n            } else {\n                y = pixel;\n                textOffset = (1 - lineCount) * lineHeight / 2;\n            }\n            let backdrop;\n            if (optsAtIndex.showLabelBackdrop) {\n                const labelPadding = toPadding(optsAtIndex.backdropPadding);\n                const height = labelSizes.heights[i];\n                const width = labelSizes.widths[i];\n                let top = textOffset - labelPadding.top;\n                let left = 0 - labelPadding.left;\n                switch(textBaseline){\n                    case 'middle':\n                        top -= height / 2;\n                        break;\n                    case 'bottom':\n                        top -= height;\n                        break;\n                }\n                switch(textAlign){\n                    case 'center':\n                        left -= width / 2;\n                        break;\n                    case 'right':\n                        left -= width;\n                        break;\n                    case 'inner':\n                        if (i === ilen - 1) {\n                            left -= width;\n                        } else if (i > 0) {\n                            left -= width / 2;\n                        }\n                        break;\n                }\n                backdrop = {\n                    left,\n                    top,\n                    width: width + labelPadding.width,\n                    height: height + labelPadding.height,\n                    color: optsAtIndex.backdropColor\n                };\n            }\n            items.push({\n                label,\n                font,\n                textOffset,\n                options: {\n                    rotation,\n                    color,\n                    strokeColor,\n                    strokeWidth,\n                    textAlign: tickTextAlign,\n                    textBaseline,\n                    translation: [\n                        x,\n                        y\n                    ],\n                    backdrop\n                }\n            });\n        }\n        return items;\n    }\n    _getXAxisLabelAlignment() {\n        const { position , ticks  } = this.options;\n        const rotation = -toRadians(this.labelRotation);\n        if (rotation) {\n            return position === 'top' ? 'left' : 'right';\n        }\n        let align = 'center';\n        if (ticks.align === 'start') {\n            align = 'left';\n        } else if (ticks.align === 'end') {\n            align = 'right';\n        } else if (ticks.align === 'inner') {\n            align = 'inner';\n        }\n        return align;\n    }\n    _getYAxisLabelAlignment(tl) {\n        const { position , ticks: { crossAlign , mirror , padding  }  } = this.options;\n        const labelSizes = this._getLabelSizes();\n        const tickAndPadding = tl + padding;\n        const widest = labelSizes.widest.width;\n        let textAlign;\n        let x;\n        if (position === 'left') {\n            if (mirror) {\n                x = this.right + padding;\n                if (crossAlign === 'near') {\n                    textAlign = 'left';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x += widest / 2;\n                } else {\n                    textAlign = 'right';\n                    x += widest;\n                }\n            } else {\n                x = this.right - tickAndPadding;\n                if (crossAlign === 'near') {\n                    textAlign = 'right';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x -= widest / 2;\n                } else {\n                    textAlign = 'left';\n                    x = this.left;\n                }\n            }\n        } else if (position === 'right') {\n            if (mirror) {\n                x = this.left + padding;\n                if (crossAlign === 'near') {\n                    textAlign = 'right';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x -= widest / 2;\n                } else {\n                    textAlign = 'left';\n                    x -= widest;\n                }\n            } else {\n                x = this.left + tickAndPadding;\n                if (crossAlign === 'near') {\n                    textAlign = 'left';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x += widest / 2;\n                } else {\n                    textAlign = 'right';\n                    x = this.right;\n                }\n            }\n        } else {\n            textAlign = 'right';\n        }\n        return {\n            textAlign,\n            x\n        };\n    }\n _computeLabelArea() {\n        if (this.options.ticks.mirror) {\n            return;\n        }\n        const chart = this.chart;\n        const position = this.options.position;\n        if (position === 'left' || position === 'right') {\n            return {\n                top: 0,\n                left: this.left,\n                bottom: chart.height,\n                right: this.right\n            };\n        }\n        if (position === 'top' || position === 'bottom') {\n            return {\n                top: this.top,\n                left: 0,\n                bottom: this.bottom,\n                right: chart.width\n            };\n        }\n    }\n drawBackground() {\n        const { ctx , options: { backgroundColor  } , left , top , width , height  } = this;\n        if (backgroundColor) {\n            ctx.save();\n            ctx.fillStyle = backgroundColor;\n            ctx.fillRect(left, top, width, height);\n            ctx.restore();\n        }\n    }\n    getLineWidthForValue(value) {\n        const grid = this.options.grid;\n        if (!this._isVisible() || !grid.display) {\n            return 0;\n        }\n        const ticks = this.ticks;\n        const index = ticks.findIndex((t)=>t.value === value);\n        if (index >= 0) {\n            const opts = grid.setContext(this.getContext(index));\n            return opts.lineWidth;\n        }\n        return 0;\n    }\n drawGrid(chartArea) {\n        const grid = this.options.grid;\n        const ctx = this.ctx;\n        const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n        let i, ilen;\n        const drawLine = (p1, p2, style)=>{\n            if (!style.width || !style.color) {\n                return;\n            }\n            ctx.save();\n            ctx.lineWidth = style.width;\n            ctx.strokeStyle = style.color;\n            ctx.setLineDash(style.borderDash || []);\n            ctx.lineDashOffset = style.borderDashOffset;\n            ctx.beginPath();\n            ctx.moveTo(p1.x, p1.y);\n            ctx.lineTo(p2.x, p2.y);\n            ctx.stroke();\n            ctx.restore();\n        };\n        if (grid.display) {\n            for(i = 0, ilen = items.length; i < ilen; ++i){\n                const item = items[i];\n                if (grid.drawOnChartArea) {\n                    drawLine({\n                        x: item.x1,\n                        y: item.y1\n                    }, {\n                        x: item.x2,\n                        y: item.y2\n                    }, item);\n                }\n                if (grid.drawTicks) {\n                    drawLine({\n                        x: item.tx1,\n                        y: item.ty1\n                    }, {\n                        x: item.tx2,\n                        y: item.ty2\n                    }, {\n                        color: item.tickColor,\n                        width: item.tickWidth,\n                        borderDash: item.tickBorderDash,\n                        borderDashOffset: item.tickBorderDashOffset\n                    });\n                }\n            }\n        }\n    }\n drawBorder() {\n        const { chart , ctx , options: { border , grid  }  } = this;\n        const borderOpts = border.setContext(this.getContext());\n        const axisWidth = border.display ? borderOpts.width : 0;\n        if (!axisWidth) {\n            return;\n        }\n        const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n        const borderValue = this._borderValue;\n        let x1, x2, y1, y2;\n        if (this.isHorizontal()) {\n            x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n            x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n            y1 = y2 = borderValue;\n        } else {\n            y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n            y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n            x1 = x2 = borderValue;\n        }\n        ctx.save();\n        ctx.lineWidth = borderOpts.width;\n        ctx.strokeStyle = borderOpts.color;\n        ctx.beginPath();\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y2);\n        ctx.stroke();\n        ctx.restore();\n    }\n drawLabels(chartArea) {\n        const optionTicks = this.options.ticks;\n        if (!optionTicks.display) {\n            return;\n        }\n        const ctx = this.ctx;\n        const area = this._computeLabelArea();\n        if (area) {\n            clipArea(ctx, area);\n        }\n        const items = this.getLabelItems(chartArea);\n        for (const item of items){\n            const renderTextOptions = item.options;\n            const tickFont = item.font;\n            const label = item.label;\n            const y = item.textOffset;\n            renderText(ctx, label, 0, y, tickFont, renderTextOptions);\n        }\n        if (area) {\n            unclipArea(ctx);\n        }\n    }\n drawTitle() {\n        const { ctx , options: { position , title , reverse  }  } = this;\n        if (!title.display) {\n            return;\n        }\n        const font = toFont(title.font);\n        const padding = toPadding(title.padding);\n        const align = title.align;\n        let offset = font.lineHeight / 2;\n        if (position === 'bottom' || position === 'center' || isObject(position)) {\n            offset += padding.bottom;\n            if (isArray(title.text)) {\n                offset += font.lineHeight * (title.text.length - 1);\n            }\n        } else {\n            offset += padding.top;\n        }\n        const { titleX , titleY , maxWidth , rotation  } = titleArgs(this, offset, position, align);\n        renderText(ctx, title.text, 0, 0, font, {\n            color: title.color,\n            maxWidth,\n            rotation,\n            textAlign: titleAlign(align, position, reverse),\n            textBaseline: 'middle',\n            translation: [\n                titleX,\n                titleY\n            ]\n        });\n    }\n    draw(chartArea) {\n        if (!this._isVisible()) {\n            return;\n        }\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawBorder();\n        this.drawTitle();\n        this.drawLabels(chartArea);\n    }\n _layers() {\n        const opts = this.options;\n        const tz = opts.ticks && opts.ticks.z || 0;\n        const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n        const bz = valueOrDefault(opts.border && opts.border.z, 0);\n        if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n            return [\n                {\n                    z: tz,\n                    draw: (chartArea)=>{\n                        this.draw(chartArea);\n                    }\n                }\n            ];\n        }\n        return [\n            {\n                z: gz,\n                draw: (chartArea)=>{\n                    this.drawBackground();\n                    this.drawGrid(chartArea);\n                    this.drawTitle();\n                }\n            },\n            {\n                z: bz,\n                draw: ()=>{\n                    this.drawBorder();\n                }\n            },\n            {\n                z: tz,\n                draw: (chartArea)=>{\n                    this.drawLabels(chartArea);\n                }\n            }\n        ];\n    }\n getMatchingVisibleMetas(type) {\n        const metas = this.chart.getSortedVisibleDatasetMetas();\n        const axisID = this.axis + 'AxisID';\n        const result = [];\n        let i, ilen;\n        for(i = 0, ilen = metas.length; i < ilen; ++i){\n            const meta = metas[i];\n            if (meta[axisID] === this.id && (!type || meta.type === type)) {\n                result.push(meta);\n            }\n        }\n        return result;\n    }\n _resolveTickFontOptions(index) {\n        const opts = this.options.ticks.setContext(this.getContext(index));\n        return toFont(opts.font);\n    }\n _maxDigits() {\n        const fontSize = this._resolveTickFontOptions(0).lineHeight;\n        return (this.isHorizontal() ? this.width : this.height) / fontSize;\n    }\n}\n\nclass TypedRegistry {\n    constructor(type, scope, override){\n        this.type = type;\n        this.scope = scope;\n        this.override = override;\n        this.items = Object.create(null);\n    }\n    isForType(type) {\n        return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n    }\n register(item) {\n        const proto = Object.getPrototypeOf(item);\n        let parentScope;\n        if (isIChartComponent(proto)) {\n            parentScope = this.register(proto);\n        }\n        const items = this.items;\n        const id = item.id;\n        const scope = this.scope + '.' + id;\n        if (!id) {\n            throw new Error('class does not have id: ' + item);\n        }\n        if (id in items) {\n            return scope;\n        }\n        items[id] = item;\n        registerDefaults(item, scope, parentScope);\n        if (this.override) {\n            defaults.override(item.id, item.overrides);\n        }\n        return scope;\n    }\n get(id) {\n        return this.items[id];\n    }\n unregister(item) {\n        const items = this.items;\n        const id = item.id;\n        const scope = this.scope;\n        if (id in items) {\n            delete items[id];\n        }\n        if (scope && id in defaults[scope]) {\n            delete defaults[scope][id];\n            if (this.override) {\n                delete overrides[id];\n            }\n        }\n    }\n}\nfunction registerDefaults(item, scope, parentScope) {\n    const itemDefaults = merge(Object.create(null), [\n        parentScope ? defaults.get(parentScope) : {},\n        defaults.get(scope),\n        item.defaults\n    ]);\n    defaults.set(scope, itemDefaults);\n    if (item.defaultRoutes) {\n        routeDefaults(scope, item.defaultRoutes);\n    }\n    if (item.descriptors) {\n        defaults.describe(scope, item.descriptors);\n    }\n}\nfunction routeDefaults(scope, routes) {\n    Object.keys(routes).forEach((property)=>{\n        const propertyParts = property.split('.');\n        const sourceName = propertyParts.pop();\n        const sourceScope = [\n            scope\n        ].concat(propertyParts).join('.');\n        const parts = routes[property].split('.');\n        const targetName = parts.pop();\n        const targetScope = parts.join('.');\n        defaults.route(sourceScope, sourceName, targetScope, targetName);\n    });\n}\nfunction isIChartComponent(proto) {\n    return 'id' in proto && 'defaults' in proto;\n}\n\nclass Registry {\n    constructor(){\n        this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n        this.elements = new TypedRegistry(Element, 'elements');\n        this.plugins = new TypedRegistry(Object, 'plugins');\n        this.scales = new TypedRegistry(Scale, 'scales');\n        this._typedRegistries = [\n            this.controllers,\n            this.scales,\n            this.elements\n        ];\n    }\n add(...args) {\n        this._each('register', args);\n    }\n    remove(...args) {\n        this._each('unregister', args);\n    }\n addControllers(...args) {\n        this._each('register', args, this.controllers);\n    }\n addElements(...args) {\n        this._each('register', args, this.elements);\n    }\n addPlugins(...args) {\n        this._each('register', args, this.plugins);\n    }\n addScales(...args) {\n        this._each('register', args, this.scales);\n    }\n getController(id) {\n        return this._get(id, this.controllers, 'controller');\n    }\n getElement(id) {\n        return this._get(id, this.elements, 'element');\n    }\n getPlugin(id) {\n        return this._get(id, this.plugins, 'plugin');\n    }\n getScale(id) {\n        return this._get(id, this.scales, 'scale');\n    }\n removeControllers(...args) {\n        this._each('unregister', args, this.controllers);\n    }\n removeElements(...args) {\n        this._each('unregister', args, this.elements);\n    }\n removePlugins(...args) {\n        this._each('unregister', args, this.plugins);\n    }\n removeScales(...args) {\n        this._each('unregister', args, this.scales);\n    }\n _each(method, args, typedRegistry) {\n        [\n            ...args\n        ].forEach((arg)=>{\n            const reg = typedRegistry || this._getRegistryForType(arg);\n            if (typedRegistry || reg.isForType(arg) || reg === this.plugins && arg.id) {\n                this._exec(method, reg, arg);\n            } else {\n                each(arg, (item)=>{\n                    const itemReg = typedRegistry || this._getRegistryForType(item);\n                    this._exec(method, itemReg, item);\n                });\n            }\n        });\n    }\n _exec(method, registry, component) {\n        const camelMethod = _capitalize(method);\n        callback(component['before' + camelMethod], [], component);\n        registry[method](component);\n        callback(component['after' + camelMethod], [], component);\n    }\n _getRegistryForType(type) {\n        for(let i = 0; i < this._typedRegistries.length; i++){\n            const reg = this._typedRegistries[i];\n            if (reg.isForType(type)) {\n                return reg;\n            }\n        }\n        return this.plugins;\n    }\n _get(id, typedRegistry, type) {\n        const item = typedRegistry.get(id);\n        if (item === undefined) {\n            throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n        }\n        return item;\n    }\n}\nvar registry = /* #__PURE__ */ new Registry();\n\nclass PluginService {\n    constructor(){\n        this._init = [];\n    }\n notify(chart, hook, args, filter) {\n        if (hook === 'beforeInit') {\n            this._init = this._createDescriptors(chart, true);\n            this._notify(this._init, chart, 'install');\n        }\n        const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n        const result = this._notify(descriptors, chart, hook, args);\n        if (hook === 'afterDestroy') {\n            this._notify(descriptors, chart, 'stop');\n            this._notify(this._init, chart, 'uninstall');\n        }\n        return result;\n    }\n _notify(descriptors, chart, hook, args) {\n        args = args || {};\n        for (const descriptor of descriptors){\n            const plugin = descriptor.plugin;\n            const method = plugin[hook];\n            const params = [\n                chart,\n                args,\n                descriptor.options\n            ];\n            if (callback(method, params, plugin) === false && args.cancelable) {\n                return false;\n            }\n        }\n        return true;\n    }\n    invalidate() {\n        if (!isNullOrUndef(this._cache)) {\n            this._oldCache = this._cache;\n            this._cache = undefined;\n        }\n    }\n _descriptors(chart) {\n        if (this._cache) {\n            return this._cache;\n        }\n        const descriptors = this._cache = this._createDescriptors(chart);\n        this._notifyStateChanges(chart);\n        return descriptors;\n    }\n    _createDescriptors(chart, all) {\n        const config = chart && chart.config;\n        const options = valueOrDefault(config.options && config.options.plugins, {});\n        const plugins = allPlugins(config);\n        return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n    }\n _notifyStateChanges(chart) {\n        const previousDescriptors = this._oldCache || [];\n        const descriptors = this._cache;\n        const diff = (a, b)=>a.filter((x)=>!b.some((y)=>x.plugin.id === y.plugin.id));\n        this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n        this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n    }\n}\n function allPlugins(config) {\n    const localIds = {};\n    const plugins = [];\n    const keys = Object.keys(registry.plugins.items);\n    for(let i = 0; i < keys.length; i++){\n        plugins.push(registry.getPlugin(keys[i]));\n    }\n    const local = config.plugins || [];\n    for(let i = 0; i < local.length; i++){\n        const plugin = local[i];\n        if (plugins.indexOf(plugin) === -1) {\n            plugins.push(plugin);\n            localIds[plugin.id] = true;\n        }\n    }\n    return {\n        plugins,\n        localIds\n    };\n}\nfunction getOpts(options, all) {\n    if (!all && options === false) {\n        return null;\n    }\n    if (options === true) {\n        return {};\n    }\n    return options;\n}\nfunction createDescriptors(chart, { plugins , localIds  }, options, all) {\n    const result = [];\n    const context = chart.getContext();\n    for (const plugin of plugins){\n        const id = plugin.id;\n        const opts = getOpts(options[id], all);\n        if (opts === null) {\n            continue;\n        }\n        result.push({\n            plugin,\n            options: pluginOpts(chart.config, {\n                plugin,\n                local: localIds[id]\n            }, opts, context)\n        });\n    }\n    return result;\n}\nfunction pluginOpts(config, { plugin , local  }, opts, context) {\n    const keys = config.pluginScopeKeys(plugin);\n    const scopes = config.getOptionScopes(opts, keys);\n    if (local && plugin.defaults) {\n        scopes.push(plugin.defaults);\n    }\n    return config.createResolver(scopes, context, [\n        ''\n    ], {\n        scriptable: false,\n        indexable: false,\n        allKeys: true\n    });\n}\n\nfunction getIndexAxis(type, options) {\n    const datasetDefaults = defaults.datasets[type] || {};\n    const datasetOptions = (options.datasets || {})[type] || {};\n    return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n    let axis = id;\n    if (id === '_index_') {\n        axis = indexAxis;\n    } else if (id === '_value_') {\n        axis = indexAxis === 'x' ? 'y' : 'x';\n    }\n    return axis;\n}\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n    return axis === indexAxis ? '_index_' : '_value_';\n}\nfunction idMatchesAxis(id) {\n    if (id === 'x' || id === 'y' || id === 'r') {\n        return id;\n    }\n}\nfunction axisFromPosition(position) {\n    if (position === 'top' || position === 'bottom') {\n        return 'x';\n    }\n    if (position === 'left' || position === 'right') {\n        return 'y';\n    }\n}\nfunction determineAxis(id, ...scaleOptions) {\n    if (idMatchesAxis(id)) {\n        return id;\n    }\n    for (const opts of scaleOptions){\n        const axis = opts.axis || axisFromPosition(opts.position) || id.length > 1 && idMatchesAxis(id[0].toLowerCase());\n        if (axis) {\n            return axis;\n        }\n    }\n    throw new Error(`Cannot determine type of '${id}' axis. Please provide 'axis' or 'position' option.`);\n}\nfunction getAxisFromDataset(id, axis, dataset) {\n    if (dataset[axis + 'AxisID'] === id) {\n        return {\n            axis\n        };\n    }\n}\nfunction retrieveAxisFromDatasets(id, config) {\n    if (config.data && config.data.datasets) {\n        const boundDs = config.data.datasets.filter((d)=>d.xAxisID === id || d.yAxisID === id);\n        if (boundDs.length) {\n            return getAxisFromDataset(id, 'x', boundDs[0]) || getAxisFromDataset(id, 'y', boundDs[0]);\n        }\n    }\n    return {};\n}\nfunction mergeScaleConfig(config, options) {\n    const chartDefaults = overrides[config.type] || {\n        scales: {}\n    };\n    const configScales = options.scales || {};\n    const chartIndexAxis = getIndexAxis(config.type, options);\n    const scales = Object.create(null);\n    Object.keys(configScales).forEach((id)=>{\n        const scaleConf = configScales[id];\n        if (!isObject(scaleConf)) {\n            return console.error(`Invalid scale configuration for scale: ${id}`);\n        }\n        if (scaleConf._proxy) {\n            return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n        }\n        const axis = determineAxis(id, scaleConf, retrieveAxisFromDatasets(id, config), defaults.scales[scaleConf.type]);\n        const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n        const defaultScaleOptions = chartDefaults.scales || {};\n        scales[id] = mergeIf(Object.create(null), [\n            {\n                axis\n            },\n            scaleConf,\n            defaultScaleOptions[axis],\n            defaultScaleOptions[defaultId]\n        ]);\n    });\n    config.data.datasets.forEach((dataset)=>{\n        const type = dataset.type || config.type;\n        const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n        const datasetDefaults = overrides[type] || {};\n        const defaultScaleOptions = datasetDefaults.scales || {};\n        Object.keys(defaultScaleOptions).forEach((defaultID)=>{\n            const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n            const id = dataset[axis + 'AxisID'] || axis;\n            scales[id] = scales[id] || Object.create(null);\n            mergeIf(scales[id], [\n                {\n                    axis\n                },\n                configScales[id],\n                defaultScaleOptions[defaultID]\n            ]);\n        });\n    });\n    Object.keys(scales).forEach((key)=>{\n        const scale = scales[key];\n        mergeIf(scale, [\n            defaults.scales[scale.type],\n            defaults.scale\n        ]);\n    });\n    return scales;\n}\nfunction initOptions(config) {\n    const options = config.options || (config.options = {});\n    options.plugins = valueOrDefault(options.plugins, {});\n    options.scales = mergeScaleConfig(config, options);\n}\nfunction initData(data) {\n    data = data || {};\n    data.datasets = data.datasets || [];\n    data.labels = data.labels || [];\n    return data;\n}\nfunction initConfig(config) {\n    config = config || {};\n    config.data = initData(config.data);\n    initOptions(config);\n    return config;\n}\nconst keyCache = new Map();\nconst keysCached = new Set();\nfunction cachedKeys(cacheKey, generate) {\n    let keys = keyCache.get(cacheKey);\n    if (!keys) {\n        keys = generate();\n        keyCache.set(cacheKey, keys);\n        keysCached.add(keys);\n    }\n    return keys;\n}\nconst addIfFound = (set, obj, key)=>{\n    const opts = resolveObjectKey(obj, key);\n    if (opts !== undefined) {\n        set.add(opts);\n    }\n};\nclass Config {\n    constructor(config){\n        this._config = initConfig(config);\n        this._scopeCache = new Map();\n        this._resolverCache = new Map();\n    }\n    get platform() {\n        return this._config.platform;\n    }\n    get type() {\n        return this._config.type;\n    }\n    set type(type) {\n        this._config.type = type;\n    }\n    get data() {\n        return this._config.data;\n    }\n    set data(data) {\n        this._config.data = initData(data);\n    }\n    get options() {\n        return this._config.options;\n    }\n    set options(options) {\n        this._config.options = options;\n    }\n    get plugins() {\n        return this._config.plugins;\n    }\n    update() {\n        const config = this._config;\n        this.clearCache();\n        initOptions(config);\n    }\n    clearCache() {\n        this._scopeCache.clear();\n        this._resolverCache.clear();\n    }\n datasetScopeKeys(datasetType) {\n        return cachedKeys(datasetType, ()=>[\n                [\n                    `datasets.${datasetType}`,\n                    ''\n                ]\n            ]);\n    }\n datasetAnimationScopeKeys(datasetType, transition) {\n        return cachedKeys(`${datasetType}.transition.${transition}`, ()=>[\n                [\n                    `datasets.${datasetType}.transitions.${transition}`,\n                    `transitions.${transition}`\n                ],\n                [\n                    `datasets.${datasetType}`,\n                    ''\n                ]\n            ]);\n    }\n datasetElementScopeKeys(datasetType, elementType) {\n        return cachedKeys(`${datasetType}-${elementType}`, ()=>[\n                [\n                    `datasets.${datasetType}.elements.${elementType}`,\n                    `datasets.${datasetType}`,\n                    `elements.${elementType}`,\n                    ''\n                ]\n            ]);\n    }\n pluginScopeKeys(plugin) {\n        const id = plugin.id;\n        const type = this.type;\n        return cachedKeys(`${type}-plugin-${id}`, ()=>[\n                [\n                    `plugins.${id}`,\n                    ...plugin.additionalOptionScopes || []\n                ]\n            ]);\n    }\n _cachedScopes(mainScope, resetCache) {\n        const _scopeCache = this._scopeCache;\n        let cache = _scopeCache.get(mainScope);\n        if (!cache || resetCache) {\n            cache = new Map();\n            _scopeCache.set(mainScope, cache);\n        }\n        return cache;\n    }\n getOptionScopes(mainScope, keyLists, resetCache) {\n        const { options , type  } = this;\n        const cache = this._cachedScopes(mainScope, resetCache);\n        const cached = cache.get(keyLists);\n        if (cached) {\n            return cached;\n        }\n        const scopes = new Set();\n        keyLists.forEach((keys)=>{\n            if (mainScope) {\n                scopes.add(mainScope);\n                keys.forEach((key)=>addIfFound(scopes, mainScope, key));\n            }\n            keys.forEach((key)=>addIfFound(scopes, options, key));\n            keys.forEach((key)=>addIfFound(scopes, overrides[type] || {}, key));\n            keys.forEach((key)=>addIfFound(scopes, defaults, key));\n            keys.forEach((key)=>addIfFound(scopes, descriptors, key));\n        });\n        const array = Array.from(scopes);\n        if (array.length === 0) {\n            array.push(Object.create(null));\n        }\n        if (keysCached.has(keyLists)) {\n            cache.set(keyLists, array);\n        }\n        return array;\n    }\n chartOptionScopes() {\n        const { options , type  } = this;\n        return [\n            options,\n            overrides[type] || {},\n            defaults.datasets[type] || {},\n            {\n                type\n            },\n            defaults,\n            descriptors\n        ];\n    }\n resolveNamedOptions(scopes, names, context, prefixes = [\n        ''\n    ]) {\n        const result = {\n            $shared: true\n        };\n        const { resolver , subPrefixes  } = getResolver(this._resolverCache, scopes, prefixes);\n        let options = resolver;\n        if (needContext(resolver, names)) {\n            result.$shared = false;\n            context = isFunction(context) ? context() : context;\n            const subResolver = this.createResolver(scopes, context, subPrefixes);\n            options = _attachContext(resolver, context, subResolver);\n        }\n        for (const prop of names){\n            result[prop] = options[prop];\n        }\n        return result;\n    }\n createResolver(scopes, context, prefixes = [\n        ''\n    ], descriptorDefaults) {\n        const { resolver  } = getResolver(this._resolverCache, scopes, prefixes);\n        return isObject(context) ? _attachContext(resolver, context, undefined, descriptorDefaults) : resolver;\n    }\n}\nfunction getResolver(resolverCache, scopes, prefixes) {\n    let cache = resolverCache.get(scopes);\n    if (!cache) {\n        cache = new Map();\n        resolverCache.set(scopes, cache);\n    }\n    const cacheKey = prefixes.join();\n    let cached = cache.get(cacheKey);\n    if (!cached) {\n        const resolver = _createResolver(scopes, prefixes);\n        cached = {\n            resolver,\n            subPrefixes: prefixes.filter((p)=>!p.toLowerCase().includes('hover'))\n        };\n        cache.set(cacheKey, cached);\n    }\n    return cached;\n}\nconst hasFunction = (value)=>isObject(value) && Object.getOwnPropertyNames(value).some((key)=>isFunction(value[key]));\nfunction needContext(proxy, names) {\n    const { isScriptable , isIndexable  } = _descriptors(proxy);\n    for (const prop of names){\n        const scriptable = isScriptable(prop);\n        const indexable = isIndexable(prop);\n        const value = (indexable || scriptable) && proxy[prop];\n        if (scriptable && (isFunction(value) || hasFunction(value)) || indexable && isArray(value)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar version = \"4.4.9\";\n\nconst KNOWN_POSITIONS = [\n    'top',\n    'bottom',\n    'left',\n    'right',\n    'chartArea'\n];\nfunction positionIsHorizontal(position, axis) {\n    return position === 'top' || position === 'bottom' || KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x';\n}\nfunction compare2Level(l1, l2) {\n    return function(a, b) {\n        return a[l1] === b[l1] ? a[l2] - b[l2] : a[l1] - b[l1];\n    };\n}\nfunction onAnimationsComplete(context) {\n    const chart = context.chart;\n    const animationOptions = chart.options.animation;\n    chart.notifyPlugins('afterRender');\n    callback(animationOptions && animationOptions.onComplete, [\n        context\n    ], chart);\n}\nfunction onAnimationProgress(context) {\n    const chart = context.chart;\n    const animationOptions = chart.options.animation;\n    callback(animationOptions && animationOptions.onProgress, [\n        context\n    ], chart);\n}\n function getCanvas(item) {\n    if (_isDomSupported() && typeof item === 'string') {\n        item = document.getElementById(item);\n    } else if (item && item.length) {\n        item = item[0];\n    }\n    if (item && item.canvas) {\n        item = item.canvas;\n    }\n    return item;\n}\nconst instances = {};\nconst getChart = (key)=>{\n    const canvas = getCanvas(key);\n    return Object.values(instances).filter((c)=>c.canvas === canvas).pop();\n};\nfunction moveNumericKeys(obj, start, move) {\n    const keys = Object.keys(obj);\n    for (const key of keys){\n        const intKey = +key;\n        if (intKey >= start) {\n            const value = obj[key];\n            delete obj[key];\n            if (move > 0 || intKey > start) {\n                obj[intKey + move] = value;\n            }\n        }\n    }\n}\n function determineLastEvent(e, lastEvent, inChartArea, isClick) {\n    if (!inChartArea || e.type === 'mouseout') {\n        return null;\n    }\n    if (isClick) {\n        return lastEvent;\n    }\n    return e;\n}\nclass Chart {\n    static defaults = defaults;\n    static instances = instances;\n    static overrides = overrides;\n    static registry = registry;\n    static version = version;\n    static getChart = getChart;\n    static register(...items) {\n        registry.add(...items);\n        invalidatePlugins();\n    }\n    static unregister(...items) {\n        registry.remove(...items);\n        invalidatePlugins();\n    }\n    constructor(item, userConfig){\n        const config = this.config = new Config(userConfig);\n        const initialCanvas = getCanvas(item);\n        const existingChart = getChart(initialCanvas);\n        if (existingChart) {\n            throw new Error('Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' + ' must be destroyed before the canvas with ID \\'' + existingChart.canvas.id + '\\' can be reused.');\n        }\n        const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n        this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n        this.platform.updateConfig(config);\n        const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n        const canvas = context && context.canvas;\n        const height = canvas && canvas.height;\n        const width = canvas && canvas.width;\n        this.id = uid();\n        this.ctx = context;\n        this.canvas = canvas;\n        this.width = width;\n        this.height = height;\n        this._options = options;\n        this._aspectRatio = this.aspectRatio;\n        this._layers = [];\n        this._metasets = [];\n        this._stacks = undefined;\n        this.boxes = [];\n        this.currentDevicePixelRatio = undefined;\n        this.chartArea = undefined;\n        this._active = [];\n        this._lastEvent = undefined;\n        this._listeners = {};\n         this._responsiveListeners = undefined;\n        this._sortedMetasets = [];\n        this.scales = {};\n        this._plugins = new PluginService();\n        this.$proxies = {};\n        this._hiddenIndices = {};\n        this.attached = false;\n        this._animationsDisabled = undefined;\n        this.$context = undefined;\n        this._doResize = debounce((mode)=>this.update(mode), options.resizeDelay || 0);\n        this._dataChanges = [];\n        instances[this.id] = this;\n        if (!context || !canvas) {\n            console.error(\"Failed to create chart: can't acquire context from the given item\");\n            return;\n        }\n        animator.listen(this, 'complete', onAnimationsComplete);\n        animator.listen(this, 'progress', onAnimationProgress);\n        this._initialize();\n        if (this.attached) {\n            this.update();\n        }\n    }\n    get aspectRatio() {\n        const { options: { aspectRatio , maintainAspectRatio  } , width , height , _aspectRatio  } = this;\n        if (!isNullOrUndef(aspectRatio)) {\n            return aspectRatio;\n        }\n        if (maintainAspectRatio && _aspectRatio) {\n            return _aspectRatio;\n        }\n        return height ? width / height : null;\n    }\n    get data() {\n        return this.config.data;\n    }\n    set data(data) {\n        this.config.data = data;\n    }\n    get options() {\n        return this._options;\n    }\n    set options(options) {\n        this.config.options = options;\n    }\n    get registry() {\n        return registry;\n    }\n _initialize() {\n        this.notifyPlugins('beforeInit');\n        if (this.options.responsive) {\n            this.resize();\n        } else {\n            retinaScale(this, this.options.devicePixelRatio);\n        }\n        this.bindEvents();\n        this.notifyPlugins('afterInit');\n        return this;\n    }\n    clear() {\n        clearCanvas(this.canvas, this.ctx);\n        return this;\n    }\n    stop() {\n        animator.stop(this);\n        return this;\n    }\n resize(width, height) {\n        if (!animator.running(this)) {\n            this._resize(width, height);\n        } else {\n            this._resizeBeforeDraw = {\n                width,\n                height\n            };\n        }\n    }\n    _resize(width, height) {\n        const options = this.options;\n        const canvas = this.canvas;\n        const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n        const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n        const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n        const mode = this.width ? 'resize' : 'attach';\n        this.width = newSize.width;\n        this.height = newSize.height;\n        this._aspectRatio = this.aspectRatio;\n        if (!retinaScale(this, newRatio, true)) {\n            return;\n        }\n        this.notifyPlugins('resize', {\n            size: newSize\n        });\n        callback(options.onResize, [\n            this,\n            newSize\n        ], this);\n        if (this.attached) {\n            if (this._doResize(mode)) {\n                this.render();\n            }\n        }\n    }\n    ensureScalesHaveIDs() {\n        const options = this.options;\n        const scalesOptions = options.scales || {};\n        each(scalesOptions, (axisOptions, axisID)=>{\n            axisOptions.id = axisID;\n        });\n    }\n buildOrUpdateScales() {\n        const options = this.options;\n        const scaleOpts = options.scales;\n        const scales = this.scales;\n        const updated = Object.keys(scales).reduce((obj, id)=>{\n            obj[id] = false;\n            return obj;\n        }, {});\n        let items = [];\n        if (scaleOpts) {\n            items = items.concat(Object.keys(scaleOpts).map((id)=>{\n                const scaleOptions = scaleOpts[id];\n                const axis = determineAxis(id, scaleOptions);\n                const isRadial = axis === 'r';\n                const isHorizontal = axis === 'x';\n                return {\n                    options: scaleOptions,\n                    dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n                    dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n                };\n            }));\n        }\n        each(items, (item)=>{\n            const scaleOptions = item.options;\n            const id = scaleOptions.id;\n            const axis = determineAxis(id, scaleOptions);\n            const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n            if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n                scaleOptions.position = item.dposition;\n            }\n            updated[id] = true;\n            let scale = null;\n            if (id in scales && scales[id].type === scaleType) {\n                scale = scales[id];\n            } else {\n                const scaleClass = registry.getScale(scaleType);\n                scale = new scaleClass({\n                    id,\n                    type: scaleType,\n                    ctx: this.ctx,\n                    chart: this\n                });\n                scales[scale.id] = scale;\n            }\n            scale.init(scaleOptions, options);\n        });\n        each(updated, (hasUpdated, id)=>{\n            if (!hasUpdated) {\n                delete scales[id];\n            }\n        });\n        each(scales, (scale)=>{\n            layouts.configure(this, scale, scale.options);\n            layouts.addBox(this, scale);\n        });\n    }\n _updateMetasets() {\n        const metasets = this._metasets;\n        const numData = this.data.datasets.length;\n        const numMeta = metasets.length;\n        metasets.sort((a, b)=>a.index - b.index);\n        if (numMeta > numData) {\n            for(let i = numData; i < numMeta; ++i){\n                this._destroyDatasetMeta(i);\n            }\n            metasets.splice(numData, numMeta - numData);\n        }\n        this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n    }\n _removeUnreferencedMetasets() {\n        const { _metasets: metasets , data: { datasets  }  } = this;\n        if (metasets.length > datasets.length) {\n            delete this._stacks;\n        }\n        metasets.forEach((meta, index)=>{\n            if (datasets.filter((x)=>x === meta._dataset).length === 0) {\n                this._destroyDatasetMeta(index);\n            }\n        });\n    }\n    buildOrUpdateControllers() {\n        const newControllers = [];\n        const datasets = this.data.datasets;\n        let i, ilen;\n        this._removeUnreferencedMetasets();\n        for(i = 0, ilen = datasets.length; i < ilen; i++){\n            const dataset = datasets[i];\n            let meta = this.getDatasetMeta(i);\n            const type = dataset.type || this.config.type;\n            if (meta.type && meta.type !== type) {\n                this._destroyDatasetMeta(i);\n                meta = this.getDatasetMeta(i);\n            }\n            meta.type = type;\n            meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n            meta.order = dataset.order || 0;\n            meta.index = i;\n            meta.label = '' + dataset.label;\n            meta.visible = this.isDatasetVisible(i);\n            if (meta.controller) {\n                meta.controller.updateIndex(i);\n                meta.controller.linkScales();\n            } else {\n                const ControllerClass = registry.getController(type);\n                const { datasetElementType , dataElementType  } = defaults.datasets[type];\n                Object.assign(ControllerClass, {\n                    dataElementType: registry.getElement(dataElementType),\n                    datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n                });\n                meta.controller = new ControllerClass(this, i);\n                newControllers.push(meta.controller);\n            }\n        }\n        this._updateMetasets();\n        return newControllers;\n    }\n _resetElements() {\n        each(this.data.datasets, (dataset, datasetIndex)=>{\n            this.getDatasetMeta(datasetIndex).controller.reset();\n        }, this);\n    }\n reset() {\n        this._resetElements();\n        this.notifyPlugins('reset');\n    }\n    update(mode) {\n        const config = this.config;\n        config.update();\n        const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n        const animsDisabled = this._animationsDisabled = !options.animation;\n        this._updateScales();\n        this._checkEventBindings();\n        this._updateHiddenIndices();\n        this._plugins.invalidate();\n        if (this.notifyPlugins('beforeUpdate', {\n            mode,\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        const newControllers = this.buildOrUpdateControllers();\n        this.notifyPlugins('beforeElementsUpdate');\n        let minPadding = 0;\n        for(let i = 0, ilen = this.data.datasets.length; i < ilen; i++){\n            const { controller  } = this.getDatasetMeta(i);\n            const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n            controller.buildOrUpdateElements(reset);\n            minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n        }\n        minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n        this._updateLayout(minPadding);\n        if (!animsDisabled) {\n            each(newControllers, (controller)=>{\n                controller.reset();\n            });\n        }\n        this._updateDatasets(mode);\n        this.notifyPlugins('afterUpdate', {\n            mode\n        });\n        this._layers.sort(compare2Level('z', '_idx'));\n        const { _active , _lastEvent  } = this;\n        if (_lastEvent) {\n            this._eventHandler(_lastEvent, true);\n        } else if (_active.length) {\n            this._updateHoverStyles(_active, _active, true);\n        }\n        this.render();\n    }\n _updateScales() {\n        each(this.scales, (scale)=>{\n            layouts.removeBox(this, scale);\n        });\n        this.ensureScalesHaveIDs();\n        this.buildOrUpdateScales();\n    }\n _checkEventBindings() {\n        const options = this.options;\n        const existingEvents = new Set(Object.keys(this._listeners));\n        const newEvents = new Set(options.events);\n        if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n            this.unbindEvents();\n            this.bindEvents();\n        }\n    }\n _updateHiddenIndices() {\n        const { _hiddenIndices  } = this;\n        const changes = this._getUniformDataChanges() || [];\n        for (const { method , start , count  } of changes){\n            const move = method === '_removeElements' ? -count : count;\n            moveNumericKeys(_hiddenIndices, start, move);\n        }\n    }\n _getUniformDataChanges() {\n        const _dataChanges = this._dataChanges;\n        if (!_dataChanges || !_dataChanges.length) {\n            return;\n        }\n        this._dataChanges = [];\n        const datasetCount = this.data.datasets.length;\n        const makeSet = (idx)=>new Set(_dataChanges.filter((c)=>c[0] === idx).map((c, i)=>i + ',' + c.splice(1).join(',')));\n        const changeSet = makeSet(0);\n        for(let i = 1; i < datasetCount; i++){\n            if (!setsEqual(changeSet, makeSet(i))) {\n                return;\n            }\n        }\n        return Array.from(changeSet).map((c)=>c.split(',')).map((a)=>({\n                method: a[1],\n                start: +a[2],\n                count: +a[3]\n            }));\n    }\n _updateLayout(minPadding) {\n        if (this.notifyPlugins('beforeLayout', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        layouts.update(this, this.width, this.height, minPadding);\n        const area = this.chartArea;\n        const noArea = area.width <= 0 || area.height <= 0;\n        this._layers = [];\n        each(this.boxes, (box)=>{\n            if (noArea && box.position === 'chartArea') {\n                return;\n            }\n            if (box.configure) {\n                box.configure();\n            }\n            this._layers.push(...box._layers());\n        }, this);\n        this._layers.forEach((item, index)=>{\n            item._idx = index;\n        });\n        this.notifyPlugins('afterLayout');\n    }\n _updateDatasets(mode) {\n        if (this.notifyPlugins('beforeDatasetsUpdate', {\n            mode,\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        for(let i = 0, ilen = this.data.datasets.length; i < ilen; ++i){\n            this.getDatasetMeta(i).controller.configure();\n        }\n        for(let i = 0, ilen = this.data.datasets.length; i < ilen; ++i){\n            this._updateDataset(i, isFunction(mode) ? mode({\n                datasetIndex: i\n            }) : mode);\n        }\n        this.notifyPlugins('afterDatasetsUpdate', {\n            mode\n        });\n    }\n _updateDataset(index, mode) {\n        const meta = this.getDatasetMeta(index);\n        const args = {\n            meta,\n            index,\n            mode,\n            cancelable: true\n        };\n        if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n            return;\n        }\n        meta.controller._update(mode);\n        args.cancelable = false;\n        this.notifyPlugins('afterDatasetUpdate', args);\n    }\n    render() {\n        if (this.notifyPlugins('beforeRender', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        if (animator.has(this)) {\n            if (this.attached && !animator.running(this)) {\n                animator.start(this);\n            }\n        } else {\n            this.draw();\n            onAnimationsComplete({\n                chart: this\n            });\n        }\n    }\n    draw() {\n        let i;\n        if (this._resizeBeforeDraw) {\n            const { width , height  } = this._resizeBeforeDraw;\n            this._resizeBeforeDraw = null;\n            this._resize(width, height);\n        }\n        this.clear();\n        if (this.width <= 0 || this.height <= 0) {\n            return;\n        }\n        if (this.notifyPlugins('beforeDraw', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        const layers = this._layers;\n        for(i = 0; i < layers.length && layers[i].z <= 0; ++i){\n            layers[i].draw(this.chartArea);\n        }\n        this._drawDatasets();\n        for(; i < layers.length; ++i){\n            layers[i].draw(this.chartArea);\n        }\n        this.notifyPlugins('afterDraw');\n    }\n _getSortedDatasetMetas(filterVisible) {\n        const metasets = this._sortedMetasets;\n        const result = [];\n        let i, ilen;\n        for(i = 0, ilen = metasets.length; i < ilen; ++i){\n            const meta = metasets[i];\n            if (!filterVisible || meta.visible) {\n                result.push(meta);\n            }\n        }\n        return result;\n    }\n getSortedVisibleDatasetMetas() {\n        return this._getSortedDatasetMetas(true);\n    }\n _drawDatasets() {\n        if (this.notifyPlugins('beforeDatasetsDraw', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        const metasets = this.getSortedVisibleDatasetMetas();\n        for(let i = metasets.length - 1; i >= 0; --i){\n            this._drawDataset(metasets[i]);\n        }\n        this.notifyPlugins('afterDatasetsDraw');\n    }\n _drawDataset(meta) {\n        const ctx = this.ctx;\n        const args = {\n            meta,\n            index: meta.index,\n            cancelable: true\n        };\n        const clip = getDatasetClipArea(this, meta);\n        if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n            return;\n        }\n        if (clip) {\n            clipArea(ctx, clip);\n        }\n        meta.controller.draw();\n        if (clip) {\n            unclipArea(ctx);\n        }\n        args.cancelable = false;\n        this.notifyPlugins('afterDatasetDraw', args);\n    }\n isPointInArea(point) {\n        return _isPointInArea(point, this.chartArea, this._minPadding);\n    }\n    getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n        const method = Interaction.modes[mode];\n        if (typeof method === 'function') {\n            return method(this, e, options, useFinalPosition);\n        }\n        return [];\n    }\n    getDatasetMeta(datasetIndex) {\n        const dataset = this.data.datasets[datasetIndex];\n        const metasets = this._metasets;\n        let meta = metasets.filter((x)=>x && x._dataset === dataset).pop();\n        if (!meta) {\n            meta = {\n                type: null,\n                data: [],\n                dataset: null,\n                controller: null,\n                hidden: null,\n                xAxisID: null,\n                yAxisID: null,\n                order: dataset && dataset.order || 0,\n                index: datasetIndex,\n                _dataset: dataset,\n                _parsed: [],\n                _sorted: false\n            };\n            metasets.push(meta);\n        }\n        return meta;\n    }\n    getContext() {\n        return this.$context || (this.$context = createContext(null, {\n            chart: this,\n            type: 'chart'\n        }));\n    }\n    getVisibleDatasetCount() {\n        return this.getSortedVisibleDatasetMetas().length;\n    }\n    isDatasetVisible(datasetIndex) {\n        const dataset = this.data.datasets[datasetIndex];\n        if (!dataset) {\n            return false;\n        }\n        const meta = this.getDatasetMeta(datasetIndex);\n        return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n    }\n    setDatasetVisibility(datasetIndex, visible) {\n        const meta = this.getDatasetMeta(datasetIndex);\n        meta.hidden = !visible;\n    }\n    toggleDataVisibility(index) {\n        this._hiddenIndices[index] = !this._hiddenIndices[index];\n    }\n    getDataVisibility(index) {\n        return !this._hiddenIndices[index];\n    }\n _updateVisibility(datasetIndex, dataIndex, visible) {\n        const mode = visible ? 'show' : 'hide';\n        const meta = this.getDatasetMeta(datasetIndex);\n        const anims = meta.controller._resolveAnimations(undefined, mode);\n        if (defined(dataIndex)) {\n            meta.data[dataIndex].hidden = !visible;\n            this.update();\n        } else {\n            this.setDatasetVisibility(datasetIndex, visible);\n            anims.update(meta, {\n                visible\n            });\n            this.update((ctx)=>ctx.datasetIndex === datasetIndex ? mode : undefined);\n        }\n    }\n    hide(datasetIndex, dataIndex) {\n        this._updateVisibility(datasetIndex, dataIndex, false);\n    }\n    show(datasetIndex, dataIndex) {\n        this._updateVisibility(datasetIndex, dataIndex, true);\n    }\n _destroyDatasetMeta(datasetIndex) {\n        const meta = this._metasets[datasetIndex];\n        if (meta && meta.controller) {\n            meta.controller._destroy();\n        }\n        delete this._metasets[datasetIndex];\n    }\n    _stop() {\n        let i, ilen;\n        this.stop();\n        animator.remove(this);\n        for(i = 0, ilen = this.data.datasets.length; i < ilen; ++i){\n            this._destroyDatasetMeta(i);\n        }\n    }\n    destroy() {\n        this.notifyPlugins('beforeDestroy');\n        const { canvas , ctx  } = this;\n        this._stop();\n        this.config.clearCache();\n        if (canvas) {\n            this.unbindEvents();\n            clearCanvas(canvas, ctx);\n            this.platform.releaseContext(ctx);\n            this.canvas = null;\n            this.ctx = null;\n        }\n        delete instances[this.id];\n        this.notifyPlugins('afterDestroy');\n    }\n    toBase64Image(...args) {\n        return this.canvas.toDataURL(...args);\n    }\n bindEvents() {\n        this.bindUserEvents();\n        if (this.options.responsive) {\n            this.bindResponsiveEvents();\n        } else {\n            this.attached = true;\n        }\n    }\n bindUserEvents() {\n        const listeners = this._listeners;\n        const platform = this.platform;\n        const _add = (type, listener)=>{\n            platform.addEventListener(this, type, listener);\n            listeners[type] = listener;\n        };\n        const listener = (e, x, y)=>{\n            e.offsetX = x;\n            e.offsetY = y;\n            this._eventHandler(e);\n        };\n        each(this.options.events, (type)=>_add(type, listener));\n    }\n bindResponsiveEvents() {\n        if (!this._responsiveListeners) {\n            this._responsiveListeners = {};\n        }\n        const listeners = this._responsiveListeners;\n        const platform = this.platform;\n        const _add = (type, listener)=>{\n            platform.addEventListener(this, type, listener);\n            listeners[type] = listener;\n        };\n        const _remove = (type, listener)=>{\n            if (listeners[type]) {\n                platform.removeEventListener(this, type, listener);\n                delete listeners[type];\n            }\n        };\n        const listener = (width, height)=>{\n            if (this.canvas) {\n                this.resize(width, height);\n            }\n        };\n        let detached;\n        const attached = ()=>{\n            _remove('attach', attached);\n            this.attached = true;\n            this.resize();\n            _add('resize', listener);\n            _add('detach', detached);\n        };\n        detached = ()=>{\n            this.attached = false;\n            _remove('resize', listener);\n            this._stop();\n            this._resize(0, 0);\n            _add('attach', attached);\n        };\n        if (platform.isAttached(this.canvas)) {\n            attached();\n        } else {\n            detached();\n        }\n    }\n unbindEvents() {\n        each(this._listeners, (listener, type)=>{\n            this.platform.removeEventListener(this, type, listener);\n        });\n        this._listeners = {};\n        each(this._responsiveListeners, (listener, type)=>{\n            this.platform.removeEventListener(this, type, listener);\n        });\n        this._responsiveListeners = undefined;\n    }\n    updateHoverStyle(items, mode, enabled) {\n        const prefix = enabled ? 'set' : 'remove';\n        let meta, item, i, ilen;\n        if (mode === 'dataset') {\n            meta = this.getDatasetMeta(items[0].datasetIndex);\n            meta.controller['_' + prefix + 'DatasetHoverStyle']();\n        }\n        for(i = 0, ilen = items.length; i < ilen; ++i){\n            item = items[i];\n            const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n            if (controller) {\n                controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n            }\n        }\n    }\n getActiveElements() {\n        return this._active || [];\n    }\n setActiveElements(activeElements) {\n        const lastActive = this._active || [];\n        const active = activeElements.map(({ datasetIndex , index  })=>{\n            const meta = this.getDatasetMeta(datasetIndex);\n            if (!meta) {\n                throw new Error('No dataset found at index ' + datasetIndex);\n            }\n            return {\n                datasetIndex,\n                element: meta.data[index],\n                index\n            };\n        });\n        const changed = !_elementsEqual(active, lastActive);\n        if (changed) {\n            this._active = active;\n            this._lastEvent = null;\n            this._updateHoverStyles(active, lastActive);\n        }\n    }\n notifyPlugins(hook, args, filter) {\n        return this._plugins.notify(this, hook, args, filter);\n    }\n isPluginEnabled(pluginId) {\n        return this._plugins._cache.filter((p)=>p.plugin.id === pluginId).length === 1;\n    }\n _updateHoverStyles(active, lastActive, replay) {\n        const hoverOptions = this.options.hover;\n        const diff = (a, b)=>a.filter((x)=>!b.some((y)=>x.datasetIndex === y.datasetIndex && x.index === y.index));\n        const deactivated = diff(lastActive, active);\n        const activated = replay ? active : diff(active, lastActive);\n        if (deactivated.length) {\n            this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n        }\n        if (activated.length && hoverOptions.mode) {\n            this.updateHoverStyle(activated, hoverOptions.mode, true);\n        }\n    }\n _eventHandler(e, replay) {\n        const args = {\n            event: e,\n            replay,\n            cancelable: true,\n            inChartArea: this.isPointInArea(e)\n        };\n        const eventFilter = (plugin)=>(plugin.options.events || this.options.events).includes(e.native.type);\n        if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n            return;\n        }\n        const changed = this._handleEvent(e, replay, args.inChartArea);\n        args.cancelable = false;\n        this.notifyPlugins('afterEvent', args, eventFilter);\n        if (changed || args.changed) {\n            this.render();\n        }\n        return this;\n    }\n _handleEvent(e, replay, inChartArea) {\n        const { _active: lastActive = [] , options  } = this;\n        const useFinalPosition = replay;\n        const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\n        const isClick = _isClickEvent(e);\n        const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\n        if (inChartArea) {\n            this._lastEvent = null;\n            callback(options.onHover, [\n                e,\n                active,\n                this\n            ], this);\n            if (isClick) {\n                callback(options.onClick, [\n                    e,\n                    active,\n                    this\n                ], this);\n            }\n        }\n        const changed = !_elementsEqual(active, lastActive);\n        if (changed || replay) {\n            this._active = active;\n            this._updateHoverStyles(active, lastActive, replay);\n        }\n        this._lastEvent = lastEvent;\n        return changed;\n    }\n _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\n        if (e.type === 'mouseout') {\n            return [];\n        }\n        if (!inChartArea) {\n            return lastActive;\n        }\n        const hoverOptions = this.options.hover;\n        return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n    }\n}\nfunction invalidatePlugins() {\n    return each(Chart.instances, (chart)=>chart._plugins.invalidate());\n}\n\nfunction clipArc(ctx, element, endAngle) {\n    const { startAngle , pixelMargin , x , y , outerRadius , innerRadius  } = element;\n    let angleMargin = pixelMargin / outerRadius;\n    // Draw an inner border by clipping the arc and drawing a double-width border\n    // Enlarge the clipping arc by 0.33 pixels to eliminate glitches between borders\n    ctx.beginPath();\n    ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n    if (innerRadius > pixelMargin) {\n        angleMargin = pixelMargin / innerRadius;\n        ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n    } else {\n        ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n    }\n    ctx.closePath();\n    ctx.clip();\n}\nfunction toRadiusCorners(value) {\n    return _readValueToProps(value, [\n        'outerStart',\n        'outerEnd',\n        'innerStart',\n        'innerEnd'\n    ]);\n}\n/**\n * Parse border radius from the provided options\n */ function parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {\n    const o = toRadiusCorners(arc.options.borderRadius);\n    const halfThickness = (outerRadius - innerRadius) / 2;\n    const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n    // Outer limits are complicated. We want to compute the available angular distance at\n    // a radius of outerRadius - borderRadius because for small angular distances, this term limits.\n    // We compute at r = outerRadius - borderRadius because this circle defines the center of the border corners.\n    //\n    // If the borderRadius is large, that value can become negative.\n    // This causes the outer borders to lose their radius entirely, which is rather unexpected. To solve that, if borderRadius > outerRadius\n    // we know that the thickness term will dominate and compute the limits at that point\n    const computeOuterLimit = (val)=>{\n        const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n        return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n    };\n    return {\n        outerStart: computeOuterLimit(o.outerStart),\n        outerEnd: computeOuterLimit(o.outerEnd),\n        innerStart: _limitValue(o.innerStart, 0, innerLimit),\n        innerEnd: _limitValue(o.innerEnd, 0, innerLimit)\n    };\n}\n/**\n * Convert (r, 𝜃) to (x, y)\n */ function rThetaToXY(r, theta, x, y) {\n    return {\n        x: x + r * Math.cos(theta),\n        y: y + r * Math.sin(theta)\n    };\n}\n/**\n * Path the arc, respecting border radius by separating into left and right halves.\n *\n *   Start      End\n *\n *    1--->a--->2    Outer\n *   /           \\\n *   8           3\n *   |           |\n *   |           |\n *   7           4\n *   \\           /\n *    6<---b<---5    Inner\n */ function pathArc(ctx, element, offset, spacing, end, circular) {\n    const { x , y , startAngle: start , pixelMargin , innerRadius: innerR  } = element;\n    const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n    const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n    let spacingOffset = 0;\n    const alpha = end - start;\n    if (spacing) {\n        // When spacing is present, it is the same for all items\n        // So we adjust the start and end angle of the arc such that\n        // the distance is the same as it would be without the spacing\n        const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n        const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n        const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n        const adjustedAngle = avNogSpacingRadius !== 0 ? alpha * avNogSpacingRadius / (avNogSpacingRadius + spacing) : alpha;\n        spacingOffset = (alpha - adjustedAngle) / 2;\n    }\n    const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n    const angleOffset = (alpha - beta) / 2;\n    const startAngle = start + angleOffset + spacingOffset;\n    const endAngle = end - angleOffset - spacingOffset;\n    const { outerStart , outerEnd , innerStart , innerEnd  } = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle);\n    const outerStartAdjustedRadius = outerRadius - outerStart;\n    const outerEndAdjustedRadius = outerRadius - outerEnd;\n    const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n    const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n    const innerStartAdjustedRadius = innerRadius + innerStart;\n    const innerEndAdjustedRadius = innerRadius + innerEnd;\n    const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n    const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n    ctx.beginPath();\n    if (circular) {\n        // The first arc segments from point 1 to point a to point 2\n        const outerMidAdjustedAngle = (outerStartAdjustedAngle + outerEndAdjustedAngle) / 2;\n        ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerMidAdjustedAngle);\n        ctx.arc(x, y, outerRadius, outerMidAdjustedAngle, outerEndAdjustedAngle);\n        // The corner segment from point 2 to point 3\n        if (outerEnd > 0) {\n            const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n        }\n        // The line from point 3 to point 4\n        const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n        ctx.lineTo(p4.x, p4.y);\n        // The corner segment from point 4 to point 5\n        if (innerEnd > 0) {\n            const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n        }\n        // The inner arc from point 5 to point b to point 6\n        const innerMidAdjustedAngle = (endAngle - innerEnd / innerRadius + (startAngle + innerStart / innerRadius)) / 2;\n        ctx.arc(x, y, innerRadius, endAngle - innerEnd / innerRadius, innerMidAdjustedAngle, true);\n        ctx.arc(x, y, innerRadius, innerMidAdjustedAngle, startAngle + innerStart / innerRadius, true);\n        // The corner segment from point 6 to point 7\n        if (innerStart > 0) {\n            const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n        }\n        // The line from point 7 to point 8\n        const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n        ctx.lineTo(p8.x, p8.y);\n        // The corner segment from point 8 to point 1\n        if (outerStart > 0) {\n            const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n        }\n    } else {\n        ctx.moveTo(x, y);\n        const outerStartX = Math.cos(outerStartAdjustedAngle) * outerRadius + x;\n        const outerStartY = Math.sin(outerStartAdjustedAngle) * outerRadius + y;\n        ctx.lineTo(outerStartX, outerStartY);\n        const outerEndX = Math.cos(outerEndAdjustedAngle) * outerRadius + x;\n        const outerEndY = Math.sin(outerEndAdjustedAngle) * outerRadius + y;\n        ctx.lineTo(outerEndX, outerEndY);\n    }\n    ctx.closePath();\n}\nfunction drawArc(ctx, element, offset, spacing, circular) {\n    const { fullCircles , startAngle , circumference  } = element;\n    let endAngle = element.endAngle;\n    if (fullCircles) {\n        pathArc(ctx, element, offset, spacing, endAngle, circular);\n        for(let i = 0; i < fullCircles; ++i){\n            ctx.fill();\n        }\n        if (!isNaN(circumference)) {\n            endAngle = startAngle + (circumference % TAU || TAU);\n        }\n    }\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    ctx.fill();\n    return endAngle;\n}\nfunction drawBorder(ctx, element, offset, spacing, circular) {\n    const { fullCircles , startAngle , circumference , options  } = element;\n    const { borderWidth , borderJoinStyle , borderDash , borderDashOffset  } = options;\n    const inner = options.borderAlign === 'inner';\n    if (!borderWidth) {\n        return;\n    }\n    ctx.setLineDash(borderDash || []);\n    ctx.lineDashOffset = borderDashOffset;\n    if (inner) {\n        ctx.lineWidth = borderWidth * 2;\n        ctx.lineJoin = borderJoinStyle || 'round';\n    } else {\n        ctx.lineWidth = borderWidth;\n        ctx.lineJoin = borderJoinStyle || 'bevel';\n    }\n    let endAngle = element.endAngle;\n    if (fullCircles) {\n        pathArc(ctx, element, offset, spacing, endAngle, circular);\n        for(let i = 0; i < fullCircles; ++i){\n            ctx.stroke();\n        }\n        if (!isNaN(circumference)) {\n            endAngle = startAngle + (circumference % TAU || TAU);\n        }\n    }\n    if (inner) {\n        clipArc(ctx, element, endAngle);\n    }\n    if (!fullCircles) {\n        pathArc(ctx, element, offset, spacing, endAngle, circular);\n        ctx.stroke();\n    }\n}\nclass ArcElement extends Element {\n    static id = 'arc';\n    static defaults = {\n        borderAlign: 'center',\n        borderColor: '#fff',\n        borderDash: [],\n        borderDashOffset: 0,\n        borderJoinStyle: undefined,\n        borderRadius: 0,\n        borderWidth: 2,\n        offset: 0,\n        spacing: 0,\n        angle: undefined,\n        circular: true\n    };\n    static defaultRoutes = {\n        backgroundColor: 'backgroundColor'\n    };\n    static descriptors = {\n        _scriptable: true,\n        _indexable: (name)=>name !== 'borderDash'\n    };\n    circumference;\n    endAngle;\n    fullCircles;\n    innerRadius;\n    outerRadius;\n    pixelMargin;\n    startAngle;\n    constructor(cfg){\n        super();\n        this.options = undefined;\n        this.circumference = undefined;\n        this.startAngle = undefined;\n        this.endAngle = undefined;\n        this.innerRadius = undefined;\n        this.outerRadius = undefined;\n        this.pixelMargin = 0;\n        this.fullCircles = 0;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    inRange(chartX, chartY, useFinalPosition) {\n        const point = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        const { angle , distance  } = getAngleFromPoint(point, {\n            x: chartX,\n            y: chartY\n        });\n        const { startAngle , endAngle , innerRadius , outerRadius , circumference  } = this.getProps([\n            'startAngle',\n            'endAngle',\n            'innerRadius',\n            'outerRadius',\n            'circumference'\n        ], useFinalPosition);\n        const rAdjust = (this.options.spacing + this.options.borderWidth) / 2;\n        const _circumference = valueOrDefault(circumference, endAngle - startAngle);\n        const nonZeroBetween = _angleBetween(angle, startAngle, endAngle) && startAngle !== endAngle;\n        const betweenAngles = _circumference >= TAU || nonZeroBetween;\n        const withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust);\n        return betweenAngles && withinRadius;\n    }\n    getCenterPoint(useFinalPosition) {\n        const { x , y , startAngle , endAngle , innerRadius , outerRadius  } = this.getProps([\n            'x',\n            'y',\n            'startAngle',\n            'endAngle',\n            'innerRadius',\n            'outerRadius'\n        ], useFinalPosition);\n        const { offset , spacing  } = this.options;\n        const halfAngle = (startAngle + endAngle) / 2;\n        const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n        return {\n            x: x + Math.cos(halfAngle) * halfRadius,\n            y: y + Math.sin(halfAngle) * halfRadius\n        };\n    }\n    tooltipPosition(useFinalPosition) {\n        return this.getCenterPoint(useFinalPosition);\n    }\n    draw(ctx) {\n        const { options , circumference  } = this;\n        const offset = (options.offset || 0) / 4;\n        const spacing = (options.spacing || 0) / 2;\n        const circular = options.circular;\n        this.pixelMargin = options.borderAlign === 'inner' ? 0.33 : 0;\n        this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n        if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n            return;\n        }\n        ctx.save();\n        const halfAngle = (this.startAngle + this.endAngle) / 2;\n        ctx.translate(Math.cos(halfAngle) * offset, Math.sin(halfAngle) * offset);\n        const fix = 1 - Math.sin(Math.min(PI, circumference || 0));\n        const radiusOffset = offset * fix;\n        ctx.fillStyle = options.backgroundColor;\n        ctx.strokeStyle = options.borderColor;\n        drawArc(ctx, this, radiusOffset, spacing, circular);\n        drawBorder(ctx, this, radiusOffset, spacing, circular);\n        ctx.restore();\n    }\n}\n\nfunction setStyle(ctx, options, style = options) {\n    ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n    ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n    ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n    ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n    ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n    ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\nfunction lineTo(ctx, previous, target) {\n    ctx.lineTo(target.x, target.y);\n}\n function getLineMethod(options) {\n    if (options.stepped) {\n        return _steppedLineTo;\n    }\n    if (options.tension || options.cubicInterpolationMode === 'monotone') {\n        return _bezierCurveTo;\n    }\n    return lineTo;\n}\nfunction pathVars(points, segment, params = {}) {\n    const count = points.length;\n    const { start: paramsStart = 0 , end: paramsEnd = count - 1  } = params;\n    const { start: segmentStart , end: segmentEnd  } = segment;\n    const start = Math.max(paramsStart, segmentStart);\n    const end = Math.min(paramsEnd, segmentEnd);\n    const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n    return {\n        count,\n        start,\n        loop: segment.loop,\n        ilen: end < start && !outside ? count + end - start : end - start\n    };\n}\n function pathSegment(ctx, line, segment, params) {\n    const { points , options  } = line;\n    const { count , start , loop , ilen  } = pathVars(points, segment, params);\n    const lineMethod = getLineMethod(options);\n    let { move =true , reverse  } = params || {};\n    let i, point, prev;\n    for(i = 0; i <= ilen; ++i){\n        point = points[(start + (reverse ? ilen - i : i)) % count];\n        if (point.skip) {\n            continue;\n        } else if (move) {\n            ctx.moveTo(point.x, point.y);\n            move = false;\n        } else {\n            lineMethod(ctx, prev, point, reverse, options.stepped);\n        }\n        prev = point;\n    }\n    if (loop) {\n        point = points[(start + (reverse ? ilen : 0)) % count];\n        lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n    return !!loop;\n}\n function fastPathSegment(ctx, line, segment, params) {\n    const points = line.points;\n    const { count , start , ilen  } = pathVars(points, segment, params);\n    const { move =true , reverse  } = params || {};\n    let avgX = 0;\n    let countX = 0;\n    let i, point, prevX, minY, maxY, lastY;\n    const pointIndex = (index)=>(start + (reverse ? ilen - index : index)) % count;\n    const drawX = ()=>{\n        if (minY !== maxY) {\n            ctx.lineTo(avgX, maxY);\n            ctx.lineTo(avgX, minY);\n            ctx.lineTo(avgX, lastY);\n        }\n    };\n    if (move) {\n        point = points[pointIndex(0)];\n        ctx.moveTo(point.x, point.y);\n    }\n    for(i = 0; i <= ilen; ++i){\n        point = points[pointIndex(i)];\n        if (point.skip) {\n            continue;\n        }\n        const x = point.x;\n        const y = point.y;\n        const truncX = x | 0;\n        if (truncX === prevX) {\n            if (y < minY) {\n                minY = y;\n            } else if (y > maxY) {\n                maxY = y;\n            }\n            avgX = (countX * avgX + x) / ++countX;\n        } else {\n            drawX();\n            ctx.lineTo(x, y);\n            prevX = truncX;\n            countX = 0;\n            minY = maxY = y;\n        }\n        lastY = y;\n    }\n    drawX();\n}\n function _getSegmentMethod(line) {\n    const opts = line.options;\n    const borderDash = opts.borderDash && opts.borderDash.length;\n    const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n    return useFastPath ? fastPathSegment : pathSegment;\n}\n function _getInterpolationMethod(options) {\n    if (options.stepped) {\n        return _steppedInterpolation;\n    }\n    if (options.tension || options.cubicInterpolationMode === 'monotone') {\n        return _bezierInterpolation;\n    }\n    return _pointInLine;\n}\nfunction strokePathWithCache(ctx, line, start, count) {\n    let path = line._path;\n    if (!path) {\n        path = line._path = new Path2D();\n        if (line.path(path, start, count)) {\n            path.closePath();\n        }\n    }\n    setStyle(ctx, line.options);\n    ctx.stroke(path);\n}\nfunction strokePathDirect(ctx, line, start, count) {\n    const { segments , options  } = line;\n    const segmentMethod = _getSegmentMethod(line);\n    for (const segment of segments){\n        setStyle(ctx, options, segment.style);\n        ctx.beginPath();\n        if (segmentMethod(ctx, line, segment, {\n            start,\n            end: start + count - 1\n        })) {\n            ctx.closePath();\n        }\n        ctx.stroke();\n    }\n}\nconst usePath2D = typeof Path2D === 'function';\nfunction draw(ctx, line, start, count) {\n    if (usePath2D && !line.options.segment) {\n        strokePathWithCache(ctx, line, start, count);\n    } else {\n        strokePathDirect(ctx, line, start, count);\n    }\n}\nclass LineElement extends Element {\n    static id = 'line';\n static defaults = {\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0,\n        borderJoinStyle: 'miter',\n        borderWidth: 3,\n        capBezierPoints: true,\n        cubicInterpolationMode: 'default',\n        fill: false,\n        spanGaps: false,\n        stepped: false,\n        tension: 0\n    };\n static defaultRoutes = {\n        backgroundColor: 'backgroundColor',\n        borderColor: 'borderColor'\n    };\n    static descriptors = {\n        _scriptable: true,\n        _indexable: (name)=>name !== 'borderDash' && name !== 'fill'\n    };\n    constructor(cfg){\n        super();\n        this.animated = true;\n        this.options = undefined;\n        this._chart = undefined;\n        this._loop = undefined;\n        this._fullLoop = undefined;\n        this._path = undefined;\n        this._points = undefined;\n        this._segments = undefined;\n        this._decimated = false;\n        this._pointsUpdated = false;\n        this._datasetIndex = undefined;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    updateControlPoints(chartArea, indexAxis) {\n        const options = this.options;\n        if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n            const loop = options.spanGaps ? this._loop : this._fullLoop;\n            _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n            this._pointsUpdated = true;\n        }\n    }\n    set points(points) {\n        this._points = points;\n        delete this._segments;\n        delete this._path;\n        this._pointsUpdated = false;\n    }\n    get points() {\n        return this._points;\n    }\n    get segments() {\n        return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n    }\n first() {\n        const segments = this.segments;\n        const points = this.points;\n        return segments.length && points[segments[0].start];\n    }\n last() {\n        const segments = this.segments;\n        const points = this.points;\n        const count = segments.length;\n        return count && points[segments[count - 1].end];\n    }\n interpolate(point, property) {\n        const options = this.options;\n        const value = point[property];\n        const points = this.points;\n        const segments = _boundSegments(this, {\n            property,\n            start: value,\n            end: value\n        });\n        if (!segments.length) {\n            return;\n        }\n        const result = [];\n        const _interpolate = _getInterpolationMethod(options);\n        let i, ilen;\n        for(i = 0, ilen = segments.length; i < ilen; ++i){\n            const { start , end  } = segments[i];\n            const p1 = points[start];\n            const p2 = points[end];\n            if (p1 === p2) {\n                result.push(p1);\n                continue;\n            }\n            const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n            const interpolated = _interpolate(p1, p2, t, options.stepped);\n            interpolated[property] = point[property];\n            result.push(interpolated);\n        }\n        return result.length === 1 ? result[0] : result;\n    }\n pathSegment(ctx, segment, params) {\n        const segmentMethod = _getSegmentMethod(this);\n        return segmentMethod(ctx, this, segment, params);\n    }\n path(ctx, start, count) {\n        const segments = this.segments;\n        const segmentMethod = _getSegmentMethod(this);\n        let loop = this._loop;\n        start = start || 0;\n        count = count || this.points.length - start;\n        for (const segment of segments){\n            loop &= segmentMethod(ctx, this, segment, {\n                start,\n                end: start + count - 1\n            });\n        }\n        return !!loop;\n    }\n draw(ctx, chartArea, start, count) {\n        const options = this.options || {};\n        const points = this.points || [];\n        if (points.length && options.borderWidth) {\n            ctx.save();\n            draw(ctx, this, start, count);\n            ctx.restore();\n        }\n        if (this.animated) {\n            this._pointsUpdated = false;\n            this._path = undefined;\n        }\n    }\n}\n\nfunction inRange$1(el, pos, axis, useFinalPosition) {\n    const options = el.options;\n    const { [axis]: value  } = el.getProps([\n        axis\n    ], useFinalPosition);\n    return Math.abs(pos - value) < options.radius + options.hitRadius;\n}\nclass PointElement extends Element {\n    static id = 'point';\n    parsed;\n    skip;\n    stop;\n    /**\n   * @type {any}\n   */ static defaults = {\n        borderWidth: 1,\n        hitRadius: 1,\n        hoverBorderWidth: 1,\n        hoverRadius: 4,\n        pointStyle: 'circle',\n        radius: 3,\n        rotation: 0\n    };\n    /**\n   * @type {any}\n   */ static defaultRoutes = {\n        backgroundColor: 'backgroundColor',\n        borderColor: 'borderColor'\n    };\n    constructor(cfg){\n        super();\n        this.options = undefined;\n        this.parsed = undefined;\n        this.skip = undefined;\n        this.stop = undefined;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    inRange(mouseX, mouseY, useFinalPosition) {\n        const options = this.options;\n        const { x , y  } = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        return Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2) < Math.pow(options.hitRadius + options.radius, 2);\n    }\n    inXRange(mouseX, useFinalPosition) {\n        return inRange$1(this, mouseX, 'x', useFinalPosition);\n    }\n    inYRange(mouseY, useFinalPosition) {\n        return inRange$1(this, mouseY, 'y', useFinalPosition);\n    }\n    getCenterPoint(useFinalPosition) {\n        const { x , y  } = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        return {\n            x,\n            y\n        };\n    }\n    size(options) {\n        options = options || this.options || {};\n        let radius = options.radius || 0;\n        radius = Math.max(radius, radius && options.hoverRadius || 0);\n        const borderWidth = radius && options.borderWidth || 0;\n        return (radius + borderWidth) * 2;\n    }\n    draw(ctx, area) {\n        const options = this.options;\n        if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n            return;\n        }\n        ctx.strokeStyle = options.borderColor;\n        ctx.lineWidth = options.borderWidth;\n        ctx.fillStyle = options.backgroundColor;\n        drawPoint(ctx, options, this.x, this.y);\n    }\n    getRange() {\n        const options = this.options || {};\n        // @ts-expect-error Fallbacks should never be hit in practice\n        return options.radius + options.hitRadius;\n    }\n}\n\nfunction getBarBounds(bar, useFinalPosition) {\n    const { x , y , base , width , height  } =  bar.getProps([\n        'x',\n        'y',\n        'base',\n        'width',\n        'height'\n    ], useFinalPosition);\n    let left, right, top, bottom, half;\n    if (bar.horizontal) {\n        half = height / 2;\n        left = Math.min(x, base);\n        right = Math.max(x, base);\n        top = y - half;\n        bottom = y + half;\n    } else {\n        half = width / 2;\n        left = x - half;\n        right = x + half;\n        top = Math.min(y, base);\n        bottom = Math.max(y, base);\n    }\n    return {\n        left,\n        top,\n        right,\n        bottom\n    };\n}\nfunction skipOrLimit(skip, value, min, max) {\n    return skip ? 0 : _limitValue(value, min, max);\n}\nfunction parseBorderWidth(bar, maxW, maxH) {\n    const value = bar.options.borderWidth;\n    const skip = bar.borderSkipped;\n    const o = toTRBL(value);\n    return {\n        t: skipOrLimit(skip.top, o.top, 0, maxH),\n        r: skipOrLimit(skip.right, o.right, 0, maxW),\n        b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n        l: skipOrLimit(skip.left, o.left, 0, maxW)\n    };\n}\nfunction parseBorderRadius(bar, maxW, maxH) {\n    const { enableBorderRadius  } = bar.getProps([\n        'enableBorderRadius'\n    ]);\n    const value = bar.options.borderRadius;\n    const o = toTRBLCorners(value);\n    const maxR = Math.min(maxW, maxH);\n    const skip = bar.borderSkipped;\n    const enableBorder = enableBorderRadius || isObject(value);\n    return {\n        topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n        topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n        bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n        bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n    };\n}\nfunction boundingRects(bar) {\n    const bounds = getBarBounds(bar);\n    const width = bounds.right - bounds.left;\n    const height = bounds.bottom - bounds.top;\n    const border = parseBorderWidth(bar, width / 2, height / 2);\n    const radius = parseBorderRadius(bar, width / 2, height / 2);\n    return {\n        outer: {\n            x: bounds.left,\n            y: bounds.top,\n            w: width,\n            h: height,\n            radius\n        },\n        inner: {\n            x: bounds.left + border.l,\n            y: bounds.top + border.t,\n            w: width - border.l - border.r,\n            h: height - border.t - border.b,\n            radius: {\n                topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n                topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n                bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n                bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r))\n            }\n        }\n    };\n}\nfunction inRange(bar, x, y, useFinalPosition) {\n    const skipX = x === null;\n    const skipY = y === null;\n    const skipBoth = skipX && skipY;\n    const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n    return bounds && (skipX || _isBetween(x, bounds.left, bounds.right)) && (skipY || _isBetween(y, bounds.top, bounds.bottom));\n}\nfunction hasRadius(radius) {\n    return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\n function addNormalRectPath(ctx, rect) {\n    ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\nfunction inflateRect(rect, amount, refRect = {}) {\n    const x = rect.x !== refRect.x ? -amount : 0;\n    const y = rect.y !== refRect.y ? -amount : 0;\n    const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n    const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n    return {\n        x: rect.x + x,\n        y: rect.y + y,\n        w: rect.w + w,\n        h: rect.h + h,\n        radius: rect.radius\n    };\n}\nclass BarElement extends Element {\n    static id = 'bar';\n static defaults = {\n        borderSkipped: 'start',\n        borderWidth: 0,\n        borderRadius: 0,\n        inflateAmount: 'auto',\n        pointStyle: undefined\n    };\n static defaultRoutes = {\n        backgroundColor: 'backgroundColor',\n        borderColor: 'borderColor'\n    };\n    constructor(cfg){\n        super();\n        this.options = undefined;\n        this.horizontal = undefined;\n        this.base = undefined;\n        this.width = undefined;\n        this.height = undefined;\n        this.inflateAmount = undefined;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    draw(ctx) {\n        const { inflateAmount , options: { borderColor , backgroundColor  }  } = this;\n        const { inner , outer  } = boundingRects(this);\n        const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n        ctx.save();\n        if (outer.w !== inner.w || outer.h !== inner.h) {\n            ctx.beginPath();\n            addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n            ctx.clip();\n            addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n            ctx.fillStyle = borderColor;\n            ctx.fill('evenodd');\n        }\n        ctx.beginPath();\n        addRectPath(ctx, inflateRect(inner, inflateAmount));\n        ctx.fillStyle = backgroundColor;\n        ctx.fill();\n        ctx.restore();\n    }\n    inRange(mouseX, mouseY, useFinalPosition) {\n        return inRange(this, mouseX, mouseY, useFinalPosition);\n    }\n    inXRange(mouseX, useFinalPosition) {\n        return inRange(this, mouseX, null, useFinalPosition);\n    }\n    inYRange(mouseY, useFinalPosition) {\n        return inRange(this, null, mouseY, useFinalPosition);\n    }\n    getCenterPoint(useFinalPosition) {\n        const { x , y , base , horizontal  } =  this.getProps([\n            'x',\n            'y',\n            'base',\n            'horizontal'\n        ], useFinalPosition);\n        return {\n            x: horizontal ? (x + base) / 2 : x,\n            y: horizontal ? y : (y + base) / 2\n        };\n    }\n    getRange(axis) {\n        return axis === 'x' ? this.width / 2 : this.height / 2;\n    }\n}\n\nvar elements = /*#__PURE__*/Object.freeze({\n__proto__: null,\nArcElement: ArcElement,\nBarElement: BarElement,\nLineElement: LineElement,\nPointElement: PointElement\n});\n\nconst BORDER_COLORS = [\n    'rgb(54, 162, 235)',\n    'rgb(255, 99, 132)',\n    'rgb(255, 159, 64)',\n    'rgb(255, 205, 86)',\n    'rgb(75, 192, 192)',\n    'rgb(153, 102, 255)',\n    'rgb(201, 203, 207)' // grey\n];\n// Border colors with 50% transparency\nconst BACKGROUND_COLORS = /* #__PURE__ */ BORDER_COLORS.map((color)=>color.replace('rgb(', 'rgba(').replace(')', ', 0.5)'));\nfunction getBorderColor(i) {\n    return BORDER_COLORS[i % BORDER_COLORS.length];\n}\nfunction getBackgroundColor(i) {\n    return BACKGROUND_COLORS[i % BACKGROUND_COLORS.length];\n}\nfunction colorizeDefaultDataset(dataset, i) {\n    dataset.borderColor = getBorderColor(i);\n    dataset.backgroundColor = getBackgroundColor(i);\n    return ++i;\n}\nfunction colorizeDoughnutDataset(dataset, i) {\n    dataset.backgroundColor = dataset.data.map(()=>getBorderColor(i++));\n    return i;\n}\nfunction colorizePolarAreaDataset(dataset, i) {\n    dataset.backgroundColor = dataset.data.map(()=>getBackgroundColor(i++));\n    return i;\n}\nfunction getColorizer(chart) {\n    let i = 0;\n    return (dataset, datasetIndex)=>{\n        const controller = chart.getDatasetMeta(datasetIndex).controller;\n        if (controller instanceof DoughnutController) {\n            i = colorizeDoughnutDataset(dataset, i);\n        } else if (controller instanceof PolarAreaController) {\n            i = colorizePolarAreaDataset(dataset, i);\n        } else if (controller) {\n            i = colorizeDefaultDataset(dataset, i);\n        }\n    };\n}\nfunction containsColorsDefinitions(descriptors) {\n    let k;\n    for(k in descriptors){\n        if (descriptors[k].borderColor || descriptors[k].backgroundColor) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction containsColorsDefinition(descriptor) {\n    return descriptor && (descriptor.borderColor || descriptor.backgroundColor);\n}\nfunction containsDefaultColorsDefenitions() {\n    return defaults.borderColor !== 'rgba(0,0,0,0.1)' || defaults.backgroundColor !== 'rgba(0,0,0,0.1)';\n}\nvar plugin_colors = {\n    id: 'colors',\n    defaults: {\n        enabled: true,\n        forceOverride: false\n    },\n    beforeLayout (chart, _args, options) {\n        if (!options.enabled) {\n            return;\n        }\n        const { data: { datasets  } , options: chartOptions  } = chart.config;\n        const { elements  } = chartOptions;\n        const containsColorDefenition = containsColorsDefinitions(datasets) || containsColorsDefinition(chartOptions) || elements && containsColorsDefinitions(elements) || containsDefaultColorsDefenitions();\n        if (!options.forceOverride && containsColorDefenition) {\n            return;\n        }\n        const colorizer = getColorizer(chart);\n        datasets.forEach(colorizer);\n    }\n};\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n const samples = options.samples || availableWidth;\n    if (samples >= count) {\n        return data.slice(start, start + count);\n    }\n    const decimated = [];\n    const bucketWidth = (count - 2) / (samples - 2);\n    let sampledIndex = 0;\n    const endIndex = start + count - 1;\n    let a = start;\n    let i, maxAreaPoint, maxArea, area, nextA;\n    decimated[sampledIndex++] = data[a];\n    for(i = 0; i < samples - 2; i++){\n        let avgX = 0;\n        let avgY = 0;\n        let j;\n        const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n        const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n        const avgRangeLength = avgRangeEnd - avgRangeStart;\n        for(j = avgRangeStart; j < avgRangeEnd; j++){\n            avgX += data[j].x;\n            avgY += data[j].y;\n        }\n        avgX /= avgRangeLength;\n        avgY /= avgRangeLength;\n        const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n        const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;\n        const { x: pointAx , y: pointAy  } = data[a];\n        maxArea = area = -1;\n        for(j = rangeOffs; j < rangeTo; j++){\n            area = 0.5 * Math.abs((pointAx - avgX) * (data[j].y - pointAy) - (pointAx - data[j].x) * (avgY - pointAy));\n            if (area > maxArea) {\n                maxArea = area;\n                maxAreaPoint = data[j];\n                nextA = j;\n            }\n        }\n        decimated[sampledIndex++] = maxAreaPoint;\n        a = nextA;\n    }\n    decimated[sampledIndex++] = data[endIndex];\n    return decimated;\n}\nfunction minMaxDecimation(data, start, count, availableWidth) {\n    let avgX = 0;\n    let countX = 0;\n    let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n    const decimated = [];\n    const endIndex = start + count - 1;\n    const xMin = data[start].x;\n    const xMax = data[endIndex].x;\n    const dx = xMax - xMin;\n    for(i = start; i < start + count; ++i){\n        point = data[i];\n        x = (point.x - xMin) / dx * availableWidth;\n        y = point.y;\n        const truncX = x | 0;\n        if (truncX === prevX) {\n            if (y < minY) {\n                minY = y;\n                minIndex = i;\n            } else if (y > maxY) {\n                maxY = y;\n                maxIndex = i;\n            }\n            avgX = (countX * avgX + point.x) / ++countX;\n        } else {\n            const lastIndex = i - 1;\n            if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n                const intermediateIndex1 = Math.min(minIndex, maxIndex);\n                const intermediateIndex2 = Math.max(minIndex, maxIndex);\n                if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n                    decimated.push({\n                        ...data[intermediateIndex1],\n                        x: avgX\n                    });\n                }\n                if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n                    decimated.push({\n                        ...data[intermediateIndex2],\n                        x: avgX\n                    });\n                }\n            }\n            if (i > 0 && lastIndex !== startIndex) {\n                decimated.push(data[lastIndex]);\n            }\n            decimated.push(point);\n            prevX = truncX;\n            countX = 0;\n            minY = maxY = y;\n            minIndex = maxIndex = startIndex = i;\n        }\n    }\n    return decimated;\n}\nfunction cleanDecimatedDataset(dataset) {\n    if (dataset._decimated) {\n        const data = dataset._data;\n        delete dataset._decimated;\n        delete dataset._data;\n        Object.defineProperty(dataset, 'data', {\n            configurable: true,\n            enumerable: true,\n            writable: true,\n            value: data\n        });\n    }\n}\nfunction cleanDecimatedData(chart) {\n    chart.data.datasets.forEach((dataset)=>{\n        cleanDecimatedDataset(dataset);\n    });\n}\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n    const pointCount = points.length;\n    let start = 0;\n    let count;\n    const { iScale  } = meta;\n    const { min , max , minDefined , maxDefined  } = iScale.getUserBounds();\n    if (minDefined) {\n        start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n    }\n    if (maxDefined) {\n        count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n    } else {\n        count = pointCount - start;\n    }\n    return {\n        start,\n        count\n    };\n}\nvar plugin_decimation = {\n    id: 'decimation',\n    defaults: {\n        algorithm: 'min-max',\n        enabled: false\n    },\n    beforeElementsUpdate: (chart, args, options)=>{\n        if (!options.enabled) {\n            cleanDecimatedData(chart);\n            return;\n        }\n        const availableWidth = chart.width;\n        chart.data.datasets.forEach((dataset, datasetIndex)=>{\n            const { _data , indexAxis  } = dataset;\n            const meta = chart.getDatasetMeta(datasetIndex);\n            const data = _data || dataset.data;\n            if (resolve([\n                indexAxis,\n                chart.options.indexAxis\n            ]) === 'y') {\n                return;\n            }\n            if (!meta.controller.supportsDecimation) {\n                return;\n            }\n            const xAxis = chart.scales[meta.xAxisID];\n            if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n                return;\n            }\n            if (chart.options.parsing) {\n                return;\n            }\n            let { start , count  } = getStartAndCountOfVisiblePointsSimplified(meta, data);\n            const threshold = options.threshold || 4 * availableWidth;\n            if (count <= threshold) {\n                cleanDecimatedDataset(dataset);\n                return;\n            }\n            if (isNullOrUndef(_data)) {\n                dataset._data = data;\n                delete dataset.data;\n                Object.defineProperty(dataset, 'data', {\n                    configurable: true,\n                    enumerable: true,\n                    get: function() {\n                        return this._decimated;\n                    },\n                    set: function(d) {\n                        this._data = d;\n                    }\n                });\n            }\n            let decimated;\n            switch(options.algorithm){\n                case 'lttb':\n                    decimated = lttbDecimation(data, start, count, availableWidth, options);\n                    break;\n                case 'min-max':\n                    decimated = minMaxDecimation(data, start, count, availableWidth);\n                    break;\n                default:\n                    throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);\n            }\n            dataset._decimated = decimated;\n        });\n    },\n    destroy (chart) {\n        cleanDecimatedData(chart);\n    }\n};\n\nfunction _segments(line, target, property) {\n    const segments = line.segments;\n    const points = line.points;\n    const tpoints = target.points;\n    const parts = [];\n    for (const segment of segments){\n        let { start , end  } = segment;\n        end = _findSegmentEnd(start, end, points);\n        const bounds = _getBounds(property, points[start], points[end], segment.loop);\n        if (!target.segments) {\n            parts.push({\n                source: segment,\n                target: bounds,\n                start: points[start],\n                end: points[end]\n            });\n            continue;\n        }\n        const targetSegments = _boundSegments(target, bounds);\n        for (const tgt of targetSegments){\n            const subBounds = _getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n            const fillSources = _boundSegment(segment, points, subBounds);\n            for (const fillSource of fillSources){\n                parts.push({\n                    source: fillSource,\n                    target: tgt,\n                    start: {\n                        [property]: _getEdge(bounds, subBounds, 'start', Math.max)\n                    },\n                    end: {\n                        [property]: _getEdge(bounds, subBounds, 'end', Math.min)\n                    }\n                });\n            }\n        }\n    }\n    return parts;\n}\nfunction _getBounds(property, first, last, loop) {\n    if (loop) {\n        return;\n    }\n    let start = first[property];\n    let end = last[property];\n    if (property === 'angle') {\n        start = _normalizeAngle(start);\n        end = _normalizeAngle(end);\n    }\n    return {\n        property,\n        start,\n        end\n    };\n}\nfunction _pointsFromSegments(boundary, line) {\n    const { x =null , y =null  } = boundary || {};\n    const linePoints = line.points;\n    const points = [];\n    line.segments.forEach(({ start , end  })=>{\n        end = _findSegmentEnd(start, end, linePoints);\n        const first = linePoints[start];\n        const last = linePoints[end];\n        if (y !== null) {\n            points.push({\n                x: first.x,\n                y\n            });\n            points.push({\n                x: last.x,\n                y\n            });\n        } else if (x !== null) {\n            points.push({\n                x,\n                y: first.y\n            });\n            points.push({\n                x,\n                y: last.y\n            });\n        }\n    });\n    return points;\n}\nfunction _findSegmentEnd(start, end, points) {\n    for(; end > start; end--){\n        const point = points[end];\n        if (!isNaN(point.x) && !isNaN(point.y)) {\n            break;\n        }\n    }\n    return end;\n}\nfunction _getEdge(a, b, prop, fn) {\n    if (a && b) {\n        return fn(a[prop], b[prop]);\n    }\n    return a ? a[prop] : b ? b[prop] : 0;\n}\n\nfunction _createBoundaryLine(boundary, line) {\n    let points = [];\n    let _loop = false;\n    if (isArray(boundary)) {\n        _loop = true;\n        points = boundary;\n    } else {\n        points = _pointsFromSegments(boundary, line);\n    }\n    return points.length ? new LineElement({\n        points,\n        options: {\n            tension: 0\n        },\n        _loop,\n        _fullLoop: _loop\n    }) : null;\n}\nfunction _shouldApplyFill(source) {\n    return source && source.fill !== false;\n}\n\nfunction _resolveTarget(sources, index, propagate) {\n    const source = sources[index];\n    let fill = source.fill;\n    const visited = [\n        index\n    ];\n    let target;\n    if (!propagate) {\n        return fill;\n    }\n    while(fill !== false && visited.indexOf(fill) === -1){\n        if (!isNumberFinite(fill)) {\n            return fill;\n        }\n        target = sources[fill];\n        if (!target) {\n            return false;\n        }\n        if (target.visible) {\n            return fill;\n        }\n        visited.push(fill);\n        fill = target.fill;\n    }\n    return false;\n}\n function _decodeFill(line, index, count) {\n     const fill = parseFillOption(line);\n    if (isObject(fill)) {\n        return isNaN(fill.value) ? false : fill;\n    }\n    let target = parseFloat(fill);\n    if (isNumberFinite(target) && Math.floor(target) === target) {\n        return decodeTargetIndex(fill[0], index, target, count);\n    }\n    return [\n        'origin',\n        'start',\n        'end',\n        'stack',\n        'shape'\n    ].indexOf(fill) >= 0 && fill;\n}\nfunction decodeTargetIndex(firstCh, index, target, count) {\n    if (firstCh === '-' || firstCh === '+') {\n        target = index + target;\n    }\n    if (target === index || target < 0 || target >= count) {\n        return false;\n    }\n    return target;\n}\n function _getTargetPixel(fill, scale) {\n    let pixel = null;\n    if (fill === 'start') {\n        pixel = scale.bottom;\n    } else if (fill === 'end') {\n        pixel = scale.top;\n    } else if (isObject(fill)) {\n        pixel = scale.getPixelForValue(fill.value);\n    } else if (scale.getBasePixel) {\n        pixel = scale.getBasePixel();\n    }\n    return pixel;\n}\n function _getTargetValue(fill, scale, startValue) {\n    let value;\n    if (fill === 'start') {\n        value = startValue;\n    } else if (fill === 'end') {\n        value = scale.options.reverse ? scale.min : scale.max;\n    } else if (isObject(fill)) {\n        value = fill.value;\n    } else {\n        value = scale.getBaseValue();\n    }\n    return value;\n}\n function parseFillOption(line) {\n    const options = line.options;\n    const fillOption = options.fill;\n    let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n    if (fill === undefined) {\n        fill = !!options.backgroundColor;\n    }\n    if (fill === false || fill === null) {\n        return false;\n    }\n    if (fill === true) {\n        return 'origin';\n    }\n    return fill;\n}\n\nfunction _buildStackLine(source) {\n    const { scale , index , line  } = source;\n    const points = [];\n    const segments = line.segments;\n    const sourcePoints = line.points;\n    const linesBelow = getLinesBelow(scale, index);\n    linesBelow.push(_createBoundaryLine({\n        x: null,\n        y: scale.bottom\n    }, line));\n    for(let i = 0; i < segments.length; i++){\n        const segment = segments[i];\n        for(let j = segment.start; j <= segment.end; j++){\n            addPointsBelow(points, sourcePoints[j], linesBelow);\n        }\n    }\n    return new LineElement({\n        points,\n        options: {}\n    });\n}\n function getLinesBelow(scale, index) {\n    const below = [];\n    const metas = scale.getMatchingVisibleMetas('line');\n    for(let i = 0; i < metas.length; i++){\n        const meta = metas[i];\n        if (meta.index === index) {\n            break;\n        }\n        if (!meta.hidden) {\n            below.unshift(meta.dataset);\n        }\n    }\n    return below;\n}\n function addPointsBelow(points, sourcePoint, linesBelow) {\n    const postponed = [];\n    for(let j = 0; j < linesBelow.length; j++){\n        const line = linesBelow[j];\n        const { first , last , point  } = findPoint(line, sourcePoint, 'x');\n        if (!point || first && last) {\n            continue;\n        }\n        if (first) {\n            postponed.unshift(point);\n        } else {\n            points.push(point);\n            if (!last) {\n                break;\n            }\n        }\n    }\n    points.push(...postponed);\n}\n function findPoint(line, sourcePoint, property) {\n    const point = line.interpolate(sourcePoint, property);\n    if (!point) {\n        return {};\n    }\n    const pointValue = point[property];\n    const segments = line.segments;\n    const linePoints = line.points;\n    let first = false;\n    let last = false;\n    for(let i = 0; i < segments.length; i++){\n        const segment = segments[i];\n        const firstValue = linePoints[segment.start][property];\n        const lastValue = linePoints[segment.end][property];\n        if (_isBetween(pointValue, firstValue, lastValue)) {\n            first = pointValue === firstValue;\n            last = pointValue === lastValue;\n            break;\n        }\n    }\n    return {\n        first,\n        last,\n        point\n    };\n}\n\nclass simpleArc {\n    constructor(opts){\n        this.x = opts.x;\n        this.y = opts.y;\n        this.radius = opts.radius;\n    }\n    pathSegment(ctx, bounds, opts) {\n        const { x , y , radius  } = this;\n        bounds = bounds || {\n            start: 0,\n            end: TAU\n        };\n        ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n        return !opts.bounds;\n    }\n    interpolate(point) {\n        const { x , y , radius  } = this;\n        const angle = point.angle;\n        return {\n            x: x + Math.cos(angle) * radius,\n            y: y + Math.sin(angle) * radius,\n            angle\n        };\n    }\n}\n\nfunction _getTarget(source) {\n    const { chart , fill , line  } = source;\n    if (isNumberFinite(fill)) {\n        return getLineByIndex(chart, fill);\n    }\n    if (fill === 'stack') {\n        return _buildStackLine(source);\n    }\n    if (fill === 'shape') {\n        return true;\n    }\n    const boundary = computeBoundary(source);\n    if (boundary instanceof simpleArc) {\n        return boundary;\n    }\n    return _createBoundaryLine(boundary, line);\n}\n function getLineByIndex(chart, index) {\n    const meta = chart.getDatasetMeta(index);\n    const visible = meta && chart.isDatasetVisible(index);\n    return visible ? meta.dataset : null;\n}\nfunction computeBoundary(source) {\n    const scale = source.scale || {};\n    if (scale.getPointPositionForValue) {\n        return computeCircularBoundary(source);\n    }\n    return computeLinearBoundary(source);\n}\nfunction computeLinearBoundary(source) {\n    const { scale ={} , fill  } = source;\n    const pixel = _getTargetPixel(fill, scale);\n    if (isNumberFinite(pixel)) {\n        const horizontal = scale.isHorizontal();\n        return {\n            x: horizontal ? pixel : null,\n            y: horizontal ? null : pixel\n        };\n    }\n    return null;\n}\nfunction computeCircularBoundary(source) {\n    const { scale , fill  } = source;\n    const options = scale.options;\n    const length = scale.getLabels().length;\n    const start = options.reverse ? scale.max : scale.min;\n    const value = _getTargetValue(fill, scale, start);\n    const target = [];\n    if (options.grid.circular) {\n        const center = scale.getPointPositionForValue(0, start);\n        return new simpleArc({\n            x: center.x,\n            y: center.y,\n            radius: scale.getDistanceFromCenterForValue(value)\n        });\n    }\n    for(let i = 0; i < length; ++i){\n        target.push(scale.getPointPositionForValue(i, value));\n    }\n    return target;\n}\n\nfunction _drawfill(ctx, source, area) {\n    const target = _getTarget(source);\n    const { chart , index , line , scale , axis  } = source;\n    const lineOpts = line.options;\n    const fillOption = lineOpts.fill;\n    const color = lineOpts.backgroundColor;\n    const { above =color , below =color  } = fillOption || {};\n    const meta = chart.getDatasetMeta(index);\n    const clip = getDatasetClipArea(chart, meta);\n    if (target && line.points.length) {\n        clipArea(ctx, area);\n        doFill(ctx, {\n            line,\n            target,\n            above,\n            below,\n            area,\n            scale,\n            axis,\n            clip\n        });\n        unclipArea(ctx);\n    }\n}\nfunction doFill(ctx, cfg) {\n    const { line , target , above , below , area , scale , clip  } = cfg;\n    const property = line._loop ? 'angle' : cfg.axis;\n    ctx.save();\n    if (property === 'x' && below !== above) {\n        clipVertical(ctx, target, area.top);\n        fill(ctx, {\n            line,\n            target,\n            color: above,\n            scale,\n            property,\n            clip\n        });\n        ctx.restore();\n        ctx.save();\n        clipVertical(ctx, target, area.bottom);\n    }\n    fill(ctx, {\n        line,\n        target,\n        color: below,\n        scale,\n        property,\n        clip\n    });\n    ctx.restore();\n}\nfunction clipVertical(ctx, target, clipY) {\n    const { segments , points  } = target;\n    let first = true;\n    let lineLoop = false;\n    ctx.beginPath();\n    for (const segment of segments){\n        const { start , end  } = segment;\n        const firstPoint = points[start];\n        const lastPoint = points[_findSegmentEnd(start, end, points)];\n        if (first) {\n            ctx.moveTo(firstPoint.x, firstPoint.y);\n            first = false;\n        } else {\n            ctx.lineTo(firstPoint.x, clipY);\n            ctx.lineTo(firstPoint.x, firstPoint.y);\n        }\n        lineLoop = !!target.pathSegment(ctx, segment, {\n            move: lineLoop\n        });\n        if (lineLoop) {\n            ctx.closePath();\n        } else {\n            ctx.lineTo(lastPoint.x, clipY);\n        }\n    }\n    ctx.lineTo(target.first().x, clipY);\n    ctx.closePath();\n    ctx.clip();\n}\nfunction fill(ctx, cfg) {\n    const { line , target , property , color , scale , clip  } = cfg;\n    const segments = _segments(line, target, property);\n    for (const { source: src , target: tgt , start , end  } of segments){\n        const { style: { backgroundColor =color  } = {}  } = src;\n        const notShape = target !== true;\n        ctx.save();\n        ctx.fillStyle = backgroundColor;\n        clipBounds(ctx, scale, clip, notShape && _getBounds(property, start, end));\n        ctx.beginPath();\n        const lineLoop = !!line.pathSegment(ctx, src);\n        let loop;\n        if (notShape) {\n            if (lineLoop) {\n                ctx.closePath();\n            } else {\n                interpolatedLineTo(ctx, target, end, property);\n            }\n            const targetLoop = !!target.pathSegment(ctx, tgt, {\n                move: lineLoop,\n                reverse: true\n            });\n            loop = lineLoop && targetLoop;\n            if (!loop) {\n                interpolatedLineTo(ctx, target, start, property);\n            }\n        }\n        ctx.closePath();\n        ctx.fill(loop ? 'evenodd' : 'nonzero');\n        ctx.restore();\n    }\n}\nfunction clipBounds(ctx, scale, clip, bounds) {\n    const chartArea = scale.chart.chartArea;\n    const { property , start , end  } = bounds || {};\n    if (property === 'x' || property === 'y') {\n        let left, top, right, bottom;\n        if (property === 'x') {\n            left = start;\n            top = chartArea.top;\n            right = end;\n            bottom = chartArea.bottom;\n        } else {\n            left = chartArea.left;\n            top = start;\n            right = chartArea.right;\n            bottom = end;\n        }\n        ctx.beginPath();\n        if (clip) {\n            left = Math.max(left, clip.left);\n            right = Math.min(right, clip.right);\n            top = Math.max(top, clip.top);\n            bottom = Math.min(bottom, clip.bottom);\n        }\n        ctx.rect(left, top, right - left, bottom - top);\n        ctx.clip();\n    }\n}\nfunction interpolatedLineTo(ctx, target, point, property) {\n    const interpolatedPoint = target.interpolate(point, property);\n    if (interpolatedPoint) {\n        ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n    }\n}\n\nvar index = {\n    id: 'filler',\n    afterDatasetsUpdate (chart, _args, options) {\n        const count = (chart.data.datasets || []).length;\n        const sources = [];\n        let meta, i, line, source;\n        for(i = 0; i < count; ++i){\n            meta = chart.getDatasetMeta(i);\n            line = meta.dataset;\n            source = null;\n            if (line && line.options && line instanceof LineElement) {\n                source = {\n                    visible: chart.isDatasetVisible(i),\n                    index: i,\n                    fill: _decodeFill(line, i, count),\n                    chart,\n                    axis: meta.controller.options.indexAxis,\n                    scale: meta.vScale,\n                    line\n                };\n            }\n            meta.$filler = source;\n            sources.push(source);\n        }\n        for(i = 0; i < count; ++i){\n            source = sources[i];\n            if (!source || source.fill === false) {\n                continue;\n            }\n            source.fill = _resolveTarget(sources, i, options.propagate);\n        }\n    },\n    beforeDraw (chart, _args, options) {\n        const draw = options.drawTime === 'beforeDraw';\n        const metasets = chart.getSortedVisibleDatasetMetas();\n        const area = chart.chartArea;\n        for(let i = metasets.length - 1; i >= 0; --i){\n            const source = metasets[i].$filler;\n            if (!source) {\n                continue;\n            }\n            source.line.updateControlPoints(area, source.axis);\n            if (draw && source.fill) {\n                _drawfill(chart.ctx, source, area);\n            }\n        }\n    },\n    beforeDatasetsDraw (chart, _args, options) {\n        if (options.drawTime !== 'beforeDatasetsDraw') {\n            return;\n        }\n        const metasets = chart.getSortedVisibleDatasetMetas();\n        for(let i = metasets.length - 1; i >= 0; --i){\n            const source = metasets[i].$filler;\n            if (_shouldApplyFill(source)) {\n                _drawfill(chart.ctx, source, chart.chartArea);\n            }\n        }\n    },\n    beforeDatasetDraw (chart, args, options) {\n        const source = args.meta.$filler;\n        if (!_shouldApplyFill(source) || options.drawTime !== 'beforeDatasetDraw') {\n            return;\n        }\n        _drawfill(chart.ctx, source, chart.chartArea);\n    },\n    defaults: {\n        propagate: true,\n        drawTime: 'beforeDatasetDraw'\n    }\n};\n\nconst getBoxSize = (labelOpts, fontSize)=>{\n    let { boxHeight =fontSize , boxWidth =fontSize  } = labelOpts;\n    if (labelOpts.usePointStyle) {\n        boxHeight = Math.min(boxHeight, fontSize);\n        boxWidth = labelOpts.pointStyleWidth || Math.min(boxWidth, fontSize);\n    }\n    return {\n        boxWidth,\n        boxHeight,\n        itemHeight: Math.max(fontSize, boxHeight)\n    };\n};\nconst itemsEqual = (a, b)=>a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\nclass Legend extends Element {\n constructor(config){\n        super();\n        this._added = false;\n        this.legendHitBoxes = [];\n this._hoveredItem = null;\n        this.doughnutMode = false;\n        this.chart = config.chart;\n        this.options = config.options;\n        this.ctx = config.ctx;\n        this.legendItems = undefined;\n        this.columnSizes = undefined;\n        this.lineWidths = undefined;\n        this.maxHeight = undefined;\n        this.maxWidth = undefined;\n        this.top = undefined;\n        this.bottom = undefined;\n        this.left = undefined;\n        this.right = undefined;\n        this.height = undefined;\n        this.width = undefined;\n        this._margins = undefined;\n        this.position = undefined;\n        this.weight = undefined;\n        this.fullSize = undefined;\n    }\n    update(maxWidth, maxHeight, margins) {\n        this.maxWidth = maxWidth;\n        this.maxHeight = maxHeight;\n        this._margins = margins;\n        this.setDimensions();\n        this.buildLabels();\n        this.fit();\n    }\n    setDimensions() {\n        if (this.isHorizontal()) {\n            this.width = this.maxWidth;\n            this.left = this._margins.left;\n            this.right = this.width;\n        } else {\n            this.height = this.maxHeight;\n            this.top = this._margins.top;\n            this.bottom = this.height;\n        }\n    }\n    buildLabels() {\n        const labelOpts = this.options.labels || {};\n        let legendItems = callback(labelOpts.generateLabels, [\n            this.chart\n        ], this) || [];\n        if (labelOpts.filter) {\n            legendItems = legendItems.filter((item)=>labelOpts.filter(item, this.chart.data));\n        }\n        if (labelOpts.sort) {\n            legendItems = legendItems.sort((a, b)=>labelOpts.sort(a, b, this.chart.data));\n        }\n        if (this.options.reverse) {\n            legendItems.reverse();\n        }\n        this.legendItems = legendItems;\n    }\n    fit() {\n        const { options , ctx  } = this;\n        if (!options.display) {\n            this.width = this.height = 0;\n            return;\n        }\n        const labelOpts = options.labels;\n        const labelFont = toFont(labelOpts.font);\n        const fontSize = labelFont.size;\n        const titleHeight = this._computeTitleHeight();\n        const { boxWidth , itemHeight  } = getBoxSize(labelOpts, fontSize);\n        let width, height;\n        ctx.font = labelFont.string;\n        if (this.isHorizontal()) {\n            width = this.maxWidth;\n            height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n        } else {\n            height = this.maxHeight;\n            width = this._fitCols(titleHeight, labelFont, boxWidth, itemHeight) + 10;\n        }\n        this.width = Math.min(width, options.maxWidth || this.maxWidth);\n        this.height = Math.min(height, options.maxHeight || this.maxHeight);\n    }\n _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n        const { ctx , maxWidth , options: { labels: { padding  }  }  } = this;\n        const hitboxes = this.legendHitBoxes = [];\n        const lineWidths = this.lineWidths = [\n            0\n        ];\n        const lineHeight = itemHeight + padding;\n        let totalHeight = titleHeight;\n        ctx.textAlign = 'left';\n        ctx.textBaseline = 'middle';\n        let row = -1;\n        let top = -lineHeight;\n        this.legendItems.forEach((legendItem, i)=>{\n            const itemWidth = boxWidth + fontSize / 2 + ctx.measureText(legendItem.text).width;\n            if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n                totalHeight += lineHeight;\n                lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n                top += lineHeight;\n                row++;\n            }\n            hitboxes[i] = {\n                left: 0,\n                top,\n                row,\n                width: itemWidth,\n                height: itemHeight\n            };\n            lineWidths[lineWidths.length - 1] += itemWidth + padding;\n        });\n        return totalHeight;\n    }\n    _fitCols(titleHeight, labelFont, boxWidth, _itemHeight) {\n        const { ctx , maxHeight , options: { labels: { padding  }  }  } = this;\n        const hitboxes = this.legendHitBoxes = [];\n        const columnSizes = this.columnSizes = [];\n        const heightLimit = maxHeight - titleHeight;\n        let totalWidth = padding;\n        let currentColWidth = 0;\n        let currentColHeight = 0;\n        let left = 0;\n        let col = 0;\n        this.legendItems.forEach((legendItem, i)=>{\n            const { itemWidth , itemHeight  } = calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight);\n            if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n                totalWidth += currentColWidth + padding;\n                columnSizes.push({\n                    width: currentColWidth,\n                    height: currentColHeight\n                });\n                left += currentColWidth + padding;\n                col++;\n                currentColWidth = currentColHeight = 0;\n            }\n            hitboxes[i] = {\n                left,\n                top: currentColHeight,\n                col,\n                width: itemWidth,\n                height: itemHeight\n            };\n            currentColWidth = Math.max(currentColWidth, itemWidth);\n            currentColHeight += itemHeight + padding;\n        });\n        totalWidth += currentColWidth;\n        columnSizes.push({\n            width: currentColWidth,\n            height: currentColHeight\n        });\n        return totalWidth;\n    }\n    adjustHitBoxes() {\n        if (!this.options.display) {\n            return;\n        }\n        const titleHeight = this._computeTitleHeight();\n        const { legendHitBoxes: hitboxes , options: { align , labels: { padding  } , rtl  }  } = this;\n        const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n        if (this.isHorizontal()) {\n            let row = 0;\n            let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n            for (const hitbox of hitboxes){\n                if (row !== hitbox.row) {\n                    row = hitbox.row;\n                    left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n                }\n                hitbox.top += this.top + titleHeight + padding;\n                hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n                left += hitbox.width + padding;\n            }\n        } else {\n            let col = 0;\n            let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n            for (const hitbox of hitboxes){\n                if (hitbox.col !== col) {\n                    col = hitbox.col;\n                    top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n                }\n                hitbox.top = top;\n                hitbox.left += this.left + padding;\n                hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n                top += hitbox.height + padding;\n            }\n        }\n    }\n    isHorizontal() {\n        return this.options.position === 'top' || this.options.position === 'bottom';\n    }\n    draw() {\n        if (this.options.display) {\n            const ctx = this.ctx;\n            clipArea(ctx, this);\n            this._draw();\n            unclipArea(ctx);\n        }\n    }\n _draw() {\n        const { options: opts , columnSizes , lineWidths , ctx  } = this;\n        const { align , labels: labelOpts  } = opts;\n        const defaultColor = defaults.color;\n        const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n        const labelFont = toFont(labelOpts.font);\n        const { padding  } = labelOpts;\n        const fontSize = labelFont.size;\n        const halfFontSize = fontSize / 2;\n        let cursor;\n        this.drawTitle();\n        ctx.textAlign = rtlHelper.textAlign('left');\n        ctx.textBaseline = 'middle';\n        ctx.lineWidth = 0.5;\n        ctx.font = labelFont.string;\n        const { boxWidth , boxHeight , itemHeight  } = getBoxSize(labelOpts, fontSize);\n        const drawLegendBox = function(x, y, legendItem) {\n            if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n                return;\n            }\n            ctx.save();\n            const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n            ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n            ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n            ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n            ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n            ctx.lineWidth = lineWidth;\n            ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n            ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n            if (labelOpts.usePointStyle) {\n                const drawOptions = {\n                    radius: boxHeight * Math.SQRT2 / 2,\n                    pointStyle: legendItem.pointStyle,\n                    rotation: legendItem.rotation,\n                    borderWidth: lineWidth\n                };\n                const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n                const centerY = y + halfFontSize;\n                drawPointLegend(ctx, drawOptions, centerX, centerY, labelOpts.pointStyleWidth && boxWidth);\n            } else {\n                const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n                const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n                const borderRadius = toTRBLCorners(legendItem.borderRadius);\n                ctx.beginPath();\n                if (Object.values(borderRadius).some((v)=>v !== 0)) {\n                    addRoundedRectPath(ctx, {\n                        x: xBoxLeft,\n                        y: yBoxTop,\n                        w: boxWidth,\n                        h: boxHeight,\n                        radius: borderRadius\n                    });\n                } else {\n                    ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n                }\n                ctx.fill();\n                if (lineWidth !== 0) {\n                    ctx.stroke();\n                }\n            }\n            ctx.restore();\n        };\n        const fillText = function(x, y, legendItem) {\n            renderText(ctx, legendItem.text, x, y + itemHeight / 2, labelFont, {\n                strikethrough: legendItem.hidden,\n                textAlign: rtlHelper.textAlign(legendItem.textAlign)\n            });\n        };\n        const isHorizontal = this.isHorizontal();\n        const titleHeight = this._computeTitleHeight();\n        if (isHorizontal) {\n            cursor = {\n                x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n                y: this.top + padding + titleHeight,\n                line: 0\n            };\n        } else {\n            cursor = {\n                x: this.left + padding,\n                y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n                line: 0\n            };\n        }\n        overrideTextDirection(this.ctx, opts.textDirection);\n        const lineHeight = itemHeight + padding;\n        this.legendItems.forEach((legendItem, i)=>{\n            ctx.strokeStyle = legendItem.fontColor;\n            ctx.fillStyle = legendItem.fontColor;\n            const textWidth = ctx.measureText(legendItem.text).width;\n            const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n            const width = boxWidth + halfFontSize + textWidth;\n            let x = cursor.x;\n            let y = cursor.y;\n            rtlHelper.setWidth(this.width);\n            if (isHorizontal) {\n                if (i > 0 && x + width + padding > this.right) {\n                    y = cursor.y += lineHeight;\n                    cursor.line++;\n                    x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n                }\n            } else if (i > 0 && y + lineHeight > this.bottom) {\n                x = cursor.x = x + columnSizes[cursor.line].width + padding;\n                cursor.line++;\n                y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n            }\n            const realX = rtlHelper.x(x);\n            drawLegendBox(realX, y, legendItem);\n            x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n            fillText(rtlHelper.x(x), y, legendItem);\n            if (isHorizontal) {\n                cursor.x += width + padding;\n            } else if (typeof legendItem.text !== 'string') {\n                const fontLineHeight = labelFont.lineHeight;\n                cursor.y += calculateLegendItemHeight(legendItem, fontLineHeight) + padding;\n            } else {\n                cursor.y += lineHeight;\n            }\n        });\n        restoreTextDirection(this.ctx, opts.textDirection);\n    }\n drawTitle() {\n        const opts = this.options;\n        const titleOpts = opts.title;\n        const titleFont = toFont(titleOpts.font);\n        const titlePadding = toPadding(titleOpts.padding);\n        if (!titleOpts.display) {\n            return;\n        }\n        const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n        const ctx = this.ctx;\n        const position = titleOpts.position;\n        const halfFontSize = titleFont.size / 2;\n        const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n        let y;\n        let left = this.left;\n        let maxWidth = this.width;\n        if (this.isHorizontal()) {\n            maxWidth = Math.max(...this.lineWidths);\n            y = this.top + topPaddingPlusHalfFontSize;\n            left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n        } else {\n            const maxHeight = this.columnSizes.reduce((acc, size)=>Math.max(acc, size.height), 0);\n            y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n        }\n        const x = _alignStartEnd(position, left, left + maxWidth);\n        ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n        ctx.textBaseline = 'middle';\n        ctx.strokeStyle = titleOpts.color;\n        ctx.fillStyle = titleOpts.color;\n        ctx.font = titleFont.string;\n        renderText(ctx, titleOpts.text, x, y, titleFont);\n    }\n _computeTitleHeight() {\n        const titleOpts = this.options.title;\n        const titleFont = toFont(titleOpts.font);\n        const titlePadding = toPadding(titleOpts.padding);\n        return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n    }\n _getLegendItemAt(x, y) {\n        let i, hitBox, lh;\n        if (_isBetween(x, this.left, this.right) && _isBetween(y, this.top, this.bottom)) {\n            lh = this.legendHitBoxes;\n            for(i = 0; i < lh.length; ++i){\n                hitBox = lh[i];\n                if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width) && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\n                    return this.legendItems[i];\n                }\n            }\n        }\n        return null;\n    }\n handleEvent(e) {\n        const opts = this.options;\n        if (!isListened(e.type, opts)) {\n            return;\n        }\n        const hoveredItem = this._getLegendItemAt(e.x, e.y);\n        if (e.type === 'mousemove' || e.type === 'mouseout') {\n            const previous = this._hoveredItem;\n            const sameItem = itemsEqual(previous, hoveredItem);\n            if (previous && !sameItem) {\n                callback(opts.onLeave, [\n                    e,\n                    previous,\n                    this\n                ], this);\n            }\n            this._hoveredItem = hoveredItem;\n            if (hoveredItem && !sameItem) {\n                callback(opts.onHover, [\n                    e,\n                    hoveredItem,\n                    this\n                ], this);\n            }\n        } else if (hoveredItem) {\n            callback(opts.onClick, [\n                e,\n                hoveredItem,\n                this\n            ], this);\n        }\n    }\n}\nfunction calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight) {\n    const itemWidth = calculateItemWidth(legendItem, boxWidth, labelFont, ctx);\n    const itemHeight = calculateItemHeight(_itemHeight, legendItem, labelFont.lineHeight);\n    return {\n        itemWidth,\n        itemHeight\n    };\n}\nfunction calculateItemWidth(legendItem, boxWidth, labelFont, ctx) {\n    let legendItemText = legendItem.text;\n    if (legendItemText && typeof legendItemText !== 'string') {\n        legendItemText = legendItemText.reduce((a, b)=>a.length > b.length ? a : b);\n    }\n    return boxWidth + labelFont.size / 2 + ctx.measureText(legendItemText).width;\n}\nfunction calculateItemHeight(_itemHeight, legendItem, fontLineHeight) {\n    let itemHeight = _itemHeight;\n    if (typeof legendItem.text !== 'string') {\n        itemHeight = calculateLegendItemHeight(legendItem, fontLineHeight);\n    }\n    return itemHeight;\n}\nfunction calculateLegendItemHeight(legendItem, fontLineHeight) {\n    const labelHeight = legendItem.text ? legendItem.text.length : 0;\n    return fontLineHeight * labelHeight;\n}\nfunction isListened(type, opts) {\n    if ((type === 'mousemove' || type === 'mouseout') && (opts.onHover || opts.onLeave)) {\n        return true;\n    }\n    if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n        return true;\n    }\n    return false;\n}\nvar plugin_legend = {\n    id: 'legend',\n _element: Legend,\n    start (chart, _args, options) {\n        const legend = chart.legend = new Legend({\n            ctx: chart.ctx,\n            options,\n            chart\n        });\n        layouts.configure(chart, legend, options);\n        layouts.addBox(chart, legend);\n    },\n    stop (chart) {\n        layouts.removeBox(chart, chart.legend);\n        delete chart.legend;\n    },\n    beforeUpdate (chart, _args, options) {\n        const legend = chart.legend;\n        layouts.configure(chart, legend, options);\n        legend.options = options;\n    },\n    afterUpdate (chart) {\n        const legend = chart.legend;\n        legend.buildLabels();\n        legend.adjustHitBoxes();\n    },\n    afterEvent (chart, args) {\n        if (!args.replay) {\n            chart.legend.handleEvent(args.event);\n        }\n    },\n    defaults: {\n        display: true,\n        position: 'top',\n        align: 'center',\n        fullSize: true,\n        reverse: false,\n        weight: 1000,\n        onClick (e, legendItem, legend) {\n            const index = legendItem.datasetIndex;\n            const ci = legend.chart;\n            if (ci.isDatasetVisible(index)) {\n                ci.hide(index);\n                legendItem.hidden = true;\n            } else {\n                ci.show(index);\n                legendItem.hidden = false;\n            }\n        },\n        onHover: null,\n        onLeave: null,\n        labels: {\n            color: (ctx)=>ctx.chart.options.color,\n            boxWidth: 40,\n            padding: 10,\n            generateLabels (chart) {\n                const datasets = chart.data.datasets;\n                const { labels: { usePointStyle , pointStyle , textAlign , color , useBorderRadius , borderRadius  }  } = chart.legend.options;\n                return chart._getSortedDatasetMetas().map((meta)=>{\n                    const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n                    const borderWidth = toPadding(style.borderWidth);\n                    return {\n                        text: datasets[meta.index].label,\n                        fillStyle: style.backgroundColor,\n                        fontColor: color,\n                        hidden: !meta.visible,\n                        lineCap: style.borderCapStyle,\n                        lineDash: style.borderDash,\n                        lineDashOffset: style.borderDashOffset,\n                        lineJoin: style.borderJoinStyle,\n                        lineWidth: (borderWidth.width + borderWidth.height) / 4,\n                        strokeStyle: style.borderColor,\n                        pointStyle: pointStyle || style.pointStyle,\n                        rotation: style.rotation,\n                        textAlign: textAlign || style.textAlign,\n                        borderRadius: useBorderRadius && (borderRadius || style.borderRadius),\n                        datasetIndex: meta.index\n                    };\n                }, this);\n            }\n        },\n        title: {\n            color: (ctx)=>ctx.chart.options.color,\n            display: false,\n            position: 'center',\n            text: ''\n        }\n    },\n    descriptors: {\n        _scriptable: (name)=>!name.startsWith('on'),\n        labels: {\n            _scriptable: (name)=>![\n                    'generateLabels',\n                    'filter',\n                    'sort'\n                ].includes(name)\n        }\n    }\n};\n\nclass Title extends Element {\n constructor(config){\n        super();\n        this.chart = config.chart;\n        this.options = config.options;\n        this.ctx = config.ctx;\n        this._padding = undefined;\n        this.top = undefined;\n        this.bottom = undefined;\n        this.left = undefined;\n        this.right = undefined;\n        this.width = undefined;\n        this.height = undefined;\n        this.position = undefined;\n        this.weight = undefined;\n        this.fullSize = undefined;\n    }\n    update(maxWidth, maxHeight) {\n        const opts = this.options;\n        this.left = 0;\n        this.top = 0;\n        if (!opts.display) {\n            this.width = this.height = this.right = this.bottom = 0;\n            return;\n        }\n        this.width = this.right = maxWidth;\n        this.height = this.bottom = maxHeight;\n        const lineCount = isArray(opts.text) ? opts.text.length : 1;\n        this._padding = toPadding(opts.padding);\n        const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n        if (this.isHorizontal()) {\n            this.height = textSize;\n        } else {\n            this.width = textSize;\n        }\n    }\n    isHorizontal() {\n        const pos = this.options.position;\n        return pos === 'top' || pos === 'bottom';\n    }\n    _drawArgs(offset) {\n        const { top , left , bottom , right , options  } = this;\n        const align = options.align;\n        let rotation = 0;\n        let maxWidth, titleX, titleY;\n        if (this.isHorizontal()) {\n            titleX = _alignStartEnd(align, left, right);\n            titleY = top + offset;\n            maxWidth = right - left;\n        } else {\n            if (options.position === 'left') {\n                titleX = left + offset;\n                titleY = _alignStartEnd(align, bottom, top);\n                rotation = PI * -0.5;\n            } else {\n                titleX = right - offset;\n                titleY = _alignStartEnd(align, top, bottom);\n                rotation = PI * 0.5;\n            }\n            maxWidth = bottom - top;\n        }\n        return {\n            titleX,\n            titleY,\n            maxWidth,\n            rotation\n        };\n    }\n    draw() {\n        const ctx = this.ctx;\n        const opts = this.options;\n        if (!opts.display) {\n            return;\n        }\n        const fontOpts = toFont(opts.font);\n        const lineHeight = fontOpts.lineHeight;\n        const offset = lineHeight / 2 + this._padding.top;\n        const { titleX , titleY , maxWidth , rotation  } = this._drawArgs(offset);\n        renderText(ctx, opts.text, 0, 0, fontOpts, {\n            color: opts.color,\n            maxWidth,\n            rotation,\n            textAlign: _toLeftRightCenter(opts.align),\n            textBaseline: 'middle',\n            translation: [\n                titleX,\n                titleY\n            ]\n        });\n    }\n}\nfunction createTitle(chart, titleOpts) {\n    const title = new Title({\n        ctx: chart.ctx,\n        options: titleOpts,\n        chart\n    });\n    layouts.configure(chart, title, titleOpts);\n    layouts.addBox(chart, title);\n    chart.titleBlock = title;\n}\nvar plugin_title = {\n    id: 'title',\n _element: Title,\n    start (chart, _args, options) {\n        createTitle(chart, options);\n    },\n    stop (chart) {\n        const titleBlock = chart.titleBlock;\n        layouts.removeBox(chart, titleBlock);\n        delete chart.titleBlock;\n    },\n    beforeUpdate (chart, _args, options) {\n        const title = chart.titleBlock;\n        layouts.configure(chart, title, options);\n        title.options = options;\n    },\n    defaults: {\n        align: 'center',\n        display: false,\n        font: {\n            weight: 'bold'\n        },\n        fullSize: true,\n        padding: 10,\n        position: 'top',\n        text: '',\n        weight: 2000\n    },\n    defaultRoutes: {\n        color: 'color'\n    },\n    descriptors: {\n        _scriptable: true,\n        _indexable: false\n    }\n};\n\nconst map = new WeakMap();\nvar plugin_subtitle = {\n    id: 'subtitle',\n    start (chart, _args, options) {\n        const title = new Title({\n            ctx: chart.ctx,\n            options,\n            chart\n        });\n        layouts.configure(chart, title, options);\n        layouts.addBox(chart, title);\n        map.set(chart, title);\n    },\n    stop (chart) {\n        layouts.removeBox(chart, map.get(chart));\n        map.delete(chart);\n    },\n    beforeUpdate (chart, _args, options) {\n        const title = map.get(chart);\n        layouts.configure(chart, title, options);\n        title.options = options;\n    },\n    defaults: {\n        align: 'center',\n        display: false,\n        font: {\n            weight: 'normal'\n        },\n        fullSize: true,\n        padding: 0,\n        position: 'top',\n        text: '',\n        weight: 1500\n    },\n    defaultRoutes: {\n        color: 'color'\n    },\n    descriptors: {\n        _scriptable: true,\n        _indexable: false\n    }\n};\n\nconst positioners = {\n average (items) {\n        if (!items.length) {\n            return false;\n        }\n        let i, len;\n        let xSet = new Set();\n        let y = 0;\n        let count = 0;\n        for(i = 0, len = items.length; i < len; ++i){\n            const el = items[i].element;\n            if (el && el.hasValue()) {\n                const pos = el.tooltipPosition();\n                xSet.add(pos.x);\n                y += pos.y;\n                ++count;\n            }\n        }\n        if (count === 0 || xSet.size === 0) {\n            return false;\n        }\n        const xAverage = [\n            ...xSet\n        ].reduce((a, b)=>a + b) / xSet.size;\n        return {\n            x: xAverage,\n            y: y / count\n        };\n    },\n nearest (items, eventPosition) {\n        if (!items.length) {\n            return false;\n        }\n        let x = eventPosition.x;\n        let y = eventPosition.y;\n        let minDistance = Number.POSITIVE_INFINITY;\n        let i, len, nearestElement;\n        for(i = 0, len = items.length; i < len; ++i){\n            const el = items[i].element;\n            if (el && el.hasValue()) {\n                const center = el.getCenterPoint();\n                const d = distanceBetweenPoints(eventPosition, center);\n                if (d < minDistance) {\n                    minDistance = d;\n                    nearestElement = el;\n                }\n            }\n        }\n        if (nearestElement) {\n            const tp = nearestElement.tooltipPosition();\n            x = tp.x;\n            y = tp.y;\n        }\n        return {\n            x,\n            y\n        };\n    }\n};\nfunction pushOrConcat(base, toPush) {\n    if (toPush) {\n        if (isArray(toPush)) {\n            Array.prototype.push.apply(base, toPush);\n        } else {\n            base.push(toPush);\n        }\n    }\n    return base;\n}\n function splitNewlines(str) {\n    if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n        return str.split('\\n');\n    }\n    return str;\n}\n function createTooltipItem(chart, item) {\n    const { element , datasetIndex , index  } = item;\n    const controller = chart.getDatasetMeta(datasetIndex).controller;\n    const { label , value  } = controller.getLabelAndValue(index);\n    return {\n        chart,\n        label,\n        parsed: controller.getParsed(index),\n        raw: chart.data.datasets[datasetIndex].data[index],\n        formattedValue: value,\n        dataset: controller.getDataset(),\n        dataIndex: index,\n        datasetIndex,\n        element\n    };\n}\n function getTooltipSize(tooltip, options) {\n    const ctx = tooltip.chart.ctx;\n    const { body , footer , title  } = tooltip;\n    const { boxWidth , boxHeight  } = options;\n    const bodyFont = toFont(options.bodyFont);\n    const titleFont = toFont(options.titleFont);\n    const footerFont = toFont(options.footerFont);\n    const titleLineCount = title.length;\n    const footerLineCount = footer.length;\n    const bodyLineItemCount = body.length;\n    const padding = toPadding(options.padding);\n    let height = padding.height;\n    let width = 0;\n    let combinedBodyLength = body.reduce((count, bodyItem)=>count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n    combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n    if (titleLineCount) {\n        height += titleLineCount * titleFont.lineHeight + (titleLineCount - 1) * options.titleSpacing + options.titleMarginBottom;\n    }\n    if (combinedBodyLength) {\n        const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n        height += bodyLineItemCount * bodyLineHeight + (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight + (combinedBodyLength - 1) * options.bodySpacing;\n    }\n    if (footerLineCount) {\n        height += options.footerMarginTop + footerLineCount * footerFont.lineHeight + (footerLineCount - 1) * options.footerSpacing;\n    }\n    let widthPadding = 0;\n    const maxLineWidth = function(line) {\n        width = Math.max(width, ctx.measureText(line).width + widthPadding);\n    };\n    ctx.save();\n    ctx.font = titleFont.string;\n    each(tooltip.title, maxLineWidth);\n    ctx.font = bodyFont.string;\n    each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n    widthPadding = options.displayColors ? boxWidth + 2 + options.boxPadding : 0;\n    each(body, (bodyItem)=>{\n        each(bodyItem.before, maxLineWidth);\n        each(bodyItem.lines, maxLineWidth);\n        each(bodyItem.after, maxLineWidth);\n    });\n    widthPadding = 0;\n    ctx.font = footerFont.string;\n    each(tooltip.footer, maxLineWidth);\n    ctx.restore();\n    width += padding.width;\n    return {\n        width,\n        height\n    };\n}\nfunction determineYAlign(chart, size) {\n    const { y , height  } = size;\n    if (y < height / 2) {\n        return 'top';\n    } else if (y > chart.height - height / 2) {\n        return 'bottom';\n    }\n    return 'center';\n}\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n    const { x , width  } = size;\n    const caret = options.caretSize + options.caretPadding;\n    if (xAlign === 'left' && x + width + caret > chart.width) {\n        return true;\n    }\n    if (xAlign === 'right' && x - width - caret < 0) {\n        return true;\n    }\n}\nfunction determineXAlign(chart, options, size, yAlign) {\n    const { x , width  } = size;\n    const { width: chartWidth , chartArea: { left , right  }  } = chart;\n    let xAlign = 'center';\n    if (yAlign === 'center') {\n        xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n    } else if (x <= width / 2) {\n        xAlign = 'left';\n    } else if (x >= chartWidth - width / 2) {\n        xAlign = 'right';\n    }\n    if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n        xAlign = 'center';\n    }\n    return xAlign;\n}\n function determineAlignment(chart, options, size) {\n    const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\n    return {\n        xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\n        yAlign\n    };\n}\nfunction alignX(size, xAlign) {\n    let { x , width  } = size;\n    if (xAlign === 'right') {\n        x -= width;\n    } else if (xAlign === 'center') {\n        x -= width / 2;\n    }\n    return x;\n}\nfunction alignY(size, yAlign, paddingAndSize) {\n    let { y , height  } = size;\n    if (yAlign === 'top') {\n        y += paddingAndSize;\n    } else if (yAlign === 'bottom') {\n        y -= height + paddingAndSize;\n    } else {\n        y -= height / 2;\n    }\n    return y;\n}\n function getBackgroundPoint(options, size, alignment, chart) {\n    const { caretSize , caretPadding , cornerRadius  } = options;\n    const { xAlign , yAlign  } = alignment;\n    const paddingAndSize = caretSize + caretPadding;\n    const { topLeft , topRight , bottomLeft , bottomRight  } = toTRBLCorners(cornerRadius);\n    let x = alignX(size, xAlign);\n    const y = alignY(size, yAlign, paddingAndSize);\n    if (yAlign === 'center') {\n        if (xAlign === 'left') {\n            x += paddingAndSize;\n        } else if (xAlign === 'right') {\n            x -= paddingAndSize;\n        }\n    } else if (xAlign === 'left') {\n        x -= Math.max(topLeft, bottomLeft) + caretSize;\n    } else if (xAlign === 'right') {\n        x += Math.max(topRight, bottomRight) + caretSize;\n    }\n    return {\n        x: _limitValue(x, 0, chart.width - size.width),\n        y: _limitValue(y, 0, chart.height - size.height)\n    };\n}\nfunction getAlignedX(tooltip, align, options) {\n    const padding = toPadding(options.padding);\n    return align === 'center' ? tooltip.x + tooltip.width / 2 : align === 'right' ? tooltip.x + tooltip.width - padding.right : tooltip.x + padding.left;\n}\n function getBeforeAfterBodyLines(callback) {\n    return pushOrConcat([], splitNewlines(callback));\n}\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n    return createContext(parent, {\n        tooltip,\n        tooltipItems,\n        type: 'tooltip'\n    });\n}\nfunction overrideCallbacks(callbacks, context) {\n    const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n    return override ? callbacks.override(override) : callbacks;\n}\nconst defaultCallbacks = {\n    beforeTitle: noop,\n    title (tooltipItems) {\n        if (tooltipItems.length > 0) {\n            const item = tooltipItems[0];\n            const labels = item.chart.data.labels;\n            const labelCount = labels ? labels.length : 0;\n            if (this && this.options && this.options.mode === 'dataset') {\n                return item.dataset.label || '';\n            } else if (item.label) {\n                return item.label;\n            } else if (labelCount > 0 && item.dataIndex < labelCount) {\n                return labels[item.dataIndex];\n            }\n        }\n        return '';\n    },\n    afterTitle: noop,\n    beforeBody: noop,\n    beforeLabel: noop,\n    label (tooltipItem) {\n        if (this && this.options && this.options.mode === 'dataset') {\n            return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n        }\n        let label = tooltipItem.dataset.label || '';\n        if (label) {\n            label += ': ';\n        }\n        const value = tooltipItem.formattedValue;\n        if (!isNullOrUndef(value)) {\n            label += value;\n        }\n        return label;\n    },\n    labelColor (tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n            borderColor: options.borderColor,\n            backgroundColor: options.backgroundColor,\n            borderWidth: options.borderWidth,\n            borderDash: options.borderDash,\n            borderDashOffset: options.borderDashOffset,\n            borderRadius: 0\n        };\n    },\n    labelTextColor () {\n        return this.options.bodyColor;\n    },\n    labelPointStyle (tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n            pointStyle: options.pointStyle,\n            rotation: options.rotation\n        };\n    },\n    afterLabel: noop,\n    afterBody: noop,\n    beforeFooter: noop,\n    footer: noop,\n    afterFooter: noop\n};\n function invokeCallbackWithFallback(callbacks, name, ctx, arg) {\n    const result = callbacks[name].call(ctx, arg);\n    if (typeof result === 'undefined') {\n        return defaultCallbacks[name].call(ctx, arg);\n    }\n    return result;\n}\nclass Tooltip extends Element {\n static positioners = positioners;\n    constructor(config){\n        super();\n        this.opacity = 0;\n        this._active = [];\n        this._eventPosition = undefined;\n        this._size = undefined;\n        this._cachedAnimations = undefined;\n        this._tooltipItems = [];\n        this.$animations = undefined;\n        this.$context = undefined;\n        this.chart = config.chart;\n        this.options = config.options;\n        this.dataPoints = undefined;\n        this.title = undefined;\n        this.beforeBody = undefined;\n        this.body = undefined;\n        this.afterBody = undefined;\n        this.footer = undefined;\n        this.xAlign = undefined;\n        this.yAlign = undefined;\n        this.x = undefined;\n        this.y = undefined;\n        this.height = undefined;\n        this.width = undefined;\n        this.caretX = undefined;\n        this.caretY = undefined;\n        this.labelColors = undefined;\n        this.labelPointStyles = undefined;\n        this.labelTextColors = undefined;\n    }\n    initialize(options) {\n        this.options = options;\n        this._cachedAnimations = undefined;\n        this.$context = undefined;\n    }\n _resolveAnimations() {\n        const cached = this._cachedAnimations;\n        if (cached) {\n            return cached;\n        }\n        const chart = this.chart;\n        const options = this.options.setContext(this.getContext());\n        const opts = options.enabled && chart.options.animation && options.animations;\n        const animations = new Animations(this.chart, opts);\n        if (opts._cacheable) {\n            this._cachedAnimations = Object.freeze(animations);\n        }\n        return animations;\n    }\n getContext() {\n        return this.$context || (this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\n    }\n    getTitle(context, options) {\n        const { callbacks  } = options;\n        const beforeTitle = invokeCallbackWithFallback(callbacks, 'beforeTitle', this, context);\n        const title = invokeCallbackWithFallback(callbacks, 'title', this, context);\n        const afterTitle = invokeCallbackWithFallback(callbacks, 'afterTitle', this, context);\n        let lines = [];\n        lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n        lines = pushOrConcat(lines, splitNewlines(title));\n        lines = pushOrConcat(lines, splitNewlines(afterTitle));\n        return lines;\n    }\n    getBeforeBody(tooltipItems, options) {\n        return getBeforeAfterBodyLines(invokeCallbackWithFallback(options.callbacks, 'beforeBody', this, tooltipItems));\n    }\n    getBody(tooltipItems, options) {\n        const { callbacks  } = options;\n        const bodyItems = [];\n        each(tooltipItems, (context)=>{\n            const bodyItem = {\n                before: [],\n                lines: [],\n                after: []\n            };\n            const scoped = overrideCallbacks(callbacks, context);\n            pushOrConcat(bodyItem.before, splitNewlines(invokeCallbackWithFallback(scoped, 'beforeLabel', this, context)));\n            pushOrConcat(bodyItem.lines, invokeCallbackWithFallback(scoped, 'label', this, context));\n            pushOrConcat(bodyItem.after, splitNewlines(invokeCallbackWithFallback(scoped, 'afterLabel', this, context)));\n            bodyItems.push(bodyItem);\n        });\n        return bodyItems;\n    }\n    getAfterBody(tooltipItems, options) {\n        return getBeforeAfterBodyLines(invokeCallbackWithFallback(options.callbacks, 'afterBody', this, tooltipItems));\n    }\n    getFooter(tooltipItems, options) {\n        const { callbacks  } = options;\n        const beforeFooter = invokeCallbackWithFallback(callbacks, 'beforeFooter', this, tooltipItems);\n        const footer = invokeCallbackWithFallback(callbacks, 'footer', this, tooltipItems);\n        const afterFooter = invokeCallbackWithFallback(callbacks, 'afterFooter', this, tooltipItems);\n        let lines = [];\n        lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n        lines = pushOrConcat(lines, splitNewlines(footer));\n        lines = pushOrConcat(lines, splitNewlines(afterFooter));\n        return lines;\n    }\n _createItems(options) {\n        const active = this._active;\n        const data = this.chart.data;\n        const labelColors = [];\n        const labelPointStyles = [];\n        const labelTextColors = [];\n        let tooltipItems = [];\n        let i, len;\n        for(i = 0, len = active.length; i < len; ++i){\n            tooltipItems.push(createTooltipItem(this.chart, active[i]));\n        }\n        if (options.filter) {\n            tooltipItems = tooltipItems.filter((element, index, array)=>options.filter(element, index, array, data));\n        }\n        if (options.itemSort) {\n            tooltipItems = tooltipItems.sort((a, b)=>options.itemSort(a, b, data));\n        }\n        each(tooltipItems, (context)=>{\n            const scoped = overrideCallbacks(options.callbacks, context);\n            labelColors.push(invokeCallbackWithFallback(scoped, 'labelColor', this, context));\n            labelPointStyles.push(invokeCallbackWithFallback(scoped, 'labelPointStyle', this, context));\n            labelTextColors.push(invokeCallbackWithFallback(scoped, 'labelTextColor', this, context));\n        });\n        this.labelColors = labelColors;\n        this.labelPointStyles = labelPointStyles;\n        this.labelTextColors = labelTextColors;\n        this.dataPoints = tooltipItems;\n        return tooltipItems;\n    }\n    update(changed, replay) {\n        const options = this.options.setContext(this.getContext());\n        const active = this._active;\n        let properties;\n        let tooltipItems = [];\n        if (!active.length) {\n            if (this.opacity !== 0) {\n                properties = {\n                    opacity: 0\n                };\n            }\n        } else {\n            const position = positioners[options.position].call(this, active, this._eventPosition);\n            tooltipItems = this._createItems(options);\n            this.title = this.getTitle(tooltipItems, options);\n            this.beforeBody = this.getBeforeBody(tooltipItems, options);\n            this.body = this.getBody(tooltipItems, options);\n            this.afterBody = this.getAfterBody(tooltipItems, options);\n            this.footer = this.getFooter(tooltipItems, options);\n            const size = this._size = getTooltipSize(this, options);\n            const positionAndSize = Object.assign({}, position, size);\n            const alignment = determineAlignment(this.chart, options, positionAndSize);\n            const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\n            this.xAlign = alignment.xAlign;\n            this.yAlign = alignment.yAlign;\n            properties = {\n                opacity: 1,\n                x: backgroundPoint.x,\n                y: backgroundPoint.y,\n                width: size.width,\n                height: size.height,\n                caretX: position.x,\n                caretY: position.y\n            };\n        }\n        this._tooltipItems = tooltipItems;\n        this.$context = undefined;\n        if (properties) {\n            this._resolveAnimations().update(this, properties);\n        }\n        if (changed && options.external) {\n            options.external.call(this, {\n                chart: this.chart,\n                tooltip: this,\n                replay\n            });\n        }\n    }\n    drawCaret(tooltipPoint, ctx, size, options) {\n        const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n        ctx.lineTo(caretPosition.x1, caretPosition.y1);\n        ctx.lineTo(caretPosition.x2, caretPosition.y2);\n        ctx.lineTo(caretPosition.x3, caretPosition.y3);\n    }\n    getCaretPosition(tooltipPoint, size, options) {\n        const { xAlign , yAlign  } = this;\n        const { caretSize , cornerRadius  } = options;\n        const { topLeft , topRight , bottomLeft , bottomRight  } = toTRBLCorners(cornerRadius);\n        const { x: ptX , y: ptY  } = tooltipPoint;\n        const { width , height  } = size;\n        let x1, x2, x3, y1, y2, y3;\n        if (yAlign === 'center') {\n            y2 = ptY + height / 2;\n            if (xAlign === 'left') {\n                x1 = ptX;\n                x2 = x1 - caretSize;\n                y1 = y2 + caretSize;\n                y3 = y2 - caretSize;\n            } else {\n                x1 = ptX + width;\n                x2 = x1 + caretSize;\n                y1 = y2 - caretSize;\n                y3 = y2 + caretSize;\n            }\n            x3 = x1;\n        } else {\n            if (xAlign === 'left') {\n                x2 = ptX + Math.max(topLeft, bottomLeft) + caretSize;\n            } else if (xAlign === 'right') {\n                x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n            } else {\n                x2 = this.caretX;\n            }\n            if (yAlign === 'top') {\n                y1 = ptY;\n                y2 = y1 - caretSize;\n                x1 = x2 - caretSize;\n                x3 = x2 + caretSize;\n            } else {\n                y1 = ptY + height;\n                y2 = y1 + caretSize;\n                x1 = x2 + caretSize;\n                x3 = x2 - caretSize;\n            }\n            y3 = y1;\n        }\n        return {\n            x1,\n            x2,\n            x3,\n            y1,\n            y2,\n            y3\n        };\n    }\n    drawTitle(pt, ctx, options) {\n        const title = this.title;\n        const length = title.length;\n        let titleFont, titleSpacing, i;\n        if (length) {\n            const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n            pt.x = getAlignedX(this, options.titleAlign, options);\n            ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n            ctx.textBaseline = 'middle';\n            titleFont = toFont(options.titleFont);\n            titleSpacing = options.titleSpacing;\n            ctx.fillStyle = options.titleColor;\n            ctx.font = titleFont.string;\n            for(i = 0; i < length; ++i){\n                ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n                pt.y += titleFont.lineHeight + titleSpacing;\n                if (i + 1 === length) {\n                    pt.y += options.titleMarginBottom - titleSpacing;\n                }\n            }\n        }\n    }\n _drawColorBox(ctx, pt, i, rtlHelper, options) {\n        const labelColor = this.labelColors[i];\n        const labelPointStyle = this.labelPointStyles[i];\n        const { boxHeight , boxWidth  } = options;\n        const bodyFont = toFont(options.bodyFont);\n        const colorX = getAlignedX(this, 'left', options);\n        const rtlColorX = rtlHelper.x(colorX);\n        const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n        const colorY = pt.y + yOffSet;\n        if (options.usePointStyle) {\n            const drawOptions = {\n                radius: Math.min(boxWidth, boxHeight) / 2,\n                pointStyle: labelPointStyle.pointStyle,\n                rotation: labelPointStyle.rotation,\n                borderWidth: 1\n            };\n            const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n            const centerY = colorY + boxHeight / 2;\n            ctx.strokeStyle = options.multiKeyBackground;\n            ctx.fillStyle = options.multiKeyBackground;\n            drawPoint(ctx, drawOptions, centerX, centerY);\n            ctx.strokeStyle = labelColor.borderColor;\n            ctx.fillStyle = labelColor.backgroundColor;\n            drawPoint(ctx, drawOptions, centerX, centerY);\n        } else {\n            ctx.lineWidth = isObject(labelColor.borderWidth) ? Math.max(...Object.values(labelColor.borderWidth)) : labelColor.borderWidth || 1;\n            ctx.strokeStyle = labelColor.borderColor;\n            ctx.setLineDash(labelColor.borderDash || []);\n            ctx.lineDashOffset = labelColor.borderDashOffset || 0;\n            const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth);\n            const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - 2);\n            const borderRadius = toTRBLCorners(labelColor.borderRadius);\n            if (Object.values(borderRadius).some((v)=>v !== 0)) {\n                ctx.beginPath();\n                ctx.fillStyle = options.multiKeyBackground;\n                addRoundedRectPath(ctx, {\n                    x: outerX,\n                    y: colorY,\n                    w: boxWidth,\n                    h: boxHeight,\n                    radius: borderRadius\n                });\n                ctx.fill();\n                ctx.stroke();\n                ctx.fillStyle = labelColor.backgroundColor;\n                ctx.beginPath();\n                addRoundedRectPath(ctx, {\n                    x: innerX,\n                    y: colorY + 1,\n                    w: boxWidth - 2,\n                    h: boxHeight - 2,\n                    radius: borderRadius\n                });\n                ctx.fill();\n            } else {\n                ctx.fillStyle = options.multiKeyBackground;\n                ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n                ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n                ctx.fillStyle = labelColor.backgroundColor;\n                ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n            }\n        }\n        ctx.fillStyle = this.labelTextColors[i];\n    }\n    drawBody(pt, ctx, options) {\n        const { body  } = this;\n        const { bodySpacing , bodyAlign , displayColors , boxHeight , boxWidth , boxPadding  } = options;\n        const bodyFont = toFont(options.bodyFont);\n        let bodyLineHeight = bodyFont.lineHeight;\n        let xLinePadding = 0;\n        const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n        const fillLineOfText = function(line) {\n            ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n            pt.y += bodyLineHeight + bodySpacing;\n        };\n        const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n        let bodyItem, textColor, lines, i, j, ilen, jlen;\n        ctx.textAlign = bodyAlign;\n        ctx.textBaseline = 'middle';\n        ctx.font = bodyFont.string;\n        pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n        ctx.fillStyle = options.bodyColor;\n        each(this.beforeBody, fillLineOfText);\n        xLinePadding = displayColors && bodyAlignForCalculation !== 'right' ? bodyAlign === 'center' ? boxWidth / 2 + boxPadding : boxWidth + 2 + boxPadding : 0;\n        for(i = 0, ilen = body.length; i < ilen; ++i){\n            bodyItem = body[i];\n            textColor = this.labelTextColors[i];\n            ctx.fillStyle = textColor;\n            each(bodyItem.before, fillLineOfText);\n            lines = bodyItem.lines;\n            if (displayColors && lines.length) {\n                this._drawColorBox(ctx, pt, i, rtlHelper, options);\n                bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n            }\n            for(j = 0, jlen = lines.length; j < jlen; ++j){\n                fillLineOfText(lines[j]);\n                bodyLineHeight = bodyFont.lineHeight;\n            }\n            each(bodyItem.after, fillLineOfText);\n        }\n        xLinePadding = 0;\n        bodyLineHeight = bodyFont.lineHeight;\n        each(this.afterBody, fillLineOfText);\n        pt.y -= bodySpacing;\n    }\n    drawFooter(pt, ctx, options) {\n        const footer = this.footer;\n        const length = footer.length;\n        let footerFont, i;\n        if (length) {\n            const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n            pt.x = getAlignedX(this, options.footerAlign, options);\n            pt.y += options.footerMarginTop;\n            ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n            ctx.textBaseline = 'middle';\n            footerFont = toFont(options.footerFont);\n            ctx.fillStyle = options.footerColor;\n            ctx.font = footerFont.string;\n            for(i = 0; i < length; ++i){\n                ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n                pt.y += footerFont.lineHeight + options.footerSpacing;\n            }\n        }\n    }\n    drawBackground(pt, ctx, tooltipSize, options) {\n        const { xAlign , yAlign  } = this;\n        const { x , y  } = pt;\n        const { width , height  } = tooltipSize;\n        const { topLeft , topRight , bottomLeft , bottomRight  } = toTRBLCorners(options.cornerRadius);\n        ctx.fillStyle = options.backgroundColor;\n        ctx.strokeStyle = options.borderColor;\n        ctx.lineWidth = options.borderWidth;\n        ctx.beginPath();\n        ctx.moveTo(x + topLeft, y);\n        if (yAlign === 'top') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x + width - topRight, y);\n        ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n        if (yAlign === 'center' && xAlign === 'right') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x + width, y + height - bottomRight);\n        ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n        if (yAlign === 'bottom') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x + bottomLeft, y + height);\n        ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n        if (yAlign === 'center' && xAlign === 'left') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x, y + topLeft);\n        ctx.quadraticCurveTo(x, y, x + topLeft, y);\n        ctx.closePath();\n        ctx.fill();\n        if (options.borderWidth > 0) {\n            ctx.stroke();\n        }\n    }\n _updateAnimationTarget(options) {\n        const chart = this.chart;\n        const anims = this.$animations;\n        const animX = anims && anims.x;\n        const animY = anims && anims.y;\n        if (animX || animY) {\n            const position = positioners[options.position].call(this, this._active, this._eventPosition);\n            if (!position) {\n                return;\n            }\n            const size = this._size = getTooltipSize(this, options);\n            const positionAndSize = Object.assign({}, position, this._size);\n            const alignment = determineAlignment(chart, options, positionAndSize);\n            const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n            if (animX._to !== point.x || animY._to !== point.y) {\n                this.xAlign = alignment.xAlign;\n                this.yAlign = alignment.yAlign;\n                this.width = size.width;\n                this.height = size.height;\n                this.caretX = position.x;\n                this.caretY = position.y;\n                this._resolveAnimations().update(this, point);\n            }\n        }\n    }\n _willRender() {\n        return !!this.opacity;\n    }\n    draw(ctx) {\n        const options = this.options.setContext(this.getContext());\n        let opacity = this.opacity;\n        if (!opacity) {\n            return;\n        }\n        this._updateAnimationTarget(options);\n        const tooltipSize = {\n            width: this.width,\n            height: this.height\n        };\n        const pt = {\n            x: this.x,\n            y: this.y\n        };\n        opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n        const padding = toPadding(options.padding);\n        const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n        if (options.enabled && hasTooltipContent) {\n            ctx.save();\n            ctx.globalAlpha = opacity;\n            this.drawBackground(pt, ctx, tooltipSize, options);\n            overrideTextDirection(ctx, options.textDirection);\n            pt.y += padding.top;\n            this.drawTitle(pt, ctx, options);\n            this.drawBody(pt, ctx, options);\n            this.drawFooter(pt, ctx, options);\n            restoreTextDirection(ctx, options.textDirection);\n            ctx.restore();\n        }\n    }\n getActiveElements() {\n        return this._active || [];\n    }\n setActiveElements(activeElements, eventPosition) {\n        const lastActive = this._active;\n        const active = activeElements.map(({ datasetIndex , index  })=>{\n            const meta = this.chart.getDatasetMeta(datasetIndex);\n            if (!meta) {\n                throw new Error('Cannot find a dataset at index ' + datasetIndex);\n            }\n            return {\n                datasetIndex,\n                element: meta.data[index],\n                index\n            };\n        });\n        const changed = !_elementsEqual(lastActive, active);\n        const positionChanged = this._positionChanged(active, eventPosition);\n        if (changed || positionChanged) {\n            this._active = active;\n            this._eventPosition = eventPosition;\n            this._ignoreReplayEvents = true;\n            this.update(true);\n        }\n    }\n handleEvent(e, replay, inChartArea = true) {\n        if (replay && this._ignoreReplayEvents) {\n            return false;\n        }\n        this._ignoreReplayEvents = false;\n        const options = this.options;\n        const lastActive = this._active || [];\n        const active = this._getActiveElements(e, lastActive, replay, inChartArea);\n        const positionChanged = this._positionChanged(active, e);\n        const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n        if (changed) {\n            this._active = active;\n            if (options.enabled || options.external) {\n                this._eventPosition = {\n                    x: e.x,\n                    y: e.y\n                };\n                this.update(true, replay);\n            }\n        }\n        return changed;\n    }\n _getActiveElements(e, lastActive, replay, inChartArea) {\n        const options = this.options;\n        if (e.type === 'mouseout') {\n            return [];\n        }\n        if (!inChartArea) {\n            return lastActive.filter((i)=>this.chart.data.datasets[i.datasetIndex] && this.chart.getDatasetMeta(i.datasetIndex).controller.getParsed(i.index) !== undefined);\n        }\n        const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\n        if (options.reverse) {\n            active.reverse();\n        }\n        return active;\n    }\n _positionChanged(active, e) {\n        const { caretX , caretY , options  } = this;\n        const position = positioners[options.position].call(this, active, e);\n        return position !== false && (caretX !== position.x || caretY !== position.y);\n    }\n}\nvar plugin_tooltip = {\n    id: 'tooltip',\n    _element: Tooltip,\n    positioners,\n    afterInit (chart, _args, options) {\n        if (options) {\n            chart.tooltip = new Tooltip({\n                chart,\n                options\n            });\n        }\n    },\n    beforeUpdate (chart, _args, options) {\n        if (chart.tooltip) {\n            chart.tooltip.initialize(options);\n        }\n    },\n    reset (chart, _args, options) {\n        if (chart.tooltip) {\n            chart.tooltip.initialize(options);\n        }\n    },\n    afterDraw (chart) {\n        const tooltip = chart.tooltip;\n        if (tooltip && tooltip._willRender()) {\n            const args = {\n                tooltip\n            };\n            if (chart.notifyPlugins('beforeTooltipDraw', {\n                ...args,\n                cancelable: true\n            }) === false) {\n                return;\n            }\n            tooltip.draw(chart.ctx);\n            chart.notifyPlugins('afterTooltipDraw', args);\n        }\n    },\n    afterEvent (chart, args) {\n        if (chart.tooltip) {\n            const useFinalPosition = args.replay;\n            if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\n                args.changed = true;\n            }\n        }\n    },\n    defaults: {\n        enabled: true,\n        external: null,\n        position: 'average',\n        backgroundColor: 'rgba(0,0,0,0.8)',\n        titleColor: '#fff',\n        titleFont: {\n            weight: 'bold'\n        },\n        titleSpacing: 2,\n        titleMarginBottom: 6,\n        titleAlign: 'left',\n        bodyColor: '#fff',\n        bodySpacing: 2,\n        bodyFont: {},\n        bodyAlign: 'left',\n        footerColor: '#fff',\n        footerSpacing: 2,\n        footerMarginTop: 6,\n        footerFont: {\n            weight: 'bold'\n        },\n        footerAlign: 'left',\n        padding: 6,\n        caretPadding: 2,\n        caretSize: 5,\n        cornerRadius: 6,\n        boxHeight: (ctx, opts)=>opts.bodyFont.size,\n        boxWidth: (ctx, opts)=>opts.bodyFont.size,\n        multiKeyBackground: '#fff',\n        displayColors: true,\n        boxPadding: 0,\n        borderColor: 'rgba(0,0,0,0)',\n        borderWidth: 0,\n        animation: {\n            duration: 400,\n            easing: 'easeOutQuart'\n        },\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'width',\n                    'height',\n                    'caretX',\n                    'caretY'\n                ]\n            },\n            opacity: {\n                easing: 'linear',\n                duration: 200\n            }\n        },\n        callbacks: defaultCallbacks\n    },\n    defaultRoutes: {\n        bodyFont: 'font',\n        footerFont: 'font',\n        titleFont: 'font'\n    },\n    descriptors: {\n        _scriptable: (name)=>name !== 'filter' && name !== 'itemSort' && name !== 'external',\n        _indexable: false,\n        callbacks: {\n            _scriptable: false,\n            _indexable: false\n        },\n        animation: {\n            _fallback: false\n        },\n        animations: {\n            _fallback: 'animation'\n        }\n    },\n    additionalOptionScopes: [\n        'interaction'\n    ]\n};\n\nvar plugins = /*#__PURE__*/Object.freeze({\n__proto__: null,\nColors: plugin_colors,\nDecimation: plugin_decimation,\nFiller: index,\nLegend: plugin_legend,\nSubTitle: plugin_subtitle,\nTitle: plugin_title,\nTooltip: plugin_tooltip\n});\n\nconst addIfString = (labels, raw, index, addedLabels)=>{\n    if (typeof raw === 'string') {\n        index = labels.push(raw) - 1;\n        addedLabels.unshift({\n            index,\n            label: raw\n        });\n    } else if (isNaN(raw)) {\n        index = null;\n    }\n    return index;\n};\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\n    const first = labels.indexOf(raw);\n    if (first === -1) {\n        return addIfString(labels, raw, index, addedLabels);\n    }\n    const last = labels.lastIndexOf(raw);\n    return first !== last ? index : first;\n}\nconst validIndex = (index, max)=>index === null ? null : _limitValue(Math.round(index), 0, max);\nfunction _getLabelForValue(value) {\n    const labels = this.getLabels();\n    if (value >= 0 && value < labels.length) {\n        return labels[value];\n    }\n    return value;\n}\nclass CategoryScale extends Scale {\n    static id = 'category';\n static defaults = {\n        ticks: {\n            callback: _getLabelForValue\n        }\n    };\n    constructor(cfg){\n        super(cfg);\n         this._startValue = undefined;\n        this._valueRange = 0;\n        this._addedLabels = [];\n    }\n    init(scaleOptions) {\n        const added = this._addedLabels;\n        if (added.length) {\n            const labels = this.getLabels();\n            for (const { index , label  } of added){\n                if (labels[index] === label) {\n                    labels.splice(index, 1);\n                }\n            }\n            this._addedLabels = [];\n        }\n        super.init(scaleOptions);\n    }\n    parse(raw, index) {\n        if (isNullOrUndef(raw)) {\n            return null;\n        }\n        const labels = this.getLabels();\n        index = isFinite(index) && labels[index] === raw ? index : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\n        return validIndex(index, labels.length - 1);\n    }\n    determineDataLimits() {\n        const { minDefined , maxDefined  } = this.getUserBounds();\n        let { min , max  } = this.getMinMax(true);\n        if (this.options.bounds === 'ticks') {\n            if (!minDefined) {\n                min = 0;\n            }\n            if (!maxDefined) {\n                max = this.getLabels().length - 1;\n            }\n        }\n        this.min = min;\n        this.max = max;\n    }\n    buildTicks() {\n        const min = this.min;\n        const max = this.max;\n        const offset = this.options.offset;\n        const ticks = [];\n        let labels = this.getLabels();\n        labels = min === 0 && max === labels.length - 1 ? labels : labels.slice(min, max + 1);\n        this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n        this._startValue = this.min - (offset ? 0.5 : 0);\n        for(let value = min; value <= max; value++){\n            ticks.push({\n                value\n            });\n        }\n        return ticks;\n    }\n    getLabelForValue(value) {\n        return _getLabelForValue.call(this, value);\n    }\n configure() {\n        super.configure();\n        if (!this.isHorizontal()) {\n            this._reversePixels = !this._reversePixels;\n        }\n    }\n    getPixelForValue(value) {\n        if (typeof value !== 'number') {\n            value = this.parse(value);\n        }\n        return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n    }\n    getPixelForTick(index) {\n        const ticks = this.ticks;\n        if (index < 0 || index > ticks.length - 1) {\n            return null;\n        }\n        return this.getPixelForValue(ticks[index].value);\n    }\n    getValueForPixel(pixel) {\n        return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n    }\n    getBasePixel() {\n        return this.bottom;\n    }\n}\n\nfunction generateTicks$1(generationOptions, dataRange) {\n    const ticks = [];\n    const MIN_SPACING = 1e-14;\n    const { bounds , step , min , max , precision , count , maxTicks , maxDigits , includeBounds  } = generationOptions;\n    const unit = step || 1;\n    const maxSpaces = maxTicks - 1;\n    const { min: rmin , max: rmax  } = dataRange;\n    const minDefined = !isNullOrUndef(min);\n    const maxDefined = !isNullOrUndef(max);\n    const countDefined = !isNullOrUndef(count);\n    const minSpacing = (rmax - rmin) / (maxDigits + 1);\n    let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n    let factor, niceMin, niceMax, numSpaces;\n    if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n        return [\n            {\n                value: rmin\n            },\n            {\n                value: rmax\n            }\n        ];\n    }\n    numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n    if (numSpaces > maxSpaces) {\n        spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n    }\n    if (!isNullOrUndef(precision)) {\n        factor = Math.pow(10, precision);\n        spacing = Math.ceil(spacing * factor) / factor;\n    }\n    if (bounds === 'ticks') {\n        niceMin = Math.floor(rmin / spacing) * spacing;\n        niceMax = Math.ceil(rmax / spacing) * spacing;\n    } else {\n        niceMin = rmin;\n        niceMax = rmax;\n    }\n    if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n        numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n        spacing = (max - min) / numSpaces;\n        niceMin = min;\n        niceMax = max;\n    } else if (countDefined) {\n        niceMin = minDefined ? min : niceMin;\n        niceMax = maxDefined ? max : niceMax;\n        numSpaces = count - 1;\n        spacing = (niceMax - niceMin) / numSpaces;\n    } else {\n        numSpaces = (niceMax - niceMin) / spacing;\n        if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n            numSpaces = Math.round(numSpaces);\n        } else {\n            numSpaces = Math.ceil(numSpaces);\n        }\n    }\n    const decimalPlaces = Math.max(_decimalPlaces(spacing), _decimalPlaces(niceMin));\n    factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n    niceMin = Math.round(niceMin * factor) / factor;\n    niceMax = Math.round(niceMax * factor) / factor;\n    let j = 0;\n    if (minDefined) {\n        if (includeBounds && niceMin !== min) {\n            ticks.push({\n                value: min\n            });\n            if (niceMin < min) {\n                j++;\n            }\n            if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n                j++;\n            }\n        } else if (niceMin < min) {\n            j++;\n        }\n    }\n    for(; j < numSpaces; ++j){\n        const tickValue = Math.round((niceMin + j * spacing) * factor) / factor;\n        if (maxDefined && tickValue > max) {\n            break;\n        }\n        ticks.push({\n            value: tickValue\n        });\n    }\n    if (maxDefined && includeBounds && niceMax !== max) {\n        if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n            ticks[ticks.length - 1].value = max;\n        } else {\n            ticks.push({\n                value: max\n            });\n        }\n    } else if (!maxDefined || niceMax === max) {\n        ticks.push({\n            value: niceMax\n        });\n    }\n    return ticks;\n}\nfunction relativeLabelSize(value, minSpacing, { horizontal , minRotation  }) {\n    const rad = toRadians(minRotation);\n    const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n    const length = 0.75 * minSpacing * ('' + value).length;\n    return Math.min(minSpacing / ratio, length);\n}\nclass LinearScaleBase extends Scale {\n    constructor(cfg){\n        super(cfg);\n         this.start = undefined;\n         this.end = undefined;\n         this._startValue = undefined;\n         this._endValue = undefined;\n        this._valueRange = 0;\n    }\n    parse(raw, index) {\n        if (isNullOrUndef(raw)) {\n            return null;\n        }\n        if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n            return null;\n        }\n        return +raw;\n    }\n    handleTickRangeOptions() {\n        const { beginAtZero  } = this.options;\n        const { minDefined , maxDefined  } = this.getUserBounds();\n        let { min , max  } = this;\n        const setMin = (v)=>min = minDefined ? min : v;\n        const setMax = (v)=>max = maxDefined ? max : v;\n        if (beginAtZero) {\n            const minSign = sign(min);\n            const maxSign = sign(max);\n            if (minSign < 0 && maxSign < 0) {\n                setMax(0);\n            } else if (minSign > 0 && maxSign > 0) {\n                setMin(0);\n            }\n        }\n        if (min === max) {\n            let offset = max === 0 ? 1 : Math.abs(max * 0.05);\n            setMax(max + offset);\n            if (!beginAtZero) {\n                setMin(min - offset);\n            }\n        }\n        this.min = min;\n        this.max = max;\n    }\n    getTickLimit() {\n        const tickOpts = this.options.ticks;\n        let { maxTicksLimit , stepSize  } = tickOpts;\n        let maxTicks;\n        if (stepSize) {\n            maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n            if (maxTicks > 1000) {\n                console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n                maxTicks = 1000;\n            }\n        } else {\n            maxTicks = this.computeTickLimit();\n            maxTicksLimit = maxTicksLimit || 11;\n        }\n        if (maxTicksLimit) {\n            maxTicks = Math.min(maxTicksLimit, maxTicks);\n        }\n        return maxTicks;\n    }\n computeTickLimit() {\n        return Number.POSITIVE_INFINITY;\n    }\n    buildTicks() {\n        const opts = this.options;\n        const tickOpts = opts.ticks;\n        let maxTicks = this.getTickLimit();\n        maxTicks = Math.max(2, maxTicks);\n        const numericGeneratorOptions = {\n            maxTicks,\n            bounds: opts.bounds,\n            min: opts.min,\n            max: opts.max,\n            precision: tickOpts.precision,\n            step: tickOpts.stepSize,\n            count: tickOpts.count,\n            maxDigits: this._maxDigits(),\n            horizontal: this.isHorizontal(),\n            minRotation: tickOpts.minRotation || 0,\n            includeBounds: tickOpts.includeBounds !== false\n        };\n        const dataRange = this._range || this;\n        const ticks = generateTicks$1(numericGeneratorOptions, dataRange);\n        if (opts.bounds === 'ticks') {\n            _setMinAndMaxByKey(ticks, this, 'value');\n        }\n        if (opts.reverse) {\n            ticks.reverse();\n            this.start = this.max;\n            this.end = this.min;\n        } else {\n            this.start = this.min;\n            this.end = this.max;\n        }\n        return ticks;\n    }\n configure() {\n        const ticks = this.ticks;\n        let start = this.min;\n        let end = this.max;\n        super.configure();\n        if (this.options.offset && ticks.length) {\n            const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n            start -= offset;\n            end += offset;\n        }\n        this._startValue = start;\n        this._endValue = end;\n        this._valueRange = end - start;\n    }\n    getLabelForValue(value) {\n        return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n    }\n}\n\nclass LinearScale extends LinearScaleBase {\n    static id = 'linear';\n static defaults = {\n        ticks: {\n            callback: Ticks.formatters.numeric\n        }\n    };\n    determineDataLimits() {\n        const { min , max  } = this.getMinMax(true);\n        this.min = isNumberFinite(min) ? min : 0;\n        this.max = isNumberFinite(max) ? max : 1;\n        this.handleTickRangeOptions();\n    }\n computeTickLimit() {\n        const horizontal = this.isHorizontal();\n        const length = horizontal ? this.width : this.height;\n        const minRotation = toRadians(this.options.ticks.minRotation);\n        const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n        const tickFont = this._resolveTickFontOptions(0);\n        return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n    }\n    getPixelForValue(value) {\n        return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n    }\n    getValueForPixel(pixel) {\n        return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n    }\n}\n\nconst log10Floor = (v)=>Math.floor(log10(v));\nconst changeExponent = (v, m)=>Math.pow(10, log10Floor(v) + m);\nfunction isMajor(tickVal) {\n    const remain = tickVal / Math.pow(10, log10Floor(tickVal));\n    return remain === 1;\n}\nfunction steps(min, max, rangeExp) {\n    const rangeStep = Math.pow(10, rangeExp);\n    const start = Math.floor(min / rangeStep);\n    const end = Math.ceil(max / rangeStep);\n    return end - start;\n}\nfunction startExp(min, max) {\n    const range = max - min;\n    let rangeExp = log10Floor(range);\n    while(steps(min, max, rangeExp) > 10){\n        rangeExp++;\n    }\n    while(steps(min, max, rangeExp) < 10){\n        rangeExp--;\n    }\n    return Math.min(rangeExp, log10Floor(min));\n}\n function generateTicks(generationOptions, { min , max  }) {\n    min = finiteOrDefault(generationOptions.min, min);\n    const ticks = [];\n    const minExp = log10Floor(min);\n    let exp = startExp(min, max);\n    let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n    const stepSize = Math.pow(10, exp);\n    const base = minExp > exp ? Math.pow(10, minExp) : 0;\n    const start = Math.round((min - base) * precision) / precision;\n    const offset = Math.floor((min - base) / stepSize / 10) * stepSize * 10;\n    let significand = Math.floor((start - offset) / Math.pow(10, exp));\n    let value = finiteOrDefault(generationOptions.min, Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision);\n    while(value < max){\n        ticks.push({\n            value,\n            major: isMajor(value),\n            significand\n        });\n        if (significand >= 10) {\n            significand = significand < 15 ? 15 : 20;\n        } else {\n            significand++;\n        }\n        if (significand >= 20) {\n            exp++;\n            significand = 2;\n            precision = exp >= 0 ? 1 : precision;\n        }\n        value = Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision;\n    }\n    const lastTick = finiteOrDefault(generationOptions.max, value);\n    ticks.push({\n        value: lastTick,\n        major: isMajor(lastTick),\n        significand\n    });\n    return ticks;\n}\nclass LogarithmicScale extends Scale {\n    static id = 'logarithmic';\n static defaults = {\n        ticks: {\n            callback: Ticks.formatters.logarithmic,\n            major: {\n                enabled: true\n            }\n        }\n    };\n    constructor(cfg){\n        super(cfg);\n         this.start = undefined;\n         this.end = undefined;\n         this._startValue = undefined;\n        this._valueRange = 0;\n    }\n    parse(raw, index) {\n        const value = LinearScaleBase.prototype.parse.apply(this, [\n            raw,\n            index\n        ]);\n        if (value === 0) {\n            this._zero = true;\n            return undefined;\n        }\n        return isNumberFinite(value) && value > 0 ? value : null;\n    }\n    determineDataLimits() {\n        const { min , max  } = this.getMinMax(true);\n        this.min = isNumberFinite(min) ? Math.max(0, min) : null;\n        this.max = isNumberFinite(max) ? Math.max(0, max) : null;\n        if (this.options.beginAtZero) {\n            this._zero = true;\n        }\n        if (this._zero && this.min !== this._suggestedMin && !isNumberFinite(this._userMin)) {\n            this.min = min === changeExponent(this.min, 0) ? changeExponent(this.min, -1) : changeExponent(this.min, 0);\n        }\n        this.handleTickRangeOptions();\n    }\n    handleTickRangeOptions() {\n        const { minDefined , maxDefined  } = this.getUserBounds();\n        let min = this.min;\n        let max = this.max;\n        const setMin = (v)=>min = minDefined ? min : v;\n        const setMax = (v)=>max = maxDefined ? max : v;\n        if (min === max) {\n            if (min <= 0) {\n                setMin(1);\n                setMax(10);\n            } else {\n                setMin(changeExponent(min, -1));\n                setMax(changeExponent(max, +1));\n            }\n        }\n        if (min <= 0) {\n            setMin(changeExponent(max, -1));\n        }\n        if (max <= 0) {\n            setMax(changeExponent(min, +1));\n        }\n        this.min = min;\n        this.max = max;\n    }\n    buildTicks() {\n        const opts = this.options;\n        const generationOptions = {\n            min: this._userMin,\n            max: this._userMax\n        };\n        const ticks = generateTicks(generationOptions, this);\n        if (opts.bounds === 'ticks') {\n            _setMinAndMaxByKey(ticks, this, 'value');\n        }\n        if (opts.reverse) {\n            ticks.reverse();\n            this.start = this.max;\n            this.end = this.min;\n        } else {\n            this.start = this.min;\n            this.end = this.max;\n        }\n        return ticks;\n    }\n getLabelForValue(value) {\n        return value === undefined ? '0' : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n    }\n configure() {\n        const start = this.min;\n        super.configure();\n        this._startValue = log10(start);\n        this._valueRange = log10(this.max) - log10(start);\n    }\n    getPixelForValue(value) {\n        if (value === undefined || value === 0) {\n            value = this.min;\n        }\n        if (value === null || isNaN(value)) {\n            return NaN;\n        }\n        return this.getPixelForDecimal(value === this.min ? 0 : (log10(value) - this._startValue) / this._valueRange);\n    }\n    getValueForPixel(pixel) {\n        const decimal = this.getDecimalForPixel(pixel);\n        return Math.pow(10, this._startValue + decimal * this._valueRange);\n    }\n}\n\nfunction getTickBackdropHeight(opts) {\n    const tickOpts = opts.ticks;\n    if (tickOpts.display && opts.display) {\n        const padding = toPadding(tickOpts.backdropPadding);\n        return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n    }\n    return 0;\n}\nfunction measureLabelSize(ctx, font, label) {\n    label = isArray(label) ? label : [\n        label\n    ];\n    return {\n        w: _longestText(ctx, font.string, label),\n        h: label.length * font.lineHeight\n    };\n}\nfunction determineLimits(angle, pos, size, min, max) {\n    if (angle === min || angle === max) {\n        return {\n            start: pos - size / 2,\n            end: pos + size / 2\n        };\n    } else if (angle < min || angle > max) {\n        return {\n            start: pos - size,\n            end: pos\n        };\n    }\n    return {\n        start: pos,\n        end: pos + size\n    };\n}\n function fitWithPointLabels(scale) {\n    const orig = {\n        l: scale.left + scale._padding.left,\n        r: scale.right - scale._padding.right,\n        t: scale.top + scale._padding.top,\n        b: scale.bottom - scale._padding.bottom\n    };\n    const limits = Object.assign({}, orig);\n    const labelSizes = [];\n    const padding = [];\n    const valueCount = scale._pointLabels.length;\n    const pointLabelOpts = scale.options.pointLabels;\n    const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\n    for(let i = 0; i < valueCount; i++){\n        const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\n        padding[i] = opts.padding;\n        const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\n        const plFont = toFont(opts.font);\n        const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n        labelSizes[i] = textSize;\n        const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\n        const angle = Math.round(toDegrees(angleRadians));\n        const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n        const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n        updateLimits(limits, orig, angleRadians, hLimits, vLimits);\n    }\n    scale.setCenterPoint(orig.l - limits.l, limits.r - orig.r, orig.t - limits.t, limits.b - orig.b);\n    scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\n    const sin = Math.abs(Math.sin(angle));\n    const cos = Math.abs(Math.cos(angle));\n    let x = 0;\n    let y = 0;\n    if (hLimits.start < orig.l) {\n        x = (orig.l - hLimits.start) / sin;\n        limits.l = Math.min(limits.l, orig.l - x);\n    } else if (hLimits.end > orig.r) {\n        x = (hLimits.end - orig.r) / sin;\n        limits.r = Math.max(limits.r, orig.r + x);\n    }\n    if (vLimits.start < orig.t) {\n        y = (orig.t - vLimits.start) / cos;\n        limits.t = Math.min(limits.t, orig.t - y);\n    } else if (vLimits.end > orig.b) {\n        y = (vLimits.end - orig.b) / cos;\n        limits.b = Math.max(limits.b, orig.b + y);\n    }\n}\nfunction createPointLabelItem(scale, index, itemOpts) {\n    const outerDistance = scale.drawingArea;\n    const { extra , additionalAngle , padding , size  } = itemOpts;\n    const pointLabelPosition = scale.getPointPosition(index, outerDistance + extra + padding, additionalAngle);\n    const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\n    const y = yForAngle(pointLabelPosition.y, size.h, angle);\n    const textAlign = getTextAlignForAngle(angle);\n    const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n    return {\n        visible: true,\n        x: pointLabelPosition.x,\n        y,\n        textAlign,\n        left,\n        top: y,\n        right: left + size.w,\n        bottom: y + size.h\n    };\n}\nfunction isNotOverlapped(item, area) {\n    if (!area) {\n        return true;\n    }\n    const { left , top , right , bottom  } = item;\n    const apexesInArea = _isPointInArea({\n        x: left,\n        y: top\n    }, area) || _isPointInArea({\n        x: left,\n        y: bottom\n    }, area) || _isPointInArea({\n        x: right,\n        y: top\n    }, area) || _isPointInArea({\n        x: right,\n        y: bottom\n    }, area);\n    return !apexesInArea;\n}\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n    const items = [];\n    const valueCount = scale._pointLabels.length;\n    const opts = scale.options;\n    const { centerPointLabels , display  } = opts.pointLabels;\n    const itemOpts = {\n        extra: getTickBackdropHeight(opts) / 2,\n        additionalAngle: centerPointLabels ? PI / valueCount : 0\n    };\n    let area;\n    for(let i = 0; i < valueCount; i++){\n        itemOpts.padding = padding[i];\n        itemOpts.size = labelSizes[i];\n        const item = createPointLabelItem(scale, i, itemOpts);\n        items.push(item);\n        if (display === 'auto') {\n            item.visible = isNotOverlapped(item, area);\n            if (item.visible) {\n                area = item;\n            }\n        }\n    }\n    return items;\n}\nfunction getTextAlignForAngle(angle) {\n    if (angle === 0 || angle === 180) {\n        return 'center';\n    } else if (angle < 180) {\n        return 'left';\n    }\n    return 'right';\n}\nfunction leftForTextAlign(x, w, align) {\n    if (align === 'right') {\n        x -= w;\n    } else if (align === 'center') {\n        x -= w / 2;\n    }\n    return x;\n}\nfunction yForAngle(y, h, angle) {\n    if (angle === 90 || angle === 270) {\n        y -= h / 2;\n    } else if (angle > 270 || angle < 90) {\n        y -= h;\n    }\n    return y;\n}\nfunction drawPointLabelBox(ctx, opts, item) {\n    const { left , top , right , bottom  } = item;\n    const { backdropColor  } = opts;\n    if (!isNullOrUndef(backdropColor)) {\n        const borderRadius = toTRBLCorners(opts.borderRadius);\n        const padding = toPadding(opts.backdropPadding);\n        ctx.fillStyle = backdropColor;\n        const backdropLeft = left - padding.left;\n        const backdropTop = top - padding.top;\n        const backdropWidth = right - left + padding.width;\n        const backdropHeight = bottom - top + padding.height;\n        if (Object.values(borderRadius).some((v)=>v !== 0)) {\n            ctx.beginPath();\n            addRoundedRectPath(ctx, {\n                x: backdropLeft,\n                y: backdropTop,\n                w: backdropWidth,\n                h: backdropHeight,\n                radius: borderRadius\n            });\n            ctx.fill();\n        } else {\n            ctx.fillRect(backdropLeft, backdropTop, backdropWidth, backdropHeight);\n        }\n    }\n}\nfunction drawPointLabels(scale, labelCount) {\n    const { ctx , options: { pointLabels  }  } = scale;\n    for(let i = labelCount - 1; i >= 0; i--){\n        const item = scale._pointLabelItems[i];\n        if (!item.visible) {\n            continue;\n        }\n        const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n        drawPointLabelBox(ctx, optsAtIndex, item);\n        const plFont = toFont(optsAtIndex.font);\n        const { x , y , textAlign  } = item;\n        renderText(ctx, scale._pointLabels[i], x, y + plFont.lineHeight / 2, plFont, {\n            color: optsAtIndex.color,\n            textAlign: textAlign,\n            textBaseline: 'middle'\n        });\n    }\n}\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n    const { ctx  } = scale;\n    if (circular) {\n        ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n    } else {\n        let pointPosition = scale.getPointPosition(0, radius);\n        ctx.moveTo(pointPosition.x, pointPosition.y);\n        for(let i = 1; i < labelCount; i++){\n            pointPosition = scale.getPointPosition(i, radius);\n            ctx.lineTo(pointPosition.x, pointPosition.y);\n        }\n    }\n}\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount, borderOpts) {\n    const ctx = scale.ctx;\n    const circular = gridLineOpts.circular;\n    const { color , lineWidth  } = gridLineOpts;\n    if (!circular && !labelCount || !color || !lineWidth || radius < 0) {\n        return;\n    }\n    ctx.save();\n    ctx.strokeStyle = color;\n    ctx.lineWidth = lineWidth;\n    ctx.setLineDash(borderOpts.dash || []);\n    ctx.lineDashOffset = borderOpts.dashOffset;\n    ctx.beginPath();\n    pathRadiusLine(scale, radius, circular, labelCount);\n    ctx.closePath();\n    ctx.stroke();\n    ctx.restore();\n}\nfunction createPointLabelContext(parent, index, label) {\n    return createContext(parent, {\n        label,\n        index,\n        type: 'pointLabel'\n    });\n}\nclass RadialLinearScale extends LinearScaleBase {\n    static id = 'radialLinear';\n static defaults = {\n        display: true,\n        animate: true,\n        position: 'chartArea',\n        angleLines: {\n            display: true,\n            lineWidth: 1,\n            borderDash: [],\n            borderDashOffset: 0.0\n        },\n        grid: {\n            circular: false\n        },\n        startAngle: 0,\n        ticks: {\n            showLabelBackdrop: true,\n            callback: Ticks.formatters.numeric\n        },\n        pointLabels: {\n            backdropColor: undefined,\n            backdropPadding: 2,\n            display: true,\n            font: {\n                size: 10\n            },\n            callback (label) {\n                return label;\n            },\n            padding: 5,\n            centerPointLabels: false\n        }\n    };\n    static defaultRoutes = {\n        'angleLines.color': 'borderColor',\n        'pointLabels.color': 'color',\n        'ticks.color': 'color'\n    };\n    static descriptors = {\n        angleLines: {\n            _fallback: 'grid'\n        }\n    };\n    constructor(cfg){\n        super(cfg);\n         this.xCenter = undefined;\n         this.yCenter = undefined;\n         this.drawingArea = undefined;\n         this._pointLabels = [];\n        this._pointLabelItems = [];\n    }\n    setDimensions() {\n        const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\n        const w = this.width = this.maxWidth - padding.width;\n        const h = this.height = this.maxHeight - padding.height;\n        this.xCenter = Math.floor(this.left + w / 2 + padding.left);\n        this.yCenter = Math.floor(this.top + h / 2 + padding.top);\n        this.drawingArea = Math.floor(Math.min(w, h) / 2);\n    }\n    determineDataLimits() {\n        const { min , max  } = this.getMinMax(false);\n        this.min = isNumberFinite(min) && !isNaN(min) ? min : 0;\n        this.max = isNumberFinite(max) && !isNaN(max) ? max : 0;\n        this.handleTickRangeOptions();\n    }\n computeTickLimit() {\n        return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n    }\n    generateTickLabels(ticks) {\n        LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n        this._pointLabels = this.getLabels().map((value, index)=>{\n            const label = callback(this.options.pointLabels.callback, [\n                value,\n                index\n            ], this);\n            return label || label === 0 ? label : '';\n        }).filter((v, i)=>this.chart.getDataVisibility(i));\n    }\n    fit() {\n        const opts = this.options;\n        if (opts.display && opts.pointLabels.display) {\n            fitWithPointLabels(this);\n        } else {\n            this.setCenterPoint(0, 0, 0, 0);\n        }\n    }\n    setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n        this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\n        this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\n        this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\n    }\n    getIndexAngle(index) {\n        const angleMultiplier = TAU / (this._pointLabels.length || 1);\n        const startAngle = this.options.startAngle || 0;\n        return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n    }\n    getDistanceFromCenterForValue(value) {\n        if (isNullOrUndef(value)) {\n            return NaN;\n        }\n        const scalingFactor = this.drawingArea / (this.max - this.min);\n        if (this.options.reverse) {\n            return (this.max - value) * scalingFactor;\n        }\n        return (value - this.min) * scalingFactor;\n    }\n    getValueForDistanceFromCenter(distance) {\n        if (isNullOrUndef(distance)) {\n            return NaN;\n        }\n        const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n        return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n    }\n    getPointLabelContext(index) {\n        const pointLabels = this._pointLabels || [];\n        if (index >= 0 && index < pointLabels.length) {\n            const pointLabel = pointLabels[index];\n            return createPointLabelContext(this.getContext(), index, pointLabel);\n        }\n    }\n    getPointPosition(index, distanceFromCenter, additionalAngle = 0) {\n        const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\n        return {\n            x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n            y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n            angle\n        };\n    }\n    getPointPositionForValue(index, value) {\n        return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n    }\n    getBasePosition(index) {\n        return this.getPointPositionForValue(index || 0, this.getBaseValue());\n    }\n    getPointLabelPosition(index) {\n        const { left , top , right , bottom  } = this._pointLabelItems[index];\n        return {\n            left,\n            top,\n            right,\n            bottom\n        };\n    }\n drawBackground() {\n        const { backgroundColor , grid: { circular  }  } = this.options;\n        if (backgroundColor) {\n            const ctx = this.ctx;\n            ctx.save();\n            ctx.beginPath();\n            pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\n            ctx.closePath();\n            ctx.fillStyle = backgroundColor;\n            ctx.fill();\n            ctx.restore();\n        }\n    }\n drawGrid() {\n        const ctx = this.ctx;\n        const opts = this.options;\n        const { angleLines , grid , border  } = opts;\n        const labelCount = this._pointLabels.length;\n        let i, offset, position;\n        if (opts.pointLabels.display) {\n            drawPointLabels(this, labelCount);\n        }\n        if (grid.display) {\n            this.ticks.forEach((tick, index)=>{\n                if (index !== 0 || index === 0 && this.min < 0) {\n                    offset = this.getDistanceFromCenterForValue(tick.value);\n                    const context = this.getContext(index);\n                    const optsAtIndex = grid.setContext(context);\n                    const optsAtIndexBorder = border.setContext(context);\n                    drawRadiusLine(this, optsAtIndex, offset, labelCount, optsAtIndexBorder);\n                }\n            });\n        }\n        if (angleLines.display) {\n            ctx.save();\n            for(i = labelCount - 1; i >= 0; i--){\n                const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n                const { color , lineWidth  } = optsAtIndex;\n                if (!lineWidth || !color) {\n                    continue;\n                }\n                ctx.lineWidth = lineWidth;\n                ctx.strokeStyle = color;\n                ctx.setLineDash(optsAtIndex.borderDash);\n                ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n                offset = this.getDistanceFromCenterForValue(opts.reverse ? this.min : this.max);\n                position = this.getPointPosition(i, offset);\n                ctx.beginPath();\n                ctx.moveTo(this.xCenter, this.yCenter);\n                ctx.lineTo(position.x, position.y);\n                ctx.stroke();\n            }\n            ctx.restore();\n        }\n    }\n drawBorder() {}\n drawLabels() {\n        const ctx = this.ctx;\n        const opts = this.options;\n        const tickOpts = opts.ticks;\n        if (!tickOpts.display) {\n            return;\n        }\n        const startAngle = this.getIndexAngle(0);\n        let offset, width;\n        ctx.save();\n        ctx.translate(this.xCenter, this.yCenter);\n        ctx.rotate(startAngle);\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'middle';\n        this.ticks.forEach((tick, index)=>{\n            if (index === 0 && this.min >= 0 && !opts.reverse) {\n                return;\n            }\n            const optsAtIndex = tickOpts.setContext(this.getContext(index));\n            const tickFont = toFont(optsAtIndex.font);\n            offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n            if (optsAtIndex.showLabelBackdrop) {\n                ctx.font = tickFont.string;\n                width = ctx.measureText(tick.label).width;\n                ctx.fillStyle = optsAtIndex.backdropColor;\n                const padding = toPadding(optsAtIndex.backdropPadding);\n                ctx.fillRect(-width / 2 - padding.left, -offset - tickFont.size / 2 - padding.top, width + padding.width, tickFont.size + padding.height);\n            }\n            renderText(ctx, tick.label, 0, -offset, tickFont, {\n                color: optsAtIndex.color,\n                strokeColor: optsAtIndex.textStrokeColor,\n                strokeWidth: optsAtIndex.textStrokeWidth\n            });\n        });\n        ctx.restore();\n    }\n drawTitle() {}\n}\n\nconst INTERVALS = {\n    millisecond: {\n        common: true,\n        size: 1,\n        steps: 1000\n    },\n    second: {\n        common: true,\n        size: 1000,\n        steps: 60\n    },\n    minute: {\n        common: true,\n        size: 60000,\n        steps: 60\n    },\n    hour: {\n        common: true,\n        size: 3600000,\n        steps: 24\n    },\n    day: {\n        common: true,\n        size: 86400000,\n        steps: 30\n    },\n    week: {\n        common: false,\n        size: 604800000,\n        steps: 4\n    },\n    month: {\n        common: true,\n        size: 2.628e9,\n        steps: 12\n    },\n    quarter: {\n        common: false,\n        size: 7.884e9,\n        steps: 4\n    },\n    year: {\n        common: true,\n        size: 3.154e10\n    }\n};\n const UNITS =  /* #__PURE__ */ Object.keys(INTERVALS);\n function sorter(a, b) {\n    return a - b;\n}\n function parse(scale, input) {\n    if (isNullOrUndef(input)) {\n        return null;\n    }\n    const adapter = scale._adapter;\n    const { parser , round , isoWeekday  } = scale._parseOpts;\n    let value = input;\n    if (typeof parser === 'function') {\n        value = parser(value);\n    }\n    if (!isNumberFinite(value)) {\n        value = typeof parser === 'string' ? adapter.parse(value, parser) : adapter.parse(value);\n    }\n    if (value === null) {\n        return null;\n    }\n    if (round) {\n        value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true) ? adapter.startOf(value, 'isoWeek', isoWeekday) : adapter.startOf(value, round);\n    }\n    return +value;\n}\n function determineUnitForAutoTicks(minUnit, min, max, capacity) {\n    const ilen = UNITS.length;\n    for(let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i){\n        const interval = INTERVALS[UNITS[i]];\n        const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n        if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n            return UNITS[i];\n        }\n    }\n    return UNITS[ilen - 1];\n}\n function determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n    for(let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--){\n        const unit = UNITS[i];\n        if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n            return unit;\n        }\n    }\n    return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\n function determineMajorUnit(unit) {\n    for(let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i){\n        if (INTERVALS[UNITS[i]].common) {\n            return UNITS[i];\n        }\n    }\n}\n function addTick(ticks, time, timestamps) {\n    if (!timestamps) {\n        ticks[time] = true;\n    } else if (timestamps.length) {\n        const { lo , hi  } = _lookup(timestamps, time);\n        const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n        ticks[timestamp] = true;\n    }\n}\n function setMajorTicks(scale, ticks, map, majorUnit) {\n    const adapter = scale._adapter;\n    const first = +adapter.startOf(ticks[0].value, majorUnit);\n    const last = ticks[ticks.length - 1].value;\n    let major, index;\n    for(major = first; major <= last; major = +adapter.add(major, 1, majorUnit)){\n        index = map[major];\n        if (index >= 0) {\n            ticks[index].major = true;\n        }\n    }\n    return ticks;\n}\n function ticksFromTimestamps(scale, values, majorUnit) {\n    const ticks = [];\n     const map = {};\n    const ilen = values.length;\n    let i, value;\n    for(i = 0; i < ilen; ++i){\n        value = values[i];\n        map[value] = i;\n        ticks.push({\n            value,\n            major: false\n        });\n    }\n    return ilen === 0 || !majorUnit ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\nclass TimeScale extends Scale {\n    static id = 'time';\n static defaults = {\n bounds: 'data',\n        adapters: {},\n        time: {\n            parser: false,\n            unit: false,\n            round: false,\n            isoWeekday: false,\n            minUnit: 'millisecond',\n            displayFormats: {}\n        },\n        ticks: {\n source: 'auto',\n            callback: false,\n            major: {\n                enabled: false\n            }\n        }\n    };\n constructor(props){\n        super(props);\n         this._cache = {\n            data: [],\n            labels: [],\n            all: []\n        };\n         this._unit = 'day';\n         this._majorUnit = undefined;\n        this._offsets = {};\n        this._normalized = false;\n        this._parseOpts = undefined;\n    }\n    init(scaleOpts, opts = {}) {\n        const time = scaleOpts.time || (scaleOpts.time = {});\n         const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n        adapter.init(opts);\n        mergeIf(time.displayFormats, adapter.formats());\n        this._parseOpts = {\n            parser: time.parser,\n            round: time.round,\n            isoWeekday: time.isoWeekday\n        };\n        super.init(scaleOpts);\n        this._normalized = opts.normalized;\n    }\n parse(raw, index) {\n        if (raw === undefined) {\n            return null;\n        }\n        return parse(this, raw);\n    }\n    beforeLayout() {\n        super.beforeLayout();\n        this._cache = {\n            data: [],\n            labels: [],\n            all: []\n        };\n    }\n    determineDataLimits() {\n        const options = this.options;\n        const adapter = this._adapter;\n        const unit = options.time.unit || 'day';\n        let { min , max , minDefined , maxDefined  } = this.getUserBounds();\n function _applyBounds(bounds) {\n            if (!minDefined && !isNaN(bounds.min)) {\n                min = Math.min(min, bounds.min);\n            }\n            if (!maxDefined && !isNaN(bounds.max)) {\n                max = Math.max(max, bounds.max);\n            }\n        }\n        if (!minDefined || !maxDefined) {\n            _applyBounds(this._getLabelBounds());\n            if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n                _applyBounds(this.getMinMax(false));\n            }\n        }\n        min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n        max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n        this.min = Math.min(min, max - 1);\n        this.max = Math.max(min + 1, max);\n    }\n _getLabelBounds() {\n        const arr = this.getLabelTimestamps();\n        let min = Number.POSITIVE_INFINITY;\n        let max = Number.NEGATIVE_INFINITY;\n        if (arr.length) {\n            min = arr[0];\n            max = arr[arr.length - 1];\n        }\n        return {\n            min,\n            max\n        };\n    }\n buildTicks() {\n        const options = this.options;\n        const timeOpts = options.time;\n        const tickOpts = options.ticks;\n        const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n        if (options.bounds === 'ticks' && timestamps.length) {\n            this.min = this._userMin || timestamps[0];\n            this.max = this._userMax || timestamps[timestamps.length - 1];\n        }\n        const min = this.min;\n        const max = this.max;\n        const ticks = _filterBetween(timestamps, min, max);\n        this._unit = timeOpts.unit || (tickOpts.autoSkip ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min)) : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n        this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined : determineMajorUnit(this._unit);\n        this.initOffsets(timestamps);\n        if (options.reverse) {\n            ticks.reverse();\n        }\n        return ticksFromTimestamps(this, ticks, this._majorUnit);\n    }\n    afterAutoSkip() {\n        if (this.options.offsetAfterAutoskip) {\n            this.initOffsets(this.ticks.map((tick)=>+tick.value));\n        }\n    }\n initOffsets(timestamps = []) {\n        let start = 0;\n        let end = 0;\n        let first, last;\n        if (this.options.offset && timestamps.length) {\n            first = this.getDecimalForValue(timestamps[0]);\n            if (timestamps.length === 1) {\n                start = 1 - first;\n            } else {\n                start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n            }\n            last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n            if (timestamps.length === 1) {\n                end = last;\n            } else {\n                end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n            }\n        }\n        const limit = timestamps.length < 3 ? 0.5 : 0.25;\n        start = _limitValue(start, 0, limit);\n        end = _limitValue(end, 0, limit);\n        this._offsets = {\n            start,\n            end,\n            factor: 1 / (start + 1 + end)\n        };\n    }\n _generate() {\n        const adapter = this._adapter;\n        const min = this.min;\n        const max = this.max;\n        const options = this.options;\n        const timeOpts = options.time;\n        const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n        const stepSize = valueOrDefault(options.ticks.stepSize, 1);\n        const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n        const hasWeekday = isNumber(weekday) || weekday === true;\n        const ticks = {};\n        let first = min;\n        let time, count;\n        if (hasWeekday) {\n            first = +adapter.startOf(first, 'isoWeek', weekday);\n        }\n        first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n        if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n            throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n        }\n        const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n        for(time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++){\n            addTick(ticks, time, timestamps);\n        }\n        if (time === max || options.bounds === 'ticks' || count === 1) {\n            addTick(ticks, time, timestamps);\n        }\n        return Object.keys(ticks).sort(sorter).map((x)=>+x);\n    }\n getLabelForValue(value) {\n        const adapter = this._adapter;\n        const timeOpts = this.options.time;\n        if (timeOpts.tooltipFormat) {\n            return adapter.format(value, timeOpts.tooltipFormat);\n        }\n        return adapter.format(value, timeOpts.displayFormats.datetime);\n    }\n format(value, format) {\n        const options = this.options;\n        const formats = options.time.displayFormats;\n        const unit = this._unit;\n        const fmt = format || formats[unit];\n        return this._adapter.format(value, fmt);\n    }\n _tickFormatFunction(time, index, ticks, format) {\n        const options = this.options;\n        const formatter = options.ticks.callback;\n        if (formatter) {\n            return callback(formatter, [\n                time,\n                index,\n                ticks\n            ], this);\n        }\n        const formats = options.time.displayFormats;\n        const unit = this._unit;\n        const majorUnit = this._majorUnit;\n        const minorFormat = unit && formats[unit];\n        const majorFormat = majorUnit && formats[majorUnit];\n        const tick = ticks[index];\n        const major = majorUnit && majorFormat && tick && tick.major;\n        return this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n    }\n generateTickLabels(ticks) {\n        let i, ilen, tick;\n        for(i = 0, ilen = ticks.length; i < ilen; ++i){\n            tick = ticks[i];\n            tick.label = this._tickFormatFunction(tick.value, i, ticks);\n        }\n    }\n getDecimalForValue(value) {\n        return value === null ? NaN : (value - this.min) / (this.max - this.min);\n    }\n getPixelForValue(value) {\n        const offsets = this._offsets;\n        const pos = this.getDecimalForValue(value);\n        return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n    }\n getValueForPixel(pixel) {\n        const offsets = this._offsets;\n        const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n        return this.min + pos * (this.max - this.min);\n    }\n _getLabelSize(label) {\n        const ticksOpts = this.options.ticks;\n        const tickLabelWidth = this.ctx.measureText(label).width;\n        const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n        const cosRotation = Math.cos(angle);\n        const sinRotation = Math.sin(angle);\n        const tickFontSize = this._resolveTickFontOptions(0).size;\n        return {\n            w: tickLabelWidth * cosRotation + tickFontSize * sinRotation,\n            h: tickLabelWidth * sinRotation + tickFontSize * cosRotation\n        };\n    }\n _getLabelCapacity(exampleTime) {\n        const timeOpts = this.options.time;\n        const displayFormats = timeOpts.displayFormats;\n        const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n        const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [\n            exampleTime\n        ], this._majorUnit), format);\n        const size = this._getLabelSize(exampleLabel);\n        const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n        return capacity > 0 ? capacity : 1;\n    }\n getDataTimestamps() {\n        let timestamps = this._cache.data || [];\n        let i, ilen;\n        if (timestamps.length) {\n            return timestamps;\n        }\n        const metas = this.getMatchingVisibleMetas();\n        if (this._normalized && metas.length) {\n            return this._cache.data = metas[0].controller.getAllParsedValues(this);\n        }\n        for(i = 0, ilen = metas.length; i < ilen; ++i){\n            timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n        }\n        return this._cache.data = this.normalize(timestamps);\n    }\n getLabelTimestamps() {\n        const timestamps = this._cache.labels || [];\n        let i, ilen;\n        if (timestamps.length) {\n            return timestamps;\n        }\n        const labels = this.getLabels();\n        for(i = 0, ilen = labels.length; i < ilen; ++i){\n            timestamps.push(parse(this, labels[i]));\n        }\n        return this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps);\n    }\n normalize(values) {\n        return _arrayUnique(values.sort(sorter));\n    }\n}\n\nfunction interpolate(table, val, reverse) {\n    let lo = 0;\n    let hi = table.length - 1;\n    let prevSource, nextSource, prevTarget, nextTarget;\n    if (reverse) {\n        if (val >= table[lo].pos && val <= table[hi].pos) {\n            ({ lo , hi  } = _lookupByKey(table, 'pos', val));\n        }\n        ({ pos: prevSource , time: prevTarget  } = table[lo]);\n        ({ pos: nextSource , time: nextTarget  } = table[hi]);\n    } else {\n        if (val >= table[lo].time && val <= table[hi].time) {\n            ({ lo , hi  } = _lookupByKey(table, 'time', val));\n        }\n        ({ time: prevSource , pos: prevTarget  } = table[lo]);\n        ({ time: nextSource , pos: nextTarget  } = table[hi]);\n    }\n    const span = nextSource - prevSource;\n    return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\nclass TimeSeriesScale extends TimeScale {\n    static id = 'timeseries';\n static defaults = TimeScale.defaults;\n constructor(props){\n        super(props);\n         this._table = [];\n         this._minPos = undefined;\n         this._tableRange = undefined;\n    }\n initOffsets() {\n        const timestamps = this._getTimestampsForTable();\n        const table = this._table = this.buildLookupTable(timestamps);\n        this._minPos = interpolate(table, this.min);\n        this._tableRange = interpolate(table, this.max) - this._minPos;\n        super.initOffsets(timestamps);\n    }\n buildLookupTable(timestamps) {\n        const { min , max  } = this;\n        const items = [];\n        const table = [];\n        let i, ilen, prev, curr, next;\n        for(i = 0, ilen = timestamps.length; i < ilen; ++i){\n            curr = timestamps[i];\n            if (curr >= min && curr <= max) {\n                items.push(curr);\n            }\n        }\n        if (items.length < 2) {\n            return [\n                {\n                    time: min,\n                    pos: 0\n                },\n                {\n                    time: max,\n                    pos: 1\n                }\n            ];\n        }\n        for(i = 0, ilen = items.length; i < ilen; ++i){\n            next = items[i + 1];\n            prev = items[i - 1];\n            curr = items[i];\n            if (Math.round((next + prev) / 2) !== curr) {\n                table.push({\n                    time: curr,\n                    pos: i / (ilen - 1)\n                });\n            }\n        }\n        return table;\n    }\n _generate() {\n        const min = this.min;\n        const max = this.max;\n        let timestamps = super.getDataTimestamps();\n        if (!timestamps.includes(min) || !timestamps.length) {\n            timestamps.splice(0, 0, min);\n        }\n        if (!timestamps.includes(max) || timestamps.length === 1) {\n            timestamps.push(max);\n        }\n        return timestamps.sort((a, b)=>a - b);\n    }\n _getTimestampsForTable() {\n        let timestamps = this._cache.all || [];\n        if (timestamps.length) {\n            return timestamps;\n        }\n        const data = this.getDataTimestamps();\n        const label = this.getLabelTimestamps();\n        if (data.length && label.length) {\n            timestamps = this.normalize(data.concat(label));\n        } else {\n            timestamps = data.length ? data : label;\n        }\n        timestamps = this._cache.all = timestamps;\n        return timestamps;\n    }\n getDecimalForValue(value) {\n        return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n    }\n getValueForPixel(pixel) {\n        const offsets = this._offsets;\n        const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n        return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n    }\n}\n\nvar scales = /*#__PURE__*/Object.freeze({\n__proto__: null,\nCategoryScale: CategoryScale,\nLinearScale: LinearScale,\nLogarithmicScale: LogarithmicScale,\nRadialLinearScale: RadialLinearScale,\nTimeScale: TimeScale,\nTimeSeriesScale: TimeSeriesScale\n});\n\nconst registerables = [\n    controllers,\n    elements,\n    plugins,\n    scales\n];\n\nexport { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, plugin_colors as Colors, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, index as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, plugin_subtitle as SubTitle, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, _detectPlatform, animator, controllers, defaults, elements, layouts, plugins, registerables, registry, scales };\n//# sourceMappingURL=chart.js.map\n","/*!\n * chartjs-adapter-luxon v1.3.1\n * https://www.chartjs.org\n * (c) 2023 chartjs-adapter-luxon Contributors\n * Released under the MIT license\n */\nimport { _adapters } from 'chart.js';\nimport { DateTime } from 'luxon';\n\nconst FORMATS = {\n  datetime: DateTime.DATETIME_MED_WITH_SECONDS,\n  millisecond: 'h:mm:ss.SSS a',\n  second: DateTime.TIME_WITH_SECONDS,\n  minute: DateTime.TIME_SIMPLE,\n  hour: {hour: 'numeric'},\n  day: {day: 'numeric', month: 'short'},\n  week: 'DD',\n  month: {month: 'short', year: 'numeric'},\n  quarter: \"'Q'q - yyyy\",\n  year: {year: 'numeric'}\n};\n\n_adapters._date.override({\n  _id: 'luxon', // DEBUG\n\n  /**\n   * @private\n   */\n  _create: function(time) {\n    return DateTime.fromMillis(time, this.options);\n  },\n\n  init(chartOptions) {\n    if (!this.options.locale) {\n      this.options.locale = chartOptions.locale;\n    }\n  },\n\n  formats: function() {\n    return FORMATS;\n  },\n\n  parse: function(value, format) {\n    const options = this.options;\n\n    const type = typeof value;\n    if (value === null || type === 'undefined') {\n      return null;\n    }\n\n    if (type === 'number') {\n      value = this._create(value);\n    } else if (type === 'string') {\n      if (typeof format === 'string') {\n        value = DateTime.fromFormat(value, format, options);\n      } else {\n        value = DateTime.fromISO(value, options);\n      }\n    } else if (value instanceof Date) {\n      value = DateTime.fromJSDate(value, options);\n    } else if (type === 'object' && !(value instanceof DateTime)) {\n      value = DateTime.fromObject(value, options);\n    }\n\n    return value.isValid ? value.valueOf() : null;\n  },\n\n  format: function(time, format) {\n    const datetime = this._create(time);\n    return typeof format === 'string'\n      ? datetime.toFormat(format)\n      : datetime.toLocaleString(format);\n  },\n\n  add: function(time, amount, unit) {\n    const args = {};\n    args[unit] = amount;\n    return this._create(time).plus(args).valueOf();\n  },\n\n  diff: function(max, min, unit) {\n    return this._create(max).diff(this._create(min)).as(unit).valueOf();\n  },\n\n  startOf: function(time, unit, weekday) {\n    if (unit === 'isoWeek') {\n      weekday = Math.trunc(Math.min(Math.max(0, weekday), 6));\n      const dateTime = this._create(time);\n      return dateTime.minus({days: (dateTime.weekday - weekday + 7) % 7}).startOf('day').valueOf();\n    }\n    return unit ? this._create(time).startOf(unit).valueOf() : time;\n  },\n\n  endOf: function(time, unit) {\n    return this._create(time).endOf(unit).valueOf();\n  }\n});\n","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n","/*!\n* chartjs-plugin-zoom v2.2.0\n* https://www.chartjs.org/chartjs-plugin-zoom/2.2.0/\n * (c) 2016-2024 chartjs-plugin-zoom Contributors\n * Released under the MIT License\n */\nimport Hammer from 'hammerjs';\nimport { each, valueOrDefault, almostEquals, callback, sign, getRelativePosition, _isPointInArea } from 'chart.js/helpers';\n\nconst getModifierKey = opts => opts && opts.enabled && opts.modifierKey;\nconst keyPressed = (key, event) => key && event[key + 'Key'];\nconst keyNotPressed = (key, event) => key && !event[key + 'Key'];\nfunction directionEnabled(mode, dir, chart) {\n  if (mode === undefined) {\n    return true;\n  } else if (typeof mode === 'string') {\n    return mode.indexOf(dir) !== -1;\n  } else if (typeof mode === 'function') {\n    return mode({chart}).indexOf(dir) !== -1;\n  }\n  return false;\n}\nfunction directionsEnabled(mode, chart) {\n  if (typeof mode === 'function') {\n    mode = mode({chart});\n  }\n  if (typeof mode === 'string') {\n    return {x: mode.indexOf('x') !== -1, y: mode.indexOf('y') !== -1};\n  }\n  return {x: false, y: false};\n}\nfunction debounce(fn, delay) {\n  let timeout;\n  return function() {\n    clearTimeout(timeout);\n    timeout = setTimeout(fn, delay);\n    return delay;\n  };\n}\nfunction getScaleUnderPoint({x, y}, chart) {\n  const scales = chart.scales;\n  const scaleIds = Object.keys(scales);\n  for (let i = 0; i < scaleIds.length; i++) {\n    const scale = scales[scaleIds[i]];\n    if (y >= scale.top && y <= scale.bottom && x >= scale.left && x <= scale.right) {\n      return scale;\n    }\n  }\n  return null;\n}\nfunction getEnabledScalesByPoint(options, point, chart) {\n  const {mode = 'xy', scaleMode, overScaleMode} = options || {};\n  const scale = getScaleUnderPoint(point, chart);\n  const enabled = directionsEnabled(mode, chart);\n  const scaleEnabled = directionsEnabled(scaleMode, chart);\n  if (overScaleMode) {\n    const overScaleEnabled = directionsEnabled(overScaleMode, chart);\n    for (const axis of ['x', 'y']) {\n      if (overScaleEnabled[axis]) {\n        scaleEnabled[axis] = enabled[axis];\n        enabled[axis] = false;\n      }\n    }\n  }\n  if (scale && scaleEnabled[scale.axis]) {\n    return [scale];\n  }\n  const enabledScales = [];\n  each(chart.scales, function(scaleItem) {\n    if (enabled[scaleItem.axis]) {\n      enabledScales.push(scaleItem);\n    }\n  });\n  return enabledScales;\n}\n\nconst chartStates = new WeakMap();\nfunction getState(chart) {\n  let state = chartStates.get(chart);\n  if (!state) {\n    state = {\n      originalScaleLimits: {},\n      updatedScaleLimits: {},\n      handlers: {},\n      panDelta: {},\n      dragging: false,\n      panning: false\n    };\n    chartStates.set(chart, state);\n  }\n  return state;\n}\nfunction removeState(chart) {\n  chartStates.delete(chart);\n}\n\nfunction zoomDelta(val, min, range, newRange) {\n  const minPercent = Math.max(0, Math.min(1, (val - min) / range || 0));\n  const maxPercent = 1 - minPercent;\n  return {\n    min: newRange * minPercent,\n    max: newRange * maxPercent\n  };\n}\nfunction getValueAtPoint(scale, point) {\n  const pixel = scale.isHorizontal() ? point.x : point.y;\n  return scale.getValueForPixel(pixel);\n}\nfunction linearZoomDelta(scale, zoom, center) {\n  const range = scale.max - scale.min;\n  const newRange = range * (zoom - 1);\n  const centerValue = getValueAtPoint(scale, center);\n  return zoomDelta(centerValue, scale.min, range, newRange);\n}\nfunction logarithmicZoomRange(scale, zoom, center) {\n  const centerValue = getValueAtPoint(scale, center);\n  if (centerValue === undefined) {\n    return {min: scale.min, max: scale.max};\n  }\n  const logMin = Math.log10(scale.min);\n  const logMax = Math.log10(scale.max);\n  const logCenter = Math.log10(centerValue);\n  const logRange = logMax - logMin;\n  const newLogRange = logRange * (zoom - 1);\n  const delta = zoomDelta(logCenter, logMin, logRange, newLogRange);\n  return {\n    min: Math.pow(10, logMin + delta.min),\n    max: Math.pow(10, logMax - delta.max),\n  };\n}\nfunction getScaleLimits(scale, limits) {\n  return limits && (limits[scale.id] || limits[scale.axis]) || {};\n}\nfunction getLimit(state, scale, scaleLimits, prop, fallback) {\n  let limit = scaleLimits[prop];\n  if (limit === 'original') {\n    const original = state.originalScaleLimits[scale.id][prop];\n    limit = valueOrDefault(original.options, original.scale);\n  }\n  return valueOrDefault(limit, fallback);\n}\nfunction linearRange(scale, pixel0, pixel1) {\n  const v0 = scale.getValueForPixel(pixel0);\n  const v1 = scale.getValueForPixel(pixel1);\n  return {\n    min: Math.min(v0, v1),\n    max: Math.max(v0, v1)\n  };\n}\nfunction fixRange(range, {min, max, minLimit, maxLimit}, originalLimits) {\n  const offset = (range - max + min) / 2;\n  min -= offset;\n  max += offset;\n  const origMin = originalLimits.min.options ?? originalLimits.min.scale;\n  const origMax = originalLimits.max.options ?? originalLimits.max.scale;\n  const epsilon = range / 1e6;\n  if (almostEquals(min, origMin, epsilon)) {\n    min = origMin;\n  }\n  if (almostEquals(max, origMax, epsilon)) {\n    max = origMax;\n  }\n  if (min < minLimit) {\n    min = minLimit;\n    max = Math.min(minLimit + range, maxLimit);\n  } else if (max > maxLimit) {\n    max = maxLimit;\n    min = Math.max(maxLimit - range, minLimit);\n  }\n  return {min, max};\n}\nfunction updateRange(scale, {min, max}, limits, zoom = false) {\n  const state = getState(scale.chart);\n  const {options: scaleOpts} = scale;\n  const scaleLimits = getScaleLimits(scale, limits);\n  const {minRange = 0} = scaleLimits;\n  const minLimit = getLimit(state, scale, scaleLimits, 'min', -Infinity);\n  const maxLimit = getLimit(state, scale, scaleLimits, 'max', Infinity);\n  if (zoom === 'pan' && (min < minLimit || max > maxLimit)) {\n    return true;\n  }\n  const scaleRange = scale.max - scale.min;\n  const range = zoom ? Math.max(max - min, minRange) : scaleRange;\n  if (zoom && range === minRange && scaleRange <= minRange) {\n    return true;\n  }\n  const newRange = fixRange(range, {min, max, minLimit, maxLimit}, state.originalScaleLimits[scale.id]);\n  scaleOpts.min = newRange.min;\n  scaleOpts.max = newRange.max;\n  state.updatedScaleLimits[scale.id] = newRange;\n  return scale.parse(newRange.min) !== scale.min || scale.parse(newRange.max) !== scale.max;\n}\nfunction zoomNumericalScale(scale, zoom, center, limits) {\n  const delta = linearZoomDelta(scale, zoom, center);\n  const newRange = {min: scale.min + delta.min, max: scale.max - delta.max};\n  return updateRange(scale, newRange, limits, true);\n}\nfunction zoomLogarithmicScale(scale, zoom, center, limits) {\n  const newRange = logarithmicZoomRange(scale, zoom, center);\n  return updateRange(scale, newRange, limits, true);\n}\nfunction zoomRectNumericalScale(scale, from, to, limits) {\n  updateRange(scale, linearRange(scale, from, to), limits, true);\n}\nconst integerChange = (v) => v === 0 || isNaN(v) ? 0 : v < 0 ? Math.min(Math.round(v), -1) : Math.max(Math.round(v), 1);\nfunction existCategoryFromMaxZoom(scale) {\n  const labels = scale.getLabels();\n  const maxIndex = labels.length - 1;\n  if (scale.min > 0) {\n    scale.min -= 1;\n  }\n  if (scale.max < maxIndex) {\n    scale.max += 1;\n  }\n}\nfunction zoomCategoryScale(scale, zoom, center, limits) {\n  const delta = linearZoomDelta(scale, zoom, center);\n  if (scale.min === scale.max && zoom < 1) {\n    existCategoryFromMaxZoom(scale);\n  }\n  const newRange = {min: scale.min + integerChange(delta.min), max: scale.max - integerChange(delta.max)};\n  return updateRange(scale, newRange, limits, true);\n}\nfunction scaleLength(scale) {\n  return scale.isHorizontal() ? scale.width : scale.height;\n}\nfunction panCategoryScale(scale, delta, limits) {\n  const labels = scale.getLabels();\n  const lastLabelIndex = labels.length - 1;\n  let {min, max} = scale;\n  const range = Math.max(max - min, 1);\n  const stepDelta = Math.round(scaleLength(scale) / Math.max(range, 10));\n  const stepSize = Math.round(Math.abs(delta / stepDelta));\n  let applied;\n  if (delta < -stepDelta) {\n    max = Math.min(max + stepSize, lastLabelIndex);\n    min = range === 1 ? max : max - range;\n    applied = max === lastLabelIndex;\n  } else if (delta > stepDelta) {\n    min = Math.max(0, min - stepSize);\n    max = range === 1 ? min : min + range;\n    applied = min === 0;\n  }\n  return updateRange(scale, {min, max}, limits) || applied;\n}\nconst OFFSETS = {\n  second: 500,\n  minute: 30 * 1000,\n  hour: 30 * 60 * 1000,\n  day: 12 * 60 * 60 * 1000,\n  week: 3.5 * 24 * 60 * 60 * 1000,\n  month: 15 * 24 * 60 * 60 * 1000,\n  quarter: 60 * 24 * 60 * 60 * 1000,\n  year: 182 * 24 * 60 * 60 * 1000\n};\nfunction panNumericalScale(scale, delta, limits, pan = false) {\n  const {min: prevStart, max: prevEnd, options} = scale;\n  const round = options.time && options.time.round;\n  const offset = OFFSETS[round] || 0;\n  const newMin = scale.getValueForPixel(scale.getPixelForValue(prevStart + offset) - delta);\n  const newMax = scale.getValueForPixel(scale.getPixelForValue(prevEnd + offset) - delta);\n  if (isNaN(newMin) || isNaN(newMax)) {\n    return true;\n  }\n  return updateRange(scale, {min: newMin, max: newMax}, limits, pan ? 'pan' : false);\n}\nfunction panNonLinearScale(scale, delta, limits) {\n  return panNumericalScale(scale, delta, limits, true);\n}\nconst zoomFunctions = {\n  category: zoomCategoryScale,\n  default: zoomNumericalScale,\n  logarithmic: zoomLogarithmicScale,\n};\nconst zoomRectFunctions = {\n  default: zoomRectNumericalScale,\n};\nconst panFunctions = {\n  category: panCategoryScale,\n  default: panNumericalScale,\n  logarithmic: panNonLinearScale,\n  timeseries: panNonLinearScale,\n};\n\nfunction shouldUpdateScaleLimits(scale, originalScaleLimits, updatedScaleLimits) {\n  const {id, options: {min, max}} = scale;\n  if (!originalScaleLimits[id] || !updatedScaleLimits[id]) {\n    return true;\n  }\n  const previous = updatedScaleLimits[id];\n  return previous.min !== min || previous.max !== max;\n}\nfunction removeMissingScales(limits, scales) {\n  each(limits, (opt, key) => {\n    if (!scales[key]) {\n      delete limits[key];\n    }\n  });\n}\nfunction storeOriginalScaleLimits(chart, state) {\n  const {scales} = chart;\n  const {originalScaleLimits, updatedScaleLimits} = state;\n  each(scales, function(scale) {\n    if (shouldUpdateScaleLimits(scale, originalScaleLimits, updatedScaleLimits)) {\n      originalScaleLimits[scale.id] = {\n        min: {scale: scale.min, options: scale.options.min},\n        max: {scale: scale.max, options: scale.options.max},\n      };\n    }\n  });\n  removeMissingScales(originalScaleLimits, scales);\n  removeMissingScales(updatedScaleLimits, scales);\n  return originalScaleLimits;\n}\nfunction doZoom(scale, amount, center, limits) {\n  const fn = zoomFunctions[scale.type] || zoomFunctions.default;\n  callback(fn, [scale, amount, center, limits]);\n}\nfunction doZoomRect(scale, from, to, limits) {\n  const fn = zoomRectFunctions[scale.type] || zoomRectFunctions.default;\n  callback(fn, [scale, from, to, limits]);\n}\nfunction getCenter(chart) {\n  const ca = chart.chartArea;\n  return {\n    x: (ca.left + ca.right) / 2,\n    y: (ca.top + ca.bottom) / 2,\n  };\n}\nfunction zoom(chart, amount, transition = 'none', trigger = 'api') {\n  const {x = 1, y = 1, focalPoint = getCenter(chart)} = typeof amount === 'number' ? {x: amount, y: amount} : amount;\n  const state = getState(chart);\n  const {options: {limits, zoom: zoomOptions}} = state;\n  storeOriginalScaleLimits(chart, state);\n  const xEnabled = x !== 1;\n  const yEnabled = y !== 1;\n  const enabledScales = getEnabledScalesByPoint(zoomOptions, focalPoint, chart);\n  each(enabledScales || chart.scales, function(scale) {\n    if (scale.isHorizontal() && xEnabled) {\n      doZoom(scale, x, focalPoint, limits);\n    } else if (!scale.isHorizontal() && yEnabled) {\n      doZoom(scale, y, focalPoint, limits);\n    }\n  });\n  chart.update(transition);\n  callback(zoomOptions.onZoom, [{chart, trigger}]);\n}\nfunction zoomRect(chart, p0, p1, transition = 'none', trigger = 'api') {\n  const state = getState(chart);\n  const {options: {limits, zoom: zoomOptions}} = state;\n  const {mode = 'xy'} = zoomOptions;\n  storeOriginalScaleLimits(chart, state);\n  const xEnabled = directionEnabled(mode, 'x', chart);\n  const yEnabled = directionEnabled(mode, 'y', chart);\n  each(chart.scales, function(scale) {\n    if (scale.isHorizontal() && xEnabled) {\n      doZoomRect(scale, p0.x, p1.x, limits);\n    } else if (!scale.isHorizontal() && yEnabled) {\n      doZoomRect(scale, p0.y, p1.y, limits);\n    }\n  });\n  chart.update(transition);\n  callback(zoomOptions.onZoom, [{chart, trigger}]);\n}\nfunction zoomScale(chart, scaleId, range, transition = 'none', trigger = 'api') {\n  const state = getState(chart);\n  storeOriginalScaleLimits(chart, state);\n  const scale = chart.scales[scaleId];\n  updateRange(scale, range, undefined, true);\n  chart.update(transition);\n  callback(state.options.zoom?.onZoom, [{chart, trigger}]);\n}\nfunction resetZoom(chart, transition = 'default') {\n  const state = getState(chart);\n  const originalScaleLimits = storeOriginalScaleLimits(chart, state);\n  each(chart.scales, function(scale) {\n    const scaleOptions = scale.options;\n    if (originalScaleLimits[scale.id]) {\n      scaleOptions.min = originalScaleLimits[scale.id].min.options;\n      scaleOptions.max = originalScaleLimits[scale.id].max.options;\n    } else {\n      delete scaleOptions.min;\n      delete scaleOptions.max;\n    }\n    delete state.updatedScaleLimits[scale.id];\n  });\n  chart.update(transition);\n  callback(state.options.zoom.onZoomComplete, [{chart}]);\n}\nfunction getOriginalRange(state, scaleId) {\n  const original = state.originalScaleLimits[scaleId];\n  if (!original) {\n    return;\n  }\n  const {min, max} = original;\n  return valueOrDefault(max.options, max.scale) - valueOrDefault(min.options, min.scale);\n}\nfunction getZoomLevel(chart) {\n  const state = getState(chart);\n  let min = 1;\n  let max = 1;\n  each(chart.scales, function(scale) {\n    const origRange = getOriginalRange(state, scale.id);\n    if (origRange) {\n      const level = Math.round(origRange / (scale.max - scale.min) * 100) / 100;\n      min = Math.min(min, level);\n      max = Math.max(max, level);\n    }\n  });\n  return min < 1 ? min : max;\n}\nfunction panScale(scale, delta, limits, state) {\n  const {panDelta} = state;\n  const storedDelta = panDelta[scale.id] || 0;\n  if (sign(storedDelta) === sign(delta)) {\n    delta += storedDelta;\n  }\n  const fn = panFunctions[scale.type] || panFunctions.default;\n  if (callback(fn, [scale, delta, limits])) {\n    panDelta[scale.id] = 0;\n  } else {\n    panDelta[scale.id] = delta;\n  }\n}\nfunction pan(chart, delta, enabledScales, transition = 'none') {\n  const {x = 0, y = 0} = typeof delta === 'number' ? {x: delta, y: delta} : delta;\n  const state = getState(chart);\n  const {options: {pan: panOptions, limits}} = state;\n  const {onPan} = panOptions || {};\n  storeOriginalScaleLimits(chart, state);\n  const xEnabled = x !== 0;\n  const yEnabled = y !== 0;\n  each(enabledScales || chart.scales, function(scale) {\n    if (scale.isHorizontal() && xEnabled) {\n      panScale(scale, x, limits, state);\n    } else if (!scale.isHorizontal() && yEnabled) {\n      panScale(scale, y, limits, state);\n    }\n  });\n  chart.update(transition);\n  callback(onPan, [{chart}]);\n}\nfunction getInitialScaleBounds(chart) {\n  const state = getState(chart);\n  storeOriginalScaleLimits(chart, state);\n  const scaleBounds = {};\n  for (const scaleId of Object.keys(chart.scales)) {\n    const {min, max} = state.originalScaleLimits[scaleId] || {min: {}, max: {}};\n    scaleBounds[scaleId] = {min: min.scale, max: max.scale};\n  }\n  return scaleBounds;\n}\nfunction getZoomedScaleBounds(chart) {\n  const state = getState(chart);\n  const scaleBounds = {};\n  for (const scaleId of Object.keys(chart.scales)) {\n    scaleBounds[scaleId] = state.updatedScaleLimits[scaleId];\n  }\n  return scaleBounds;\n}\nfunction isZoomedOrPanned(chart) {\n  const scaleBounds = getInitialScaleBounds(chart);\n  for (const scaleId of Object.keys(chart.scales)) {\n    const {min: originalMin, max: originalMax} = scaleBounds[scaleId];\n    if (originalMin !== undefined && chart.scales[scaleId].min !== originalMin) {\n      return true;\n    }\n    if (originalMax !== undefined && chart.scales[scaleId].max !== originalMax) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction isZoomingOrPanning(chart) {\n  const state = getState(chart);\n  return state.panning || state.dragging;\n}\n\nconst clamp = (x, from, to) => Math.min(to, Math.max(from, x));\nfunction removeHandler(chart, type) {\n  const {handlers} = getState(chart);\n  const handler = handlers[type];\n  if (handler && handler.target) {\n    handler.target.removeEventListener(type, handler);\n    delete handlers[type];\n  }\n}\nfunction addHandler(chart, target, type, handler) {\n  const {handlers, options} = getState(chart);\n  const oldHandler = handlers[type];\n  if (oldHandler && oldHandler.target === target) {\n    return;\n  }\n  removeHandler(chart, type);\n  handlers[type] = (event) => handler(chart, event, options);\n  handlers[type].target = target;\n  const passive = type === 'wheel' ? false : undefined;\n  target.addEventListener(type, handlers[type], {passive});\n}\nfunction mouseMove(chart, event) {\n  const state = getState(chart);\n  if (state.dragStart) {\n    state.dragging = true;\n    state.dragEnd = event;\n    chart.update('none');\n  }\n}\nfunction keyDown(chart, event) {\n  const state = getState(chart);\n  if (!state.dragStart || event.key !== 'Escape') {\n    return;\n  }\n  removeHandler(chart, 'keydown');\n  state.dragging = false;\n  state.dragStart = state.dragEnd = null;\n  chart.update('none');\n}\nfunction getPointPosition(event, chart) {\n  if (event.target !== chart.canvas) {\n    const canvasArea = chart.canvas.getBoundingClientRect();\n    return {\n      x: event.clientX - canvasArea.left,\n      y: event.clientY - canvasArea.top,\n    };\n  }\n  return getRelativePosition(event, chart);\n}\nfunction zoomStart(chart, event, zoomOptions) {\n  const {onZoomStart, onZoomRejected} = zoomOptions;\n  if (onZoomStart) {\n    const point = getPointPosition(event, chart);\n    if (callback(onZoomStart, [{chart, event, point}]) === false) {\n      callback(onZoomRejected, [{chart, event}]);\n      return false;\n    }\n  }\n}\nfunction mouseDown(chart, event) {\n  if (chart.legend) {\n    const point = getRelativePosition(event, chart);\n    if (_isPointInArea(point, chart.legend)) {\n      return;\n    }\n  }\n  const state = getState(chart);\n  const {pan: panOptions, zoom: zoomOptions = {}} = state.options;\n  if (\n    event.button !== 0 ||\n    keyPressed(getModifierKey(panOptions), event) ||\n    keyNotPressed(getModifierKey(zoomOptions.drag), event)\n  ) {\n    return callback(zoomOptions.onZoomRejected, [{chart, event}]);\n  }\n  if (zoomStart(chart, event, zoomOptions) === false) {\n    return;\n  }\n  state.dragStart = event;\n  addHandler(chart, chart.canvas.ownerDocument, 'mousemove', mouseMove);\n  addHandler(chart, window.document, 'keydown', keyDown);\n}\nfunction applyAspectRatio({begin, end}, aspectRatio) {\n  let width = end.x - begin.x;\n  let height = end.y - begin.y;\n  const ratio = Math.abs(width / height);\n  if (ratio > aspectRatio) {\n    width = Math.sign(width) * Math.abs(height * aspectRatio);\n  } else if (ratio < aspectRatio) {\n    height = Math.sign(height) * Math.abs(width / aspectRatio);\n  }\n  end.x = begin.x + width;\n  end.y = begin.y + height;\n}\nfunction applyMinMaxProps(rect, chartArea, points, {min, max, prop}) {\n  rect[min] = clamp(Math.min(points.begin[prop], points.end[prop]), chartArea[min], chartArea[max]);\n  rect[max] = clamp(Math.max(points.begin[prop], points.end[prop]), chartArea[min], chartArea[max]);\n}\nfunction getRelativePoints(chart, pointEvents, maintainAspectRatio) {\n  const points = {\n    begin: getPointPosition(pointEvents.dragStart, chart),\n    end: getPointPosition(pointEvents.dragEnd, chart),\n  };\n  if (maintainAspectRatio) {\n    const aspectRatio = chart.chartArea.width / chart.chartArea.height;\n    applyAspectRatio(points, aspectRatio);\n  }\n  return points;\n}\nfunction computeDragRect(chart, mode, pointEvents, maintainAspectRatio) {\n  const xEnabled = directionEnabled(mode, 'x', chart);\n  const yEnabled = directionEnabled(mode, 'y', chart);\n  const {top, left, right, bottom, width: chartWidth, height: chartHeight} = chart.chartArea;\n  const rect = {top, left, right, bottom};\n  const points = getRelativePoints(chart, pointEvents, maintainAspectRatio && xEnabled && yEnabled);\n  if (xEnabled) {\n    applyMinMaxProps(rect, chart.chartArea, points, {min: 'left', max: 'right', prop: 'x'});\n  }\n  if (yEnabled) {\n    applyMinMaxProps(rect, chart.chartArea, points, {min: 'top', max: 'bottom', prop: 'y'});\n  }\n  const width = rect.right - rect.left;\n  const height = rect.bottom - rect.top;\n  return {\n    ...rect,\n    width,\n    height,\n    zoomX: xEnabled && width ? 1 + ((chartWidth - width) / chartWidth) : 1,\n    zoomY: yEnabled && height ? 1 + ((chartHeight - height) / chartHeight) : 1\n  };\n}\nfunction mouseUp(chart, event) {\n  const state = getState(chart);\n  if (!state.dragStart) {\n    return;\n  }\n  removeHandler(chart, 'mousemove');\n  const {mode, onZoomComplete, drag: {threshold = 0, maintainAspectRatio}} = state.options.zoom;\n  const rect = computeDragRect(chart, mode, {dragStart: state.dragStart, dragEnd: event}, maintainAspectRatio);\n  const distanceX = directionEnabled(mode, 'x', chart) ? rect.width : 0;\n  const distanceY = directionEnabled(mode, 'y', chart) ? rect.height : 0;\n  const distance = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n  state.dragStart = state.dragEnd = null;\n  if (distance <= threshold) {\n    state.dragging = false;\n    chart.update('none');\n    return;\n  }\n  zoomRect(chart, {x: rect.left, y: rect.top}, {x: rect.right, y: rect.bottom}, 'zoom', 'drag');\n  state.dragging = false;\n  state.filterNextClick = true;\n  callback(onZoomComplete, [{chart}]);\n}\nfunction wheelPreconditions(chart, event, zoomOptions) {\n  if (keyNotPressed(getModifierKey(zoomOptions.wheel), event)) {\n    callback(zoomOptions.onZoomRejected, [{chart, event}]);\n    return;\n  }\n  if (zoomStart(chart, event, zoomOptions) === false) {\n    return;\n  }\n  if (event.cancelable) {\n    event.preventDefault();\n  }\n  if (event.deltaY === undefined) {\n    return;\n  }\n  return true;\n}\nfunction wheel(chart, event) {\n  const {handlers: {onZoomComplete}, options: {zoom: zoomOptions}} = getState(chart);\n  if (!wheelPreconditions(chart, event, zoomOptions)) {\n    return;\n  }\n  const rect = event.target.getBoundingClientRect();\n  const speed = zoomOptions.wheel.speed;\n  const percentage = event.deltaY >= 0 ? 2 - 1 / (1 - speed) : 1 + speed;\n  const amount = {\n    x: percentage,\n    y: percentage,\n    focalPoint: {\n      x: event.clientX - rect.left,\n      y: event.clientY - rect.top\n    }\n  };\n  zoom(chart, amount, 'zoom', 'wheel');\n  callback(onZoomComplete, [{chart}]);\n}\nfunction addDebouncedHandler(chart, name, handler, delay) {\n  if (handler) {\n    getState(chart).handlers[name] = debounce(() => callback(handler, [{chart}]), delay);\n  }\n}\nfunction addListeners(chart, options) {\n  const canvas = chart.canvas;\n  const {wheel: wheelOptions, drag: dragOptions, onZoomComplete} = options.zoom;\n  if (wheelOptions.enabled) {\n    addHandler(chart, canvas, 'wheel', wheel);\n    addDebouncedHandler(chart, 'onZoomComplete', onZoomComplete, 250);\n  } else {\n    removeHandler(chart, 'wheel');\n  }\n  if (dragOptions.enabled) {\n    addHandler(chart, canvas, 'mousedown', mouseDown);\n    addHandler(chart, canvas.ownerDocument, 'mouseup', mouseUp);\n  } else {\n    removeHandler(chart, 'mousedown');\n    removeHandler(chart, 'mousemove');\n    removeHandler(chart, 'mouseup');\n    removeHandler(chart, 'keydown');\n  }\n}\nfunction removeListeners(chart) {\n  removeHandler(chart, 'mousedown');\n  removeHandler(chart, 'mousemove');\n  removeHandler(chart, 'mouseup');\n  removeHandler(chart, 'wheel');\n  removeHandler(chart, 'click');\n  removeHandler(chart, 'keydown');\n}\n\nfunction createEnabler(chart, state) {\n  return function(recognizer, event) {\n    const {pan: panOptions, zoom: zoomOptions = {}} = state.options;\n    if (!panOptions || !panOptions.enabled) {\n      return false;\n    }\n    const srcEvent = event && event.srcEvent;\n    if (!srcEvent) {\n      return true;\n    }\n    if (!state.panning && event.pointerType === 'mouse' && (\n      keyNotPressed(getModifierKey(panOptions), srcEvent) || keyPressed(getModifierKey(zoomOptions.drag), srcEvent))\n    ) {\n      callback(panOptions.onPanRejected, [{chart, event}]);\n      return false;\n    }\n    return true;\n  };\n}\nfunction pinchAxes(p0, p1) {\n  const pinchX = Math.abs(p0.clientX - p1.clientX);\n  const pinchY = Math.abs(p0.clientY - p1.clientY);\n  const p = pinchX / pinchY;\n  let x, y;\n  if (p > 0.3 && p < 1.7) {\n    x = y = true;\n  } else if (pinchX > pinchY) {\n    x = true;\n  } else {\n    y = true;\n  }\n  return {x, y};\n}\nfunction handlePinch(chart, state, e) {\n  if (state.scale) {\n    const {center, pointers} = e;\n    const zoomPercent = 1 / state.scale * e.scale;\n    const rect = e.target.getBoundingClientRect();\n    const pinch = pinchAxes(pointers[0], pointers[1]);\n    const mode = state.options.zoom.mode;\n    const amount = {\n      x: pinch.x && directionEnabled(mode, 'x', chart) ? zoomPercent : 1,\n      y: pinch.y && directionEnabled(mode, 'y', chart) ? zoomPercent : 1,\n      focalPoint: {\n        x: center.x - rect.left,\n        y: center.y - rect.top\n      }\n    };\n    zoom(chart, amount, 'zoom', 'pinch');\n    state.scale = e.scale;\n  }\n}\nfunction startPinch(chart, state, event) {\n  if (state.options.zoom.pinch.enabled) {\n    const point = getRelativePosition(event, chart);\n    if (callback(state.options.zoom.onZoomStart, [{chart, event, point}]) === false) {\n      state.scale = null;\n      callback(state.options.zoom.onZoomRejected, [{chart, event}]);\n    } else {\n      state.scale = 1;\n    }\n  }\n}\nfunction endPinch(chart, state, e) {\n  if (state.scale) {\n    handlePinch(chart, state, e);\n    state.scale = null;\n    callback(state.options.zoom.onZoomComplete, [{chart}]);\n  }\n}\nfunction handlePan(chart, state, e) {\n  const delta = state.delta;\n  if (delta) {\n    state.panning = true;\n    pan(chart, {x: e.deltaX - delta.x, y: e.deltaY - delta.y}, state.panScales);\n    state.delta = {x: e.deltaX, y: e.deltaY};\n  }\n}\nfunction startPan(chart, state, event) {\n  const {enabled, onPanStart, onPanRejected} = state.options.pan;\n  if (!enabled) {\n    return;\n  }\n  const rect = event.target.getBoundingClientRect();\n  const point = {\n    x: event.center.x - rect.left,\n    y: event.center.y - rect.top\n  };\n  if (callback(onPanStart, [{chart, event, point}]) === false) {\n    return callback(onPanRejected, [{chart, event}]);\n  }\n  state.panScales = getEnabledScalesByPoint(state.options.pan, point, chart);\n  state.delta = {x: 0, y: 0};\n  handlePan(chart, state, event);\n}\nfunction endPan(chart, state) {\n  state.delta = null;\n  if (state.panning) {\n    state.panning = false;\n    state.filterNextClick = true;\n    callback(state.options.pan.onPanComplete, [{chart}]);\n  }\n}\nconst hammers = new WeakMap();\nfunction startHammer(chart, options) {\n  const state = getState(chart);\n  const canvas = chart.canvas;\n  const {pan: panOptions, zoom: zoomOptions} = options;\n  const mc = new Hammer.Manager(canvas);\n  if (zoomOptions && zoomOptions.pinch.enabled) {\n    mc.add(new Hammer.Pinch());\n    mc.on('pinchstart', (e) => startPinch(chart, state, e));\n    mc.on('pinch', (e) => handlePinch(chart, state, e));\n    mc.on('pinchend', (e) => endPinch(chart, state, e));\n  }\n  if (panOptions && panOptions.enabled) {\n    mc.add(new Hammer.Pan({\n      threshold: panOptions.threshold,\n      enable: createEnabler(chart, state)\n    }));\n    mc.on('panstart', (e) => startPan(chart, state, e));\n    mc.on('panmove', (e) => handlePan(chart, state, e));\n    mc.on('panend', () => endPan(chart, state));\n  }\n  hammers.set(chart, mc);\n}\nfunction stopHammer(chart) {\n  const mc = hammers.get(chart);\n  if (mc) {\n    mc.remove('pinchstart');\n    mc.remove('pinch');\n    mc.remove('pinchend');\n    mc.remove('panstart');\n    mc.remove('pan');\n    mc.remove('panend');\n    mc.destroy();\n    hammers.delete(chart);\n  }\n}\nfunction hammerOptionsChanged(oldOptions, newOptions) {\n  const {pan: oldPan, zoom: oldZoom} = oldOptions;\n  const {pan: newPan, zoom: newZoom} = newOptions;\n  if (oldZoom?.zoom?.pinch?.enabled !== newZoom?.zoom?.pinch?.enabled) {\n    return true;\n  }\n  if (oldPan?.enabled !== newPan?.enabled) {\n    return true;\n  }\n  if (oldPan?.threshold !== newPan?.threshold) {\n    return true;\n  }\n  return false;\n}\n\nvar version = \"2.2.0\";\n\nfunction draw(chart, caller, options) {\n  const dragOptions = options.zoom.drag;\n  const {dragStart, dragEnd} = getState(chart);\n  if (dragOptions.drawTime !== caller || !dragEnd) {\n    return;\n  }\n  const {left, top, width, height} = computeDragRect(chart, options.zoom.mode, {dragStart, dragEnd}, dragOptions.maintainAspectRatio);\n  const ctx = chart.ctx;\n  ctx.save();\n  ctx.beginPath();\n  ctx.fillStyle = dragOptions.backgroundColor || 'rgba(225,225,225,0.3)';\n  ctx.fillRect(left, top, width, height);\n  if (dragOptions.borderWidth > 0) {\n    ctx.lineWidth = dragOptions.borderWidth;\n    ctx.strokeStyle = dragOptions.borderColor || 'rgba(225,225,225)';\n    ctx.strokeRect(left, top, width, height);\n  }\n  ctx.restore();\n}\nvar plugin = {\n  id: 'zoom',\n  version,\n  defaults: {\n    pan: {\n      enabled: false,\n      mode: 'xy',\n      threshold: 10,\n      modifierKey: null,\n    },\n    zoom: {\n      wheel: {\n        enabled: false,\n        speed: 0.1,\n        modifierKey: null\n      },\n      drag: {\n        enabled: false,\n        drawTime: 'beforeDatasetsDraw',\n        modifierKey: null\n      },\n      pinch: {\n        enabled: false\n      },\n      mode: 'xy',\n    }\n  },\n  start: function(chart, _args, options) {\n    const state = getState(chart);\n    state.options = options;\n    if (Object.prototype.hasOwnProperty.call(options.zoom, 'enabled')) {\n      console.warn('The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`.');\n    }\n    if (Object.prototype.hasOwnProperty.call(options.zoom, 'overScaleMode')\n      || Object.prototype.hasOwnProperty.call(options.pan, 'overScaleMode')) {\n      console.warn('The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired).');\n    }\n    if (Hammer) {\n      startHammer(chart, options);\n    }\n    chart.pan = (delta, panScales, transition) => pan(chart, delta, panScales, transition);\n    chart.zoom = (args, transition) => zoom(chart, args, transition);\n    chart.zoomRect = (p0, p1, transition) => zoomRect(chart, p0, p1, transition);\n    chart.zoomScale = (id, range, transition) => zoomScale(chart, id, range, transition);\n    chart.resetZoom = (transition) => resetZoom(chart, transition);\n    chart.getZoomLevel = () => getZoomLevel(chart);\n    chart.getInitialScaleBounds = () => getInitialScaleBounds(chart);\n    chart.getZoomedScaleBounds = () => getZoomedScaleBounds(chart);\n    chart.isZoomedOrPanned = () => isZoomedOrPanned(chart);\n    chart.isZoomingOrPanning = () => isZoomingOrPanning(chart);\n  },\n  beforeEvent(chart, {event}) {\n    if (isZoomingOrPanning(chart)) {\n      return false;\n    }\n    if (event.type === 'click' || event.type === 'mouseup') {\n      const state = getState(chart);\n      if (state.filterNextClick) {\n        state.filterNextClick = false;\n        return false;\n      }\n    }\n  },\n  beforeUpdate: function(chart, args, options) {\n    const state = getState(chart);\n    const previousOptions = state.options;\n    state.options = options;\n    if (hammerOptionsChanged(previousOptions, options)) {\n      stopHammer(chart);\n      startHammer(chart, options);\n    }\n    addListeners(chart, options);\n  },\n  beforeDatasetsDraw(chart, _args, options) {\n    draw(chart, 'beforeDatasetsDraw', options);\n  },\n  afterDatasetsDraw(chart, _args, options) {\n    draw(chart, 'afterDatasetsDraw', options);\n  },\n  beforeDraw(chart, _args, options) {\n    draw(chart, 'beforeDraw', options);\n  },\n  afterDraw(chart, _args, options) {\n    draw(chart, 'afterDraw', options);\n  },\n  stop: function(chart) {\n    removeListeners(chart);\n    if (Hammer) {\n      stopHammer(chart);\n    }\n    removeState(chart);\n  },\n  panFunctions,\n  zoomFunctions,\n  zoomRectFunctions,\n};\n\nexport { plugin as default, pan, resetZoom, zoom, zoomRect, zoomScale };\n","<script>\n    import { onMount } from \"svelte\";\n    import { scale } from \"svelte/transition\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import {\n        Chart,\n        LineElement,\n        PointElement,\n        LineController,\n        LinearScale,\n        TimeScale,\n        Filler,\n        Tooltip,\n    } from \"chart.js\";\n    import \"chartjs-adapter-luxon\";\n    import zoomPlugin from \"chartjs-plugin-zoom\";\n\n    export let filter = \"\";\n    export let zoom = {};\n    export let presets = \"\";\n\n    let chartCanvas;\n    let chartInst;\n    let chartData = [];\n    let totalLogs = 0;\n    let isLoading = false;\n    let isZoomedOrPanned = false;\n\n    $: if (typeof filter !== \"undefined\" || typeof presets !== \"undefined\") {\n        load();\n    }\n\n    $: if (typeof chartData !== \"undefined\" && chartInst) {\n        chartInst.data.datasets[0].data = chartData;\n        chartInst.update();\n    }\n\n    export async function load() {\n        isLoading = true;\n\n        const normalizedFilter = [presets, CommonHelper.normalizeLogsFilter(filter)]\n            .filter(Boolean)\n            .map((f) => \"(\" + f + \")\")\n            .join(\"&&\");\n\n        return ApiClient.logs\n            .getStats({\n                filter: normalizedFilter,\n            })\n            .then((result) => {\n                resetData();\n\n                result = CommonHelper.toArray(result);\n\n                for (let item of result) {\n                    chartData.push({\n                        x: new Date(item.date),\n                        y: item.total,\n                    });\n                    totalLogs += item.total;\n                }\n            })\n            .catch((err) => {\n                if (!err?.isAbort) {\n                    resetData();\n                    console.warn(err);\n                    ApiClient.error(err, !normalizedFilter || err?.status != 400); // silence filter errors\n                }\n            })\n            .finally(() => {\n                isLoading = false;\n            });\n    }\n\n    function resetData() {\n        chartData = [];\n        totalLogs = 0;\n    }\n\n    function resetZoom() {\n        chartInst?.resetZoom();\n    }\n\n    onMount(() => {\n        Chart.register(LineElement, PointElement, LineController, LinearScale, TimeScale, Filler, Tooltip);\n        Chart.register(zoomPlugin);\n\n        chartInst = new Chart(chartCanvas, {\n            type: \"line\",\n            data: {\n                datasets: [\n                    {\n                        label: \"Total requests\",\n                        data: chartData,\n                        borderColor: \"#e34562\",\n                        pointBackgroundColor: \"#e34562\",\n                        backgroundColor: \"rgb(239,69,101,0.05)\",\n                        borderWidth: 2,\n                        pointRadius: 1,\n                        pointBorderWidth: 0,\n                        fill: true,\n                    },\n                ],\n            },\n            options: {\n                resizeDelay: 250,\n                maintainAspectRatio: false,\n                animation: false,\n                interaction: {\n                    intersect: false,\n                    mode: \"index\",\n                },\n                scales: {\n                    y: {\n                        beginAtZero: true,\n                        grid: {\n                            color: \"#edf0f3\",\n                        },\n                        border: {\n                            color: \"#e4e9ec\",\n                        },\n                        ticks: {\n                            precision: 0,\n                            maxTicksLimit: 4,\n                            autoSkip: true,\n                            color: \"#666f75\",\n                        },\n                    },\n                    x: {\n                        type: \"time\",\n                        time: {\n                            unit: \"hour\",\n                            tooltipFormat: \"DD h a\",\n                        },\n                        grid: {\n                            color: (c) => (c.tick?.major ? \"#edf0f3\" : \"\"),\n                        },\n                        color: \"#e4e9ec\",\n                        ticks: {\n                            maxTicksLimit: 15,\n                            autoSkip: true,\n                            maxRotation: 0,\n                            major: {\n                                enabled: true,\n                            },\n                            color: (c) => (c.tick?.major ? \"#16161a\" : \"#666f75\"),\n                        },\n                    },\n                },\n                plugins: {\n                    legend: {\n                        display: false,\n                    },\n                    zoom: {\n                        enabled: true,\n                        zoom: {\n                            mode: \"x\",\n                            pinch: {\n                                enabled: true,\n                            },\n                            drag: {\n                                enabled: true,\n                                backgroundColor: \"rgba(255, 99, 132, 0.2)\",\n                                borderWidth: 0,\n                                threshold: 10,\n                            },\n                            limits: {\n                                x: { minRange: 100000000 },\n                                y: { minRange: 100000000 },\n                            },\n                            onZoomComplete: ({ chart }) => {\n                                isZoomedOrPanned = chart.isZoomedOrPanned();\n                                if (!isZoomedOrPanned) {\n                                    if (zoom.min || zoom.max) {\n                                        zoom = {}; // reset\n                                    }\n                                } else {\n                                    // trim minutes and seconds since the statistic is hourly based\n                                    zoom.min =\n                                        CommonHelper.formatToUTCDate(chart.scales.x.min, \"yyyy-MM-dd HH\") +\n                                        \":00:00.000Z\";\n                                    zoom.max =\n                                        CommonHelper.formatToUTCDate(chart.scales.x.max, \"yyyy-MM-dd HH\") +\n                                        \":59:59.999Z\";\n                                }\n                            },\n                        },\n                    },\n                },\n            },\n        });\n\n        return () => chartInst?.destroy();\n    });\n</script>\n\n<div class=\"chart-wrapper\" class:loading={isLoading}>\n    <div class=\"total-logs entrance-right\" class:hidden={isLoading}>\n        Found {totalLogs}\n        {totalLogs == 1 ? \"log\" : \"logs\"}\n    </div>\n\n    {#if isLoading}\n        <div class=\"chart-loader loader\" transition:scale={{ duration: 150 }} />\n    {/if}\n\n    <canvas bind:this={chartCanvas} class=\"chart-canvas\" on:dblclick={resetZoom} />\n\n    {#if isZoomedOrPanned}\n        <button type=\"button\" class=\"btn btn-secondary btn-sm btn-chart-zoom\" on:click={resetZoom}>\n            Reset zoom\n        </button>\n    {/if}\n</div>\n\n<style>\n    .chart-wrapper {\n        position: relative;\n        display: block;\n        width: 100%;\n        height: 170px;\n    }\n    .chart-wrapper.loading .chart-canvas {\n        pointer-events: none;\n        opacity: 0.5;\n    }\n    .chart-loader {\n        position: absolute;\n        z-index: 999;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n    }\n    .total-logs {\n        position: absolute;\n        right: 0;\n        top: -50px;\n        font-size: var(--smFontSize);\n        color: var(--txtHintColor);\n    }\n    .btn-chart-zoom {\n        position: absolute;\n        right: 10px;\n        top: 20px;\n    }\n</style>\n","<script>\n    export let content = \"\";\n    export let language = \"javascript\"; // javascript, html, dart, go, sql\n\n    let classes = \"\";\n    export { classes as class }; // export reserved keyword\n\n    let formattedContent = \"\";\n\n    $: if (typeof Prism !== \"undefined\" && content) {\n        formattedContent = highlight(content);\n    }\n\n    function highlight(code) {\n        code = typeof code === \"string\" ? code : \"\";\n\n        // @see https://prismjs.com/plugins/normalize-whitespace\n        code = Prism.plugins.NormalizeWhitespace.normalize(code, {\n            \"remove-trailing\": true,\n            \"remove-indent\": true,\n            \"left-trim\": true,\n            \"right-trim\": true,\n        });\n\n        return Prism.highlight(code, Prism.languages[language] || Prism.languages.javascript, language);\n    }\n</script>\n\n<div class=\"code-wrapper prism-light {classes}\">\n    <code>{@html formattedContent}</code>\n</div>\n\n<style>\n    code {\n        display: block;\n        width: 100%;\n        padding: 10px 15px;\n        white-space: pre-wrap;\n        word-break: break-word;\n    }\n    .code-wrapper {\n        display: block;\n        width: 100%;\n    }\n    .prism-light code {\n        color: var(--txtPrimaryColor);\n        background: var(--baseAlt1Color);\n    }\n</style>\n","<script>\n    import { onMount } from \"svelte\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import tooltipAction from \"@/actions/tooltip\";\n\n    export let value = \"\";\n    export let tooltip = \"Copy\";\n    export let idleClasses = \"ri-file-copy-line txt-sm link-hint\";\n    export let successClasses = \"ri-check-line txt-sm txt-success\";\n    export let successDuration = 500; // ms\n\n    let copyTimeout;\n\n    function copy() {\n        if (CommonHelper.isEmpty(value)) {\n            return;\n        }\n\n        CommonHelper.copyToClipboard(value);\n\n        clearTimeout(copyTimeout);\n        copyTimeout = setTimeout(() => {\n            clearTimeout(copyTimeout);\n            copyTimeout = null;\n        }, successDuration);\n    }\n\n    onMount(() => {\n        return () => {\n            if (copyTimeout) {\n                clearTimeout(copyTimeout);\n            }\n        };\n    });\n</script>\n\n<!-- svelte-ignore a11y-click-events-have-key-events -->\n<i\n    tabindex=\"-1\"\n    role=\"button\"\n    class={copyTimeout ? successClasses : idleClasses}\n    aria-label={\"Copy to clipboard\"}\n    use:tooltipAction={!copyTimeout ? tooltip : undefined}\n    on:click|stopPropagation={copy}\n/>\n","<script>\n    import { createEventDispatcher } from \"svelte\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { addErrorToast } from \"@/stores/toasts\";\n    import CodeBlock from \"@/components/base/CodeBlock.svelte\";\n    import OverlayPanel from \"@/components/base/OverlayPanel.svelte\";\n    import CopyIcon from \"@/components/base/CopyIcon.svelte\";\n    import LogLevel from \"@/components/logs/LogLevel.svelte\";\n    import LogDate from \"@/components/logs/LogDate.svelte\";\n\n    const LOG_REQUEST_KEY = \"log_view\";\n\n    const dispatch = createEventDispatcher();\n\n    let logPanel;\n    let log = {};\n    let isLoading = false;\n\n    $: isRequest = log.data?.type == \"request\";\n\n    export function show(modelOrId) {\n        resolveModel(modelOrId).then((model) => {\n            log = model;\n\n            onShow();\n        });\n\n        return logPanel?.show();\n    }\n\n    export function hide() {\n        ApiClient.cancelRequest(LOG_REQUEST_KEY);\n\n        return logPanel?.hide();\n    }\n\n    async function resolveModel(modelOrId) {\n        if (modelOrId && typeof modelOrId !== \"string\") {\n            isLoading = false;\n            return modelOrId;\n        }\n\n        isLoading = true;\n\n        let model = {};\n\n        try {\n            model = await ApiClient.logs.getOne(modelOrId, {\n                requestKey: LOG_REQUEST_KEY,\n            });\n        } catch (err) {\n            if (!err.isAbort) {\n                hide();\n                console.warn(\"resolveModel:\", err);\n                addErrorToast(`Unable to load log with id \"${modelOrId}\"`);\n            }\n        }\n\n        isLoading = false;\n\n        return model;\n    }\n\n    const priotizedKeys = [\n        \"execTime\",\n        \"type\",\n        \"auth\",\n        \"authId\",\n        \"status\",\n        \"method\",\n        \"url\",\n        \"referer\",\n        \"remoteIP\",\n        \"userIP\",\n        \"userAgent\",\n        \"error\",\n        \"details\",\n    ];\n\n    function extractKeys(data) {\n        if (!data) {\n            return [];\n        }\n\n        let keys = [];\n\n        for (let key of priotizedKeys) {\n            if (typeof data[key] !== \"undefined\") {\n                keys.push(key);\n            }\n        }\n\n        // append the rest\n        const original = Object.keys(data);\n        for (let key of original) {\n            if (!keys.includes(key)) {\n                keys.push(key);\n            }\n        }\n\n        return keys;\n    }\n\n    function downloadJson() {\n        CommonHelper.downloadJson(log, \"log_\" + log.created.replaceAll(/[-:\\. ]/gi, \"\") + \".json\");\n    }\n\n    function onShow() {\n        dispatch(\"show\", log);\n    }\n\n    function onHide() {\n        dispatch(\"hide\", log);\n\n        log = {};\n    }\n</script>\n\n<!-- svelte-ignore a11y-no-noninteractive-tabindex -->\n<!-- svelte-ignore a11y-no-static-element-interactions -->\n<!-- svelte-ignore a11y-click-events-have-key-events -->\n<OverlayPanel bind:this={logPanel} class=\"overlay-panel-lg log-panel\" on:hide={onHide}>\n    <svelte:fragment slot=\"header\">\n        <h4>Log details</h4>\n    </svelte:fragment>\n\n    {#if isLoading}\n        <div class=\"block txt-center\">\n            <span class=\"loader\" />\n        </div>\n    {:else if log?.id}\n        <table class=\"table-border\">\n            <tbody>\n                <tr>\n                    <td class=\"min-width txt-hint txt-bold\">id</td>\n                    <td>\n                        <span class=\"txt\">{log.id}</span>\n                        <div class=\"copy-icon-wrapper\">\n                            <CopyIcon value={log.id} />\n                        </div>\n                    </td>\n                </tr>\n                <tr>\n                    <td class=\"min-width txt-hint txt-bold\">level</td>\n                    <td>\n                        <LogLevel level={log.level} />\n                        <div class=\"copy-icon-wrapper\">\n                            <CopyIcon value={log.level} />\n                        </div>\n                    </td>\n                </tr>\n                <tr>\n                    <td class=\"min-width txt-hint txt-bold\">created</td>\n                    <td>\n                        <LogDate date={log.created} />\n                        <div class=\"copy-icon-wrapper\">\n                            <CopyIcon value={log.created} />\n                        </div>\n                    </td>\n                </tr>\n                {#if !isRequest}\n                    <tr>\n                        <td class=\"min-width txt-hint txt-bold\">message</td>\n                        <td>\n                            {#if log.message}\n                                <span class=\"txt\">{log.message}</span>\n\n                                <div class=\"copy-icon-wrapper\">\n                                    <CopyIcon value={log.message} />\n                                </div>\n                            {:else}\n                                <span class=\"txt txt-hint\">N/A</span>\n                            {/if}\n                        </td>\n                    </tr>\n                {/if}\n                {#each extractKeys(log.data) as key}\n                    {@const value = log.data[key]}\n                    {@const isEmpty = CommonHelper.isEmpty(value)}\n                    {@const isJson = !isEmpty && value !== null && typeof value == \"object\"}\n                    <tr>\n                        <td class=\"min-width txt-hint txt-bold\" class:v-align-top={isJson}>\n                            data.{key}\n                        </td>\n                        <td>\n                            {#if isEmpty}\n                                <span class=\"txt txt-hint\">N/A</span>\n                            {:else if isJson}\n                                <CodeBlock content={JSON.stringify(value, null, 2)} />\n                            {:else if key == \"error\"}\n                                <span class=\"label label-danger log-error-label\">\n                                    {value}\n                                </span>\n                            {:else if key == \"details\"}\n                                <CodeBlock content={value} language=\"html\" />\n                            {:else}\n                                <span class=\"txt\">\n                                    {value}{isRequest && key == \"execTime\" ? \"ms\" : \"\"}\n                                </span>\n                            {/if}\n\n                            {#if !isEmpty}\n                                <div class=\"copy-icon-wrapper\">\n                                    <CopyIcon {value} />\n                                </div>\n                            {/if}\n                        </td>\n                    </tr>\n                {/each}\n            </tbody>\n        </table>\n    {/if}\n\n    <svelte:fragment slot=\"footer\">\n        <button type=\"button\" class=\"btn btn-transparent\" on:click={() => hide()}>\n            <span class=\"txt\">Close</span>\n        </button>\n\n        <button type=\"button\" class=\"btn btn-primary\" disabled={isLoading} on:click={() => downloadJson()}>\n            <i class=\"ri-download-line\" />\n            <span class=\"txt\">Download as JSON</span>\n        </button>\n    </svelte:fragment>\n</OverlayPanel>\n\n<style>\n    .log-error-label {\n        white-space: normal;\n    }\n    .copy-icon-wrapper {\n        position: absolute;\n        right: 12px;\n        top: 12px;\n        opacity: 0;\n        transition: opacity var(--baseAnimationSpeed);\n    }\n    tr:hover .copy-icon-wrapper {\n        opacity: 1;\n    }\n    td:has(.copy-icon-wrapper) {\n        padding-right: 30px;\n    }\n</style>\n","<script>\n    import { logLevels } from \"@/utils/CommonHelper\";\n\n    let classes = \"\";\n    export { classes as class }; // export reserved keyword\n</script>\n\n<div class={classes}>\n    Default log levels:\n    <div class=\"inline-flex flex-gap-5\">\n        {#each logLevels as options}\n            <code class=\"txt-xs\">{options.level}:{options.label}</code>\n        {/each}\n    </div>\n</div>\n","<script>\n    import { createEventDispatcher } from \"svelte\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import { setErrors } from \"@/stores/errors\";\n    import { addSuccessToast } from \"@/stores/toasts\";\n    import Field from \"@/components/base/Field.svelte\";\n    import OverlayPanel from \"@/components/base/OverlayPanel.svelte\";\n    import LogsLevelsInfo from \"@/components/logs/LogsLevelsInfo.svelte\";\n\n    const dispatch = createEventDispatcher();\n    const formId = \"logs_settings_\" + CommonHelper.randomString(3);\n\n    let panel;\n    let isSaving = false;\n    let isLoading = false;\n    let originalFormSettings = {};\n    let formSettings = {};\n\n    $: initialHash = JSON.stringify(originalFormSettings);\n\n    $: hasChanges = initialHash != JSON.stringify(formSettings);\n\n    export function show() {\n        reset();\n\n        loadSettings();\n\n        return panel?.show();\n    }\n\n    export function hide() {\n        return panel?.hide();\n    }\n\n    function reset() {\n        setErrors();\n        originalFormSettings = {};\n        formSettings = JSON.parse(JSON.stringify(originalFormSettings || {}));\n    }\n\n    async function loadSettings() {\n        isLoading = true;\n\n        try {\n            const settings = (await ApiClient.settings.getAll()) || {};\n            init(settings);\n        } catch (err) {\n            ApiClient.error(err);\n        }\n\n        isLoading = false;\n    }\n\n    async function save() {\n        if (!hasChanges) {\n            return;\n        }\n\n        isSaving = true;\n\n        try {\n            const settings = await ApiClient.settings.update(CommonHelper.filterRedactedProps(formSettings));\n            init(settings);\n\n            isSaving = false;\n\n            hide();\n\n            addSuccessToast(\"Successfully saved logs settings.\");\n\n            dispatch(\"save\", settings);\n        } catch (err) {\n            isSaving = false;\n            ApiClient.error(err);\n        }\n    }\n\n    function init(settings = {}) {\n        formSettings = {\n            logs: settings?.logs || {},\n        };\n\n        originalFormSettings = JSON.parse(JSON.stringify(formSettings));\n    }\n</script>\n\n<OverlayPanel bind:this={panel} popup class=\"superuser-panel\" beforeHide={() => !isSaving} on:hide on:show>\n    <svelte:fragment slot=\"header\">\n        <h4>Logs settings</h4>\n    </svelte:fragment>\n\n    {#if isLoading}\n        <div class=\"block txt-center\">\n            <div class=\"loader\" />\n        </div>\n    {:else}\n        <form id={formId} class=\"grid\" autocomplete=\"off\" on:submit|preventDefault={save}>\n            <Field class=\"form-field required\" name=\"logs.maxDays\" let:uniqueId>\n                <label for={uniqueId}>Max days retention</label>\n                <input type=\"number\" id={uniqueId} required bind:value={formSettings.logs.maxDays} />\n                <div class=\"help-block\">\n                    Set to <code>0</code> to disable logs persistence.\n                </div>\n            </Field>\n\n            <Field class=\"form-field\" name=\"logs.minLevel\" let:uniqueId>\n                <label for={uniqueId}>Min log level</label>\n                <input type=\"number\" required bind:value={formSettings.logs.minLevel} min=\"-100\" max=\"100\" />\n                <div class=\"help-block\">\n                    <p>Logs with level below the minimum will be ignored.</p>\n                    <LogsLevelsInfo />\n                </div>\n            </Field>\n\n            <Field class=\"form-field form-field-toggle\" name=\"logs.logIP\" let:uniqueId>\n                <input type=\"checkbox\" id={uniqueId} bind:checked={formSettings.logs.logIP} />\n                <label for={uniqueId}>Enable IP logging</label>\n            </Field>\n\n            <Field class=\"form-field form-field-toggle\" name=\"logs.logAuthId\" let:uniqueId>\n                <input type=\"checkbox\" id={uniqueId} bind:checked={formSettings.logs.logAuthId} />\n                <label for={uniqueId}>Enable Auth Id logging</label>\n            </Field>\n        </form>\n    {/if}\n\n    <svelte:fragment slot=\"footer\">\n        <button type=\"button\" class=\"btn btn-transparent\" disabled={isSaving} on:click={hide}>\n            <span class=\"txt\">Cancel</span>\n        </button>\n        <button\n            type=\"submit\"\n            form={formId}\n            class=\"btn btn-expanded\"\n            class:btn-loading={isSaving}\n            disabled={!hasChanges || isSaving}\n        >\n            <span class=\"txt\">Save changes</span>\n        </button>\n    </svelte:fragment>\n</OverlayPanel>\n","<script>\n    import { querystring } from \"svelte-spa-router\";\n    import { pageTitle } from \"@/stores/app\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import tooltip from \"@/actions/tooltip\";\n    import Field from \"@/components/base/Field.svelte\";\n    import PageWrapper from \"@/components/base/PageWrapper.svelte\";\n    import Searchbar from \"@/components/base/Searchbar.svelte\";\n    import RefreshButton from \"@/components/base/RefreshButton.svelte\";\n    import LogsList from \"@/components/logs/LogsList.svelte\";\n    import LogsChart from \"@/components/logs/LogsChart.svelte\";\n    import LogViewPanel from \"@/components/logs/LogViewPanel.svelte\";\n    import LogsSettingsPanel from \"@/components/logs/LogsSettingsPanel.svelte\";\n    import LogsLevelsInfo from \"@/components/logs/LogsLevelsInfo.svelte\";\n\n    $pageTitle = \"Logs\";\n\n    const LOG_QUERY_KEY = \"logId\";\n    const ADMIN_REQUESTS_QUERY_KEY = \"superuserRequests\";\n    const ADMIN_REQUESTS_STORAGE_KEY = \"superuserLogRequests\";\n\n    const initialQueryParams = new URLSearchParams($querystring);\n\n    let logViewPanel;\n    let logsSettingsPanel;\n    let refreshKey = 1;\n    let filter = initialQueryParams.get(\"filter\") || \"\";\n    let zoom = {};\n    let withSuperuserLogs =\n        (initialQueryParams.get(ADMIN_REQUESTS_QUERY_KEY) ||\n            window.localStorage?.getItem(ADMIN_REQUESTS_STORAGE_KEY)) << 0;\n    let initialWithSuperuserLogs = withSuperuserLogs;\n\n    $: if (initialQueryParams.get(LOG_QUERY_KEY) && logViewPanel) {\n        logViewPanel.show(initialQueryParams.get(LOG_QUERY_KEY));\n    }\n\n    $: presets = !withSuperuserLogs ? 'data.auth!=\"_superusers\"' : \"\";\n\n    $: if (initialWithSuperuserLogs != withSuperuserLogs) {\n        initialWithSuperuserLogs = withSuperuserLogs;\n        window.localStorage?.setItem(ADMIN_REQUESTS_STORAGE_KEY, withSuperuserLogs << 0);\n        updateQueryParams();\n    }\n\n    $: if (typeof filter !== \"undefined\") {\n        updateQueryParams();\n    }\n\n    function refresh() {\n        refreshKey++;\n    }\n\n    function updateQueryParams(extra = {}) {\n        let queryParams = {};\n        queryParams.filter = filter || null;\n        queryParams[ADMIN_REQUESTS_QUERY_KEY] = withSuperuserLogs << 0 || null;\n        CommonHelper.replaceHashQueryParams(Object.assign(queryParams, extra));\n    }\n</script>\n\n<PageWrapper>\n    <div class=\"page-header-wrapper m-b-0\">\n        <header class=\"page-header\">\n            <nav class=\"breadcrumbs\">\n                <div class=\"breadcrumb-item\">{$pageTitle}</div>\n            </nav>\n\n            <button\n                type=\"button\"\n                aria-label=\"Logs settings\"\n                class=\"btn btn-transparent btn-circle\"\n                use:tooltip={{ text: \"Logs settings\", position: \"right\" }}\n                on:click={() => logsSettingsPanel?.show()}\n            >\n                <i class=\"ri-settings-4-line\" />\n            </button>\n\n            <RefreshButton on:refresh={() => refresh()} />\n\n            <div class=\"flex-fill\" />\n\n            <div class=\"inline-flex\">\n                <Field class=\"form-field form-field-toggle m-0\" let:uniqueId>\n                    <input type=\"checkbox\" id={uniqueId} bind:checked={withSuperuserLogs} />\n                    <label for={uniqueId}>Include requests by superusers</label>\n                </Field>\n            </div>\n        </header>\n\n        <Searchbar\n            value={filter}\n            placeholder=\"Search term or filter like `level > 0 && data.auth = 'guest'`\"\n            extraAutocompleteKeys={[\"level\", \"message\", \"data.\"]}\n            on:submit={(e) => (filter = e.detail)}\n        />\n        <LogsLevelsInfo class=\"block txt-sm txt-hint m-t-xs m-b-base\" />\n\n        {#key refreshKey}\n            <LogsChart bind:zoom {filter} {presets} />\n        {/key}\n    </div>\n\n    {#key refreshKey}\n        <LogsList bind:filter bind:zoom {presets} on:select={(e) => logViewPanel?.show(e?.detail)} />\n    {/key}\n</PageWrapper>\n\n<LogViewPanel\n    bind:this={logViewPanel}\n    on:show={(e) => {\n        let query = {};\n        query[LOG_QUERY_KEY] = e.detail?.id || null;\n        CommonHelper.replaceHashQueryParams(query);\n    }}\n    on:hide={() => {\n        let query = {};\n        query[LOG_QUERY_KEY] = null;\n        CommonHelper.replaceHashQueryParams(query);\n    }}\n/>\n\n<LogsSettingsPanel bind:this={logsSettingsPanel} on:save={refresh} />\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import OverlayPanel from \"@/components/base/OverlayPanel.svelte\";\n\n    const baseTabs = {\n        list: {\n            label: \"List/Search\",\n            component: import(\"@/components/collections/docs/ListApiDocs.svelte\"),\n        },\n        view: {\n            label: \"View\",\n            component: import(\"@/components/collections/docs/ViewApiDocs.svelte\"),\n        },\n        create: {\n            label: \"Create\",\n            component: import(\"@/components/collections/docs/CreateApiDocs.svelte\"),\n        },\n        update: {\n            label: \"Update\",\n            component: import(\"@/components/collections/docs/UpdateApiDocs.svelte\"),\n        },\n        delete: {\n            label: \"Delete\",\n            component: import(\"@/components/collections/docs/DeleteApiDocs.svelte\"),\n        },\n        realtime: {\n            label: \"Realtime\",\n            component: import(\"@/components/collections/docs/RealtimeApiDocs.svelte\"),\n        },\n        batch: {\n            label: \"Batch\",\n            component: import(\"@/components/collections/docs/BatchApiDocs.svelte\"),\n        },\n    };\n\n    const authTabs = {\n        \"list-auth-methods\": {\n            label: \"List auth methods\",\n            component: import(\"@/components/collections/docs/AuthMethodsDocs.svelte\"),\n        },\n        \"auth-with-password\": {\n            label: \"Auth with password\",\n            component: import(\"@/components/collections/docs/AuthWithPasswordDocs.svelte\"),\n        },\n        \"auth-with-oauth2\": {\n            label: \"Auth with OAuth2\",\n            component: import(\"@/components/collections/docs/AuthWithOAuth2Docs.svelte\"),\n        },\n        \"auth-with-otp\": {\n            label: \"Auth with OTP\",\n            component: import(\"@/components/collections/docs/AuthWithOtpDocs.svelte\"),\n        },\n        refresh: {\n            label: \"Auth refresh\",\n            component: import(\"@/components/collections/docs/AuthRefreshDocs.svelte\"),\n        },\n        verification: {\n            label: \"Verification\",\n            component: import(\"@/components/collections/docs/VerificationDocs.svelte\"),\n        },\n        \"password-reset\": {\n            label: \"Password reset\",\n            component: import(\"@/components/collections/docs/PasswordResetDocs.svelte\"),\n        },\n        \"email-change\": {\n            label: \"Email change\",\n            component: import(\"@/components/collections/docs/EmailChangeDocs.svelte\"),\n        },\n    };\n\n    let docsPanel;\n    let collection = {};\n    let activeTab;\n    let tabs = [];\n\n    $: if (collection.type === \"auth\") {\n        tabs = Object.assign({}, baseTabs, authTabs);\n        tabs[\"auth-with-password\"].disabled = !collection.passwordAuth.enabled;\n        tabs[\"auth-with-oauth2\"].disabled = !collection.oauth2.enabled;\n        tabs[\"auth-with-otp\"].disabled = !collection.otp.enabled;\n    } else if (collection.type === \"view\") {\n        tabs = Object.assign({}, baseTabs);\n        delete tabs.create;\n        delete tabs.update;\n        delete tabs.delete;\n        delete tabs.realtime;\n        delete tabs.batch;\n    } else {\n        tabs = Object.assign({}, baseTabs);\n    }\n\n    // reset active tab on tabs list change\n    if (tabs.length) {\n        activeTab = Object.keys(tabs)[0];\n    }\n\n    export function show(model) {\n        collection = model;\n\n        changeTab(Object.keys(tabs)[0]);\n\n        return docsPanel?.show();\n    }\n\n    export function hide() {\n        return docsPanel?.hide();\n    }\n\n    export function changeTab(newTab) {\n        activeTab = newTab;\n    }\n</script>\n\n<OverlayPanel bind:this={docsPanel} on:hide on:show class=\"docs-panel\">\n    <div class=\"docs-content-wrapper\">\n        <aside class=\"docs-sidebar\" class:compact={collection?.type === \"auth\"}>\n            <nav class=\"sidebar-content\">\n                {#each Object.entries(tabs) as [key, tab], i (key)}\n                    <!-- add a separator before the first auth tab -->\n                    {#if i === Object.keys(baseTabs).length}\n                        <hr class=\"m-t-sm m-b-sm\" />\n                    {/if}\n\n                    {#if tab.disabled}\n                        <div\n                            class=\"sidebar-item disabled\"\n                            use:tooltip={{ position: \"left\", text: \"Not enabled for the collection\" }}\n                        >\n                            {tab.label}\n                        </div>\n                    {:else}\n                        <button\n                            type=\"button\"\n                            class=\"sidebar-item\"\n                            class:active={activeTab === key}\n                            on:click={() => changeTab(key)}\n                        >\n                            {tab.label}\n                        </button>\n                    {/if}\n                {/each}\n            </nav>\n        </aside>\n\n        <div class=\"docs-content\">\n            {#each Object.entries(tabs) as [key, tab] (key)}\n                {#if activeTab === key}\n                    {#await tab.component then { default: TabComponent }}\n                        <TabComponent {collection} />\n                    {/await}\n                {/if}\n            {/each}\n        </div>\n    </div>\n\n    <!-- visible only on small screens -->\n    <svelte:fragment slot=\"footer\">\n        <button type=\"button\" class=\"btn btn-transparent\" on:click={() => hide()}>\n            <span class=\"txt\">Close</span>\n        </button>\n    </svelte:fragment>\n</OverlayPanel>\n","<script>\n    import { createEventDispatcher, onMount } from \"svelte\";\n    import { slide } from \"svelte/transition\";\n\n    const dispatch = createEventDispatcher();\n\n    let accordionElem;\n    let expandTimeoutId;\n\n    let classes = \"\";\n    export { classes as class }; // export reserved keyword\n\n    export let draggable = false;\n    export let active = false;\n    export let interactive = true;\n    export let single = false; // ensures that only one accordion is expanded in its given parent container\n\n    let isDragOver = false;\n\n    $: if (active) {\n        clearTimeout(expandTimeoutId);\n        expandTimeoutId = setTimeout(() => {\n            if (accordionElem?.scrollIntoViewIfNeeded) {\n                accordionElem.scrollIntoViewIfNeeded();\n            } else if (accordionElem?.scrollIntoView) {\n                accordionElem.scrollIntoView({\n                    behavior: \"smooth\",\n                    block: \"nearest\",\n                });\n            }\n        }, 200);\n    }\n\n    export function isExpanded() {\n        return !!active;\n    }\n\n    export function expand() {\n        collapseSiblings();\n        active = true;\n        dispatch(\"expand\");\n    }\n\n    export function collapse() {\n        active = false;\n        clearTimeout(expandTimeoutId);\n        dispatch(\"collapse\");\n    }\n\n    export function toggle() {\n        dispatch(\"toggle\");\n\n        if (active) {\n            collapse();\n        } else {\n            expand();\n        }\n    }\n\n    export function collapseSiblings() {\n        if (single && accordionElem.closest(\".accordions\")) {\n            const handlers = accordionElem\n                .closest(\".accordions\")\n                .querySelectorAll(\".accordion.active .accordion-header.interactive\");\n            for (const handler of handlers) {\n                handler.click(); // @todo consider using store or other more reliable approach\n            }\n        }\n    }\n\n    onMount(() => {\n        return () => clearTimeout(expandTimeoutId);\n    });\n</script>\n\n<div bind:this={accordionElem} class=\"accordion {isDragOver ? 'drag-over' : ''} {classes}\" class:active>\n    <button\n        type=\"button\"\n        class=\"accordion-header\"\n        {draggable}\n        class:interactive\n        aria-expanded={active}\n        on:click|preventDefault={() => interactive && toggle()}\n        on:drop|preventDefault={(e) => {\n            if (draggable) {\n                isDragOver = false;\n                collapseSiblings();\n                dispatch(\"drop\", e);\n            }\n        }}\n        on:dragstart={(e) => draggable && dispatch(\"dragstart\", e)}\n        on:dragenter={(e) => {\n            if (draggable) {\n                isDragOver = true;\n                dispatch(\"dragenter\", e);\n            }\n        }}\n        on:dragleave={(e) => {\n            if (draggable) {\n                isDragOver = false;\n                dispatch(\"dragleave\", e);\n            }\n        }}\n        on:dragover|preventDefault\n    >\n        <slot name=\"header\" {active} />\n    </button>\n\n    {#if active}\n        <div class=\"accordion-content\" transition:slide={{ delay: 10, duration: 150 }}>\n            <slot />\n        </div>\n    {/if}\n</div>\n","<script context=\"module\">\n    let cachedEditorComponent;\n</script>\n\n<script>\n    import tooltip from \"@/actions/tooltip\";\n    import Accordion from \"@/components/base/Accordion.svelte\";\n    import Field from \"@/components/base/Field.svelte\";\n    import { errors, removeError } from \"@/stores/errors\";\n    import { addInfoToast } from \"@/stores/toasts\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { scale } from \"svelte/transition\";\n\n    export let key;\n    export let title;\n    export let config = {};\n    export let placeholders = [];\n\n    let accordion;\n    let editorComponent = cachedEditorComponent;\n    let isEditorComponentLoading = false;\n\n    $: hasErrors = !CommonHelper.isEmpty(CommonHelper.getNestedVal($errors, key));\n\n    $: if (!config.enabled) {\n        removeError(key);\n    }\n\n    export function expand() {\n        accordion?.expand();\n    }\n\n    export function collapse() {\n        accordion?.collapse();\n    }\n\n    export function collapseSiblings() {\n        accordion?.collapseSiblings();\n    }\n\n    async function loadEditorComponent() {\n        if (editorComponent || isEditorComponentLoading) {\n            return; // already loaded or in the process\n        }\n\n        isEditorComponentLoading = true;\n\n        editorComponent = (await import(\"@/components/base/CodeEditor.svelte\")).default;\n\n        cachedEditorComponent = editorComponent;\n\n        isEditorComponentLoading = false;\n    }\n\n    function copy(param) {\n        param = param.replace(\"*\", \"\"); // strip wildcard\n        CommonHelper.copyToClipboard(param);\n        addInfoToast(`Copied ${param} to clipboard`, 2000);\n    }\n\n    loadEditorComponent();\n</script>\n\n<Accordion bind:this={accordion} on:expand on:collapse on:toggle {...$$restProps}>\n    <svelte:fragment slot=\"header\">\n        <div class=\"inline-flex\">\n            <i class=\"ri-draft-line\" />\n            <span class=\"txt\">{title}</span>\n        </div>\n\n        <div class=\"flex-fill\" />\n\n        {#if hasErrors}\n            <i\n                class=\"ri-error-warning-fill txt-danger\"\n                transition:scale={{ duration: 150, start: 0.7 }}\n                use:tooltip={{ text: \"Has errors\", position: \"left\" }}\n            />\n        {/if}\n    </svelte:fragment>\n\n    <Field class=\"form-field required\" name=\"{key}.subject\" let:uniqueId>\n        <label for={uniqueId}>Subject</label>\n        <input type=\"text\" id={uniqueId} bind:value={config.subject} spellcheck=\"false\" required />\n        {#if placeholders?.length > 0}\n            <div class=\"help-block\">\n                Available placeholder parameters:\n                {#each placeholders as placeholder}\n                    <button\n                        type=\"button\"\n                        class=\"label label-sm link-primary txt-mono\"\n                        on:click={() => copy(\"{\" + placeholder + \"}\")}\n                    >\n                        {\"{\" + placeholder + \"}\"}\n                    </button>&nbsp;\n                {/each}\n            </div>\n        {/if}\n    </Field>\n\n    <Field class=\"form-field m-0 required\" name=\"{key}.body\" let:uniqueId>\n        <label for={uniqueId}>Body (HTML)</label>\n\n        {#if editorComponent && !isEditorComponentLoading}\n            <svelte:component this={editorComponent} id={uniqueId} language=\"html\" bind:value={config.body} />\n        {:else}\n            <textarea\n                id={uniqueId}\n                class=\"txt-mono\"\n                spellcheck=\"false\"\n                rows=\"14\"\n                required\n                bind:value={config.body}\n            />\n        {/if}\n\n        {#if placeholders?.length > 0}\n            <div class=\"help-block\">\n                Available placeholder parameters:\n                {#each placeholders as placeholder}\n                    <button\n                        type=\"button\"\n                        class=\"label label-sm link-primary txt-mono\"\n                        on:click={() => copy(\"{\" + placeholder + \"}\")}\n                    >\n                        {\"{\" + placeholder + \"}\"}\n                    </button>&nbsp;\n                {/each}\n            </div>\n        {/if}\n    </Field>\n</Accordion>\n","<script>\n    import Field from \"@/components/base/Field.svelte\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    export let key;\n    export let label;\n    export let duration;\n    export let secret;\n</script>\n\n<Field class=\"form-field required\" name=\"{key}.duration\" let:uniqueId>\n    <label for={uniqueId}>{label} duration (in seconds)</label>\n    <input type=\"number\" id={uniqueId} required bind:value={duration} placeholder=\"No change\" />\n    <div class=\"help-block\">\n        <!-- svelte-ignore a11y-click-events-have-key-events -->\n        <!-- svelte-ignore a11y-no-static-element-interactions -->\n        <span\n            class=\"link-primary\"\n            class:txt-success={!!secret}\n            on:click={() => {\n                // toggle\n                if (secret) {\n                    secret = undefined;\n                } else {\n                    secret = CommonHelper.randomSecret(50);\n                }\n            }}\n        >\n            Invalidate all previously issued tokens\n        </span>\n    </div>\n</Field>\n","<script>\n    import { scale } from \"svelte/transition\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import tooltip from \"@/actions/tooltip\";\n    import { errors } from \"@/stores/errors\";\n    import Accordion from \"@/components/base/Accordion.svelte\";\n    import TokenField from \"@/components/collections/TokenField.svelte\";\n\n    export let collection;\n\n    let tokensList = [];\n\n    $: isSuperusers = collection?.system && collection?.name === \"_superusers\";\n\n    $: tokensList = isSuperusers\n        ? [\n              { key: \"authToken\", label: \"Auth\" },\n              { key: \"passwordResetToken\", label: \"Password reset\" },\n              { key: \"fileToken\", label: \"Protected file access\" },\n          ]\n        : [\n              { key: \"authToken\", label: \"Auth\" },\n              { key: \"verificationToken\", label: \"Email verification\" },\n              { key: \"passwordResetToken\", label: \"Password reset\" },\n              { key: \"emailChangeToken\", label: \"Email change\" },\n              { key: \"fileToken\", label: \"Protected file access\" },\n          ];\n\n    $: hasErrors = hasTokenError($errors);\n\n    function hasTokenError(errors) {\n        if (CommonHelper.isEmpty(errors)) {\n            return false;\n        }\n\n        for (let token of tokensList) {\n            if (errors[token.key]) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n</script>\n\n<Accordion single>\n    <svelte:fragment slot=\"header\">\n        <div class=\"inline-flex\">\n            <i class=\"ri-key-2-line\"></i>\n            <span class=\"txt\">Tokens options (invalidate, duration)</span>\n        </div>\n\n        <div class=\"flex-fill\" />\n\n        {#if hasErrors}\n            <i\n                class=\"ri-error-warning-fill txt-danger\"\n                transition:scale={{ duration: 150, start: 0.7 }}\n                use:tooltip={{ text: \"Has errors\", position: \"left\" }}\n            />\n        {/if}\n    </svelte:fragment>\n\n    <div class=\"grid\">\n        {#each tokensList as token (token.key)}\n            <div class=\"col-sm-6\">\n                <TokenField\n                    key={token.key}\n                    label={token.label}\n                    bind:duration={collection[token.key].duration}\n                    bind:secret={collection[token.key].secret}\n                />\n            </div>\n        {/each}\n    </div>\n</Accordion>\n","<script context=\"module\">\n    let cachedRuleComponent;\n</script>\n\n<script>\n    import { tick } from \"svelte\";\n    import { scale } from \"svelte/transition\";\n    import Field from \"@/components/base/Field.svelte\";\n    import tooltip from \"@/actions/tooltip\";\n\n    export let collection = null;\n    export let rule = null;\n    export let label = \"Rule\";\n    export let formKey = \"rule\";\n    export let required = false;\n    export let disabled = false;\n    export let superuserToggle = true;\n    export let placeholder = \"Leave empty to grant everyone access...\";\n\n    let editorRef = null;\n    let tempValue = null;\n    let ruleInputComponent = cachedRuleComponent;\n    let isRuleComponentLoading = false;\n\n    $: isSuperuserOnly = superuserToggle && rule === null;\n\n    $: isDisabled = disabled || collection.system;\n\n    loadEditorComponent();\n\n    async function loadEditorComponent() {\n        if (ruleInputComponent || isRuleComponentLoading) {\n            return; // already loaded or in the process\n        }\n\n        isRuleComponentLoading = true;\n\n        ruleInputComponent = (await import(\"@/components/base/FilterAutocompleteInput.svelte\")).default;\n\n        cachedRuleComponent = ruleInputComponent;\n\n        isRuleComponentLoading = false;\n    }\n\n    async function unlock() {\n        rule = tempValue || \"\";\n        await tick();\n        editorRef?.focus();\n    }\n\n    function lock() {\n        tempValue = rule;\n        rule = null;\n    }\n</script>\n\n{#if isRuleComponentLoading}\n    <div class=\"txt-center\">\n        <span class=\"loader\" />\n    </div>\n{:else}\n    <Field\n        class=\"form-field rule-field {required ? 'requied' : ''} {isSuperuserOnly ? 'disabled' : ''}\"\n        name={formKey}\n        let:uniqueId\n    >\n        <div\n            class=\"input-wrapper\"\n            use:tooltip={collection.system\n                ? { text: \"System collection rule cannot be changed.\", position: \"top\" }\n                : undefined}\n        >\n            <label for={uniqueId}>\n                <slot name=\"beforeLabel\" {isSuperuserOnly} />\n\n                <span class=\"txt\" class:txt-hint={isSuperuserOnly}>\n                    {label}\n                    {isSuperuserOnly ? \"- Superusers only\" : \"\"}\n                </span>\n\n                <slot name=\"afterLabel\" {isSuperuserOnly} />\n\n                {#if superuserToggle && !isSuperuserOnly}\n                    <button\n                        type=\"button\"\n                        class=\"btn btn-sm btn-transparent btn-hint lock-toggle\"\n                        aria-hidden={isDisabled}\n                        disabled={isDisabled}\n                        on:click={lock}\n                    >\n                        <i class=\"ri-lock-line\" aria-hidden=\"true\" />\n                        <span class=\"txt\">Set Superusers only</span>\n                    </button>\n                {/if}\n            </label>\n\n            <svelte:component\n                this={ruleInputComponent}\n                id={uniqueId}\n                bind:this={editorRef}\n                bind:value={rule}\n                baseCollection={collection}\n                disabled={isDisabled || isSuperuserOnly}\n                placeholder={!isSuperuserOnly ? placeholder : \"\"}\n            />\n\n            {#if superuserToggle && isSuperuserOnly}\n                <button\n                    type=\"button\"\n                    class=\"unlock-overlay\"\n                    disabled={isDisabled}\n                    aria-hidden={isDisabled}\n                    transition:scale={{ duration: 150, start: 0.98 }}\n                    on:click={unlock}\n                >\n                    {#if !isDisabled}\n                        <small class=\"txt\">Unlock and set custom rule</small>\n                    {/if}\n                    <div class=\"icon\" aria-hidden=\"true\">\n                        <i class=\"ri-lock-unlock-line\" />\n                    </div>\n                </button>\n            {/if}\n        </div>\n\n        <div class=\"help-block\">\n            <slot {isSuperuserOnly} />\n        </div>\n    </Field>\n{/if}\n\n<style lang=\"scss\">\n    .lock-toggle {\n        position: absolute;\n        right: 0px;\n        top: 0px;\n        min-width: 135px;\n        padding: 10px;\n        border-top-left-radius: 0;\n        border-bottom-right-radius: 0;\n        background: rgba(53, 71, 104, 0.09);\n    }\n    :global(.rule-field .code-editor .cm-placeholder) {\n        font-family: var(--baseFontFamily);\n    }\n    .input-wrapper {\n        position: relative;\n    }\n    .unlock-overlay {\n        --hoverAnimationSpeed: 0.2s;\n        position: absolute;\n        z-index: 1;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        padding: 20px;\n        gap: 10px;\n        align-items: center;\n        justify-content: end;\n        text-align: center;\n        border-radius: var(--baseRadius);\n        outline: 0;\n        cursor: pointer;\n        text-decoration: none;\n        color: var(--successColor);\n        border: 2px solid var(--baseAlt1Color);\n        transition: border-color var(--baseAnimationSpeed);\n        i {\n            font-size: inherit;\n        }\n        .icon {\n            color: var(--successColor);\n            font-size: 1.15rem;\n            line-height: 1;\n            font-weight: normal;\n            transition: transform var(--hoverAnimationSpeed);\n        }\n        .txt {\n            opacity: 0;\n            font-size: var(--xsFontSize);\n            font-weight: 600;\n            line-height: var(--smLineHeight);\n            transform: translateX(5px);\n            transition:\n                transform var(--hoverAnimationSpeed),\n                opacity var(--hoverAnimationSpeed);\n        }\n        &:hover,\n        &:focus-visible,\n        &:active {\n            border-color: var(--baseAlt3Color);\n            .icon {\n                transform: scale(1.1);\n            }\n            .txt {\n                opacity: 1;\n                transform: scale(1);\n            }\n        }\n        &:active {\n            transition-duration: var(--activeAnimationSpeed);\n            border-color: var(--baseAlt3Color);\n        }\n        &[disabled] {\n            cursor: not-allowed;\n        }\n    }\n</style>\n","<script>\n    import { scale } from \"svelte/transition\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import tooltip from \"@/actions/tooltip\";\n    import { errors } from \"@/stores/errors\";\n    import Accordion from \"@/components/base/Accordion.svelte\";\n    import Field from \"@/components/base/Field.svelte\";\n    import RuleField from \"@/components/collections/RuleField.svelte\";\n\n    export let collection;\n\n    $: hasErrors = !CommonHelper.isEmpty($errors?.mfa);\n</script>\n\n<Accordion single>\n    <svelte:fragment slot=\"header\">\n        <div class=\"inline-flex\">\n            <i class=\"ri-shield-check-line\"></i>\n            <span class=\"txt\"> Multi-factor authentication (MFA) </span>\n        </div>\n\n        <div class=\"flex-fill\" />\n\n        {#if collection.mfa.enabled}\n            <span class=\"label label-success\">Enabled</span>\n        {:else}\n            <span class=\"label\">Disabled</span>\n        {/if}\n\n        {#if hasErrors}\n            <i\n                class=\"ri-error-warning-fill txt-danger\"\n                transition:scale={{ duration: 150, start: 0.7 }}\n                use:tooltip={{ text: \"Has errors\", position: \"left\" }}\n            />\n        {/if}\n    </svelte:fragment>\n\n    <div class=\"content m-b-sm\">\n        <p class=\"txt-bold\">This feature is experimental and may change in the future.</p>\n        <p>\n            Multi-factor authentication (MFA) requires the user to authenticate with any 2 different auth\n            methods (otp, identity/password, oauth2) before issuing an auth token.\n            <a\n                href={import.meta.env.PB_MFA_DOCS}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                class=\"txt-sm link-hint\"\n                title=\"Learn more\"\n            >\n                <em>(Learn more)</em>\n            </a>.\n        </p>\n    </div>\n\n    <div class=\"grid\">\n        <Field class=\"form-field form-field-toggle\" name=\"mfa.enabled\" let:uniqueId>\n            <input type=\"checkbox\" id={uniqueId} bind:checked={collection.mfa.enabled} />\n            <label for={uniqueId}>\n                <span class=\"txt\">Enable</span>\n            </label>\n        </Field>\n\n        <div class=\"content\" class:fade={!collection.mfa.enabled}>\n            <RuleField\n                label=\"MFA rule\"\n                formKey=\"mfa.rule\"\n                superuserToggle={false}\n                disabled={!collection.mfa.enabled}\n                placeholder=\"Leave empty to require MFA for everyone\"\n                {collection}\n                bind:rule={collection.mfa.rule}\n            >\n                <svelte:fragment>\n                    <p>This optional rule could be used to enable/disable MFA per account basis.</p>\n                    <p>\n                        For example, to require MFA only for accounts with non-empty email you can set it to\n                        <code>email != ''</code>.\n                    </p>\n                    <p>Leave the rule empty to require MFA for everyone.</p>\n                </svelte:fragment>\n            </RuleField>\n        </div>\n    </div>\n</Accordion>\n","<script>\n    import { onMount, createEventDispatcher } from \"svelte\";\n    import tooltip from \"@/actions/tooltip\";\n    import Toggler from \"@/components/base/Toggler.svelte\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    export let id = \"\";\n    export let noOptionsText = \"No options found\";\n    export let selectPlaceholder = \"- Select -\";\n    export let searchPlaceholder = \"Search...\";\n    export let items = [];\n    export let multiple = false;\n    export let disabled = false;\n    export let readonly = false;\n    export let upside = false;\n    export let zeroFunc = () => (multiple ? [] : undefined);\n    export let selected = zeroFunc();\n    export let toggle = multiple; // toggle option on click\n    export let closable = true; // close the dropdown on option select/deselect\n    export let labelComponent = undefined; // custom component to use for each selected option label\n    export let labelComponentProps = {}; // props to pass to the custom option component\n    export let optionComponent = undefined; // custom component to use for each dropdown option item\n    export let optionComponentProps = {}; // props to pass to the custom option component\n    export let searchable = false; // whether to show the dropdown options search input\n    export let searchFunc = undefined; // custom search option filter: `function(item, searchTerm):boolean`\n\n    const dispatch = createEventDispatcher();\n\n    let classes = \"\";\n    export { classes as class }; // export reserved keyword\n\n    let toggler;\n    let searchTerm = \"\";\n    let container = undefined;\n    let labelDiv = undefined;\n\n    $: if (items) {\n        ensureSelectedExist();\n        resetSearch();\n    }\n\n    $: filteredItems = filterItems(items, searchTerm);\n\n    $: isSelected = function (item) {\n        const normalized = CommonHelper.toArray(selected);\n\n        return CommonHelper.inArray(normalized, item);\n    };\n\n    // Selection handlers\n    // ---------------------------------------------------------------\n    export function deselectItem(item) {\n        if (CommonHelper.isEmpty(selected)) {\n            return; // nothing to deselect\n        }\n\n        let normalized = CommonHelper.toArray(selected);\n        if (CommonHelper.inArray(normalized, item)) {\n            CommonHelper.removeByValue(normalized, item);\n            selected = multiple ? normalized : normalized?.[0] || zeroFunc();\n        }\n\n        dispatch(\"change\", { selected });\n\n        // emulate native change event\n        container?.dispatchEvent(new CustomEvent(\"change\", { detail: selected, bubbles: true }));\n    }\n\n    export function selectItem(item) {\n        if (multiple) {\n            let normalized = CommonHelper.toArray(selected);\n            if (!CommonHelper.inArray(normalized, item)) {\n                selected = [...normalized, item];\n            }\n        } else {\n            selected = item;\n        }\n\n        dispatch(\"change\", { selected });\n\n        // emulate native change event\n        container?.dispatchEvent(new CustomEvent(\"change\", { detail: selected, bubbles: true }));\n    }\n\n    export function toggleItem(item) {\n        return isSelected(item) ? deselectItem(item) : selectItem(item);\n    }\n\n    export function reset() {\n        selected = zeroFunc();\n\n        dispatch(\"change\", { selected });\n\n        // emulate native change event\n        container?.dispatchEvent(new CustomEvent(\"change\", { detail: selected, bubbles: true }));\n    }\n\n    export function showDropdown() {\n        toggler?.show && toggler?.show();\n    }\n\n    export function hideDropdown() {\n        toggler?.hide && toggler?.hide();\n    }\n\n    function ensureSelectedExist() {\n        if (CommonHelper.isEmpty(selected) || CommonHelper.isEmpty(items)) {\n            return; // nothing to check\n        }\n\n        let selectedArray = CommonHelper.toArray(selected);\n        let unselectedArray = [];\n\n        // find missing\n        for (const selectedItem of selectedArray) {\n            if (!CommonHelper.inArray(items, selectedItem)) {\n                unselectedArray.push(selectedItem);\n            }\n        }\n\n        // trigger reactivity\n        if (unselectedArray.length) {\n            for (const item of unselectedArray) {\n                CommonHelper.removeByValue(selectedArray, item);\n            }\n\n            selected = multiple ? selectedArray : selectedArray[0];\n        }\n    }\n\n    // Search handlers\n    // ---------------------------------------------------------------\n    function defaultSearchFunc(item, search) {\n        let normalizedSearch = (\"\" + search).replace(/\\s+/g, \"\").toLowerCase();\n        let normalizedItem = item;\n\n        try {\n            if (typeof item === \"object\" && item !== null) {\n                normalizedItem = JSON.stringify(item);\n            }\n        } catch (e) {}\n\n        return (\"\" + normalizedItem).replace(/\\s+/g, \"\").toLowerCase().includes(normalizedSearch);\n    }\n\n    function resetSearch() {\n        searchTerm = \"\";\n    }\n\n    function filterItems(items, search) {\n        items = items || [];\n\n        const filterFunc = searchFunc || defaultSearchFunc;\n\n        return items.filter((item) => filterFunc(item, search)) || [];\n    }\n\n    // Option actions\n    // ---------------------------------------------------------------\n    function handleOptionSelect(e, item) {\n        e.preventDefault();\n\n        if (toggle && multiple) {\n            toggleItem(item);\n        } else {\n            selectItem(item);\n        }\n    }\n\n    function handleOptionKeypress(e, item) {\n        if (e.code === \"Enter\" || e.code === \"Space\") {\n            handleOptionSelect(e, item);\n            if (closable) {\n                hideDropdown();\n            }\n        }\n    }\n\n    function onDropdownShow() {\n        resetSearch();\n\n        // ensure that the first selected option is visible\n        setTimeout(() => {\n            const selected = container?.querySelector(\".dropdown-item.option.selected\");\n            if (selected) {\n                selected.focus();\n                selected.scrollIntoView({ block: \"nearest\" });\n            }\n        }, 0);\n    }\n\n    // Label(s) activation\n    // ---------------------------------------------------------------\n    function onLabelClick(e) {\n        e.stopPropagation();\n\n        !readonly && !disabled && toggler?.toggle();\n    }\n\n    onMount(() => {\n        const labels = document.querySelectorAll(`label[for=\"${id}\"]`);\n\n        for (const label of labels) {\n            label.addEventListener(\"click\", onLabelClick);\n        }\n\n        return () => {\n            for (const label of labels) {\n                label.removeEventListener(\"click\", onLabelClick);\n            }\n        };\n    });\n</script>\n\n<div bind:this={container} class=\"select {classes}\" class:upside class:multiple class:disabled class:readonly>\n    <!-- svelte-ignore a11y-no-noninteractive-tabindex -->\n    <div\n        bind:this={labelDiv}\n        tabindex={disabled || readonly ? \"-1\" : \"0\"}\n        class=\"selected-container\"\n        class:disabled\n        class:readonly\n        role=\"button\"\n    >\n        {#each CommonHelper.toArray(selected) as item, i}\n            <div class=\"option\">\n                {#if labelComponent}\n                    <svelte:component this={labelComponent} {item} {...labelComponentProps} />\n                {:else}\n                    <span class=\"txt\">{item}</span>\n                {/if}\n\n                {#if multiple || toggle}\n                    <!-- svelte-ignore a11y-click-events-have-key-events -->\n                    <!-- svelte-ignore a11y-no-static-element-interactions -->\n                    <span\n                        class=\"clear\"\n                        use:tooltip={\"Clear\"}\n                        on:click|preventDefault|stopPropagation={() => deselectItem(item)}\n                    >\n                        <i class=\"ri-close-line\" />\n                    </span>\n                {/if}\n            </div>\n        {:else}\n            <div class=\"block txt-placeholder\" class:link-hint={!disabled && !readonly}>\n                {selectPlaceholder}\n            </div>\n        {/each}\n    </div>\n\n    {#if !disabled && !readonly}\n        <Toggler\n            bind:this={toggler}\n            class=\"dropdown dropdown-block options-dropdown dropdown-left {upside ? 'dropdown-upside' : ''}\"\n            trigger={labelDiv}\n            on:show={onDropdownShow}\n            on:hide\n        >\n            {#if searchable}\n                <div class=\"form-field form-field-sm options-search\">\n                    <label class=\"input-group\">\n                        <div class=\"addon p-r-0\">\n                            <i class=\"ri-search-line\" />\n                        </div>\n                        <!-- svelte-ignore a11y-autofocus -->\n                        <input\n                            autofocus\n                            type=\"text\"\n                            placeholder={searchPlaceholder}\n                            bind:value={searchTerm}\n                        />\n\n                        {#if searchTerm.length}\n                            <div class=\"addon suffix p-r-5\">\n                                <button\n                                    type=\"button\"\n                                    class=\"btn btn-sm btn-circle btn-transparent clear\"\n                                    on:click|preventDefault|stopPropagation={resetSearch}\n                                >\n                                    <i class=\"ri-close-line\" />\n                                </button>\n                            </div>\n                        {/if}\n                    </label>\n                </div>\n            {/if}\n\n            <slot name=\"beforeOptions\" />\n\n            <div class=\"options-list\">\n                {#each filteredItems as item}\n                    <!-- svelte-ignore a11y-no-noninteractive-tabindex -->\n                    <!-- svelte-ignore a11y-no-static-element-interactions -->\n                    <div\n                        tabindex=\"0\"\n                        class=\"dropdown-item option\"\n                        role=\"menuitem\"\n                        class:closable\n                        class:selected={isSelected(item)}\n                        on:click={(e) => handleOptionSelect(e, item)}\n                        on:keydown={(e) => handleOptionKeypress(e, item)}\n                    >\n                        {#if optionComponent}\n                            <svelte:component this={optionComponent} {item} {...optionComponentProps} />\n                        {:else}{item}{/if}\n                    </div>\n                {:else}\n                    {#if noOptionsText}\n                        <div class=\"txt-missing\">{noOptionsText}</div>\n                    {/if}\n                {/each}\n            </div>\n\n            <slot name=\"afterOptions\" />\n        </Toggler>\n    {/if}\n</div>\n","<script>\n    import { tick } from \"svelte\";\n    import tooltip from \"@/actions/tooltip\";\n\n    export let value = undefined; // note must be undefined so that it can be skipped from the submit data\n    export let mask = false;\n\n    let inputElem;\n\n    async function unlock() {\n        value = \"\";\n        mask = false;\n        await tick();\n        inputElem?.focus();\n    }\n</script>\n\n{#if mask}\n    <div class=\"form-field-addon\">\n        <button\n            type=\"button\"\n            class=\"btn btn-transparent btn-circle\"\n            use:tooltip={{ position: \"left\", text: \"Set new value\" }}\n            on:click|preventDefault={unlock}\n        >\n            <i class=\"ri-key-line\" />\n        </button>\n    </div>\n\n    <input disabled type=\"text\" placeholder=\"******\" {...$$restProps} />\n{:else}\n    <input bind:this={inputElem} bind:value type=\"password\" autocomplete=\"new-password\" {...$$restProps} />\n{/if}\n","<script>\n    import { createEventDispatcher } from \"svelte\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import tooltip from \"@/actions/tooltip\";\n    import { confirm } from \"@/stores/confirmation\";\n    import { removeError } from \"@/stores/errors\";\n    import Field from \"@/components/base/Field.svelte\";\n    import OverlayPanel from \"@/components/base/OverlayPanel.svelte\";\n    import RedactedPasswordInput from \"@/components/base/RedactedPasswordInput.svelte\";\n\n    const dispatch = createEventDispatcher();\n\n    const formId = \"provider_popup_\" + CommonHelper.randomString(5);\n\n    let panel;\n    let uiOptions = {};\n    let config = {};\n    let isNew = false;\n    let initialHash = \"\";\n    let maskSecret = false;\n    let providerIndex = 0;\n\n    $: hasChanges = JSON.stringify(config) != initialHash;\n\n    $: errPrefix = \"oauth2.providers.\" + providerIndex;\n\n    export function show(showOptions, showConfig, showIndex) {\n        providerIndex = showIndex || 0;\n        isNew = CommonHelper.isEmpty(showConfig);\n        uiOptions = Object.assign({}, showOptions);\n        config = Object.assign({}, showConfig);\n        maskSecret = !!config.clientId;\n        initialHash = JSON.stringify(config);\n\n        panel?.show();\n    }\n\n    export function hide() {\n        removeError(errPrefix);\n        panel?.hide();\n    }\n\n    async function submit() {\n        dispatch(\"submit\", { uiOptions, config });\n        hide();\n    }\n\n    async function remove() {\n        confirm(\n            `Do you really want to remove the \"${uiOptions.title}\" OAuth2 provider from the collection?`,\n            () => {\n                dispatch(\"remove\", { uiOptions });\n                hide();\n            },\n        );\n    }\n</script>\n\n<OverlayPanel bind:this={panel} btnClose={false} on:show on:hide>\n    <svelte:fragment slot=\"header\">\n        <figure class=\"provider-logo\">\n            {#if uiOptions.logo}\n                <img\n                    src=\"{import.meta.env.BASE_URL}images/oauth2/{uiOptions.logo}\"\n                    alt=\"{uiOptions.title} logo\"\n                />\n            {:else}\n                <i class=\"ri-puzzle-line txt-sm txt-hint\"></i>\n            {/if}\n        </figure>\n        <h4 class=\"center txt-break\">{uiOptions.title} <small class=\"txt-hint\">({uiOptions.key})</small></h4>\n    </svelte:fragment>\n\n    <form id={formId} autocomplete=\"off\" on:submit|preventDefault={() => submit()}>\n        <Field class=\"form-field required\" name=\"{errPrefix}.clientId\" let:uniqueId>\n            <label for={uniqueId}>Client ID</label>\n            <input type=\"text\" id={uniqueId} bind:value={config.clientId} />\n        </Field>\n\n        <Field class=\"form-field required\" name=\"{errPrefix}.clientSecret\" let:uniqueId>\n            <label for={uniqueId}>Client secret</label>\n            <RedactedPasswordInput id={uniqueId} bind:mask={maskSecret} bind:value={config.clientSecret} />\n        </Field>\n\n        {#if uiOptions.optionsComponent}\n            <div class=\"col-lg-12\">\n                <svelte:component\n                    this={uiOptions.optionsComponent}\n                    key={errPrefix}\n                    bind:config\n                    {...uiOptions.optionsComponentProps || {}}\n                />\n            </div>\n        {/if}\n    </form>\n\n    <svelte:fragment slot=\"footer\">\n        {#if !isNew}\n            <button\n                type=\"button\"\n                class=\"btn btn-transparent btn-circle btn-hint btn-sm\"\n                aria-label=\"Remove provider\"\n                use:tooltip={{ text: \"Remove provider\", position: \"right\" }}\n                on:click={remove}\n            >\n                <i class=\"ri-delete-bin-7-line\" aria-hidden=\"true\" />\n            </button>\n            <div class=\"flex-fill\"></div>\n        {/if}\n        <button type=\"button\" class=\"btn btn-transparent\" on:click={hide}>Cancel</button>\n        <button type=\"submit\" form={formId} class=\"btn btn-expanded\" disabled={!hasChanges}>\n            <span class=\"txt\">Set provider config</span>\n        </button>\n    </svelte:fragment>\n</OverlayPanel>\n","<script>\n    import { createEventDispatcher } from \"svelte\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { addSuccessToast } from \"@/stores/toasts\";\n    import { setErrors } from \"@/stores/errors\";\n    import tooltip from \"@/actions/tooltip\";\n    import OverlayPanel from \"@/components/base/OverlayPanel.svelte\";\n    import Field from \"@/components/base/Field.svelte\";\n\n    const dispatch = createEventDispatcher();\n\n    const formId = \"apple_secret_\" + CommonHelper.randomString(5);\n\n    const maxDuration = 15777000; // 6 months\n\n    let panel;\n    let clientId;\n    let teamId;\n    let keyId;\n    let privateKey;\n    let duration;\n    let isSubmitting = false;\n\n    $: canSubmit = true;\n\n    export function show(config = {}) {\n        clientId = config.clientId || \"\";\n        teamId = config.teamId || \"\";\n        keyId = config.keyId || \"\";\n        privateKey = config.privateKey || \"\";\n        duration = config.duration || maxDuration;\n\n        setErrors({}); // reset any previous errors\n\n        panel?.show();\n    }\n\n    export function hide() {\n        return panel?.hide();\n    }\n\n    async function submit() {\n        isSubmitting = true;\n\n        try {\n            const result = await ApiClient.settings.generateAppleClientSecret(\n                clientId,\n                teamId,\n                keyId,\n                privateKey.trim(),\n                duration,\n            );\n\n            isSubmitting = false;\n\n            addSuccessToast(\"Successfully generated client secret.\");\n\n            dispatch(\"submit\", result);\n\n            panel?.hide();\n        } catch (err) {\n            ApiClient.error(err);\n        }\n\n        isSubmitting = false;\n    }\n</script>\n\n<OverlayPanel\n    bind:this={panel}\n    overlayClose={!isSubmitting}\n    escClose={!isSubmitting}\n    beforeHide={() => !isSubmitting}\n    popup\n    on:show\n    on:hide\n>\n    <svelte:fragment slot=\"header\">\n        <h4 class=\"center txt-break\">Generate Apple client secret</h4>\n    </svelte:fragment>\n\n    <form id={formId} autocomplete=\"off\" on:submit|preventDefault={() => submit()}>\n        <div class=\"grid\">\n            <div class=\"col-lg-6\">\n                <Field class=\"form-field required\" name=\"clientId\" let:uniqueId>\n                    <label for={uniqueId}>Client ID</label>\n                    <input type=\"text\" id={uniqueId} bind:value={clientId} required />\n                </Field>\n            </div>\n            <div class=\"col-lg-6\">\n                <Field class=\"form-field required\" name=\"teamId\" let:uniqueId>\n                    <label for={uniqueId}>Team ID</label>\n                    <input type=\"text\" id={uniqueId} bind:value={teamId} required />\n                </Field>\n            </div>\n            <div class=\"col-lg-6\">\n                <Field class=\"form-field required\" name=\"keyId\" let:uniqueId>\n                    <label for={uniqueId}>Key ID</label>\n                    <input type=\"text\" id={uniqueId} bind:value={keyId} required />\n                </Field>\n            </div>\n            <div class=\"col-lg-6\">\n                <Field class=\"form-field required\" name=\"duration\" let:uniqueId>\n                    <label for={uniqueId}>\n                        <span class=\"txt\">Duration (in seconds)</span>\n                        <i\n                            class=\"ri-information-line link-hint\"\n                            use:tooltip={{\n                                text: `Max ${maxDuration} seconds (~${\n                                    (maxDuration / (60 * 60 * 24 * 30)) << 0\n                                } months).`,\n                                position: \"top\",\n                            }}\n                        />\n                    </label>\n                    <input type=\"number\" id={uniqueId} max={maxDuration} bind:value={duration} required />\n                </Field>\n            </div>\n\n            <Field class=\"form-field required\" name=\"privateKey\" let:uniqueId>\n                <label for={uniqueId}>Private key</label>\n                <textarea\n                    id={uniqueId}\n                    required\n                    rows=\"8\"\n                    placeholder={\"-----BEGIN PRIVATE KEY-----\\n...\\n-----END PRIVATE KEY-----\"}\n                    bind:value={privateKey}\n                />\n                <div class=\"help-block\">\n                    The key is not stored on the server and it is used only for generating the signed JWT.\n                </div>\n            </Field>\n        </div>\n    </form>\n\n    <svelte:fragment slot=\"footer\">\n        <button type=\"button\" class=\"btn btn-transparent\" on:click={hide} disabled={isSubmitting}\n            >Close</button\n        >\n        <button\n            type=\"submit\"\n            form={formId}\n            class=\"btn btn-expanded\"\n            class:btn-loading={isSubmitting}\n            disabled={!canSubmit || isSubmitting}\n        >\n            <i class=\"ri-key-line\" />\n            <span class=\"txt\">Generate and set secret</span>\n        </button>\n    </svelte:fragment>\n</OverlayPanel>\n","<script>\n    import AppleSecretPopup from \"@/components/collections/providers/AppleSecretPopup.svelte\";\n\n    export let key = \"\";\n    export let config = {};\n\n    let generatorPopup;\n</script>\n\n<button\n    type=\"button\"\n    class=\"btn btn-sm btn-secondary btn-provider-{key}\"\n    on:click={() => generatorPopup?.show({ clientId: config.clientId })}\n>\n    <i class=\"ri-key-line\" />\n    <span class=\"txt\">Generate secret</span>\n</button>\n\n<AppleSecretPopup\n    bind:this={generatorPopup}\n    on:submit={(e) => {\n        config.clientSecret = e.detail?.secret || \"\";\n    }}\n/>\n","<script>\n    import Field from \"@/components/base/Field.svelte\";\n\n    export let key = \"\";\n    export let config = {};\n</script>\n\n<div class=\"section-title\">Azure AD endpoints</div>\n<Field class=\"form-field required\" name=\"{key}.authURL\" let:uniqueId>\n    <label for={uniqueId}>Auth URL</label>\n    <input type=\"url\" id={uniqueId} bind:value={config.authURL} required />\n    <div class=\"help-block\">\n        Ex. {`https://login.microsoftonline.com/YOUR_DIRECTORY_TENANT_ID/oauth2/v2.0/authorize`}\n    </div>\n</Field>\n<Field class=\"form-field required\" name=\"{key}.tokenURL\" let:uniqueId>\n    <label for={uniqueId}>Token URL</label>\n    <input type=\"url\" id={uniqueId} bind:value={config.tokenURL} required />\n    <div class=\"help-block\">\n        Ex. {`https://login.microsoftonline.com/YOUR_DIRECTORY_TENANT_ID/oauth2/v2.0/token`}\n    </div>\n</Field>\n","<script>\n    // example supported format: {label: \"...\", value: \"...\", icon: \"\"}\n    export let item = {};\n</script>\n\n{#if item.icon}\n    <i class=\"icon {item.icon}\" />\n{/if}\n\n<span class=\"txt\">{item.label || item.name || item.title || item.id || item.value}</span>\n","<script>\n    import BaseSelectOption from \"@/components/base/BaseSelectOption.svelte\";\n    import Select from \"@/components/base/Select.svelte\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    // original select props\n    export let items = [];\n    export let multiple = false;\n    export let selected = multiple ? [] : undefined;\n    export let labelComponent = BaseSelectOption; // custom component to use for each selected option label\n    export let optionComponent = BaseSelectOption; // custom component to use for each dropdown option item\n\n    // custom props\n    export let selectionKey = \"value\";\n    export let keyOfSelected = multiple ? [] : undefined;\n\n    let oldKeyOfSelectedHash = JSON.stringify(keyOfSelected);\n\n    $: if (items) {\n        handleKeyOfSelectedChange(keyOfSelected);\n    }\n\n    $: handleSelectedChange(selected);\n\n    function handleKeyOfSelectedChange(newKeyOfSelected) {\n        newKeyOfSelected = CommonHelper.toArray(newKeyOfSelected, true);\n\n        let newSelected = [];\n\n        for (let v of newKeyOfSelected) {\n            const item = CommonHelper.findByKey(items, selectionKey, v);\n            if (item) {\n                newSelected.push(item);\n            }\n        }\n\n        if (newKeyOfSelected.length && !newSelected.length) {\n            return; // options are still loading...\n        }\n\n        selected = multiple ? newSelected : newSelected[0];\n    }\n\n    async function handleSelectedChange(newSelected) {\n        if (!items.length) {\n            return; // options are still loading...\n        }\n\n        let extractedKeys = CommonHelper.toArray(newSelected, true).map((item) => item[selectionKey]);\n        let newKeyOfSelected = multiple ? extractedKeys : extractedKeys[0];\n\n        if (JSON.stringify(newKeyOfSelected) != oldKeyOfSelectedHash) {\n            keyOfSelected = newKeyOfSelected;\n            oldKeyOfSelectedHash = JSON.stringify(keyOfSelected);\n        }\n    }\n</script>\n\n<Select\n    bind:selected\n    {items}\n    {multiple}\n    {labelComponent}\n    {optionComponent}\n    on:show\n    on:hide\n    on:change\n    {...$$restProps}\n>\n    <svelte:fragment slot=\"afterOptions\">\n        <slot name=\"afterOptions\" />\n    </svelte:fragment>\n</Select>\n","<script>\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    export let value = [];\n    export let separator = \",\";\n    export let readonly = null;\n    export let disabled = null;\n\n    $: valueStr = CommonHelper.joinNonEmpty(value, separator + \" \");\n</script>\n\n<input\n    type={$$restProps.type || \"text\"}\n    value={valueStr}\n    {disabled}\n    {readonly}\n    on:input={(e) => {\n        value = CommonHelper.splitNonEmpty(e.target.value, separator);\n    }}\n    {...$$restProps}\n/>\n","<script>\n    import { slide } from \"svelte/transition\";\n    import tooltip from \"@/actions/tooltip\";\n    import Field from \"@/components/base/Field.svelte\";\n    import ObjectSelect from \"@/components/base/ObjectSelect.svelte\";\n    import MultipleValueInput from \"@/components/base/MultipleValueInput.svelte\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    export let key = \"\";\n    export let config = {};\n\n    const userInfoOptions = [\n        { label: \"User info URL\", value: true },\n        { label: \"ID Token\", value: false },\n    ];\n\n    let hasUserInfoURL = !!config.userInfoURL;\n\n    if (CommonHelper.isEmpty(config.pkce)) {\n        config.pkce = true;\n    }\n\n    if (!config.displayName) {\n        config.displayName = \"OIDC\";\n    }\n\n    if (!config.extra) {\n        config.extra = {};\n        hasUserInfoURL = true;\n    }\n\n    $: if (typeof hasUserInfoURL !== undefined) {\n        refreshUserInfoState();\n    }\n\n    function refreshUserInfoState() {\n        if (!hasUserInfoURL) {\n            config.userInfoURL = \"\";\n            config.extra = config.extra || {};\n        } else {\n            config.extra = {};\n        }\n    }\n</script>\n\n<Field class=\"form-field required\" name=\"{key}.displayName\" let:uniqueId>\n    <label for={uniqueId}>Display name</label>\n    <input type=\"text\" id={uniqueId} bind:value={config.displayName} required />\n</Field>\n\n<div class=\"section-title\">Endpoints</div>\n\n<Field class=\"form-field required\" name=\"{key}.authURL\" let:uniqueId>\n    <label for={uniqueId}>Auth URL</label>\n    <input type=\"url\" id={uniqueId} bind:value={config.authURL} required />\n</Field>\n\n<Field class=\"form-field required\" name=\"{key}.tokenURL\" let:uniqueId>\n    <label for={uniqueId}>Token URL</label>\n    <input type=\"url\" id={uniqueId} bind:value={config.tokenURL} required />\n</Field>\n\n<Field class=\"form-field m-b-xs\" let:uniqueId>\n    <label for={uniqueId}>Fetch user info from</label>\n    <ObjectSelect id={uniqueId} items={userInfoOptions} bind:keyOfSelected={hasUserInfoURL} />\n</Field>\n\n<div class=\"sub-panel m-b-base\">\n    {#if hasUserInfoURL}\n        <div class=\"content\" transition:slide={{ delay: 10, duration: 150 }}>\n            <Field class=\"form-field required\" name=\"{key}.userInfoURL\" let:uniqueId>\n                <label for={uniqueId}>User info URL</label>\n                <input type=\"url\" id={uniqueId} bind:value={config.userInfoURL} required />\n            </Field>\n        </div>\n    {:else}\n        <div class=\"content\" transition:slide={{ delay: 10, duration: 150 }}>\n            <p class=\"txt-hint txt-sm m-b-xs\">\n                <em>\n                    Both fields are considered optional because the parsed <code>id_token</code>\n                    is a direct result of the trusted server code->token exchange response.\n                </em>\n            </p>\n            <Field class=\"form-field m-b-xs\" name=\"{key}.extra.jwksURL\" let:uniqueId>\n                <label for={uniqueId}>\n                    <span class=\"txt\">JWKS verification URL</span>\n                    <i\n                        class=\"ri-information-line link-hint\"\n                        use:tooltip={{\n                            text: \"URL to the public token verification keys.\",\n                            position: \"top\",\n                        }}\n                    />\n                </label>\n                <input type=\"url\" id={uniqueId} bind:value={config.extra.jwksURL} />\n            </Field>\n            <Field class=\"form-field\" name=\"{key}.extra.issuers\" let:uniqueId>\n                <label for={uniqueId}>\n                    <span class=\"txt\">Issuers</span>\n                    <i\n                        class=\"ri-information-line link-hint\"\n                        use:tooltip={{\n                            text: \"Comma separated list of accepted values for the iss token claim validation.\",\n                            position: \"top\",\n                        }}\n                    />\n                </label>\n                <MultipleValueInput id={uniqueId} bind:value={config.extra.issuers} />\n            </Field>\n        </div>\n    {/if}\n</div>\n\n<Field class=\"form-field\" name=\"{key}.pkce\" let:uniqueId>\n    <input type=\"checkbox\" id={uniqueId} bind:checked={config.pkce} />\n    <label for={uniqueId}>\n        <span class=\"txt\">Support PKCE</span>\n        <i\n            class=\"ri-information-line link-hint\"\n            use:tooltip={{\n                text: \"Usually it should be safe to be always enabled as most providers will just ignore the extra query parameters if they don't support PKCE.\",\n                position: \"right\",\n            }}\n        />\n    </label>\n</Field>\n","<script>\n    import Field from \"@/components/base/Field.svelte\";\n\n    export let key = \"\";\n    export let config = {};\n    export let required = false;\n    export let title = \"Provider endpoints\";\n\n    $: isRequired = required && config?.enabled;\n</script>\n\n<div class=\"section-title\">{title}</div>\n<Field class=\"form-field {isRequired ? 'required' : ''}\" name=\"{key}.authURL\" let:uniqueId>\n    <label for={uniqueId}>Auth URL</label>\n    <input type=\"url\" id={uniqueId} bind:value={config.authURL} required={isRequired} />\n</Field>\n<Field class=\"form-field {isRequired ? 'required' : ''}\" name=\"{key}.tokenURL\" let:uniqueId>\n    <label for={uniqueId}>Token URL</label>\n    <input type=\"url\" id={uniqueId} bind:value={config.tokenURL} required={isRequired} />\n</Field>\n<Field class=\"form-field {isRequired ? 'required' : ''}\" name=\"{key}.userInfoURL\" let:uniqueId>\n    <label for={uniqueId}>User info URL</label>\n    <input type=\"url\" id={uniqueId} bind:value={config.userInfoURL} required={isRequired} />\n</Field>\n","import AppleOptions from \"@/components/collections/providers/AppleOptions.svelte\";\nimport MicrosoftOptions from \"@/components/collections/providers/MicrosoftOptions.svelte\";\nimport OIDCOptions from \"@/components/collections/providers/OIDCOptions.svelte\";\nimport SelfHostedOptions from \"@/components/collections/providers/SelfHostedOptions.svelte\";\n\n// @todo remove after allowing custom OAuth2 UI extendability\n//\n// Object list with all supported OAuth2 providers in the format:\n// ```\n// [ { key, title, logo, optionsComponent?, optionComponentProps? }, ... ]\n// ```\n//\n// The logo images must be placed inside the /public/images/oauth2 directory.\n//\n// If `optionsComponent` is provided it will receive 2 parameters:\n// - `key`    - the provider settings key (eg. \"gitlabAuth\")\n// - `config` - the provider settings config that is currently being updated\n// - any other prop from optionComponentProps\nexport default [\n    {\n        key: \"apple\",\n        title: \"Apple\",\n        logo: \"apple.svg\",\n        optionsComponent: AppleOptions,\n    },\n    {\n        key: \"google\",\n        title: \"Google\",\n        logo: \"google.svg\",\n    },\n    {\n        key: \"microsoft\",\n        title: \"Microsoft\",\n        logo: \"microsoft.svg\",\n        optionsComponent: MicrosoftOptions,\n    },\n    {\n        key: \"yandex\",\n        title: \"Yandex\",\n        logo: \"yandex.svg\",\n    },\n    {\n        key: \"facebook\",\n        title: \"Facebook\",\n        logo: \"facebook.svg\",\n    },\n    {\n        key: \"instagram2\",\n        title: \"Instagram\",\n        logo: \"instagram.svg\",\n    },\n    {\n        key: \"github\",\n        title: \"GitHub\",\n        logo: \"github.svg\",\n    },\n    {\n        key: \"gitlab\",\n        title: \"GitLab\",\n        logo: \"gitlab.svg\",\n        optionsComponent: SelfHostedOptions,\n        optionsComponentProps: { title: \"Self-hosted endpoints (optional)\" },\n    },\n    {\n        key: \"bitbucket\",\n        title: \"Bitbucket\",\n        logo: \"bitbucket.svg\",\n    },\n    {\n        key: \"gitee\",\n        title: \"Gitee\",\n        logo: \"gitee.svg\",\n    },\n    {\n        key: \"gitea\",\n        title: \"Gitea\",\n        logo: \"gitea.svg\",\n        optionsComponent: SelfHostedOptions,\n        optionsComponentProps: { title: \"Self-hosted endpoints (optional)\" },\n    },\n    {\n        key: \"linear\",\n        title: \"Linear\",\n        logo: \"linear.svg\",\n    },\n    {\n        key: \"discord\",\n        title: \"Discord\",\n        logo: \"discord.svg\",\n    },\n    {\n        key: \"twitter\",\n        title: \"Twitter\",\n        logo: \"twitter.svg\",\n    },\n    {\n        key: \"kakao\",\n        title: \"Kakao\",\n        logo: \"kakao.svg\",\n    },\n    {\n        key: \"vk\",\n        title: \"VK\",\n        logo: \"vk.svg\"\n    },\n    {\n        key:   \"notion\",\n        title: \"Notion\",\n        logo:  \"notion.svg\",\n    },\n    {\n        key:   \"monday\",\n        title: \"monday.com\",\n        logo:  \"monday.svg\",\n    },\n    {\n        key: \"spotify\",\n        title: \"Spotify\",\n        logo: \"spotify.svg\",\n    },\n    {\n        key: \"trakt\",\n        title: \"Trakt\",\n        logo: \"trakt.svg\",\n    },\n    {\n        key: \"twitch\",\n        title: \"Twitch\",\n        logo: \"twitch.svg\",\n    },\n    {\n        key: \"patreon\",\n        title: \"Patreon (v2)\",\n        logo: \"patreon.svg\"\n    },\n    {\n        key: \"strava\",\n        title: \"Strava\",\n        logo: \"strava.svg\",\n    },\n    {\n        key: \"wakatime\",\n        title: \"WakaTime\",\n        logo: \"wakatime.svg\",\n    },\n    {\n        key: \"livechat\",\n        title: \"LiveChat\",\n        logo: \"livechat.svg\",\n    },\n    {\n        key: \"mailcow\",\n        title: \"mailcow\",\n        logo: \"mailcow.svg\",\n        optionsComponent: SelfHostedOptions,\n        optionsComponentProps: { required: true },\n    },\n    {\n        key: \"planningcenter\",\n        title: \"Planning Center\",\n        logo: \"planningcenter.svg\",\n    },\n    {\n        key: \"oidc\",\n        title: \"OpenID Connect\",\n        logo: \"oidc.svg\",\n        optionsComponent: OIDCOptions,\n    },\n    {\n        key: \"oidc2\",\n        title: \"(2) OpenID Connect\",\n        logo: \"oidc.svg\",\n        optionsComponent: OIDCOptions,\n    },\n    {\n        key: \"oidc3\",\n        title: \"(3) OpenID Connect\",\n        logo: \"oidc.svg\",\n        optionsComponent: OIDCOptions,\n    },\n];\n","<script>\n    import { fly } from \"svelte/transition\";\n\n    import Field from \"@/components/base/Field.svelte\";\n    import OverlayPanel from \"@/components/base/OverlayPanel.svelte\";\n    import providersList from \"@/providers.js\";\n    import { createEventDispatcher } from \"svelte\";\n\n    const dispatch = createEventDispatcher();\n\n    export let disabled = [];\n\n    let panel;\n    let searchTerm = \"\";\n    let filteredProviders = [];\n\n    $: if (searchTerm !== -1 || disabled !== -1) {\n        filteredProviders = filterProviders();\n    }\n\n    export function show() {\n        clearSearch();\n        panel?.show();\n    }\n\n    export function hide() {\n        return panel?.hide();\n    }\n\n    function select(provider) {\n        dispatch(\"select\", provider);\n        hide();\n    }\n\n    function filterProviders() {\n        const search = (searchTerm || \"\").toLowerCase();\n\n        return providersList.filter(\n            (p) =>\n                !disabled.includes(p.key) &&\n                (search == \"\" ||\n                    p.key.toLowerCase().includes(search) ||\n                    p.title.toLowerCase().includes(search)),\n        );\n    }\n\n    function clearSearch() {\n        searchTerm = \"\";\n    }\n</script>\n\n<OverlayPanel bind:this={panel} on:show on:hide btnClose={false}>\n    <svelte:fragment slot=\"header\">\n        <h4 class=\"center txt-break\">Add OAuth2 provider</h4>\n    </svelte:fragment>\n\n    <Field class=\"searchbar m-b-sm\" let:uniqueId>\n        <label for={uniqueId} class=\"m-l-10 txt-xl\">\n            <i class=\"ri-search-line\" />\n        </label>\n        <input id={uniqueId} type=\"text\" placeholder=\"Search provider\" bind:value={searchTerm} />\n        {#if searchTerm != \"\"}\n            <button\n                type=\"button\"\n                class=\"btn btn-transparent btn-sm btn-hint p-l-xs p-r-xs m-l-10\"\n                transition:fly={{ duration: 150, x: 5 }}\n                on:click={() => (searchTerm = \"\")}\n            >\n                <span class=\"txt\">Clear</span>\n            </button>\n        {/if}\n    </Field>\n\n    <div class=\"grid grid-sm\">\n        {#each filteredProviders as provider (provider.key)}\n            <div class=\"col-6\">\n                <button type=\"button\" class=\"provider-card handle\" on:click={() => select(provider)}>\n                    <figure class=\"provider-logo\">\n                        {#if provider.logo}\n                            <img\n                                src=\"{import.meta.env.BASE_URL}images/oauth2/{provider.logo}\"\n                                alt=\"{provider.title} logo\"\n                            />\n                        {/if}\n                    </figure>\n                    <div class=\"content\">\n                        <div class=\"title\">{provider.title}</div>\n                        <em class=\"txt-hint txt-sm m-r-auto\">{provider.key}</em>\n                    </div>\n                </button>\n            </div>\n        {:else}\n            <div class=\"flex inline-flex\">\n                <span class=\"txt-hint\">No providers to select.</span>\n                {#if searchTerm != \"\"}\n                    <button type=\"button\" class=\"btn btn-sm btn-secondary\" on:click={clearSearch}>\n                        Clear filter\n                    </button>\n                {/if}\n            </div>\n        {/each}\n    </div>\n\n    <svelte:fragment slot=\"footer\">\n        <button type=\"button\" class=\"btn btn-transparent\" on:click={hide}>Cancel</button>\n    </svelte:fragment>\n</OverlayPanel>\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import Accordion from \"@/components/base/Accordion.svelte\";\n    import Field from \"@/components/base/Field.svelte\";\n    import Select from \"@/components/base/Select.svelte\";\n    import OAuth2ProviderPanel from \"@/components/collections/OAuth2ProviderPanel.svelte\";\n    import OAuth2ProvidersListPanel from \"@/components/collections/OAuth2ProvidersListPanel.svelte\";\n    import providersUIList from \"@/providers.js\";\n    import { errors } from \"@/stores/errors\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { scale, slide } from \"svelte/transition\";\n\n    export let collection;\n\n    const excludedFieldNames = [\"id\", \"email\", \"emailVisibility\", \"verified\", \"tokenKey\", \"password\"];\n    const allowedRegularTypes = [\"text\", \"editor\", \"url\", \"email\", \"json\"];\n    const allowedRegularAndFileTypes = allowedRegularTypes.concat(\"file\");\n\n    let providersListPanel;\n    let providerPanel;\n    let showMappedFields = false;\n    let regularFieldOptions = [];\n    let regularAndFileFieldOptions = [];\n\n    $: refreshFieldOptions(collection.fields);\n\n    $: if (CommonHelper.isEmpty(collection.oauth2)) {\n        collection.oauth2 = {\n            enabled: false,\n            mappedFields: {},\n            providers: [],\n        };\n    }\n\n    $: hasErrors = !CommonHelper.isEmpty($errors?.oauth2);\n\n    $: totalProviders = collection.oauth2?.providers?.length || 0;\n\n    function refreshFieldOptions(fields = []) {\n        regularFieldOptions =\n            fields\n                ?.filter((f) => allowedRegularTypes.includes(f.type) && !excludedFieldNames.includes(f.name))\n                ?.map((f) => f.name) || [];\n\n        regularAndFileFieldOptions =\n            fields\n                ?.filter(\n                    (f) =>\n                        allowedRegularAndFileTypes.includes(f.type) && !excludedFieldNames.includes(f.name),\n                )\n                ?.map((f) => f.name) || [];\n    }\n\n    function getProviderUIOptions(key) {\n        for (let item of providersUIList) {\n            if (item.key == key) {\n                return item;\n            }\n        }\n        return null;\n    }\n</script>\n\n<Accordion single>\n    <svelte:fragment slot=\"header\">\n        <div class=\"inline-flex\">\n            <i class=\"ri-pass-expired-line\"></i>\n            <span class=\"txt\">OAuth2</span>\n        </div>\n\n        <div class=\"flex-fill\" />\n\n        {#if collection.oauth2.enabled}\n            <span class=\"label\" class:label-warning={!totalProviders} class:label-info={totalProviders > 0}>\n                {totalProviders}\n                {totalProviders == 1 ? \"provider\" : \"providers\"}\n            </span>\n\n            <span class=\"label label-success\">Enabled</span>\n        {:else}\n            <span class=\"label\">Disabled</span>\n        {/if}\n\n        {#if hasErrors}\n            <i\n                class=\"ri-error-warning-fill txt-danger\"\n                transition:scale={{ duration: 150, start: 0.7 }}\n                use:tooltip={{ text: \"Has errors\", position: \"left\" }}\n            />\n        {/if}\n    </svelte:fragment>\n\n    <Field class=\"form-field form-field-toggle\" name=\"oauth2.enabled\" let:uniqueId>\n        <input type=\"checkbox\" id={uniqueId} bind:checked={collection.oauth2.enabled} />\n        <label for={uniqueId}>Enable</label>\n    </Field>\n\n    <div class=\"grid grid-sm\">\n        {#each collection.oauth2.providers as providerConfig, i (providerConfig.name)}\n            {@const uiOptions = getProviderUIOptions(providerConfig.name)}\n\n            <div class=\"col-lg-6\">\n                <div\n                    class=\"provider-card\"\n                    class:error={!CommonHelper.isEmpty($errors?.oauth2?.providers?.[i])}\n                >\n                    <figure class=\"provider-logo\">\n                        {#if uiOptions?.logo}\n                            <img\n                                src=\"{import.meta.env.BASE_URL}images/oauth2/{uiOptions.logo}\"\n                                alt=\"{uiOptions.title} logo\"\n                            />\n                        {:else}\n                            <i class=\"ri-puzzle-line txt-sm txt-hint\"></i>\n                        {/if}\n                    </figure>\n                    <div class=\"content\">\n                        <div class=\"title\">{providerConfig.displayName || uiOptions?.title || \"Custom\"}</div>\n                        <em class=\"txt-hint txt-sm m-r-auto\">{providerConfig.name}</em>\n                    </div>\n                    {#if uiOptions}\n                        <button\n                            type=\"button\"\n                            class=\"btn btn-circle btn-hint btn-transparent\"\n                            aria-label=\"Provider settings\"\n                            use:tooltip={{ text: \"Edit config\", position: \"left\" }}\n                            on:click={() => {\n                                providerPanel?.show(uiOptions, providerConfig, i);\n                            }}\n                        >\n                            <i class=\"ri-settings-4-line\" />\n                        </button>\n                    {/if}\n                </div>\n            </div>\n        {/each}\n        <div class=\"col-lg-6\">\n            <button\n                class=\"btn btn-block btn-lg btn-secondary txt-base\"\n                on:click={() => providersListPanel?.show()}\n            >\n                <i class=\"ri-add-line\"></i>\n                <span class=\"txt\">Add provider</span>\n            </button>\n        </div>\n    </div>\n\n    <button\n        type=\"button\"\n        class=\"m-t-25 btn btn-sm {showMappedFields ? 'btn-secondary' : 'btn-hint btn-transparent'}\"\n        on:click={() => (showMappedFields = !showMappedFields)}\n    >\n        <strong class=\"txt\">Optional {collection.name} create fields map</strong>\n        {#if showMappedFields}\n            <i class=\"ri-arrow-up-s-line txt-sm\" />\n        {:else}\n            <i class=\"ri-arrow-down-s-line txt-sm\" />\n        {/if}\n    </button>\n    {#if showMappedFields}\n        <div class=\"block\" transition:slide={{ duration: 150 }}>\n            <div class=\"grid grid-sm p-t-xs\">\n                <div class=\"col-sm-6\">\n                    <Field class=\"form-field form-field-toggle\" name=\"oauth2.mappedFields.name\" let:uniqueId>\n                        <label for={uniqueId}>OAuth2 full name</label>\n                        <Select\n                            id={uniqueId}\n                            items={regularFieldOptions}\n                            toggle={true}\n                            zeroFunc={() => \"\"}\n                            selectPlaceholder={\"Select field\"}\n                            bind:selected={collection.oauth2.mappedFields.name}\n                        />\n                    </Field>\n                </div>\n                <div class=\"col-sm-6\">\n                    <Field\n                        class=\"form-field form-field-toggle\"\n                        name=\"oauth2.mappedFields.avatarURL\"\n                        let:uniqueId\n                    >\n                        <label for={uniqueId}>OAuth2 avatar</label>\n                        <Select\n                            id={uniqueId}\n                            items={regularAndFileFieldOptions}\n                            toggle={true}\n                            zeroFunc={() => \"\"}\n                            selectPlaceholder={\"Select field\"}\n                            bind:selected={collection.oauth2.mappedFields.avatarURL}\n                        />\n                    </Field>\n                </div>\n                <div class=\"col-sm-6\">\n                    <Field class=\"form-field form-field-toggle\" name=\"oauth2.mappedFields.id\" let:uniqueId>\n                        <label for={uniqueId}>OAuth2 id</label>\n                        <Select\n                            id={uniqueId}\n                            items={regularFieldOptions}\n                            toggle={true}\n                            zeroFunc={() => \"\"}\n                            selectPlaceholder={\"Select field\"}\n                            bind:selected={collection.oauth2.mappedFields.id}\n                        />\n                    </Field>\n                </div>\n                <div class=\"col-sm-6\">\n                    <Field\n                        class=\"form-field form-field-toggle\"\n                        name=\"oauth2.mappedFields.username\"\n                        let:uniqueId\n                    >\n                        <label for={uniqueId}>OAuth2 username</label>\n                        <Select\n                            id={uniqueId}\n                            items={regularFieldOptions}\n                            toggle={true}\n                            zeroFunc={() => \"\"}\n                            selectPlaceholder={\"Select field\"}\n                            bind:selected={collection.oauth2.mappedFields.username}\n                        />\n                    </Field>\n                </div>\n            </div>\n        </div>\n    {/if}\n</Accordion>\n\n<OAuth2ProvidersListPanel\n    bind:this={providersListPanel}\n    disabled={collection.oauth2?.providers?.map((p) => p.name) || []}\n    on:select={(e) => {\n        providerPanel.show(e.detail, {}, collection.oauth2?.providers?.length || 0);\n    }}\n/>\n\n<OAuth2ProviderPanel\n    bind:this={providerPanel}\n    on:remove={(e) => {\n        const uiOptions = e.detail.uiOptions;\n        CommonHelper.removeByKey(collection.oauth2.providers, \"name\", uiOptions.key);\n        collection.oauth2.providers = collection.oauth2.providers;\n    }}\n    on:submit={(e) => {\n        const uiOptions = e.detail.uiOptions;\n        const config = e.detail.config;\n        collection.oauth2.providers = collection.oauth2.providers || [];\n        CommonHelper.pushOrReplaceByKey(\n            collection.oauth2.providers,\n            Object.assign({ name: uiOptions.key }, config),\n            \"name\",\n        );\n        collection.oauth2.providers = collection.oauth2.providers;\n    }}\n/>\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import Accordion from \"@/components/base/Accordion.svelte\";\n    import Field from \"@/components/base/Field.svelte\";\n    import { errors } from \"@/stores/errors\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { scale } from \"svelte/transition\";\n\n    export let collection;\n\n    $: isSuperusers = collection?.system && collection?.name === \"_superusers\";\n\n    $: if (CommonHelper.isEmpty(collection.otp)) {\n        collection.otp = {\n            enabled: true,\n            duration: 300,\n            length: 8,\n        };\n    }\n\n    $: hasErrors = !CommonHelper.isEmpty($errors?.otp);\n</script>\n\n<Accordion single>\n    <svelte:fragment slot=\"header\">\n        <div class=\"inline-flex\">\n            <i class=\"ri-time-line\"></i>\n            <span class=\"txt\">One-time password (OTP)</span>\n        </div>\n\n        <div class=\"flex-fill\" />\n\n        {#if collection.otp.enabled}\n            <span class=\"label label-success\">Enabled</span>\n        {:else}\n            <span class=\"label\">Disabled</span>\n        {/if}\n\n        {#if hasErrors}\n            <i\n                class=\"ri-error-warning-fill txt-danger\"\n                transition:scale={{ duration: 150, start: 0.7 }}\n                use:tooltip={{ text: \"Has errors\", position: \"left\" }}\n            />\n        {/if}\n    </svelte:fragment>\n\n    <Field class=\"form-field form-field-toggle\" name=\"otp.enabled\" let:uniqueId>\n        <input\n            type=\"checkbox\"\n            id={uniqueId}\n            bind:checked={collection.otp.enabled}\n            on:change={(e) => {\n                if (isSuperusers) {\n                    collection.mfa.enabled = e.target.checked;\n                }\n            }}\n        />\n        <label for={uniqueId}>Enable</label>\n        {#if isSuperusers}\n            <i\n                class=\"ri-information-line link-hint\"\n                use:tooltip={{\n                    text: \"Superusers can have OTP only as part of Two-factor authentication.\",\n                    position: \"right\",\n                }}\n            />\n        {/if}\n    </Field>\n\n    <div class=\"grid grid-sm\">\n        <div class=\"col-sm-6\">\n            <Field class=\"form-field form-field-toggle required\" name=\"otp.duration\" let:uniqueId>\n                <label for={uniqueId}>Duration (in seconds)</label>\n                <input\n                    type=\"number\"\n                    min=\"0\"\n                    step=\"1\"\n                    id={uniqueId}\n                    bind:value={collection.otp.duration}\n                    required\n                />\n            </Field>\n        </div>\n        <div class=\"col-sm-6\">\n            <Field class=\"form-field form-field-toggle required\" name=\"otp.length\" let:uniqueId>\n                <label for={uniqueId}>Generated password length</label>\n                <input\n                    type=\"number\"\n                    min=\"0\"\n                    step=\"1\"\n                    id={uniqueId}\n                    bind:value={collection.otp.length}\n                    required\n                />\n            </Field>\n        </div>\n    </div>\n</Accordion>\n","<script>\n    import { scale } from \"svelte/transition\";\n    import tooltip from \"@/actions/tooltip\";\n    import Accordion from \"@/components/base/Accordion.svelte\";\n    import Field from \"@/components/base/Field.svelte\";\n    import ObjectSelect from \"@/components/base/ObjectSelect.svelte\";\n    import { errors } from \"@/stores/errors\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    export let collection;\n\n    let identityFieldsOptions = [];\n    let oldIndexes = \"\";\n\n    $: isSuperusers = collection?.system && collection?.name === \"_superusers\";\n\n    $: if (CommonHelper.isEmpty(collection?.passwordAuth)) {\n        collection.passwordAuth = {\n            enabled: true,\n            identityFields: [\"email\"],\n        };\n    }\n\n    $: hasErrors = !CommonHelper.isEmpty($errors?.passwordAuth);\n\n    $: if (collection && oldIndexes != collection.indexes.join(\"\")) {\n        refreshIdentityFieldsOptions();\n    }\n\n    function refreshIdentityFieldsOptions() {\n        // email is always available in auth collections\n        identityFieldsOptions = [{ value: \"email\" }];\n\n        const fields = collection?.fields || [];\n        const indexes = collection?.indexes || [];\n\n        oldIndexes = indexes.join(\"\");\n\n        for (let idx of indexes) {\n            const parsed = CommonHelper.parseIndex(idx);\n            if (!parsed.unique || parsed.columns.length != 1 || parsed.columns[0].name == \"email\") {\n                continue;\n            }\n\n            const field = fields.find((f) => {\n                return !f.hidden && f.name.toLowerCase() == parsed.columns[0].name.toLowerCase();\n            });\n            if (field) {\n                identityFieldsOptions.push({ value: field.name });\n            }\n        }\n    }\n</script>\n\n<Accordion single>\n    <svelte:fragment slot=\"header\">\n        <div class=\"inline-flex\">\n            <i class=\"ri-lock-password-line\"></i>\n            <span class=\"txt\">Identity/Password</span>\n        </div>\n\n        <div class=\"flex-fill\" />\n\n        {#if collection.passwordAuth.enabled}\n            <span class=\"label label-success\">Enabled</span>\n        {:else}\n            <span class=\"label\">Disabled</span>\n        {/if}\n\n        {#if hasErrors}\n            <i\n                class=\"ri-error-warning-fill txt-danger\"\n                transition:scale={{ duration: 150, start: 0.7 }}\n                use:tooltip={{ text: \"Has errors\", position: \"left\" }}\n            />\n        {/if}\n    </svelte:fragment>\n\n    <Field class=\"form-field form-field-toggle\" name=\"passwordAuth.enabled\" let:uniqueId>\n        <input\n            type=\"checkbox\"\n            id={uniqueId}\n            bind:checked={collection.passwordAuth.enabled}\n            disabled={isSuperusers}\n        />\n        <label for={uniqueId}>Enable</label>\n        {#if isSuperusers}\n            <i\n                class=\"ri-information-line link-hint\"\n                use:tooltip={{\n                    text: \"Superusers are required to have password auth enabled.\",\n                    position: \"right\",\n                }}\n            />\n        {/if}\n    </Field>\n\n    <Field class=\"form-field required m-0\" name=\"passwordAuth.identityFields\" let:uniqueId>\n        <label for={uniqueId}>\n            <span class=\"txt\">Unique identity fields</span>\n        </label>\n        <ObjectSelect\n            items={identityFieldsOptions}\n            multiple\n            bind:keyOfSelected={collection.passwordAuth.identityFields}\n        />\n    </Field>\n</Accordion>\n","<script>\n    import Field from \"@/components/base/Field.svelte\";\n    import OverlayPanel from \"@/components/base/OverlayPanel.svelte\";\n    import ObjectSelect from \"@/components/base/ObjectSelect.svelte\";\n    import { setErrors } from \"@/stores/errors\";\n    import { addErrorToast, addSuccessToast } from \"@/stores/toasts\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { createEventDispatcher, tick } from \"svelte\";\n\n    const dispatch = createEventDispatcher();\n\n    const formId = \"email_test_\" + CommonHelper.randomString(5);\n    const emailStorageKey = \"last_email_test\";\n    const testRequestKey = \"email_test_request\";\n\n    const templateOptions = [\n        { label: \"Verification\", value: \"verification\" },\n        { label: \"Password reset\", value: \"password-reset\" },\n        { label: \"Confirm email change\", value: \"email-change\" },\n        { label: \"OTP\", value: \"otp\" },\n        { label: \"Login alert\", value: \"login-alert\" },\n    ];\n\n    let panel;\n    let collectionIdOrName = \"\";\n    let email = localStorage.getItem(emailStorageKey);\n    let template = templateOptions[0].value;\n    let isSubmitting = false;\n    let testTimeoutId = null;\n    let authCollections = [];\n    let isAuthCollectionsLoading = false;\n    let showAuthCollections = false;\n\n    $: canSubmit = !!email && !!template && !!collectionIdOrName;\n\n    export function show(collectionArg = \"\", emailArg = \"\", templateArg = \"\") {\n        setErrors({}); // reset any previous errors\n\n        showAuthCollections = false;\n\n        collectionIdOrName = collectionArg || \"\";\n        if (!collectionIdOrName) {\n            loadAuthCollections();\n        }\n\n        email = emailArg || localStorage.getItem(emailStorageKey);\n\n        template = templateArg || templateOptions[0].value;\n\n        panel?.show();\n    }\n\n    export function hide() {\n        clearTimeout(testTimeoutId);\n        return panel?.hide();\n    }\n\n    async function submit() {\n        if (!canSubmit || isSubmitting || !collectionIdOrName) {\n            return;\n        }\n\n        isSubmitting = true;\n\n        // store in local storage for later use\n        localStorage?.setItem(emailStorageKey, email);\n\n        // auto cancel the test request after 30sec\n        clearTimeout(testTimeoutId);\n        testTimeoutId = setTimeout(() => {\n            ApiClient.cancelRequest(testRequestKey);\n            addErrorToast(\"Test email send timeout.\");\n        }, 30000);\n\n        try {\n            await ApiClient.settings.testEmail(collectionIdOrName, email, template, {\n                $cancelKey: testRequestKey,\n            });\n\n            addSuccessToast(\"Successfully sent test email.\");\n            dispatch(\"submit\");\n            isSubmitting = false;\n\n            await tick();\n\n            hide();\n        } catch (err) {\n            isSubmitting = false;\n            ApiClient.error(err);\n        }\n\n        clearTimeout(testTimeoutId);\n    }\n\n    async function loadAuthCollections() {\n        showAuthCollections = true;\n        isAuthCollectionsLoading = true;\n\n        try {\n            authCollections = await ApiClient.collections.getFullList({\n                filter: \"type='auth'\",\n                sort: \"+name\",\n                requestKey: formId + \"_collections_loading\",\n            });\n\n            collectionIdOrName = authCollections[0]?.id || \"\";\n            isAuthCollectionsLoading = false;\n        } catch (err) {\n            if (!err.isAbort) {\n                isAuthCollectionsLoading = false;\n                ApiClient.error(err);\n            }\n        }\n    }\n</script>\n\n<OverlayPanel\n    bind:this={panel}\n    class=\"overlay-panel-sm email-test-popup\"\n    overlayClose={!isSubmitting}\n    escClose={!isSubmitting}\n    beforeHide={() => !isSubmitting}\n    popup\n    on:show\n    on:hide\n>\n    <svelte:fragment slot=\"header\">\n        <h4 class=\"center txt-break\">Send test email</h4>\n    </svelte:fragment>\n\n    <form id={formId} autocomplete=\"off\" on:submit|preventDefault={() => submit()}>\n        <Field class=\"form-field required\" name=\"template\" let:uniqueId>\n            {#each templateOptions as option (option.value)}\n                <div class=\"form-field-block\">\n                    <input\n                        type=\"radio\"\n                        name=\"template\"\n                        id={uniqueId + option.value}\n                        value={option.value}\n                        bind:group={template}\n                    />\n                    <label for={uniqueId + option.value}>{option.label}</label>\n                </div>\n            {/each}\n        </Field>\n\n        {#if showAuthCollections}\n            <Field class=\"form-field required\" name=\"collection\" let:uniqueId>\n                <label for={uniqueId}>Auth collection</label>\n                <ObjectSelect\n                    id={uniqueId}\n                    selectPlaceholder={isAuthCollectionsLoading\n                        ? \"Loading auth collections...\"\n                        : \"Select auth collection\"}\n                    noOptionsText={\"No auth collections found\"}\n                    selectionKey=\"id\"\n                    items={authCollections}\n                    bind:keyOfSelected={collectionIdOrName}\n                />\n            </Field>\n        {/if}\n\n        <Field class=\"form-field required m-0\" name=\"email\" let:uniqueId>\n            <label for={uniqueId}>To email address</label>\n            <!-- svelte-ignore a11y-autofocus -->\n            <input type=\"email\" id={uniqueId} autofocus required bind:value={email} />\n        </Field>\n    </form>\n\n    <svelte:fragment slot=\"footer\">\n        <button type=\"button\" class=\"btn btn-transparent\" on:click={hide} disabled={isSubmitting}\n            >Close</button\n        >\n        <button\n            type=\"submit\"\n            form={formId}\n            class=\"btn btn-expanded\"\n            class:btn-loading={isSubmitting}\n            disabled={!canSubmit || isSubmitting}\n        >\n            <i class=\"ri-mail-send-line\" />\n            <span class=\"txt\">Send</span>\n        </button>\n    </svelte:fragment>\n</OverlayPanel>\n","<script>\n    import Field from \"@/components/base/Field.svelte\";\n    import EmailTemplateAccordion from \"@/components/collections/EmailTemplateAccordion.svelte\";\n    import TokenOptionsAccordion from \"@/components/collections/TokenOptionsAccordion.svelte\";\n    import MFAAccordion from \"@/components/collections/MFAAccordion.svelte\";\n    import OAuth2Accordion from \"@/components/collections/OAuth2Accordion.svelte\";\n    import OTPAccordion from \"@/components/collections/OTPAccordion.svelte\";\n    import PasswordAuthAccordion from \"@/components/collections/PasswordAuthAccordion.svelte\";\n    import EmailTestPopup from \"@/components/settings/EmailTestPopup.svelte\";\n\n    export let collection;\n\n    let emailTemplatesList = [];\n    let emailTestPopup;\n\n    $: isSuperusers = collection.system && collection.name === \"_superusers\";\n\n    // nested email template normalizations\n    $: if (typeof collection.otp?.emailTemplate == \"undefined\") {\n        collection.otp = collection.otp || {};\n        collection.otp.emailTemplate = {};\n    }\n    $: if (typeof collection.authAlert?.emailTemplate == \"undefined\") {\n        collection.authAlert = collection.authAlert || {};\n        collection.authAlert.emailTemplate = {};\n    }\n\n    // predefined email template configs\n    $: resetPasswordTemplate = {\n        key: \"resetPasswordTemplate\",\n        label: \"Default Password reset email template\",\n        placeholders: [\"APP_NAME\", \"APP_URL\", \"RECORD:*\", \"TOKEN\"],\n        config: collection.resetPasswordTemplate,\n    };\n    $: verificationTemplate = {\n        key: \"verificationTemplate\",\n        label: \"Default Verification email template\",\n        placeholders: [\"APP_NAME\", \"APP_URL\", \"RECORD:*\", \"TOKEN\"],\n        config: collection.verificationTemplate,\n    };\n    $: confirmEmailChangeTemplate = {\n        key: \"confirmEmailChangeTemplate\",\n        label: \"Default Confirm email change email template\",\n        placeholders: [\"APP_NAME\", \"APP_URL\", \"RECORD:*\", \"TOKEN\"],\n        config: collection.confirmEmailChangeTemplate,\n    };\n    $: otpTemplate = {\n        key: \"otp.emailTemplate\",\n        label: \"Default OTP email template\",\n        placeholders: [\"APP_NAME\", \"APP_URL\", \"RECORD:*\", \"OTP\", \"OTP_ID\"],\n        config: collection.otp.emailTemplate,\n    };\n    $: authAlertTemplate = {\n        key: \"authAlert.emailTemplate\",\n        label: \"Default Login alert email template\",\n        placeholders: [\"APP_NAME\", \"APP_URL\", \"RECORD:*\"],\n        config: collection.authAlert.emailTemplate,\n    };\n    $: emailTemplatesList = isSuperusers\n        ? [resetPasswordTemplate, otpTemplate, authAlertTemplate]\n        : [\n              verificationTemplate,\n              resetPasswordTemplate,\n              confirmEmailChangeTemplate,\n              otpTemplate,\n              authAlertTemplate,\n          ];\n</script>\n\n<h4 class=\"section-title\">\n    <div class=\"flex\">\n        <span class=\"txt\">Auth methods</span>\n        <div class=\"m-l-auto handle\">\n            <Field\n                class=\"form-field form-field-sm form-field-toggle m-0\"\n                name=\"authAlert.enabled\"\n                inlineError={true}\n                let:uniqueId\n            >\n                <input type=\"checkbox\" id={uniqueId} bind:checked={collection.authAlert.enabled} />\n                <label for={uniqueId}>Send email alert for new logins</label>\n            </Field>\n        </div>\n    </div>\n</h4>\n<div class=\"accordions m-b-35\">\n    <PasswordAuthAccordion bind:collection />\n\n    {#if !isSuperusers}\n        <OAuth2Accordion bind:collection />\n    {/if}\n\n    <OTPAccordion bind:collection />\n\n    <MFAAccordion bind:collection />\n</div>\n\n<h4 class=\"section-title\">\n    <span class=\"txt\">Mail templates</span>\n    <button\n        type=\"button\"\n        class=\"btn btn-xs m-l-auto btn-secondary\"\n        on:click={() => emailTestPopup?.show(collection.id)}\n    >\n        Send test email\n    </button>\n</h4>\n<div class=\"accordions m-b-35\">\n    <div class=\"accordions\">\n        {#each emailTemplatesList as template (template.key)}\n            <EmailTemplateAccordion\n                single\n                key={template.key}\n                title={template.label}\n                placeholders={template?.placeholders}\n                bind:config={template.config}\n            />\n        {/each}\n    </div>\n</div>\n\n<h4 class=\"section-title\">Other</h4>\n<div class=\"accordions m-b-base\">\n    <TokenOptionsAccordion bind:collection />\n</div>\n\n<EmailTestPopup bind:this={emailTestPopup} />\n","<script>\n    import { createEventDispatcher } from \"svelte\";\n\n    const dispatch = createEventDispatcher();\n\n    export let index;\n    export let list = [];\n    export let group = \"default\";\n    export let disabled = false;\n    export let dragHandleClass = \"\"; // by default the entire element\n\n    let dragging = false;\n    let dragover = false;\n\n    function onDrag(e, i) {\n        if (!e || disabled) {\n            return;\n        }\n\n        if (dragHandleClass && !e.target.classList.contains(dragHandleClass)) {\n            // not the drag handle\n            dragover = false;\n            dragging = false;\n            e.preventDefault();\n            return;\n        }\n\n        dragging = true;\n\n        e.dataTransfer.effectAllowed = \"move\";\n        e.dataTransfer.dropEffect = \"move\";\n        e.dataTransfer.setData(\n            \"text/plain\",\n            JSON.stringify({\n                index: i,\n                group: group,\n            }),\n        );\n\n        dispatch(\"drag\", e);\n    }\n\n    function onDrop(e, target) {\n        dragover = false;\n        dragging = false;\n\n        if (!e || disabled) {\n            return;\n        }\n\n        e.dataTransfer.dropEffect = \"move\";\n\n        let dragData = {};\n        try {\n            dragData = JSON.parse(e.dataTransfer.getData(\"text/plain\"));\n        } catch (_) {}\n\n        if (dragData.group != group) {\n            return; // different draggable group\n        }\n\n        const start = dragData.index << 0;\n\n        if (start < target) {\n            list.splice(target + 1, 0, list[start]);\n            list.splice(start, 1);\n        } else {\n            list.splice(target, 0, list[start]);\n            list.splice(start + 1, 1);\n        }\n\n        list = list;\n\n        dispatch(\"sort\", {\n            oldIndex: start,\n            newIndex: target,\n            list: list,\n        });\n    }\n</script>\n\n<!-- svelte-ignore a11y-no-static-element-interactions -->\n<div\n    draggable={!disabled}\n    class=\"draggable\"\n    class:dragging\n    class:dragover\n    on:dragover|preventDefault={() => {\n        dragover = true;\n    }}\n    on:dragleave|preventDefault={() => {\n        dragover = false;\n    }}\n    on:dragend={() => {\n        dragover = false;\n        dragging = false;\n    }}\n    on:dragstart={(e) => onDrag(e, index)}\n    on:drop={(e) => onDrop(e, index)}\n>\n    <slot {dragging} {dragover} />\n</div>\n\n<style>\n    .draggable {\n        user-select: text;\n        outline: 0;\n        min-width: 0;\n    }\n</style>\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import Field from \"@/components/base/Field.svelte\";\n    import OverlayPanel from \"@/components/base/OverlayPanel.svelte\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { createEventDispatcher, onMount } from \"svelte\";\n\n    const dispatch = createEventDispatcher();\n\n    export let collection;\n\n    let panel;\n    let original = \"\";\n    let index = \"\";\n    let key = \"\";\n    let codeEditorComponent;\n    let isCodeEditorComponentLoading = false;\n\n    $: presetColumns =\n        collection?.fields?.filter((f) => !f.toDelete && f.name != \"id\")?.map((f) => f.name) || [];\n\n    $: indexParts = CommonHelper.parseIndex(index);\n\n    $: indexColumns = indexParts.columns?.map((c) => c.name) || [];\n\n    export function show(showIndex, showKey) {\n        key = !CommonHelper.isEmpty(showKey) ? showKey : \"\";\n        original = showIndex || blankIndex();\n        index = original;\n\n        return panel?.show();\n    }\n\n    export function hide() {\n        return panel?.hide();\n    }\n\n    function blankIndex() {\n        const parsed = CommonHelper.parseIndex(\"\");\n        parsed.tableName = collection?.name || \"\";\n\n        return CommonHelper.buildIndex(parsed);\n    }\n\n    function remove() {\n        dispatch(\"remove\", original);\n\n        hide();\n    }\n\n    function submit() {\n        if (!indexColumns.length) {\n            return;\n        }\n\n        dispatch(\"submit\", {\n            old: original,\n            new: index,\n        });\n\n        hide();\n    }\n\n    function toggleColumn(column) {\n        const clone = CommonHelper.clone(indexParts);\n\n        const col = clone.columns.find((c) => c.name == column);\n        if (col) {\n            CommonHelper.removeByValue(clone.columns, col);\n        } else {\n            CommonHelper.pushUnique(clone.columns, { name: column });\n        }\n\n        index = CommonHelper.buildIndex(clone);\n    }\n\n    onMount(async () => {\n        isCodeEditorComponentLoading = true;\n\n        try {\n            codeEditorComponent = (await import(\"@/components/base/CodeEditor.svelte\")).default;\n        } catch (err) {\n            console.warn(err);\n        }\n\n        isCodeEditorComponentLoading = false;\n    });\n</script>\n\n<OverlayPanel bind:this={panel} popup on:hide on:show {...$$restProps}>\n    <svelte:fragment slot=\"header\">\n        <h4>{original ? \"Update\" : \"Create\"} index</h4>\n    </svelte:fragment>\n\n    <Field class=\"form-field form-field-toggle m-b-sm\" let:uniqueId>\n        <input\n            type=\"checkbox\"\n            id={uniqueId}\n            checked={indexParts.unique}\n            on:change={(e) => {\n                indexParts.unique = e.target.checked;\n                indexParts.tableName = indexParts.tableName || collection?.name;\n                index = CommonHelper.buildIndex(indexParts);\n            }}\n        />\n        <label for={uniqueId}>Unique</label>\n    </Field>\n\n    <Field class=\"form-field required m-b-sm\" name={`indexes.${key || \"\"}`} let:uniqueId>\n        {#if isCodeEditorComponentLoading}\n            <textarea disabled rows=\"7\" placeholder=\"Loading...\" />\n        {:else}\n            <svelte:component\n                this={codeEditorComponent}\n                id={uniqueId}\n                placeholder={`eg. CREATE INDEX idx_test on ${collection?.name} (created)`}\n                language=\"sql-create-index\"\n                minHeight=\"85\"\n                bind:value={index}\n            />\n        {/if}\n    </Field>\n\n    {#if presetColumns.length > 0}\n        <div class=\"inline-flex gap-10\">\n            <span class=\"txt txt-hint\">Presets</span>\n            {#each presetColumns as column}\n                <button\n                    type=\"button\"\n                    class=\"label link-primary\"\n                    class:label-info={indexColumns.includes(column)}\n                    on:click={() => toggleColumn(column)}\n                >\n                    {column}\n                </button>\n            {/each}\n        </div>\n    {/if}\n\n    <svelte:fragment slot=\"footer\">\n        {#if original != \"\"}\n            <button\n                type=\"button\"\n                class=\"btn btn-sm btn-circle btn-hint btn-transparent m-r-auto\"\n                use:tooltip={{ text: \"Delete\", position: \"top\" }}\n                on:click={() => remove()}\n            >\n                <i class=\"ri-delete-bin-7-line\" />\n            </button>\n        {/if}\n        <button type=\"button\" class=\"btn btn-transparent\" on:click={() => hide()}>\n            <span class=\"txt\">Cancel</span>\n        </button>\n        <button\n            type=\"button\"\n            class=\"btn\"\n            class:btn-disabled={indexColumns.length <= 0}\n            on:click={() => submit()}\n        >\n            <span class=\"txt\">Set index</span>\n        </button>\n    </svelte:fragment>\n</OverlayPanel>\n","<script>\n    import { scale } from \"svelte/transition\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import tooltip from \"@/actions/tooltip\";\n    import { errors, removeError } from \"@/stores/errors\";\n    import IndexUpsertPanel from \"@/components/collections/IndexUpsertPanel.svelte\";\n\n    export let collection;\n\n    let upsertPanel;\n\n    function pushOrReplace(oldIndex, newIndex) {\n        for (let i = 0; i < collection.indexes.length; i++) {\n            // replace\n            if (collection.indexes[i] == oldIndex) {\n                collection.indexes[i] = newIndex;\n                removeError(\"indexes.\" + i);\n                return;\n            }\n        }\n\n        // push missing\n        collection.indexes.push(newIndex);\n        collection.indexes = collection.indexes;\n    }\n</script>\n\n<div class=\"section-title\">\n    Unique constraints and indexes ({collection?.indexes?.length || 0})\n    {#if $errors?.indexes?.message}\n        <i\n            class=\"ri-error-warning-fill txt-danger\"\n            transition:scale={{ duration: 150 }}\n            use:tooltip={$errors?.indexes.message}\n        />\n    {/if}\n</div>\n<div class=\"indexes-list\">\n    {#each collection?.indexes || [] as rawIndex, i}\n        {@const parsed = CommonHelper.parseIndex(rawIndex)}\n        <button\n            type=\"button\"\n            class=\"label link-primary {$errors.indexes?.[i]?.message ? 'label-danger' : ''}\"\n            use:tooltip={$errors.indexes?.[i]?.message || \"\"}\n            on:click={() => upsertPanel?.show(rawIndex, i)}\n        >\n            {#if parsed.unique}\n                <strong>Unique:</strong>\n            {/if}\n            <span class=\"txt\">\n                {parsed.columns?.map((c) => c.name).join(\", \")}\n            </span>\n        </button>\n    {/each}\n    <button\n        type=\"button\"\n        class=\"btn btn-xs btn-transparent btn-pill btn-outline\"\n        on:click={() => upsertPanel?.show()}\n    >\n        <span class=\"txt\">+</span>\n        <span class=\"txt\">New index</span>\n    </button>\n</div>\n\n<IndexUpsertPanel\n    bind:this={upsertPanel}\n    bind:collection\n    on:remove={(e) => {\n        for (let i = 0; i < collection.indexes.length; i++) {\n            if (collection.indexes[i] == e.detail) {\n                collection.indexes.splice(i, 1);\n                removeError(\"indexes.\" + i);\n                break;\n            }\n        }\n        collection.indexes = collection.indexes;\n    }}\n    on:submit={(e) => {\n        // clear generic error\n        if ($errors.indexes?.message) {\n            removeError(\"indexes\");\n        }\n\n        pushOrReplace(e.detail.old, e.detail.new);\n    }}\n/>\n\n<style lang=\"scss\">\n    .indexes-list {\n        display: flex;\n        flex-wrap: wrap;\n        width: 100%;\n        gap: 10px;\n    }\n    .label {\n        overflow: hidden;\n        min-width: 50px;\n    }\n</style>\n","<script>\n    import Toggler from \"@/components/base/Toggler.svelte\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { createEventDispatcher } from \"svelte\";\n\n    let classes = \"\";\n    export { classes as class }; // export reserved keyword\n\n    const dispatch = createEventDispatcher();\n\n    const types = [\n        {\n            label: \"Plain text\",\n            value: \"text\",\n            icon: CommonHelper.getFieldTypeIcon(\"text\"),\n        },\n        {\n            label: \"Rich editor\",\n            value: \"editor\",\n            icon: CommonHelper.getFieldTypeIcon(\"editor\"),\n        },\n        {\n            label: \"Number\",\n            value: \"number\",\n            icon: CommonHelper.getFieldTypeIcon(\"number\"),\n        },\n        {\n            label: \"Bool\",\n            value: \"bool\",\n            icon: CommonHelper.getFieldTypeIcon(\"bool\"),\n        },\n        {\n            label: \"Email\",\n            value: \"email\",\n            icon: CommonHelper.getFieldTypeIcon(\"email\"),\n        },\n        {\n            label: \"URL\",\n            value: \"url\",\n            icon: CommonHelper.getFieldTypeIcon(\"url\"),\n        },\n        {\n            label: \"Datetime\",\n            value: \"date\",\n            icon: CommonHelper.getFieldTypeIcon(\"date\"),\n        },\n        {\n            label: \"Autodate\",\n            value: \"autodate\",\n            icon: CommonHelper.getFieldTypeIcon(\"autodate\"),\n        },\n        {\n            label: \"Select\",\n            value: \"select\",\n            icon: CommonHelper.getFieldTypeIcon(\"select\"),\n        },\n        {\n            label: \"File\",\n            value: \"file\",\n            icon: CommonHelper.getFieldTypeIcon(\"file\"),\n        },\n        {\n            label: \"Relation\",\n            value: \"relation\",\n            icon: CommonHelper.getFieldTypeIcon(\"relation\"),\n        },\n        {\n            label: \"JSON\",\n            value: \"json\",\n            icon: CommonHelper.getFieldTypeIcon(\"json\"),\n        },\n        {\n            label: \"Geo Point\",\n            value: \"geoPoint\",\n            icon: CommonHelper.getFieldTypeIcon(\"geoPoint\"),\n        },\n        // {\n        //     label: \"Password\",\n        //     value: \"password\",\n        //     icon: CommonHelper.getFieldTypeIcon(\"password\"),\n        // },\n    ];\n\n    function select(fieldType) {\n        dispatch(\"select\", fieldType);\n    }\n</script>\n\n<div tabindex=\"0\" role=\"button\" class=\"field-types-btn {classes}\">\n    <i class=\"ri-add-line\" aria-hidden=\"true\" />\n    <div class=\"txt\">New field</div>\n    <Toggler class=\"dropdown field-types-dropdown\">\n        {#each types as item}\n            <button type=\"button\" role=\"menuitem\" class=\"dropdown-item\" on:click={() => select(item.value)}>\n                <i class=\"icon {item.icon}\" aria-hidden=\"true\" />\n                <span class=\"txt\">{item.label}</span>\n            </button>\n        {/each}\n    </Toggler>\n</div>\n\n<style lang=\"scss\">\n    .field-types-btn.active {\n        border-bottom-left-radius: 0;\n        border-bottom-right-radius: 0;\n    }\n    :global(.field-types-dropdown) {\n        display: flex;\n        flex-wrap: wrap;\n        width: 100%;\n        max-width: none;\n        padding: 10px;\n        margin-top: 2px;\n        border: 0;\n        box-shadow: 0px 0px 0px 2px var(--primaryColor);\n        border-top-left-radius: 0;\n        border-top-right-radius: 0;\n        .dropdown-item {\n            width: 25%;\n        }\n    }\n</style>\n","<script context=\"module\">\n    let siblings = [];\n</script>\n\n<script>\n    import tooltip from \"@/actions/tooltip\";\n    import Field from \"@/components/base/Field.svelte\";\n    import Toggler from \"@/components/base/Toggler.svelte\";\n    import { errors, setErrors } from \"@/stores/errors\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { createEventDispatcher, onMount } from \"svelte\";\n    import { slide } from \"svelte/transition\";\n\n    const componentId = \"f_\" + CommonHelper.randomString(8);\n\n    const dispatch = createEventDispatcher();\n\n    const customRequiredLabels = {\n        // type => label\n        bool: \"Nonfalsey\",\n        number: \"Nonzero\",\n    };\n\n    // @todo refactor once the UI is dynamic\n    const authHideNonemptyToggle = [\"password\", \"tokenKey\", \"id\", \"autodate\"];\n    const authHideHiddenToggle = [\"password\", \"tokenKey\", \"id\", \"email\"];\n    const authHidePresentableToggle = [\"password\", \"tokenKey\"];\n\n    export let key = \"\";\n    export let field = CommonHelper.initSchemaField();\n    export let draggable = true;\n    export let collection = {};\n\n    let nameInput;\n    let showOptions = false;\n\n    $: isAuthCollection = collection?.type == \"auth\";\n\n    $: if (field._toDelete) {\n        // reset the name if it was previously deleted\n        if (field._originalName && field.name !== field._originalName) {\n            field.name = field._originalName;\n        }\n    }\n\n    $: if (!field._originalName && field.name) {\n        field._originalName = field.name;\n    }\n\n    $: if (typeof field._toDelete === \"undefined\") {\n        field._toDelete = false; // normalize\n    }\n\n    $: if (field.required) {\n        field.nullable = false;\n    }\n\n    $: interactive = !field._toDelete;\n\n    $: hasErrors = !CommonHelper.isEmpty(CommonHelper.getNestedVal($errors, `fields.${key}`));\n\n    $: requiredLabel = customRequiredLabels[field?.type] || \"Nonempty\";\n\n    function remove() {\n        if (!field.id) {\n            collapse();\n            dispatch(\"remove\");\n        } else {\n            field._toDelete = true;\n        }\n    }\n\n    function restore() {\n        field._toDelete = false;\n\n        // reset all errors since the error index key would have been changed\n        setErrors({});\n    }\n\n    function duplicate() {\n        if (!field._toDelete) {\n            collapse();\n            dispatch(\"duplicate\");\n        }\n    }\n\n    function normalizeFieldName(name) {\n        return CommonHelper.slugify(name);\n    }\n\n    function expand() {\n        showOptions = true;\n        collapseSiblings();\n    }\n\n    function collapse() {\n        showOptions = false;\n    }\n\n    function toggle() {\n        if (showOptions) {\n            collapse();\n        } else {\n            expand();\n        }\n    }\n\n    function collapseSiblings() {\n        for (let f of siblings) {\n            if (f.id == componentId) {\n                continue;\n            }\n            f.collapse();\n        }\n    }\n\n    onMount(() => {\n        siblings.push({\n            id: componentId,\n            collapse: collapse,\n        });\n\n        if (field.onMountSelect) {\n            field.onMountSelect = false;\n            nameInput?.select();\n        }\n\n        return () => {\n            CommonHelper.removeByKey(siblings, \"id\", componentId);\n        };\n    });\n</script>\n\n<div\n    class=\"schema-field\"\n    class:required={field.required}\n    class:expanded={interactive && showOptions}\n    class:deleted={field._toDelete}\n    transition:slide={{ duration: 150 }}\n>\n    <div class=\"schema-field-header\">\n        {#if interactive && draggable}\n            <div class=\"drag-handle-wrapper\" draggable={true} aria-label=\"Sort\">\n                <span class=\"drag-handle\" />\n            </div>\n        {/if}\n        <Field\n            class=\"form-field required m-0 {!interactive ? 'disabled' : ''}\"\n            name=\"fields.{key}.name\"\n            inlineError\n        >\n            <div class=\"field-labels\">\n                {#if field.required}\n                    <span class=\"label label-success\">{requiredLabel}</span>\n                {/if}\n                {#if field.hidden}\n                    <span class=\"label label-danger\">Hidden</span>\n                {/if}\n            </div>\n\n            <!-- svelte-ignore a11y-no-static-element-interactions -->\n            <!-- svelte-ignore a11y-click-events-have-key-events -->\n            <div\n                class=\"form-field-addon prefix field-type-icon\"\n                class:txt-disabled={!interactive || field.system}\n                use:tooltip={field.type + (field.system ? \" (system)\" : \"\")}\n                on:click={() => nameInput?.focus()}\n            >\n                <i class={CommonHelper.getFieldTypeIcon(field.type)} />\n            </div>\n\n            <input\n                bind:this={nameInput}\n                type=\"text\"\n                required\n                disabled={!interactive || field.system}\n                spellcheck=\"false\"\n                placeholder=\"Field name\"\n                value={field.name}\n                title=\"System field\"\n                on:input={(e) => {\n                    const oldName = field.name;\n                    field.name = normalizeFieldName(e.target.value);\n                    e.target.value = field.name;\n\n                    dispatch(\"rename\", { oldName: oldName, newName: field.name });\n                }}\n            />\n        </Field>\n\n        <slot {interactive} {hasErrors}>\n            <span class=\"separator\" />\n        </slot>\n\n        {#if field._toDelete}\n            <button\n                type=\"button\"\n                class=\"btn btn-sm btn-circle btn-success btn-transparent options-trigger\"\n                aria-label=\"Restore\"\n                use:tooltip={\"Restore\"}\n                on:click={restore}\n            >\n                <i class=\"ri-restart-line\" />\n            </button>\n        {:else if interactive}\n            <button\n                type=\"button\"\n                aria-label=\"Toggle {field.name} field options\"\n                class=\"btn btn-sm btn-circle options-trigger {showOptions\n                    ? 'btn-secondary'\n                    : 'btn-transparent'}\"\n                class:btn-hint={!showOptions && !hasErrors}\n                class:btn-danger={hasErrors}\n                on:click={toggle}\n                aria-expanded={showOptions}\n            >\n                <i class=\"ri-settings-3-line\" />\n            </button>\n        {/if}\n    </div>\n\n    {#if interactive && showOptions}\n        <div class=\"schema-field-options\" transition:slide={{ delay: 10, duration: 150 }}>\n            <div class=\"hidden-empty m-b-sm\">\n                <slot name=\"options\" {interactive} {hasErrors} />\n            </div>\n\n            <div class=\"schema-field-options-footer\">\n                <!-- @todo move to each field after the refactoring -->\n                {#if !field.primaryKey && field.type != \"autodate\" && (!isAuthCollection || !authHideNonemptyToggle.includes(field.name))}\n                    <Field class=\"form-field form-field-toggle\" name=\"requried\" let:uniqueId>\n                        <input type=\"checkbox\" id={uniqueId} bind:checked={field.required} />\n                        <label for={uniqueId}>\n                            <span class=\"txt\">{requiredLabel}</span>\n                            <i\n                                class=\"ri-information-line link-hint\"\n                                use:tooltip={{\n                                    text: `Requires the field value NOT to be ${CommonHelper.zeroDefaultStr(\n                                        field,\n                                    )}.`,\n                                }}\n                            />\n                        </label>\n                    </Field>\n                {/if}\n\n                {#if !field.primaryKey && (!isAuthCollection || !authHideHiddenToggle.includes(field.name))}\n                    <Field class=\"form-field form-field-toggle\" name=\"hidden\" let:uniqueId>\n                        <input\n                            type=\"checkbox\"\n                            id={uniqueId}\n                            bind:checked={field.hidden}\n                            on:change={(e) => {\n                                if (e.target.checked) {\n                                    field.presentable = false;\n                                }\n                            }}\n                        />\n                        <label for={uniqueId}>\n                            <span class=\"txt\">Hidden</span>\n                            <i\n                                class=\"ri-information-line link-hint\"\n                                use:tooltip={{\n                                    text: `Hide from the JSON API response and filters.`,\n                                }}\n                            />\n                        </label>\n                    </Field>\n                {/if}\n\n                {#if !isAuthCollection || !authHidePresentableToggle.includes(field.name)}\n                    <Field class=\"form-field form-field-toggle m-0\" name=\"presentable\" let:uniqueId>\n                        <input\n                            type=\"checkbox\"\n                            id={uniqueId}\n                            bind:checked={field.presentable}\n                            disabled={field.hidden}\n                        />\n                        <label for={uniqueId}>\n                            <span class=\"txt\">Presentable</span>\n                            <i\n                                class=\"ri-information-line {field.hidden ? 'txt-disabled' : 'link-hint'}\"\n                                use:tooltip={{\n                                    text: `Whether the field should be preferred in the Superuser UI relation listings (default to auto).`,\n                                }}\n                            />\n                        </label>\n                    </Field>\n                {/if}\n\n                <slot name=\"optionsFooter\" {interactive} {hasErrors} />\n\n                {#if !field._toDelete && !field.primaryKey}\n                    <div class=\"m-l-auto txt-right\">\n                        <div class=\"inline-flex flex-gap-sm flex-nowrap\">\n                            <div\n                                tabindex=\"0\"\n                                role=\"button\"\n                                title=\"More field options\"\n                                class=\"btn btn-circle btn-sm btn-transparent\"\n                            >\n                                <i class=\"ri-more-line\" aria-hidden=\"true\" />\n                                <Toggler\n                                    class=\"dropdown dropdown-sm dropdown-upside dropdown-right dropdown-nowrap no-min-width\"\n                                >\n                                    <button\n                                        type=\"button\"\n                                        class=\"dropdown-item\"\n                                        role=\"menuitem\"\n                                        on:click|preventDefault={duplicate}\n                                    >\n                                        <span class=\"txt\">Duplicate</span>\n                                    </button>\n                                    {#if !field.system}\n                                        <button\n                                            type=\"button\"\n                                            class=\"dropdown-item\"\n                                            role=\"menuitem\"\n                                            on:click|preventDefault={remove}\n                                        >\n                                            <span class=\"txt\">Remove</span>\n                                        </button>\n                                    {/if}\n                                </Toggler>\n                            </div>\n                        </div>\n                    </div>\n                {/if}\n            </div>\n        </div>\n    {/if}\n</div>\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import Field from \"@/components/base/Field.svelte\";\n    import ObjectSelect from \"@/components/base/ObjectSelect.svelte\";\n    import SchemaField from \"@/components/collections/schema/SchemaField.svelte\";\n\n    const ON_CREATE = 1;\n    const ON_UPDATE = 2;\n    const ON_CREATE_UPDATE = 3;\n\n    const options = [\n        { label: \"Create\", value: ON_CREATE },\n        { label: \"Update\", value: ON_UPDATE },\n        { label: \"Create/Update\", value: ON_CREATE_UPDATE },\n    ];\n\n    export let field;\n    export let key = \"\";\n\n    let selectedOption = optionFromField();\n\n    $: updateField(selectedOption);\n\n    function optionFromField() {\n        if (field.onCreate && field.onUpdate) {\n            return ON_CREATE_UPDATE;\n        }\n\n        if (field.onUpdate) {\n            return ON_UPDATE;\n        }\n\n        return ON_CREATE;\n    }\n\n    function updateField(option) {\n        switch (option) {\n            case ON_CREATE:\n                field.onCreate = true;\n                field.onUpdate = false;\n                break;\n            case ON_UPDATE:\n                field.onCreate = false;\n                field.onUpdate = true;\n                break;\n            case ON_CREATE_UPDATE:\n                field.onCreate = true;\n                field.onUpdate = true;\n                break;\n        }\n    }\n</script>\n\n<SchemaField bind:field {key} on:rename on:remove on:duplicate {...$$restProps}>\n    <svelte:fragment let:interactive>\n        <div class=\"separator\" />\n\n        <Field\n            class=\"form-field form-field-single-multiple-select form-field-autodate-select {!interactive\n                ? 'readonly'\n                : ''}\"\n            inlineError\n            let:uniqueId\n        >\n            <div use:tooltip={{ text: \"Auto set on:\", position: \"top\" }}>\n                <ObjectSelect\n                    id={uniqueId}\n                    items={options}\n                    disabled={field.system}\n                    readonly={!interactive}\n                    bind:keyOfSelected={selectedOption}\n                />\n            </div>\n        </Field>\n\n        <div class=\"separator\" />\n    </svelte:fragment>\n</SchemaField>\n","<script>\n    import SchemaField from \"@/components/collections/schema/SchemaField.svelte\";\n\n    export let field;\n    export let key = \"\";\n</script>\n\n<SchemaField bind:field {key} on:rename on:remove on:duplicate {...$$restProps} />\n","export var HOOKS = [\n    \"onChange\",\n    \"onClose\",\n    \"onDayCreate\",\n    \"onDestroy\",\n    \"onKeyDown\",\n    \"onMonthChange\",\n    \"onOpen\",\n    \"onParseConfig\",\n    \"onReady\",\n    \"onValueUpdate\",\n    \"onYearChange\",\n    \"onPreCalendarPosition\",\n];\nexport var defaults = {\n    _disable: [],\n    allowInput: false,\n    allowInvalidPreload: false,\n    altFormat: \"F j, Y\",\n    altInput: false,\n    altInputClass: \"form-control input\",\n    animate: typeof window === \"object\" &&\n        window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n    ariaDateFormat: \"F j, Y\",\n    autoFillDefaultTime: true,\n    clickOpens: true,\n    closeOnSelect: true,\n    conjunction: \", \",\n    dateFormat: \"Y-m-d\",\n    defaultHour: 12,\n    defaultMinute: 0,\n    defaultSeconds: 0,\n    disable: [],\n    disableMobile: false,\n    enableSeconds: false,\n    enableTime: false,\n    errorHandler: function (err) {\n        return typeof console !== \"undefined\" && console.warn(err);\n    },\n    getWeek: function (givenDate) {\n        var date = new Date(givenDate.getTime());\n        date.setHours(0, 0, 0, 0);\n        date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n        var week1 = new Date(date.getFullYear(), 0, 4);\n        return (1 +\n            Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                3 +\n                ((week1.getDay() + 6) % 7)) /\n                7));\n    },\n    hourIncrement: 1,\n    ignoredFocusElements: [],\n    inline: false,\n    locale: \"default\",\n    minuteIncrement: 5,\n    mode: \"single\",\n    monthSelectorType: \"dropdown\",\n    nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n    noCalendar: false,\n    now: new Date(),\n    onChange: [],\n    onClose: [],\n    onDayCreate: [],\n    onDestroy: [],\n    onKeyDown: [],\n    onMonthChange: [],\n    onOpen: [],\n    onParseConfig: [],\n    onReady: [],\n    onValueUpdate: [],\n    onYearChange: [],\n    onPreCalendarPosition: [],\n    plugins: [],\n    position: \"auto\",\n    positionElement: undefined,\n    prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n    shorthandCurrentMonth: false,\n    showMonths: 1,\n    static: false,\n    time_24hr: false,\n    weekNumbers: false,\n    wrap: false,\n};\n","export var english = {\n    weekdays: {\n        shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n        longhand: [\n            \"Sunday\",\n            \"Monday\",\n            \"Tuesday\",\n            \"Wednesday\",\n            \"Thursday\",\n            \"Friday\",\n            \"Saturday\",\n        ],\n    },\n    months: {\n        shorthand: [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n        ],\n        longhand: [\n            \"January\",\n            \"February\",\n            \"March\",\n            \"April\",\n            \"May\",\n            \"June\",\n            \"July\",\n            \"August\",\n            \"September\",\n            \"October\",\n            \"November\",\n            \"December\",\n        ],\n    },\n    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n    firstDayOfWeek: 0,\n    ordinal: function (nth) {\n        var s = nth % 100;\n        if (s > 3 && s < 21)\n            return \"th\";\n        switch (s % 10) {\n            case 1:\n                return \"st\";\n            case 2:\n                return \"nd\";\n            case 3:\n                return \"rd\";\n            default:\n                return \"th\";\n        }\n    },\n    rangeSeparator: \" to \",\n    weekAbbreviation: \"Wk\",\n    scrollTitle: \"Scroll to increment\",\n    toggleTitle: \"Click to toggle\",\n    amPM: [\"AM\", \"PM\"],\n    yearAriaLabel: \"Year\",\n    monthAriaLabel: \"Month\",\n    hourAriaLabel: \"Hour\",\n    minuteAriaLabel: \"Minute\",\n    time_24hr: false,\n};\nexport default english;\n","export var pad = function (number, length) {\n    if (length === void 0) { length = 2; }\n    return (\"000\" + number).slice(length * -1);\n};\nexport var int = function (bool) { return (bool === true ? 1 : 0); };\nexport function debounce(fn, wait) {\n    var t;\n    return function () {\n        var _this = this;\n        var args = arguments;\n        clearTimeout(t);\n        t = setTimeout(function () { return fn.apply(_this, args); }, wait);\n    };\n}\nexport var arrayify = function (obj) {\n    return obj instanceof Array ? obj : [obj];\n};\n","export function toggleClass(elem, className, bool) {\n    if (bool === true)\n        return elem.classList.add(className);\n    elem.classList.remove(className);\n}\nexport function createElement(tag, className, content) {\n    var e = window.document.createElement(tag);\n    className = className || \"\";\n    content = content || \"\";\n    e.className = className;\n    if (content !== undefined)\n        e.textContent = content;\n    return e;\n}\nexport function clearNode(node) {\n    while (node.firstChild)\n        node.removeChild(node.firstChild);\n}\nexport function findParent(node, condition) {\n    if (condition(node))\n        return node;\n    else if (node.parentNode)\n        return findParent(node.parentNode, condition);\n    return undefined;\n}\nexport function createNumberInput(inputClassName, opts) {\n    var wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n    if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n        numInput.type = \"number\";\n    }\n    else {\n        numInput.type = \"text\";\n        numInput.pattern = \"\\\\d*\";\n    }\n    if (opts !== undefined)\n        for (var key in opts)\n            numInput.setAttribute(key, opts[key]);\n    wrapper.appendChild(numInput);\n    wrapper.appendChild(arrowUp);\n    wrapper.appendChild(arrowDown);\n    return wrapper;\n}\nexport function getEventTarget(event) {\n    try {\n        if (typeof event.composedPath === \"function\") {\n            var path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n    catch (error) {\n        return event.target;\n    }\n}\n","import { int, pad } from \"../utils\";\nvar doNothing = function () { return undefined; };\nexport var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\nexport var revFormat = {\n    D: doNothing,\n    F: function (dateObj, monthName, locale) {\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n    },\n    G: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    H: function (dateObj, hour) {\n        dateObj.setHours(parseFloat(hour));\n    },\n    J: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    K: function (dateObj, amPM, locale) {\n        dateObj.setHours((dateObj.getHours() % 12) +\n            12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n    },\n    M: function (dateObj, shortMonth, locale) {\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n    },\n    S: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\n    W: function (dateObj, weekNum, locale) {\n        var weekNumber = parseInt(weekNum);\n        var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n        date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n        return date;\n    },\n    Y: function (dateObj, year) {\n        dateObj.setFullYear(parseFloat(year));\n    },\n    Z: function (_, ISODate) { return new Date(ISODate); },\n    d: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    h: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    i: function (dateObj, minutes) {\n        dateObj.setMinutes(parseFloat(minutes));\n    },\n    j: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    l: doNothing,\n    m: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    n: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    s: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    u: function (_, unixMillSeconds) {\n        return new Date(parseFloat(unixMillSeconds));\n    },\n    w: doNothing,\n    y: function (dateObj, year) {\n        dateObj.setFullYear(2000 + parseFloat(year));\n    },\n};\nexport var tokenRegex = {\n    D: \"\",\n    F: \"\",\n    G: \"(\\\\d\\\\d|\\\\d)\",\n    H: \"(\\\\d\\\\d|\\\\d)\",\n    J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n    K: \"\",\n    M: \"\",\n    S: \"(\\\\d\\\\d|\\\\d)\",\n    U: \"(.+)\",\n    W: \"(\\\\d\\\\d|\\\\d)\",\n    Y: \"(\\\\d{4})\",\n    Z: \"(.+)\",\n    d: \"(\\\\d\\\\d|\\\\d)\",\n    h: \"(\\\\d\\\\d|\\\\d)\",\n    i: \"(\\\\d\\\\d|\\\\d)\",\n    j: \"(\\\\d\\\\d|\\\\d)\",\n    l: \"\",\n    m: \"(\\\\d\\\\d|\\\\d)\",\n    n: \"(\\\\d\\\\d|\\\\d)\",\n    s: \"(\\\\d\\\\d|\\\\d)\",\n    u: \"(.+)\",\n    w: \"(\\\\d\\\\d|\\\\d)\",\n    y: \"(\\\\d{2})\",\n};\nexport var formats = {\n    Z: function (date) { return date.toISOString(); },\n    D: function (date, locale, options) {\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\n    },\n    F: function (date, locale, options) {\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n    },\n    G: function (date, locale, options) {\n        return pad(formats.h(date, locale, options));\n    },\n    H: function (date) { return pad(date.getHours()); },\n    J: function (date, locale) {\n        return locale.ordinal !== undefined\n            ? date.getDate() + locale.ordinal(date.getDate())\n            : date.getDate();\n    },\n    K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\n    M: function (date, locale) {\n        return monthToStr(date.getMonth(), true, locale);\n    },\n    S: function (date) { return pad(date.getSeconds()); },\n    U: function (date) { return date.getTime() / 1000; },\n    W: function (date, _, options) {\n        return options.getWeek(date);\n    },\n    Y: function (date) { return pad(date.getFullYear(), 4); },\n    d: function (date) { return pad(date.getDate()); },\n    h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\n    i: function (date) { return pad(date.getMinutes()); },\n    j: function (date) { return date.getDate(); },\n    l: function (date, locale) {\n        return locale.weekdays.longhand[date.getDay()];\n    },\n    m: function (date) { return pad(date.getMonth() + 1); },\n    n: function (date) { return date.getMonth() + 1; },\n    s: function (date) { return date.getSeconds(); },\n    u: function (date) { return date.getTime(); },\n    w: function (date) { return date.getDay(); },\n    y: function (date) { return String(date.getFullYear()).substring(2); },\n};\n","import { tokenRegex, revFormat, formats, } from \"./formatting\";\nimport { defaults } from \"../types/options\";\nimport { english } from \"../l10n/default\";\nexport var createDateFormatter = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c, _d = _a.isMobile, isMobile = _d === void 0 ? false : _d;\n    return function (dateObj, frmt, overrideLocale) {\n        var locale = overrideLocale || l10n;\n        if (config.formatDate !== undefined && !isMobile) {\n            return config.formatDate(dateObj, frmt, locale);\n        }\n        return frmt\n            .split(\"\")\n            .map(function (c, i, arr) {\n            return formats[c] && arr[i - 1] !== \"\\\\\"\n                ? formats[c](dateObj, locale, config)\n                : c !== \"\\\\\"\n                    ? c\n                    : \"\";\n        })\n            .join(\"\");\n    };\n};\nexport var createDateParser = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n    return function (date, givenFormat, timeless, customLocale) {\n        if (date !== 0 && !date)\n            return undefined;\n        var locale = customLocale || l10n;\n        var parsedDate;\n        var dateOrig = date;\n        if (date instanceof Date)\n            parsedDate = new Date(date.getTime());\n        else if (typeof date !== \"string\" &&\n            date.toFixed !== undefined)\n            parsedDate = new Date(date);\n        else if (typeof date === \"string\") {\n            var format = givenFormat || (config || defaults).dateFormat;\n            var datestr = String(date).trim();\n            if (datestr === \"today\") {\n                parsedDate = new Date();\n                timeless = true;\n            }\n            else if (config && config.parseDate) {\n                parsedDate = config.parseDate(date, format);\n            }\n            else if (/Z$/.test(datestr) ||\n                /GMT$/.test(datestr)) {\n                parsedDate = new Date(date);\n            }\n            else {\n                var matched = void 0, ops = [];\n                for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                    var token = format[i];\n                    var isBackSlash = token === \"\\\\\";\n                    var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                    if (tokenRegex[token] && !escaped) {\n                        regexStr += tokenRegex[token];\n                        var match = new RegExp(regexStr).exec(date);\n                        if (match && (matched = true)) {\n                            ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\n                                fn: revFormat[token],\n                                val: match[++matchIndex],\n                            });\n                        }\n                    }\n                    else if (!isBackSlash)\n                        regexStr += \".\";\n                }\n                parsedDate =\n                    !config || !config.noCalendar\n                        ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                        : new Date(new Date().setHours(0, 0, 0, 0));\n                ops.forEach(function (_a) {\n                    var fn = _a.fn, val = _a.val;\n                    return (parsedDate = fn(parsedDate, val, locale) || parsedDate);\n                });\n                parsedDate = matched ? parsedDate : undefined;\n            }\n        }\n        if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n            config.errorHandler(new Error(\"Invalid date provided: \" + dateOrig));\n            return undefined;\n        }\n        if (timeless === true)\n            parsedDate.setHours(0, 0, 0, 0);\n        return parsedDate;\n    };\n};\nexport function compareDates(date1, date2, timeless) {\n    if (timeless === void 0) { timeless = true; }\n    if (timeless !== false) {\n        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n            new Date(date2.getTime()).setHours(0, 0, 0, 0));\n    }\n    return date1.getTime() - date2.getTime();\n}\nexport function compareTimes(date1, date2) {\n    return (3600 * (date1.getHours() - date2.getHours()) +\n        60 * (date1.getMinutes() - date2.getMinutes()) +\n        date1.getSeconds() -\n        date2.getSeconds());\n}\nexport var isBetween = function (ts, ts1, ts2) {\n    return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n};\nexport var calculateSecondsSinceMidnight = function (hours, minutes, seconds) {\n    return hours * 3600 + minutes * 60 + seconds;\n};\nexport var parseSeconds = function (secondsSinceMidnight) {\n    var hours = Math.floor(secondsSinceMidnight / 3600), minutes = (secondsSinceMidnight - hours * 3600) / 60;\n    return [hours, minutes, secondsSinceMidnight - hours * 3600 - minutes * 60];\n};\nexport var duration = {\n    DAY: 86400000,\n};\nexport function getDefaultHours(config) {\n    var hours = config.defaultHour;\n    var minutes = config.defaultMinute;\n    var seconds = config.defaultSeconds;\n    if (config.minDate !== undefined) {\n        var minHour = config.minDate.getHours();\n        var minMinutes = config.minDate.getMinutes();\n        var minSeconds = config.minDate.getSeconds();\n        if (hours < minHour) {\n            hours = minHour;\n        }\n        if (hours === minHour && minutes < minMinutes) {\n            minutes = minMinutes;\n        }\n        if (hours === minHour && minutes === minMinutes && seconds < minSeconds)\n            seconds = config.minDate.getSeconds();\n    }\n    if (config.maxDate !== undefined) {\n        var maxHr = config.maxDate.getHours();\n        var maxMinutes = config.maxDate.getMinutes();\n        hours = Math.min(hours, maxHr);\n        if (hours === maxHr)\n            minutes = Math.min(maxMinutes, minutes);\n        if (hours === maxHr && minutes === maxMinutes)\n            seconds = config.maxDate.getSeconds();\n    }\n    return { hours: hours, minutes: minutes, seconds: seconds };\n}\n","\"use strict\";\nif (typeof Object.assign !== \"function\") {\n    Object.assign = function (target) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!target) {\n            throw TypeError(\"Cannot convert undefined or null to object\");\n        }\n        var _loop_1 = function (source) {\n            if (source) {\n                Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\n            }\n        };\n        for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n            var source = args_1[_a];\n            _loop_1(source);\n        }\n        return target;\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { defaults as defaultOptions, HOOKS, } from \"./types/options\";\nimport English from \"./l10n/default\";\nimport { arrayify, debounce, int, pad } from \"./utils\";\nimport { clearNode, createElement, createNumberInput, findParent, toggleClass, getEventTarget, } from \"./utils/dom\";\nimport { compareDates, createDateParser, createDateFormatter, duration, isBetween, getDefaultHours, calculateSecondsSinceMidnight, parseSeconds, } from \"./utils/dates\";\nimport { tokenRegex, monthToStr } from \"./utils/formatting\";\nimport \"./utils/polyfills\";\nvar DEBOUNCED_CHANGE_MS = 300;\nfunction FlatpickrInstance(element, instanceConfig) {\n    var self = {\n        config: __assign(__assign({}, defaultOptions), flatpickr.defaultConfig),\n        l10n: English,\n    };\n    self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    self._handlers = [];\n    self.pluginElements = [];\n    self.loadedPlugins = [];\n    self._bind = bind;\n    self._setHoursFromDate = setHoursFromDate;\n    self._positionCalendar = positionCalendar;\n    self.changeMonth = changeMonth;\n    self.changeYear = changeYear;\n    self.clear = clear;\n    self.close = close;\n    self.onMouseOver = onMouseOver;\n    self._createElement = createElement;\n    self.createDay = createDay;\n    self.destroy = destroy;\n    self.isEnabled = isEnabled;\n    self.jumpToDate = jumpToDate;\n    self.updateValue = updateValue;\n    self.open = open;\n    self.redraw = redraw;\n    self.set = set;\n    self.setDate = setDate;\n    self.toggle = toggle;\n    function setupHelperFunctions() {\n        self.utils = {\n            getDaysInMonth: function (month, yr) {\n                if (month === void 0) { month = self.currentMonth; }\n                if (yr === void 0) { yr = self.currentYear; }\n                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                    return 29;\n                return self.l10n.daysInMonth[month];\n            },\n        };\n    }\n    function init() {\n        self.element = self.input = element;\n        self.isOpen = false;\n        parseConfig();\n        setupLocale();\n        setupInputs();\n        setupDates();\n        setupHelperFunctions();\n        if (!self.isMobile)\n            build();\n        bindEvents();\n        if (self.selectedDates.length || self.config.noCalendar) {\n            if (self.config.enableTime) {\n                setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : undefined);\n            }\n            updateValue(false);\n        }\n        setCalendarWidth();\n        var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n        if (!self.isMobile && isSafari) {\n            positionCalendar();\n        }\n        triggerEvent(\"onReady\");\n    }\n    function getClosestActiveElement() {\n        var _a;\n        return (((_a = self.calendarContainer) === null || _a === void 0 ? void 0 : _a.getRootNode())\n            .activeElement || document.activeElement);\n    }\n    function bindToInstance(fn) {\n        return fn.bind(self);\n    }\n    function setCalendarWidth() {\n        var config = self.config;\n        if (config.weekNumbers === false && config.showMonths === 1) {\n            return;\n        }\n        else if (config.noCalendar !== true) {\n            window.requestAnimationFrame(function () {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.style.visibility = \"hidden\";\n                    self.calendarContainer.style.display = \"block\";\n                }\n                if (self.daysContainer !== undefined) {\n                    var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                    self.daysContainer.style.width = daysWidth + \"px\";\n                    self.calendarContainer.style.width =\n                        daysWidth +\n                            (self.weekWrapper !== undefined\n                                ? self.weekWrapper.offsetWidth\n                                : 0) +\n                            \"px\";\n                    self.calendarContainer.style.removeProperty(\"visibility\");\n                    self.calendarContainer.style.removeProperty(\"display\");\n                }\n            });\n        }\n    }\n    function updateTime(e) {\n        if (self.selectedDates.length === 0) {\n            var defaultDate = self.config.minDate === undefined ||\n                compareDates(new Date(), self.config.minDate) >= 0\n                ? new Date()\n                : new Date(self.config.minDate.getTime());\n            var defaults = getDefaultHours(self.config);\n            defaultDate.setHours(defaults.hours, defaults.minutes, defaults.seconds, defaultDate.getMilliseconds());\n            self.selectedDates = [defaultDate];\n            self.latestSelectedDateObj = defaultDate;\n        }\n        if (e !== undefined && e.type !== \"blur\") {\n            timeWrapper(e);\n        }\n        var prevValue = self._input.value;\n        setHoursFromInputs();\n        updateValue();\n        if (self._input.value !== prevValue) {\n            self._debouncedChange();\n        }\n    }\n    function ampm2military(hour, amPM) {\n        return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n    }\n    function military2ampm(hour) {\n        switch (hour % 24) {\n            case 0:\n            case 12:\n                return 12;\n            default:\n                return hour % 12;\n        }\n    }\n    function setHoursFromInputs() {\n        if (self.hourElement === undefined || self.minuteElement === undefined)\n            return;\n        var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n            ? (parseInt(self.secondElement.value, 10) || 0) % 60\n            : 0;\n        if (self.amPM !== undefined) {\n            hours = ampm2military(hours, self.amPM.textContent);\n        }\n        var limitMinHours = self.config.minTime !== undefined ||\n            (self.config.minDate &&\n                self.minDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                    0);\n        var limitMaxHours = self.config.maxTime !== undefined ||\n            (self.config.maxDate &&\n                self.maxDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                    0);\n        if (self.config.maxTime !== undefined &&\n            self.config.minTime !== undefined &&\n            self.config.minTime > self.config.maxTime) {\n            var minBound = calculateSecondsSinceMidnight(self.config.minTime.getHours(), self.config.minTime.getMinutes(), self.config.minTime.getSeconds());\n            var maxBound = calculateSecondsSinceMidnight(self.config.maxTime.getHours(), self.config.maxTime.getMinutes(), self.config.maxTime.getSeconds());\n            var currentTime = calculateSecondsSinceMidnight(hours, minutes, seconds);\n            if (currentTime > maxBound && currentTime < minBound) {\n                var result = parseSeconds(minBound);\n                hours = result[0];\n                minutes = result[1];\n                seconds = result[2];\n            }\n        }\n        else {\n            if (limitMaxHours) {\n                var maxTime = self.config.maxTime !== undefined\n                    ? self.config.maxTime\n                    : self.config.maxDate;\n                hours = Math.min(hours, maxTime.getHours());\n                if (hours === maxTime.getHours())\n                    minutes = Math.min(minutes, maxTime.getMinutes());\n                if (minutes === maxTime.getMinutes())\n                    seconds = Math.min(seconds, maxTime.getSeconds());\n            }\n            if (limitMinHours) {\n                var minTime = self.config.minTime !== undefined\n                    ? self.config.minTime\n                    : self.config.minDate;\n                hours = Math.max(hours, minTime.getHours());\n                if (hours === minTime.getHours() && minutes < minTime.getMinutes())\n                    minutes = minTime.getMinutes();\n                if (minutes === minTime.getMinutes())\n                    seconds = Math.max(seconds, minTime.getSeconds());\n            }\n        }\n        setHours(hours, minutes, seconds);\n    }\n    function setHoursFromDate(dateObj) {\n        var date = dateObj || self.latestSelectedDateObj;\n        if (date && date instanceof Date) {\n            setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n    }\n    function setHours(hours, minutes, seconds) {\n        if (self.latestSelectedDateObj !== undefined) {\n            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n        }\n        if (!self.hourElement || !self.minuteElement || self.isMobile)\n            return;\n        self.hourElement.value = pad(!self.config.time_24hr\n            ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n            : hours);\n        self.minuteElement.value = pad(minutes);\n        if (self.amPM !== undefined)\n            self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n        if (self.secondElement !== undefined)\n            self.secondElement.value = pad(seconds);\n    }\n    function onYearInput(event) {\n        var eventTarget = getEventTarget(event);\n        var year = parseInt(eventTarget.value) + (event.delta || 0);\n        if (year / 1000 > 1 ||\n            (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n            changeYear(year);\n        }\n    }\n    function bind(element, event, handler, options) {\n        if (event instanceof Array)\n            return event.forEach(function (ev) { return bind(element, ev, handler, options); });\n        if (element instanceof Array)\n            return element.forEach(function (el) { return bind(el, event, handler, options); });\n        element.addEventListener(event, handler, options);\n        self._handlers.push({\n            remove: function () { return element.removeEventListener(event, handler, options); },\n        });\n    }\n    function triggerChange() {\n        triggerEvent(\"onChange\");\n    }\n    function bindEvents() {\n        if (self.config.wrap) {\n            [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\n                Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\n                    return bind(el, \"click\", self[evt]);\n                });\n            });\n        }\n        if (self.isMobile) {\n            setupMobile();\n            return;\n        }\n        var debouncedResize = debounce(onResize, 50);\n        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n            bind(self.daysContainer, \"mouseover\", function (e) {\n                if (self.config.mode === \"range\")\n                    onMouseOver(getEventTarget(e));\n            });\n        bind(self._input, \"keydown\", onKeyDown);\n        if (self.calendarContainer !== undefined) {\n            bind(self.calendarContainer, \"keydown\", onKeyDown);\n        }\n        if (!self.config.inline && !self.config.static)\n            bind(window, \"resize\", debouncedResize);\n        if (window.ontouchstart !== undefined)\n            bind(window.document, \"touchstart\", documentClick);\n        else\n            bind(window.document, \"mousedown\", documentClick);\n        bind(window.document, \"focus\", documentClick, { capture: true });\n        if (self.config.clickOpens === true) {\n            bind(self._input, \"focus\", self.open);\n            bind(self._input, \"click\", self.open);\n        }\n        if (self.daysContainer !== undefined) {\n            bind(self.monthNav, \"click\", onMonthNavClick);\n            bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n            bind(self.daysContainer, \"click\", selectDate);\n        }\n        if (self.timeContainer !== undefined &&\n            self.minuteElement !== undefined &&\n            self.hourElement !== undefined) {\n            var selText = function (e) {\n                return getEventTarget(e).select();\n            };\n            bind(self.timeContainer, [\"increment\"], updateTime);\n            bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n            bind(self.timeContainer, \"click\", timeIncrement);\n            bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n            if (self.secondElement !== undefined)\n                bind(self.secondElement, \"focus\", function () { return self.secondElement && self.secondElement.select(); });\n            if (self.amPM !== undefined) {\n                bind(self.amPM, \"click\", function (e) {\n                    updateTime(e);\n                });\n            }\n        }\n        if (self.config.allowInput) {\n            bind(self._input, \"blur\", onBlur);\n        }\n    }\n    function jumpToDate(jumpDate, triggerChange) {\n        var jumpTo = jumpDate !== undefined\n            ? self.parseDate(jumpDate)\n            : self.latestSelectedDateObj ||\n                (self.config.minDate && self.config.minDate > self.now\n                    ? self.config.minDate\n                    : self.config.maxDate && self.config.maxDate < self.now\n                        ? self.config.maxDate\n                        : self.now);\n        var oldYear = self.currentYear;\n        var oldMonth = self.currentMonth;\n        try {\n            if (jumpTo !== undefined) {\n                self.currentYear = jumpTo.getFullYear();\n                self.currentMonth = jumpTo.getMonth();\n            }\n        }\n        catch (e) {\n            e.message = \"Invalid date supplied: \" + jumpTo;\n            self.config.errorHandler(e);\n        }\n        if (triggerChange && self.currentYear !== oldYear) {\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        if (triggerChange &&\n            (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n            triggerEvent(\"onMonthChange\");\n        }\n        self.redraw();\n    }\n    function timeIncrement(e) {\n        var eventTarget = getEventTarget(e);\n        if (~eventTarget.className.indexOf(\"arrow\"))\n            incrementNumInput(e, eventTarget.classList.contains(\"arrowUp\") ? 1 : -1);\n    }\n    function incrementNumInput(e, delta, inputElem) {\n        var target = e && getEventTarget(e);\n        var input = inputElem ||\n            (target && target.parentNode && target.parentNode.firstChild);\n        var event = createEvent(\"increment\");\n        event.delta = delta;\n        input && input.dispatchEvent(event);\n    }\n    function build() {\n        var fragment = window.document.createDocumentFragment();\n        self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n        self.calendarContainer.tabIndex = -1;\n        if (!self.config.noCalendar) {\n            fragment.appendChild(buildMonthNav());\n            self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n            if (self.config.weekNumbers) {\n                var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\n                self.innerContainer.appendChild(weekWrapper);\n                self.weekNumbers = weekNumbers;\n                self.weekWrapper = weekWrapper;\n            }\n            self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n            self.rContainer.appendChild(buildWeekdays());\n            if (!self.daysContainer) {\n                self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                self.daysContainer.tabIndex = -1;\n            }\n            buildDays();\n            self.rContainer.appendChild(self.daysContainer);\n            self.innerContainer.appendChild(self.rContainer);\n            fragment.appendChild(self.innerContainer);\n        }\n        if (self.config.enableTime) {\n            fragment.appendChild(buildTime());\n        }\n        toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n        toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n        toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n        self.calendarContainer.appendChild(fragment);\n        var customAppend = self.config.appendTo !== undefined &&\n            self.config.appendTo.nodeType !== undefined;\n        if (self.config.inline || self.config.static) {\n            self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n            if (self.config.inline) {\n                if (!customAppend && self.element.parentNode)\n                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                else if (self.config.appendTo !== undefined)\n                    self.config.appendTo.appendChild(self.calendarContainer);\n            }\n            if (self.config.static) {\n                var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                if (self.element.parentNode)\n                    self.element.parentNode.insertBefore(wrapper, self.element);\n                wrapper.appendChild(self.element);\n                if (self.altInput)\n                    wrapper.appendChild(self.altInput);\n                wrapper.appendChild(self.calendarContainer);\n            }\n        }\n        if (!self.config.static && !self.config.inline)\n            (self.config.appendTo !== undefined\n                ? self.config.appendTo\n                : window.document.body).appendChild(self.calendarContainer);\n    }\n    function createDay(className, date, _dayNumber, i) {\n        var dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", className, date.getDate().toString());\n        dayElement.dateObj = date;\n        dayElement.$i = i;\n        dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n        if (className.indexOf(\"hidden\") === -1 &&\n            compareDates(date, self.now) === 0) {\n            self.todayDateElem = dayElement;\n            dayElement.classList.add(\"today\");\n            dayElement.setAttribute(\"aria-current\", \"date\");\n        }\n        if (dateIsEnabled) {\n            dayElement.tabIndex = -1;\n            if (isDateSelected(date)) {\n                dayElement.classList.add(\"selected\");\n                self.selectedDateElem = dayElement;\n                if (self.config.mode === \"range\") {\n                    toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                        compareDates(date, self.selectedDates[0], true) === 0);\n                    toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                        compareDates(date, self.selectedDates[1], true) === 0);\n                    if (className === \"nextMonthDay\")\n                        dayElement.classList.add(\"inRange\");\n                }\n            }\n        }\n        else {\n            dayElement.classList.add(\"flatpickr-disabled\");\n        }\n        if (self.config.mode === \"range\") {\n            if (isDateInRange(date) && !isDateSelected(date))\n                dayElement.classList.add(\"inRange\");\n        }\n        if (self.weekNumbers &&\n            self.config.showMonths === 1 &&\n            className !== \"prevMonthDay\" &&\n            i % 7 === 6) {\n            self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n        }\n        triggerEvent(\"onDayCreate\", dayElement);\n        return dayElement;\n    }\n    function focusOnDayElem(targetNode) {\n        targetNode.focus();\n        if (self.config.mode === \"range\")\n            onMouseOver(targetNode);\n    }\n    function getFirstAvailableDay(delta) {\n        var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        for (var m = startMonth; m != endMonth; m += delta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = delta > 0 ? 0 : month.children.length - 1;\n            var endIndex = delta > 0 ? month.children.length : -1;\n            for (var i = startIndex; i != endIndex; i += delta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                    return c;\n            }\n        }\n        return undefined;\n    }\n    function getNextAvailableDay(current, delta) {\n        var givenMonth = current.className.indexOf(\"Month\") === -1\n            ? current.dateObj.getMonth()\n            : self.currentMonth;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        var loopDelta = delta > 0 ? 1 : -1;\n        for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = givenMonth - self.currentMonth === m\n                ? current.$i + delta\n                : delta < 0\n                    ? month.children.length - 1\n                    : 0;\n            var numMonthDays = month.children.length;\n            for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 &&\n                    isEnabled(c.dateObj) &&\n                    Math.abs(current.$i - i) >= Math.abs(delta))\n                    return focusOnDayElem(c);\n            }\n        }\n        self.changeMonth(loopDelta);\n        focusOnDay(getFirstAvailableDay(loopDelta), 0);\n        return undefined;\n    }\n    function focusOnDay(current, offset) {\n        var activeElement = getClosestActiveElement();\n        var dayFocused = isInView(activeElement || document.body);\n        var startElem = current !== undefined\n            ? current\n            : dayFocused\n                ? activeElement\n                : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                    ? self.selectedDateElem\n                    : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                        ? self.todayDateElem\n                        : getFirstAvailableDay(offset > 0 ? 1 : -1);\n        if (startElem === undefined) {\n            self._input.focus();\n        }\n        else if (!dayFocused) {\n            focusOnDayElem(startElem);\n        }\n        else {\n            getNextAvailableDay(startElem, offset);\n        }\n    }\n    function buildMonthDays(year, month) {\n        var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n        var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);\n        var daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n        var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n        }\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n        }\n        for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n            (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n        }\n        var dayContainer = createElement(\"div\", \"dayContainer\");\n        dayContainer.appendChild(days);\n        return dayContainer;\n    }\n    function buildDays() {\n        if (self.daysContainer === undefined) {\n            return;\n        }\n        clearNode(self.daysContainer);\n        if (self.weekNumbers)\n            clearNode(self.weekNumbers);\n        var frag = document.createDocumentFragment();\n        for (var i = 0; i < self.config.showMonths; i++) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n        }\n        self.daysContainer.appendChild(frag);\n        self.days = self.daysContainer.firstChild;\n        if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n            onMouseOver();\n        }\n    }\n    function buildMonthSwitch() {\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType !== \"dropdown\")\n            return;\n        var shouldBuildMonth = function (month) {\n            if (self.config.minDate !== undefined &&\n                self.currentYear === self.config.minDate.getFullYear() &&\n                month < self.config.minDate.getMonth()) {\n                return false;\n            }\n            return !(self.config.maxDate !== undefined &&\n                self.currentYear === self.config.maxDate.getFullYear() &&\n                month > self.config.maxDate.getMonth());\n        };\n        self.monthsDropdownContainer.tabIndex = -1;\n        self.monthsDropdownContainer.innerHTML = \"\";\n        for (var i = 0; i < 12; i++) {\n            if (!shouldBuildMonth(i))\n                continue;\n            var month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n            month.value = new Date(self.currentYear, i).getMonth().toString();\n            month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n            month.tabIndex = -1;\n            if (self.currentMonth === i) {\n                month.selected = true;\n            }\n            self.monthsDropdownContainer.appendChild(month);\n        }\n    }\n    function buildMonth() {\n        var container = createElement(\"div\", \"flatpickr-month\");\n        var monthNavFragment = window.document.createDocumentFragment();\n        var monthElement;\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType === \"static\") {\n            monthElement = createElement(\"span\", \"cur-month\");\n        }\n        else {\n            self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n            self.monthsDropdownContainer.setAttribute(\"aria-label\", self.l10n.monthAriaLabel);\n            bind(self.monthsDropdownContainer, \"change\", function (e) {\n                var target = getEventTarget(e);\n                var selectedMonth = parseInt(target.value, 10);\n                self.changeMonth(selectedMonth - self.currentMonth);\n                triggerEvent(\"onMonthChange\");\n            });\n            buildMonthSwitch();\n            monthElement = self.monthsDropdownContainer;\n        }\n        var yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n        var yearElement = yearInput.getElementsByTagName(\"input\")[0];\n        yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n        if (self.config.minDate) {\n            yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n        }\n        if (self.config.maxDate) {\n            yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n            yearElement.disabled =\n                !!self.config.minDate &&\n                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n        }\n        var currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n        currentMonth.appendChild(monthElement);\n        currentMonth.appendChild(yearInput);\n        monthNavFragment.appendChild(currentMonth);\n        container.appendChild(monthNavFragment);\n        return {\n            container: container,\n            yearElement: yearElement,\n            monthElement: monthElement,\n        };\n    }\n    function buildMonths() {\n        clearNode(self.monthNav);\n        self.monthNav.appendChild(self.prevMonthNav);\n        if (self.config.showMonths) {\n            self.yearElements = [];\n            self.monthElements = [];\n        }\n        for (var m = self.config.showMonths; m--;) {\n            var month = buildMonth();\n            self.yearElements.push(month.yearElement);\n            self.monthElements.push(month.monthElement);\n            self.monthNav.appendChild(month.container);\n        }\n        self.monthNav.appendChild(self.nextMonthNav);\n    }\n    function buildMonthNav() {\n        self.monthNav = createElement(\"div\", \"flatpickr-months\");\n        self.yearElements = [];\n        self.monthElements = [];\n        self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\n        self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\n        buildMonths();\n        Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n            get: function () { return self.__hidePrevMonthArrow; },\n            set: function (bool) {\n                if (self.__hidePrevMonthArrow !== bool) {\n                    toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hidePrevMonthArrow = bool;\n                }\n            },\n        });\n        Object.defineProperty(self, \"_hideNextMonthArrow\", {\n            get: function () { return self.__hideNextMonthArrow; },\n            set: function (bool) {\n                if (self.__hideNextMonthArrow !== bool) {\n                    toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hideNextMonthArrow = bool;\n                }\n            },\n        });\n        self.currentYearElement = self.yearElements[0];\n        updateNavigationCurrentMonth();\n        return self.monthNav;\n    }\n    function buildTime() {\n        self.calendarContainer.classList.add(\"hasTime\");\n        if (self.config.noCalendar)\n            self.calendarContainer.classList.add(\"noCalendar\");\n        var defaults = getDefaultHours(self.config);\n        self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n        self.timeContainer.tabIndex = -1;\n        var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n        var hourInput = createNumberInput(\"flatpickr-hour\", {\n            \"aria-label\": self.l10n.hourAriaLabel,\n        });\n        self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n        var minuteInput = createNumberInput(\"flatpickr-minute\", {\n            \"aria-label\": self.l10n.minuteAriaLabel,\n        });\n        self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n        self.hourElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getHours()\n            : self.config.time_24hr\n                ? defaults.hours\n                : military2ampm(defaults.hours));\n        self.minuteElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getMinutes()\n            : defaults.minutes);\n        self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n        self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n        self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n        self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n        self.hourElement.setAttribute(\"maxlength\", \"2\");\n        self.minuteElement.setAttribute(\"min\", \"0\");\n        self.minuteElement.setAttribute(\"max\", \"59\");\n        self.minuteElement.setAttribute(\"maxlength\", \"2\");\n        self.timeContainer.appendChild(hourInput);\n        self.timeContainer.appendChild(separator);\n        self.timeContainer.appendChild(minuteInput);\n        if (self.config.time_24hr)\n            self.timeContainer.classList.add(\"time24hr\");\n        if (self.config.enableSeconds) {\n            self.timeContainer.classList.add(\"hasSeconds\");\n            var secondInput = createNumberInput(\"flatpickr-second\");\n            self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n            self.secondElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getSeconds()\n                : defaults.seconds);\n            self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n            self.secondElement.setAttribute(\"min\", \"0\");\n            self.secondElement.setAttribute(\"max\", \"59\");\n            self.secondElement.setAttribute(\"maxlength\", \"2\");\n            self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n            self.timeContainer.appendChild(secondInput);\n        }\n        if (!self.config.time_24hr) {\n            self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                ? self.hourElement.value\n                : self.config.defaultHour) > 11)]);\n            self.amPM.title = self.l10n.toggleTitle;\n            self.amPM.tabIndex = -1;\n            self.timeContainer.appendChild(self.amPM);\n        }\n        return self.timeContainer;\n    }\n    function buildWeekdays() {\n        if (!self.weekdayContainer)\n            self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n        else\n            clearNode(self.weekdayContainer);\n        for (var i = self.config.showMonths; i--;) {\n            var container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n            self.weekdayContainer.appendChild(container);\n        }\n        updateWeekdays();\n        return self.weekdayContainer;\n    }\n    function updateWeekdays() {\n        if (!self.weekdayContainer) {\n            return;\n        }\n        var firstDayOfWeek = self.l10n.firstDayOfWeek;\n        var weekdays = __spreadArrays(self.l10n.weekdays.shorthand);\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n            weekdays = __spreadArrays(weekdays.splice(firstDayOfWeek, weekdays.length), weekdays.splice(0, firstDayOfWeek));\n        }\n        for (var i = self.config.showMonths; i--;) {\n            self.weekdayContainer.children[i].innerHTML = \"\\n      <span class='flatpickr-weekday'>\\n        \" + weekdays.join(\"</span><span class='flatpickr-weekday'>\") + \"\\n      </span>\\n      \";\n        }\n    }\n    function buildWeeks() {\n        self.calendarContainer.classList.add(\"hasWeeks\");\n        var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n        weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n        var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n        weekWrapper.appendChild(weekNumbers);\n        return {\n            weekWrapper: weekWrapper,\n            weekNumbers: weekNumbers,\n        };\n    }\n    function changeMonth(value, isOffset) {\n        if (isOffset === void 0) { isOffset = true; }\n        var delta = isOffset ? value : value - self.currentMonth;\n        if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n            (delta > 0 && self._hideNextMonthArrow === true))\n            return;\n        self.currentMonth += delta;\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\n            self.currentYear += self.currentMonth > 11 ? 1 : -1;\n            self.currentMonth = (self.currentMonth + 12) % 12;\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        buildDays();\n        triggerEvent(\"onMonthChange\");\n        updateNavigationCurrentMonth();\n    }\n    function clear(triggerChangeEvent, toInitial) {\n        if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\n        if (toInitial === void 0) { toInitial = true; }\n        self.input.value = \"\";\n        if (self.altInput !== undefined)\n            self.altInput.value = \"\";\n        if (self.mobileInput !== undefined)\n            self.mobileInput.value = \"\";\n        self.selectedDates = [];\n        self.latestSelectedDateObj = undefined;\n        if (toInitial === true) {\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n        }\n        if (self.config.enableTime === true) {\n            var _a = getDefaultHours(self.config), hours = _a.hours, minutes = _a.minutes, seconds = _a.seconds;\n            setHours(hours, minutes, seconds);\n        }\n        self.redraw();\n        if (triggerChangeEvent)\n            triggerEvent(\"onChange\");\n    }\n    function close() {\n        self.isOpen = false;\n        if (!self.isMobile) {\n            if (self.calendarContainer !== undefined) {\n                self.calendarContainer.classList.remove(\"open\");\n            }\n            if (self._input !== undefined) {\n                self._input.classList.remove(\"active\");\n            }\n        }\n        triggerEvent(\"onClose\");\n    }\n    function destroy() {\n        if (self.config !== undefined)\n            triggerEvent(\"onDestroy\");\n        for (var i = self._handlers.length; i--;) {\n            self._handlers[i].remove();\n        }\n        self._handlers = [];\n        if (self.mobileInput) {\n            if (self.mobileInput.parentNode)\n                self.mobileInput.parentNode.removeChild(self.mobileInput);\n            self.mobileInput = undefined;\n        }\n        else if (self.calendarContainer && self.calendarContainer.parentNode) {\n            if (self.config.static && self.calendarContainer.parentNode) {\n                var wrapper = self.calendarContainer.parentNode;\n                wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                if (wrapper.parentNode) {\n                    while (wrapper.firstChild)\n                        wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                    wrapper.parentNode.removeChild(wrapper);\n                }\n            }\n            else\n                self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n        }\n        if (self.altInput) {\n            self.input.type = \"text\";\n            if (self.altInput.parentNode)\n                self.altInput.parentNode.removeChild(self.altInput);\n            delete self.altInput;\n        }\n        if (self.input) {\n            self.input.type = self.input._type;\n            self.input.classList.remove(\"flatpickr-input\");\n            self.input.removeAttribute(\"readonly\");\n        }\n        [\n            \"_showTimeInput\",\n            \"latestSelectedDateObj\",\n            \"_hideNextMonthArrow\",\n            \"_hidePrevMonthArrow\",\n            \"__hideNextMonthArrow\",\n            \"__hidePrevMonthArrow\",\n            \"isMobile\",\n            \"isOpen\",\n            \"selectedDateElem\",\n            \"minDateHasTime\",\n            \"maxDateHasTime\",\n            \"days\",\n            \"daysContainer\",\n            \"_input\",\n            \"_positionElement\",\n            \"innerContainer\",\n            \"rContainer\",\n            \"monthNav\",\n            \"todayDateElem\",\n            \"calendarContainer\",\n            \"weekdayContainer\",\n            \"prevMonthNav\",\n            \"nextMonthNav\",\n            \"monthsDropdownContainer\",\n            \"currentMonthElement\",\n            \"currentYearElement\",\n            \"navigationCurrentMonth\",\n            \"selectedDateElem\",\n            \"config\",\n        ].forEach(function (k) {\n            try {\n                delete self[k];\n            }\n            catch (_) { }\n        });\n    }\n    function isCalendarElem(elem) {\n        return self.calendarContainer.contains(elem);\n    }\n    function documentClick(e) {\n        if (self.isOpen && !self.config.inline) {\n            var eventTarget_1 = getEventTarget(e);\n            var isCalendarElement = isCalendarElem(eventTarget_1);\n            var isInput = eventTarget_1 === self.input ||\n                eventTarget_1 === self.altInput ||\n                self.element.contains(eventTarget_1) ||\n                (e.path &&\n                    e.path.indexOf &&\n                    (~e.path.indexOf(self.input) ||\n                        ~e.path.indexOf(self.altInput)));\n            var lostFocus = !isInput &&\n                !isCalendarElement &&\n                !isCalendarElem(e.relatedTarget);\n            var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\n                return elem.contains(eventTarget_1);\n            });\n            if (lostFocus && isIgnored) {\n                if (self.config.allowInput) {\n                    self.setDate(self._input.value, false, self.config.altInput\n                        ? self.config.altFormat\n                        : self.config.dateFormat);\n                }\n                if (self.timeContainer !== undefined &&\n                    self.minuteElement !== undefined &&\n                    self.hourElement !== undefined &&\n                    self.input.value !== \"\" &&\n                    self.input.value !== undefined) {\n                    updateTime();\n                }\n                self.close();\n                if (self.config &&\n                    self.config.mode === \"range\" &&\n                    self.selectedDates.length === 1)\n                    self.clear(false);\n            }\n        }\n    }\n    function changeYear(newYear) {\n        if (!newYear ||\n            (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n            (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n            return;\n        var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n        self.currentYear = newYearNum || self.currentYear;\n        if (self.config.maxDate &&\n            self.currentYear === self.config.maxDate.getFullYear()) {\n            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n        }\n        else if (self.config.minDate &&\n            self.currentYear === self.config.minDate.getFullYear()) {\n            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n        }\n        if (isNewYear) {\n            self.redraw();\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n    }\n    function isEnabled(date, timeless) {\n        var _a;\n        if (timeless === void 0) { timeless = true; }\n        var dateToCheck = self.parseDate(date, undefined, timeless);\n        if ((self.config.minDate &&\n            dateToCheck &&\n            compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n            (self.config.maxDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n            return false;\n        if (!self.config.enable && self.config.disable.length === 0)\n            return true;\n        if (dateToCheck === undefined)\n            return false;\n        var bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;\n        for (var i = 0, d = void 0; i < array.length; i++) {\n            d = array[i];\n            if (typeof d === \"function\" &&\n                d(dateToCheck))\n                return bool;\n            else if (d instanceof Date &&\n                dateToCheck !== undefined &&\n                d.getTime() === dateToCheck.getTime())\n                return bool;\n            else if (typeof d === \"string\") {\n                var parsed = self.parseDate(d, undefined, true);\n                return parsed && parsed.getTime() === dateToCheck.getTime()\n                    ? bool\n                    : !bool;\n            }\n            else if (typeof d === \"object\" &&\n                dateToCheck !== undefined &&\n                d.from &&\n                d.to &&\n                dateToCheck.getTime() >= d.from.getTime() &&\n                dateToCheck.getTime() <= d.to.getTime())\n                return bool;\n        }\n        return !bool;\n    }\n    function isInView(elem) {\n        if (self.daysContainer !== undefined)\n            return (elem.className.indexOf(\"hidden\") === -1 &&\n                elem.className.indexOf(\"flatpickr-disabled\") === -1 &&\n                self.daysContainer.contains(elem));\n        return false;\n    }\n    function onBlur(e) {\n        var isInput = e.target === self._input;\n        var valueChanged = self._input.value.trimEnd() !== getDateStr();\n        if (isInput &&\n            valueChanged &&\n            !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {\n            self.setDate(self._input.value, true, e.target === self.altInput\n                ? self.config.altFormat\n                : self.config.dateFormat);\n        }\n    }\n    function onKeyDown(e) {\n        var eventTarget = getEventTarget(e);\n        var isInput = self.config.wrap\n            ? element.contains(eventTarget)\n            : eventTarget === self._input;\n        var allowInput = self.config.allowInput;\n        var allowKeydown = self.isOpen && (!allowInput || !isInput);\n        var allowInlineKeydown = self.config.inline && isInput && !allowInput;\n        if (e.keyCode === 13 && isInput) {\n            if (allowInput) {\n                self.setDate(self._input.value, true, eventTarget === self.altInput\n                    ? self.config.altFormat\n                    : self.config.dateFormat);\n                self.close();\n                return eventTarget.blur();\n            }\n            else {\n                self.open();\n            }\n        }\n        else if (isCalendarElem(eventTarget) ||\n            allowKeydown ||\n            allowInlineKeydown) {\n            var isTimeObj = !!self.timeContainer &&\n                self.timeContainer.contains(eventTarget);\n            switch (e.keyCode) {\n                case 13:\n                    if (isTimeObj) {\n                        e.preventDefault();\n                        updateTime();\n                        focusAndClose();\n                    }\n                    else\n                        selectDate(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    focusAndClose();\n                    break;\n                case 8:\n                case 46:\n                    if (isInput && !self.config.allowInput) {\n                        e.preventDefault();\n                        self.clear();\n                    }\n                    break;\n                case 37:\n                case 39:\n                    if (!isTimeObj && !isInput) {\n                        e.preventDefault();\n                        var activeElement = getClosestActiveElement();\n                        if (self.daysContainer !== undefined &&\n                            (allowInput === false ||\n                                (activeElement && isInView(activeElement)))) {\n                            var delta_1 = e.keyCode === 39 ? 1 : -1;\n                            if (!e.ctrlKey)\n                                focusOnDay(undefined, delta_1);\n                            else {\n                                e.stopPropagation();\n                                changeMonth(delta_1);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                        }\n                    }\n                    else if (self.hourElement)\n                        self.hourElement.focus();\n                    break;\n                case 38:\n                case 40:\n                    e.preventDefault();\n                    var delta = e.keyCode === 40 ? 1 : -1;\n                    if ((self.daysContainer &&\n                        eventTarget.$i !== undefined) ||\n                        eventTarget === self.input ||\n                        eventTarget === self.altInput) {\n                        if (e.ctrlKey) {\n                            e.stopPropagation();\n                            changeYear(self.currentYear - delta);\n                            focusOnDay(getFirstAvailableDay(1), 0);\n                        }\n                        else if (!isTimeObj)\n                            focusOnDay(undefined, delta * 7);\n                    }\n                    else if (eventTarget === self.currentYearElement) {\n                        changeYear(self.currentYear - delta);\n                    }\n                    else if (self.config.enableTime) {\n                        if (!isTimeObj && self.hourElement)\n                            self.hourElement.focus();\n                        updateTime(e);\n                        self._debouncedChange();\n                    }\n                    break;\n                case 9:\n                    if (isTimeObj) {\n                        var elems = [\n                            self.hourElement,\n                            self.minuteElement,\n                            self.secondElement,\n                            self.amPM,\n                        ]\n                            .concat(self.pluginElements)\n                            .filter(function (x) { return x; });\n                        var i = elems.indexOf(eventTarget);\n                        if (i !== -1) {\n                            var target = elems[i + (e.shiftKey ? -1 : 1)];\n                            e.preventDefault();\n                            (target || self._input).focus();\n                        }\n                    }\n                    else if (!self.config.noCalendar &&\n                        self.daysContainer &&\n                        self.daysContainer.contains(eventTarget) &&\n                        e.shiftKey) {\n                        e.preventDefault();\n                        self._input.focus();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            switch (e.key) {\n                case self.l10n.amPM[0].charAt(0):\n                case self.l10n.amPM[0].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[0];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n                case self.l10n.amPM[1].charAt(0):\n                case self.l10n.amPM[1].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[1];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n            }\n        }\n        if (isInput || isCalendarElem(eventTarget)) {\n            triggerEvent(\"onKeyDown\", e);\n        }\n    }\n    function onMouseOver(elem, cellClass) {\n        if (cellClass === void 0) { cellClass = \"flatpickr-day\"; }\n        if (self.selectedDates.length !== 1 ||\n            (elem &&\n                (!elem.classList.contains(cellClass) ||\n                    elem.classList.contains(\"flatpickr-disabled\"))))\n            return;\n        var hoverDate = elem\n            ? elem.dateObj.getTime()\n            : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n        var containsDisabled = false;\n        var minRange = 0, maxRange = 0;\n        for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n            if (!isEnabled(new Date(t), true)) {\n                containsDisabled =\n                    containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                if (t < initialDate && (!minRange || t > minRange))\n                    minRange = t;\n                else if (t > initialDate && (!maxRange || t < maxRange))\n                    maxRange = t;\n            }\n        }\n        var hoverableCells = Array.from(self.rContainer.querySelectorAll(\"*:nth-child(-n+\" + self.config.showMonths + \") > .\" + cellClass));\n        hoverableCells.forEach(function (dayElem) {\n            var date = dayElem.dateObj;\n            var timestamp = date.getTime();\n            var outOfRange = (minRange > 0 && timestamp < minRange) ||\n                (maxRange > 0 && timestamp > maxRange);\n            if (outOfRange) {\n                dayElem.classList.add(\"notAllowed\");\n                [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\n                    dayElem.classList.remove(c);\n                });\n                return;\n            }\n            else if (containsDisabled && !outOfRange)\n                return;\n            [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\n                dayElem.classList.remove(c);\n            });\n            if (elem !== undefined) {\n                elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                    ? \"startRange\"\n                    : \"endRange\");\n                if (initialDate < hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"startRange\");\n                else if (initialDate > hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"endRange\");\n                if (timestamp >= minRange &&\n                    (maxRange === 0 || timestamp <= maxRange) &&\n                    isBetween(timestamp, initialDate, hoverDate))\n                    dayElem.classList.add(\"inRange\");\n            }\n        });\n    }\n    function onResize() {\n        if (self.isOpen && !self.config.static && !self.config.inline)\n            positionCalendar();\n    }\n    function open(e, positionElement) {\n        if (positionElement === void 0) { positionElement = self._positionElement; }\n        if (self.isMobile === true) {\n            if (e) {\n                e.preventDefault();\n                var eventTarget = getEventTarget(e);\n                if (eventTarget) {\n                    eventTarget.blur();\n                }\n            }\n            if (self.mobileInput !== undefined) {\n                self.mobileInput.focus();\n                self.mobileInput.click();\n            }\n            triggerEvent(\"onOpen\");\n            return;\n        }\n        else if (self._input.disabled || self.config.inline) {\n            return;\n        }\n        var wasOpen = self.isOpen;\n        self.isOpen = true;\n        if (!wasOpen) {\n            self.calendarContainer.classList.add(\"open\");\n            self._input.classList.add(\"active\");\n            triggerEvent(\"onOpen\");\n            positionCalendar(positionElement);\n        }\n        if (self.config.enableTime === true && self.config.noCalendar === true) {\n            if (self.config.allowInput === false &&\n                (e === undefined ||\n                    !self.timeContainer.contains(e.relatedTarget))) {\n                setTimeout(function () { return self.hourElement.select(); }, 50);\n            }\n        }\n    }\n    function minMaxDateSetter(type) {\n        return function (date) {\n            var dateObj = (self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat));\n            var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\n            if (dateObj !== undefined) {\n                self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                    dateObj.getHours() > 0 ||\n                        dateObj.getMinutes() > 0 ||\n                        dateObj.getSeconds() > 0;\n            }\n            if (self.selectedDates) {\n                self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\n                if (!self.selectedDates.length && type === \"min\")\n                    setHoursFromDate(dateObj);\n                updateValue();\n            }\n            if (self.daysContainer) {\n                redraw();\n                if (dateObj !== undefined)\n                    self.currentYearElement[type] = dateObj.getFullYear().toString();\n                else\n                    self.currentYearElement.removeAttribute(type);\n                self.currentYearElement.disabled =\n                    !!inverseDateObj &&\n                        dateObj !== undefined &&\n                        inverseDateObj.getFullYear() === dateObj.getFullYear();\n            }\n        };\n    }\n    function parseConfig() {\n        var boolOpts = [\n            \"wrap\",\n            \"weekNumbers\",\n            \"allowInput\",\n            \"allowInvalidPreload\",\n            \"clickOpens\",\n            \"time_24hr\",\n            \"enableTime\",\n            \"noCalendar\",\n            \"altInput\",\n            \"shorthandCurrentMonth\",\n            \"inline\",\n            \"static\",\n            \"enableSeconds\",\n            \"disableMobile\",\n        ];\n        var userConfig = __assign(__assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);\n        var formats = {};\n        self.config.parseDate = userConfig.parseDate;\n        self.config.formatDate = userConfig.formatDate;\n        Object.defineProperty(self.config, \"enable\", {\n            get: function () { return self.config._enable; },\n            set: function (dates) {\n                self.config._enable = parseDateRules(dates);\n            },\n        });\n        Object.defineProperty(self.config, \"disable\", {\n            get: function () { return self.config._disable; },\n            set: function (dates) {\n                self.config._disable = parseDateRules(dates);\n            },\n        });\n        var timeMode = userConfig.mode === \"time\";\n        if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n            var defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaultOptions.dateFormat;\n            formats.dateFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                    : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n        }\n        if (userConfig.altInput &&\n            (userConfig.enableTime || timeMode) &&\n            !userConfig.altFormat) {\n            var defaultAltFormat = flatpickr.defaultConfig.altFormat || defaultOptions.altFormat;\n            formats.altFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                    : defaultAltFormat + (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\n        }\n        Object.defineProperty(self.config, \"minDate\", {\n            get: function () { return self.config._minDate; },\n            set: minMaxDateSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxDate\", {\n            get: function () { return self.config._maxDate; },\n            set: minMaxDateSetter(\"max\"),\n        });\n        var minMaxTimeSetter = function (type) { return function (val) {\n            self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n        }; };\n        Object.defineProperty(self.config, \"minTime\", {\n            get: function () { return self.config._minTime; },\n            set: minMaxTimeSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxTime\", {\n            get: function () { return self.config._maxTime; },\n            set: minMaxTimeSetter(\"max\"),\n        });\n        if (userConfig.mode === \"time\") {\n            self.config.noCalendar = true;\n            self.config.enableTime = true;\n        }\n        Object.assign(self.config, formats, userConfig);\n        for (var i = 0; i < boolOpts.length; i++)\n            self.config[boolOpts[i]] =\n                self.config[boolOpts[i]] === true ||\n                    self.config[boolOpts[i]] === \"true\";\n        HOOKS.filter(function (hook) { return self.config[hook] !== undefined; }).forEach(function (hook) {\n            self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n        });\n        self.isMobile =\n            !self.config.disableMobile &&\n                !self.config.inline &&\n                self.config.mode === \"single\" &&\n                !self.config.disable.length &&\n                !self.config.enable &&\n                !self.config.weekNumbers &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        for (var i = 0; i < self.config.plugins.length; i++) {\n            var pluginConf = self.config.plugins[i](self) || {};\n            for (var key in pluginConf) {\n                if (HOOKS.indexOf(key) > -1) {\n                    self.config[key] = arrayify(pluginConf[key])\n                        .map(bindToInstance)\n                        .concat(self.config[key]);\n                }\n                else if (typeof userConfig[key] === \"undefined\")\n                    self.config[key] = pluginConf[key];\n            }\n        }\n        if (!userConfig.altInputClass) {\n            self.config.altInputClass =\n                getInputElem().className + \" \" + self.config.altInputClass;\n        }\n        triggerEvent(\"onParseConfig\");\n    }\n    function getInputElem() {\n        return self.config.wrap\n            ? element.querySelector(\"[data-input]\")\n            : element;\n    }\n    function setupLocale() {\n        if (typeof self.config.locale !== \"object\" &&\n            typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n            self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\n        self.l10n = __assign(__assign({}, flatpickr.l10ns.default), (typeof self.config.locale === \"object\"\n            ? self.config.locale\n            : self.config.locale !== \"default\"\n                ? flatpickr.l10ns[self.config.locale]\n                : undefined));\n        tokenRegex.D = \"(\" + self.l10n.weekdays.shorthand.join(\"|\") + \")\";\n        tokenRegex.l = \"(\" + self.l10n.weekdays.longhand.join(\"|\") + \")\";\n        tokenRegex.M = \"(\" + self.l10n.months.shorthand.join(\"|\") + \")\";\n        tokenRegex.F = \"(\" + self.l10n.months.longhand.join(\"|\") + \")\";\n        tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\n        var userConfig = __assign(__assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));\n        if (userConfig.time_24hr === undefined &&\n            flatpickr.defaultConfig.time_24hr === undefined) {\n            self.config.time_24hr = self.l10n.time_24hr;\n        }\n        self.formatDate = createDateFormatter(self);\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    }\n    function positionCalendar(customPositionElement) {\n        if (typeof self.config.position === \"function\") {\n            return void self.config.position(self, customPositionElement);\n        }\n        if (self.calendarContainer === undefined)\n            return;\n        triggerEvent(\"onPreCalendarPosition\");\n        var positionElement = customPositionElement || self._positionElement;\n        var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, (function (acc, child) { return acc + child.offsetHeight; }), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n            (configPosVertical !== \"below\" &&\n                distanceFromBottom < calendarHeight &&\n                inputBounds.top > calendarHeight);\n        var top = window.pageYOffset +\n            inputBounds.top +\n            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n        toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n        toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n        if (self.config.inline)\n            return;\n        var left = window.pageXOffset + inputBounds.left;\n        var isCenter = false;\n        var isRight = false;\n        if (configPosHorizontal === \"center\") {\n            left -= (calendarWidth - inputBounds.width) / 2;\n            isCenter = true;\n        }\n        else if (configPosHorizontal === \"right\") {\n            left -= calendarWidth - inputBounds.width;\n            isRight = true;\n        }\n        toggleClass(self.calendarContainer, \"arrowLeft\", !isCenter && !isRight);\n        toggleClass(self.calendarContainer, \"arrowCenter\", isCenter);\n        toggleClass(self.calendarContainer, \"arrowRight\", isRight);\n        var right = window.document.body.offsetWidth -\n            (window.pageXOffset + inputBounds.right);\n        var rightMost = left + calendarWidth > window.document.body.offsetWidth;\n        var centerMost = right + calendarWidth > window.document.body.offsetWidth;\n        toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n        if (self.config.static)\n            return;\n        self.calendarContainer.style.top = top + \"px\";\n        if (!rightMost) {\n            self.calendarContainer.style.left = left + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n        else if (!centerMost) {\n            self.calendarContainer.style.left = \"auto\";\n            self.calendarContainer.style.right = right + \"px\";\n        }\n        else {\n            var doc = getDocumentStyleSheet();\n            if (doc === undefined)\n                return;\n            var bodyWidth = window.document.body.offsetWidth;\n            var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n            var centerBefore = \".flatpickr-calendar.centerMost:before\";\n            var centerAfter = \".flatpickr-calendar.centerMost:after\";\n            var centerIndex = doc.cssRules.length;\n            var centerStyle = \"{left:\" + inputBounds.left + \"px;right:auto;}\";\n            toggleClass(self.calendarContainer, \"rightMost\", false);\n            toggleClass(self.calendarContainer, \"centerMost\", true);\n            doc.insertRule(centerBefore + \",\" + centerAfter + centerStyle, centerIndex);\n            self.calendarContainer.style.left = centerLeft + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n    }\n    function getDocumentStyleSheet() {\n        var editableSheet = null;\n        for (var i = 0; i < document.styleSheets.length; i++) {\n            var sheet = document.styleSheets[i];\n            if (!sheet.cssRules)\n                continue;\n            try {\n                sheet.cssRules;\n            }\n            catch (err) {\n                continue;\n            }\n            editableSheet = sheet;\n            break;\n        }\n        return editableSheet != null ? editableSheet : createStyleSheet();\n    }\n    function createStyleSheet() {\n        var style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        return style.sheet;\n    }\n    function redraw() {\n        if (self.config.noCalendar || self.isMobile)\n            return;\n        buildMonthSwitch();\n        updateNavigationCurrentMonth();\n        buildDays();\n    }\n    function focusAndClose() {\n        self._input.focus();\n        if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n            navigator.msMaxTouchPoints !== undefined) {\n            setTimeout(self.close, 0);\n        }\n        else {\n            self.close();\n        }\n    }\n    function selectDate(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var isSelectable = function (day) {\n            return day.classList &&\n                day.classList.contains(\"flatpickr-day\") &&\n                !day.classList.contains(\"flatpickr-disabled\") &&\n                !day.classList.contains(\"notAllowed\");\n        };\n        var t = findParent(getEventTarget(e), isSelectable);\n        if (t === undefined)\n            return;\n        var target = t;\n        var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n        var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n            selectedDate.getMonth() >\n                self.currentMonth + self.config.showMonths - 1) &&\n            self.config.mode !== \"range\";\n        self.selectedDateElem = target;\n        if (self.config.mode === \"single\")\n            self.selectedDates = [selectedDate];\n        else if (self.config.mode === \"multiple\") {\n            var selectedIndex = isDateSelected(selectedDate);\n            if (selectedIndex)\n                self.selectedDates.splice(parseInt(selectedIndex), 1);\n            else\n                self.selectedDates.push(selectedDate);\n        }\n        else if (self.config.mode === \"range\") {\n            if (self.selectedDates.length === 2) {\n                self.clear(false, false);\n            }\n            self.latestSelectedDateObj = selectedDate;\n            self.selectedDates.push(selectedDate);\n            if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n        }\n        setHoursFromInputs();\n        if (shouldChangeMonth) {\n            var isNewYear = self.currentYear !== selectedDate.getFullYear();\n            self.currentYear = selectedDate.getFullYear();\n            self.currentMonth = selectedDate.getMonth();\n            if (isNewYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            triggerEvent(\"onMonthChange\");\n        }\n        updateNavigationCurrentMonth();\n        buildDays();\n        updateValue();\n        if (!shouldChangeMonth &&\n            self.config.mode !== \"range\" &&\n            self.config.showMonths === 1)\n            focusOnDayElem(target);\n        else if (self.selectedDateElem !== undefined &&\n            self.hourElement === undefined) {\n            self.selectedDateElem && self.selectedDateElem.focus();\n        }\n        if (self.hourElement !== undefined)\n            self.hourElement !== undefined && self.hourElement.focus();\n        if (self.config.closeOnSelect) {\n            var single = self.config.mode === \"single\" && !self.config.enableTime;\n            var range = self.config.mode === \"range\" &&\n                self.selectedDates.length === 2 &&\n                !self.config.enableTime;\n            if (single || range) {\n                focusAndClose();\n            }\n        }\n        triggerChange();\n    }\n    var CALLBACKS = {\n        locale: [setupLocale, updateWeekdays],\n        showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n        minDate: [jumpToDate],\n        maxDate: [jumpToDate],\n        positionElement: [updatePositionElement],\n        clickOpens: [\n            function () {\n                if (self.config.clickOpens === true) {\n                    bind(self._input, \"focus\", self.open);\n                    bind(self._input, \"click\", self.open);\n                }\n                else {\n                    self._input.removeEventListener(\"focus\", self.open);\n                    self._input.removeEventListener(\"click\", self.open);\n                }\n            },\n        ],\n    };\n    function set(option, value) {\n        if (option !== null && typeof option === \"object\") {\n            Object.assign(self.config, option);\n            for (var key in option) {\n                if (CALLBACKS[key] !== undefined)\n                    CALLBACKS[key].forEach(function (x) { return x(); });\n            }\n        }\n        else {\n            self.config[option] = value;\n            if (CALLBACKS[option] !== undefined)\n                CALLBACKS[option].forEach(function (x) { return x(); });\n            else if (HOOKS.indexOf(option) > -1)\n                self.config[option] = arrayify(value);\n        }\n        self.redraw();\n        updateValue(true);\n    }\n    function setSelectedDate(inputDate, format) {\n        var dates = [];\n        if (inputDate instanceof Array)\n            dates = inputDate.map(function (d) { return self.parseDate(d, format); });\n        else if (inputDate instanceof Date || typeof inputDate === \"number\")\n            dates = [self.parseDate(inputDate, format)];\n        else if (typeof inputDate === \"string\") {\n            switch (self.config.mode) {\n                case \"single\":\n                case \"time\":\n                    dates = [self.parseDate(inputDate, format)];\n                    break;\n                case \"multiple\":\n                    dates = inputDate\n                        .split(self.config.conjunction)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                case \"range\":\n                    dates = inputDate\n                        .split(self.l10n.rangeSeparator)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                default:\n                    break;\n            }\n        }\n        else\n            self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\n        self.selectedDates = (self.config.allowInvalidPreload\n            ? dates\n            : dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); }));\n        if (self.config.mode === \"range\")\n            self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n    }\n    function setDate(date, triggerChange, format) {\n        if (triggerChange === void 0) { triggerChange = false; }\n        if (format === void 0) { format = self.config.dateFormat; }\n        if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n            return self.clear(triggerChange);\n        setSelectedDate(date, format);\n        self.latestSelectedDateObj =\n            self.selectedDates[self.selectedDates.length - 1];\n        self.redraw();\n        jumpToDate(undefined, triggerChange);\n        setHoursFromDate();\n        if (self.selectedDates.length === 0) {\n            self.clear(false);\n        }\n        updateValue(triggerChange);\n        if (triggerChange)\n            triggerEvent(\"onChange\");\n    }\n    function parseDateRules(arr) {\n        return arr\n            .slice()\n            .map(function (rule) {\n            if (typeof rule === \"string\" ||\n                typeof rule === \"number\" ||\n                rule instanceof Date) {\n                return self.parseDate(rule, undefined, true);\n            }\n            else if (rule &&\n                typeof rule === \"object\" &&\n                rule.from &&\n                rule.to)\n                return {\n                    from: self.parseDate(rule.from, undefined),\n                    to: self.parseDate(rule.to, undefined),\n                };\n            return rule;\n        })\n            .filter(function (x) { return x; });\n    }\n    function setupDates() {\n        self.selectedDates = [];\n        self.now = self.parseDate(self.config.now) || new Date();\n        var preloadedDate = self.config.defaultDate ||\n            ((self.input.nodeName === \"INPUT\" ||\n                self.input.nodeName === \"TEXTAREA\") &&\n                self.input.placeholder &&\n                self.input.value === self.input.placeholder\n                ? null\n                : self.input.value);\n        if (preloadedDate)\n            setSelectedDate(preloadedDate, self.config.dateFormat);\n        self._initialDate =\n            self.selectedDates.length > 0\n                ? self.selectedDates[0]\n                : self.config.minDate &&\n                    self.config.minDate.getTime() > self.now.getTime()\n                    ? self.config.minDate\n                    : self.config.maxDate &&\n                        self.config.maxDate.getTime() < self.now.getTime()\n                        ? self.config.maxDate\n                        : self.now;\n        self.currentYear = self._initialDate.getFullYear();\n        self.currentMonth = self._initialDate.getMonth();\n        if (self.selectedDates.length > 0)\n            self.latestSelectedDateObj = self.selectedDates[0];\n        if (self.config.minTime !== undefined)\n            self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n        if (self.config.maxTime !== undefined)\n            self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n        self.minDateHasTime =\n            !!self.config.minDate &&\n                (self.config.minDate.getHours() > 0 ||\n                    self.config.minDate.getMinutes() > 0 ||\n                    self.config.minDate.getSeconds() > 0);\n        self.maxDateHasTime =\n            !!self.config.maxDate &&\n                (self.config.maxDate.getHours() > 0 ||\n                    self.config.maxDate.getMinutes() > 0 ||\n                    self.config.maxDate.getSeconds() > 0);\n    }\n    function setupInputs() {\n        self.input = getInputElem();\n        if (!self.input) {\n            self.config.errorHandler(new Error(\"Invalid input element specified\"));\n            return;\n        }\n        self.input._type = self.input.type;\n        self.input.type = \"text\";\n        self.input.classList.add(\"flatpickr-input\");\n        self._input = self.input;\n        if (self.config.altInput) {\n            self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n            self._input = self.altInput;\n            self.altInput.placeholder = self.input.placeholder;\n            self.altInput.disabled = self.input.disabled;\n            self.altInput.required = self.input.required;\n            self.altInput.tabIndex = self.input.tabIndex;\n            self.altInput.type = \"text\";\n            self.input.setAttribute(\"type\", \"hidden\");\n            if (!self.config.static && self.input.parentNode)\n                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n        }\n        if (!self.config.allowInput)\n            self._input.setAttribute(\"readonly\", \"readonly\");\n        updatePositionElement();\n    }\n    function updatePositionElement() {\n        self._positionElement = self.config.positionElement || self._input;\n    }\n    function setupMobile() {\n        var inputType = self.config.enableTime\n            ? self.config.noCalendar\n                ? \"time\"\n                : \"datetime-local\"\n            : \"date\";\n        self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n        self.mobileInput.tabIndex = 1;\n        self.mobileInput.type = inputType;\n        self.mobileInput.disabled = self.input.disabled;\n        self.mobileInput.required = self.input.required;\n        self.mobileInput.placeholder = self.input.placeholder;\n        self.mobileFormatStr =\n            inputType === \"datetime-local\"\n                ? \"Y-m-d\\\\TH:i:S\"\n                : inputType === \"date\"\n                    ? \"Y-m-d\"\n                    : \"H:i:S\";\n        if (self.selectedDates.length > 0) {\n            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n        }\n        if (self.config.minDate)\n            self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n        if (self.config.maxDate)\n            self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n        if (self.input.getAttribute(\"step\"))\n            self.mobileInput.step = String(self.input.getAttribute(\"step\"));\n        self.input.type = \"hidden\";\n        if (self.altInput !== undefined)\n            self.altInput.type = \"hidden\";\n        try {\n            if (self.input.parentNode)\n                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n        }\n        catch (_a) { }\n        bind(self.mobileInput, \"change\", function (e) {\n            self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);\n            triggerEvent(\"onChange\");\n            triggerEvent(\"onClose\");\n        });\n    }\n    function toggle(e) {\n        if (self.isOpen === true)\n            return self.close();\n        self.open(e);\n    }\n    function triggerEvent(event, data) {\n        if (self.config === undefined)\n            return;\n        var hooks = self.config[event];\n        if (hooks !== undefined && hooks.length > 0) {\n            for (var i = 0; hooks[i] && i < hooks.length; i++)\n                hooks[i](self.selectedDates, self.input.value, self, data);\n        }\n        if (event === \"onChange\") {\n            self.input.dispatchEvent(createEvent(\"change\"));\n            self.input.dispatchEvent(createEvent(\"input\"));\n        }\n    }\n    function createEvent(name) {\n        var e = document.createEvent(\"Event\");\n        e.initEvent(name, true, true);\n        return e;\n    }\n    function isDateSelected(date) {\n        for (var i = 0; i < self.selectedDates.length; i++) {\n            var selectedDate = self.selectedDates[i];\n            if (selectedDate instanceof Date &&\n                compareDates(selectedDate, date) === 0)\n                return \"\" + i;\n        }\n        return false;\n    }\n    function isDateInRange(date) {\n        if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n            return false;\n        return (compareDates(date, self.selectedDates[0]) >= 0 &&\n            compareDates(date, self.selectedDates[1]) <= 0);\n    }\n    function updateNavigationCurrentMonth() {\n        if (self.config.noCalendar || self.isMobile || !self.monthNav)\n            return;\n        self.yearElements.forEach(function (yearElement, i) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                self.monthElements[i].textContent =\n                    monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n            }\n            else {\n                self.monthsDropdownContainer.value = d.getMonth().toString();\n            }\n            yearElement.value = d.getFullYear().toString();\n        });\n        self._hidePrevMonthArrow =\n            self.config.minDate !== undefined &&\n                (self.currentYear === self.config.minDate.getFullYear()\n                    ? self.currentMonth <= self.config.minDate.getMonth()\n                    : self.currentYear < self.config.minDate.getFullYear());\n        self._hideNextMonthArrow =\n            self.config.maxDate !== undefined &&\n                (self.currentYear === self.config.maxDate.getFullYear()\n                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                    : self.currentYear > self.config.maxDate.getFullYear());\n    }\n    function getDateStr(specificFormat) {\n        var format = specificFormat ||\n            (self.config.altInput ? self.config.altFormat : self.config.dateFormat);\n        return self.selectedDates\n            .map(function (dObj) { return self.formatDate(dObj, format); })\n            .filter(function (d, i, arr) {\n            return self.config.mode !== \"range\" ||\n                self.config.enableTime ||\n                arr.indexOf(d) === i;\n        })\n            .join(self.config.mode !== \"range\"\n            ? self.config.conjunction\n            : self.l10n.rangeSeparator);\n    }\n    function updateValue(triggerChange) {\n        if (triggerChange === void 0) { triggerChange = true; }\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\n            self.mobileInput.value =\n                self.latestSelectedDateObj !== undefined\n                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                    : \"\";\n        }\n        self.input.value = getDateStr(self.config.dateFormat);\n        if (self.altInput !== undefined) {\n            self.altInput.value = getDateStr(self.config.altFormat);\n        }\n        if (triggerChange !== false)\n            triggerEvent(\"onValueUpdate\");\n    }\n    function onMonthNavClick(e) {\n        var eventTarget = getEventTarget(e);\n        var isPrevMonth = self.prevMonthNav.contains(eventTarget);\n        var isNextMonth = self.nextMonthNav.contains(eventTarget);\n        if (isPrevMonth || isNextMonth) {\n            changeMonth(isPrevMonth ? -1 : 1);\n        }\n        else if (self.yearElements.indexOf(eventTarget) >= 0) {\n            eventTarget.select();\n        }\n        else if (eventTarget.classList.contains(\"arrowUp\")) {\n            self.changeYear(self.currentYear + 1);\n        }\n        else if (eventTarget.classList.contains(\"arrowDown\")) {\n            self.changeYear(self.currentYear - 1);\n        }\n    }\n    function timeWrapper(e) {\n        e.preventDefault();\n        var isKeyDown = e.type === \"keydown\", eventTarget = getEventTarget(e), input = eventTarget;\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            self.amPM.textContent =\n                self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n        }\n        var min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n            (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n        var newValue = curValue + step * delta;\n        if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n            var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n            if (newValue < min) {\n                newValue =\n                    max +\n                        newValue +\n                        int(!isHourElem) +\n                        (int(isHourElem) && int(!self.amPM));\n                if (isMinuteElem)\n                    incrementNumInput(undefined, -1, self.hourElement);\n            }\n            else if (newValue > max) {\n                newValue =\n                    input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                if (isMinuteElem)\n                    incrementNumInput(undefined, 1, self.hourElement);\n            }\n            if (self.amPM &&\n                isHourElem &&\n                (step === 1\n                    ? newValue + curValue === 23\n                    : Math.abs(newValue - curValue) > step)) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            input.value = pad(newValue);\n        }\n    }\n    init();\n    return self;\n}\nfunction _flatpickr(nodeList, config) {\n    var nodes = Array.prototype.slice\n        .call(nodeList)\n        .filter(function (x) { return x instanceof HTMLElement; });\n    var instances = [];\n    for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        try {\n            if (node.getAttribute(\"data-fp-omit\") !== null)\n                continue;\n            if (node._flatpickr !== undefined) {\n                node._flatpickr.destroy();\n                node._flatpickr = undefined;\n            }\n            node._flatpickr = FlatpickrInstance(node, config || {});\n            instances.push(node._flatpickr);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    return instances.length === 1 ? instances[0] : instances;\n}\nif (typeof HTMLElement !== \"undefined\" &&\n    typeof HTMLCollection !== \"undefined\" &&\n    typeof NodeList !== \"undefined\") {\n    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n    HTMLElement.prototype.flatpickr = function (config) {\n        return _flatpickr([this], config);\n    };\n}\nvar flatpickr = function (selector, config) {\n    if (typeof selector === \"string\") {\n        return _flatpickr(window.document.querySelectorAll(selector), config);\n    }\n    else if (selector instanceof Node) {\n        return _flatpickr([selector], config);\n    }\n    else {\n        return _flatpickr(selector, config);\n    }\n};\nflatpickr.defaultConfig = {};\nflatpickr.l10ns = {\n    en: __assign({}, English),\n    default: __assign({}, English),\n};\nflatpickr.localize = function (l10n) {\n    flatpickr.l10ns.default = __assign(__assign({}, flatpickr.l10ns.default), l10n);\n};\nflatpickr.setDefaults = function (config) {\n    flatpickr.defaultConfig = __assign(__assign({}, flatpickr.defaultConfig), config);\n};\nflatpickr.parseDate = createDateParser({});\nflatpickr.formatDate = createDateFormatter({});\nflatpickr.compareDates = compareDates;\nif (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n    jQuery.fn.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n}\nDate.prototype.fp_incr = function (days) {\n    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n};\nif (typeof window !== \"undefined\") {\n    window.flatpickr = flatpickr;\n}\nexport default flatpickr;\n","<script>\n\timport { onMount, createEventDispatcher, tick } from 'svelte';\n\timport flatpickr from 'flatpickr';\n\n\tconst hooks = new Set([\n\t\t'onChange',\n\t\t'onOpen',\n\t\t'onClose',\n\t\t'onMonthChange',\n\t\t'onYearChange',\n\t\t'onReady',\n\t\t'onValueUpdate',\n\t\t'onDayCreate',\n\t]);\n\n\texport let value = undefined,\n\t\tformattedValue = '',\n\t\telement = undefined,\n\t\tdateFormat = undefined;\n\texport let options = {};\n\tlet ready = false;\n\n\texport let input = undefined,\n\t\tfp = undefined;\n\texport { fp as flatpickr };\n\n\t$: if (fp && ready) {\n\t\tif (!areValuesEqual(value, getModeValue(fp, fp.selectedDates))) {\n\t\t\tfp.setDate(value, true, dateFormat);\n\t\t}\n\t}\n\n\tonMount(() => {\n\t\tconst elem = element ?? input;\n\n\t\tconst opts = addHooks(options);\n\t\topts.onReady.push((selectedDates, dateStr, instance) => {\n\t\t\tif (value === undefined) {\n\t\t\t\tupdateValue(selectedDates, dateStr, instance);\n\t\t\t}\n\n\t\t\ttick().then(() => {\n\t\t\t\tready = true;\n\t\t\t});\n\t\t});\n\n\t\tfp = flatpickr(\n\t\t\telem,\n\t\t\tObject.assign(opts, element ? { wrap: true } : {})\n\t\t);\n\n\t\treturn () => {\n\t\t\tfp.destroy();\n\t\t};\n\t});\n\n\tconst dispatch = createEventDispatcher();\n\n\t$: if (fp && ready) {\n\t\tfor (const [key, val] of Object.entries(addHooks(options))) {\n\t\t\tfp.set(key, val);\n\t\t}\n\t}\n\n\tfunction addHooks(opts = {}) {\n\t\topts = Object.assign({}, opts);\n\n\t\tfor (const hook of hooks) {\n\t\t\tconst firer = (selectedDates, dateStr, instance) => {\n\t\t\t\tdispatch(stripOn(hook), [selectedDates, dateStr, instance]);\n\t\t\t};\n\n\t\t\tif (hook in opts) {\n\t\t\t\t// Hooks must be arrays\n\t\t\t\tif (!Array.isArray(opts[hook])) opts[hook] = [opts[hook]];\n\n\t\t\t\topts[hook].push(firer);\n\t\t\t} else {\n\t\t\t\topts[hook] = [firer];\n\t\t\t}\n\t\t}\n\n\t\tif (opts.onChange && !opts.onChange.includes(updateValue))\n\t\t\topts.onChange.push(updateValue);\n\n\t\treturn opts;\n\t}\n\n\tfunction updateValue(newValue, dateStr, fp) {\n\t\tconst newModeValue = getModeValue(fp, newValue);\n\t\t// If both are already falsey, don't perform prop update\n\t\tif (!areValuesEqual(value, newModeValue) && (value || newModeValue)) {\n\t\t\tvalue = newModeValue;\n\t\t}\n\n\t\tformattedValue = dateStr;\n\t}\n\n\tfunction stripOn(hook) {\n\t\treturn hook.charAt(2).toLowerCase() + hook.substring(3);\n\t}\n\n\tfunction getModeValue(instance, selectedDates) {\n\t\tconst mode = instance?.config?.mode ?? 'single';\n\t\treturn mode === 'single' ? selectedDates[0] : selectedDates;\n\t}\n\n\tfunction areValuesEqual(v1, v2) {\n\t\tif (v1 == v2) return true;\n\n\t\tif (v1 instanceof Date && v2 instanceof Date && v1.valueOf() === v2.valueOf()) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (\n\t\t\tArray.isArray(v1)\n\t\t\t&& Array.isArray(v2)\n\t\t\t&& v1.length === v2.length\n\t\t\t&& v1.every((val, i) => val === v2[i])\n\t\t) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n</script>\n\n<slot>\n\t<input bind:this={input} {...$$restProps} />\n</slot>\n","<script>\n    import Field from \"@/components/base/Field.svelte\";\n    import SchemaField from \"@/components/collections/schema/SchemaField.svelte\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import Flatpickr from \"svelte-flatpickr\";\n\n    export let field;\n    export let key = \"\";\n\n    let pickerMinValue = field?.min;\n    let pickerMaxValue = field?.max;\n\n    $: if (pickerMinValue != field?.min) {\n        pickerMinValue = field?.min;\n    }\n\n    $: if (pickerMaxValue != field?.max) {\n        pickerMaxValue = field?.max;\n    }\n\n    // ensure that value is set even on manual input edit\n    function onClose(e, key) {\n        if (e.detail && e.detail.length == 3) {\n            field[key] = e.detail[1];\n        }\n    }\n</script>\n\n<SchemaField bind:field {key} on:rename on:remove on:duplicate {...$$restProps}>\n    <svelte:fragment slot=\"options\">\n        <div class=\"grid grid-sm\">\n            <div class=\"col-sm-6\">\n                <Field class=\"form-field\" name=\"fields.{key}.min\" let:uniqueId>\n                    <label for={uniqueId}>Min date (UTC)</label>\n                    <Flatpickr\n                        id={uniqueId}\n                        options={CommonHelper.defaultFlatpickrOptions()}\n                        bind:value={pickerMinValue}\n                        bind:formattedValue={field.min}\n                        on:close={(e) => onClose(e, \"min\")}\n                    />\n                </Field>\n            </div>\n\n            <div class=\"col-sm-6\">\n                <Field class=\"form-field\" name=\"fields.{key}.max\" let:uniqueId>\n                    <label for={uniqueId}>Max date (UTC)</label>\n                    <Flatpickr\n                        id={uniqueId}\n                        options={CommonHelper.defaultFlatpickrOptions()}\n                        bind:value={pickerMaxValue}\n                        bind:formattedValue={field.max}\n                        on:close={(e) => onClose(e, \"max\")}\n                    />\n                </Field>\n            </div>\n        </div>\n    </svelte:fragment>\n</SchemaField>\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import Field from \"@/components/base/Field.svelte\";\n    import SchemaField from \"@/components/collections/schema/SchemaField.svelte\";\n\n    export let field;\n    export let key = \"\";\n</script>\n\n<SchemaField bind:field {key} on:rename on:remove on:duplicate {...$$restProps}>\n    <svelte:fragment slot=\"options\">\n        <Field class=\"form-field m-b-sm\" name=\"fields.{key}.maxSize\" let:uniqueId>\n            <label for={uniqueId}>Max size <small>(bytes)</small></label>\n            <input\n                type=\"number\"\n                id={uniqueId}\n                step=\"1\"\n                min=\"0\"\n                max={Number.MAX_SAFE_INTEGER}\n                value={field.maxSize || \"\"}\n                on:input={(e) => (field.maxSize = parseInt(e.target.value, 10))}\n                placeholder=\"Default to max ~5MB\"\n            />\n        </Field>\n\n        <Field class=\"form-field form-field-toggle\" name=\"fields.{key}.convertURLs\" let:uniqueId>\n            <input type=\"checkbox\" id={uniqueId} bind:checked={field.convertURLs} />\n            <label for={uniqueId}>\n                <span class=\"txt\">Strip urls domain</span>\n                <i\n                    class=\"ri-information-line link-hint\"\n                    use:tooltip={{\n                        text: `This could help making the editor content more portable between environments since there will be no local base url to replace.`,\n                    }}\n                />\n            </label>\n        </Field>\n    </svelte:fragment>\n</SchemaField>\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import Field from \"@/components/base/Field.svelte\";\n    import MultipleValueInput from \"@/components/base/MultipleValueInput.svelte\";\n    import SchemaField from \"@/components/collections/schema/SchemaField.svelte\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    export let field;\n    export let key = \"\";\n</script>\n\n<SchemaField bind:field {key} on:rename on:remove on:duplicate {...$$restProps}>\n    <svelte:fragment slot=\"options\">\n        <div class=\"grid grid-sm\">\n            <div class=\"col-sm-6\">\n                <Field class=\"form-field\" name=\"fields.{key}.exceptDomains\" let:uniqueId>\n                    <label for={uniqueId}>\n                        <span class=\"txt\">Except domains</span>\n                        <i\n                            class=\"ri-information-line link-hint\"\n                            use:tooltip={{\n                                text: 'List of domains that are NOT allowed. \\n This field is disabled if \"Only domains\" is set.',\n                                position: \"top\",\n                            }}\n                        />\n                    </label>\n                    <MultipleValueInput\n                        id={uniqueId}\n                        disabled={!CommonHelper.isEmpty(field.onlyDomains)}\n                        bind:value={field.exceptDomains}\n                    />\n                    <div class=\"help-block\">Use comma as separator.</div>\n                </Field>\n            </div>\n\n            <div class=\"col-sm-6\">\n                <Field class=\"form-field\" name=\"fields.{key}.onlyDomains\" let:uniqueId>\n                    <label for=\"{uniqueId}.onlyDomains\">\n                        <span class=\"txt\">Only domains</span>\n                        <i\n                            class=\"ri-information-line link-hint\"\n                            use:tooltip={{\n                                text: 'List of domains that are ONLY allowed. \\n This field is disabled if \"Except domains\" is set.',\n                                position: \"top\",\n                            }}\n                        />\n                    </label>\n                    <MultipleValueInput\n                        id=\"{uniqueId}.onlyDomains\"\n                        disabled={!CommonHelper.isEmpty(field.exceptDomains)}\n                        bind:value={field.onlyDomains}\n                    />\n                    <div class=\"help-block\">Use comma as separator.</div>\n                </Field>\n            </div>\n        </div>\n    </svelte:fragment>\n</SchemaField>\n","<script>\n    export let item = {}; // {ext, mimeType}\n</script>\n\n<span class=\"txt\">{item.ext || \"N/A\"}</span>\n<small class=\"txt-hint\">{item.mimeType}</small>\n","// List of supported mime types and their extensions.\n//\n// https://github.com/gabriel-vasile/mimetype/blob/master/supported_mimes.md\nexport default [\n    {ext: \"\", mimeType: \"application/octet-stream\"},\n    {ext: \".xpm\", mimeType: \"image/x-xpixmap\"},\n    {ext: \".7z\", mimeType: \"application/x-7z-compressed\"},\n    {ext: \".zip\", mimeType: \"application/zip\"},\n    {ext: \".xlsx\", mimeType: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"},\n    {ext: \".docx\", mimeType: \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\"},\n    {ext: \".pptx\", mimeType: \"application/vnd.openxmlformats-officedocument.presentationml.presentation\"},\n    {ext: \".epub\", mimeType: \"application/epub+zip\"},\n    {ext: \".apk\", mimeType: \"application/vnd.android.package-archive\"},\n    {ext: \".jar\", mimeType: \"application/jar\"},\n    {ext: \".odt\", mimeType: \"application/vnd.oasis.opendocument.text\"},\n    {ext: \".ott\", mimeType: \"application/vnd.oasis.opendocument.text-template\"},\n    {ext: \".ods\", mimeType: \"application/vnd.oasis.opendocument.spreadsheet\"},\n    {ext: \".ots\", mimeType: \"application/vnd.oasis.opendocument.spreadsheet-template\"},\n    {ext: \".odp\", mimeType: \"application/vnd.oasis.opendocument.presentation\"},\n    {ext: \".otp\", mimeType: \"application/vnd.oasis.opendocument.presentation-template\"},\n    {ext: \".odg\", mimeType: \"application/vnd.oasis.opendocument.graphics\"},\n    {ext: \".otg\", mimeType: \"application/vnd.oasis.opendocument.graphics-template\"},\n    {ext: \".odf\", mimeType: \"application/vnd.oasis.opendocument.formula\"},\n    {ext: \".odc\", mimeType: \"application/vnd.oasis.opendocument.chart\"},\n    {ext: \".sxc\", mimeType: \"application/vnd.sun.xml.calc\"},\n    {ext: \".pdf\", mimeType: \"application/pdf\"},\n    {ext: \".fdf\", mimeType: \"application/vnd.fdf\"},\n    {ext: \"\", mimeType: \"application/x-ole-storage\"},\n    {ext: \".msi\", mimeType: \"application/x-ms-installer\"},\n    {ext: \".aaf\", mimeType: \"application/octet-stream\"},\n    {ext: \".msg\", mimeType: \"application/vnd.ms-outlook\"},\n    {ext: \".xls\", mimeType: \"application/vnd.ms-excel\"},\n    {ext: \".pub\", mimeType: \"application/vnd.ms-publisher\"},\n    {ext: \".ppt\", mimeType: \"application/vnd.ms-powerpoint\"},\n    {ext: \".doc\", mimeType: \"application/msword\"},\n    {ext: \".ps\", mimeType: \"application/postscript\"},\n    {ext: \".psd\", mimeType: \"image/vnd.adobe.photoshop\"},\n    {ext: \".p7s\", mimeType: \"application/pkcs7-signature\"},\n    {ext: \".ogg\", mimeType: \"application/ogg\"},\n    {ext: \".oga\", mimeType: \"audio/ogg\"},\n    {ext: \".ogv\", mimeType: \"video/ogg\"},\n    {ext: \".png\", mimeType: \"image/png\"},\n    {ext: \".png\", mimeType: \"image/vnd.mozilla.apng\"},\n    {ext: \".jpg\", mimeType: \"image/jpeg\"},\n    {ext: \".jxl\", mimeType: \"image/jxl\"},\n    {ext: \".jp2\", mimeType: \"image/jp2\"},\n    {ext: \".jpf\", mimeType: \"image/jpx\"},\n    {ext: \".jpm\", mimeType: \"image/jpm\"},\n    {ext: \".jxs\", mimeType: \"image/jxs\"},\n    {ext: \".gif\", mimeType: \"image/gif\"},\n    {ext: \".webp\", mimeType: \"image/webp\"},\n    {ext: \".exe\", mimeType: \"application/vnd.microsoft.portable-executable\"},\n    {ext: \"\", mimeType: \"application/x-elf\"},\n    {ext: \"\", mimeType: \"application/x-object\"},\n    {ext: \"\", mimeType: \"application/x-executable\"},\n    {ext: \".so\", mimeType: \"application/x-sharedlib\"},\n    {ext: \"\", mimeType: \"application/x-coredump\"},\n    {ext: \".a\", mimeType: \"application/x-archive\"},\n    {ext: \".deb\", mimeType: \"application/vnd.debian.binary-package\"},\n    {ext: \".tar\", mimeType: \"application/x-tar\"},\n    {ext: \".xar\", mimeType: \"application/x-xar\"},\n    {ext: \".bz2\", mimeType: \"application/x-bzip2\"},\n    {ext: \".fits\", mimeType: \"application/fits\"},\n    {ext: \".tiff\", mimeType: \"image/tiff\"},\n    {ext: \".bmp\", mimeType: \"image/bmp\"},\n    {ext: \".ico\", mimeType: \"image/x-icon\"},\n    {ext: \".mp3\", mimeType: \"audio/mpeg\"},\n    {ext: \".flac\", mimeType: \"audio/flac\"},\n    {ext: \".midi\", mimeType: \"audio/midi\"},\n    {ext: \".ape\", mimeType: \"audio/ape\"},\n    {ext: \".mpc\", mimeType: \"audio/musepack\"},\n    {ext: \".amr\", mimeType: \"audio/amr\"},\n    {ext: \".wav\", mimeType: \"audio/wav\"},\n    {ext: \".aiff\", mimeType: \"audio/aiff\"},\n    {ext: \".au\", mimeType: \"audio/basic\"},\n    {ext: \".mpeg\", mimeType: \"video/mpeg\"},\n    {ext: \".mov\", mimeType: \"video/quicktime\"},\n    {ext: \".mp4\", mimeType: \"video/mp4\"},\n    {ext: \".avif\", mimeType: \"image/avif\"},\n    {ext: \".3gp\", mimeType: \"video/3gpp\"},\n    {ext: \".3g2\", mimeType: \"video/3gpp2\"},\n    {ext: \".mp4\", mimeType: \"audio/mp4\"},\n    {ext: \".mqv\", mimeType: \"video/quicktime\"},\n    {ext: \".m4a\", mimeType: \"audio/x-m4a\"},\n    {ext: \".m4v\", mimeType: \"video/x-m4v\"},\n    {ext: \".heic\", mimeType: \"image/heic\"},\n    {ext: \".heic\", mimeType: \"image/heic-sequence\"},\n    {ext: \".heif\", mimeType: \"image/heif\"},\n    {ext: \".heif\", mimeType: \"image/heif-sequence\"},\n    {ext: \".mj2\", mimeType: \"video/mj2\"},\n    {ext: \".dvb\", mimeType: \"video/vnd.dvb.file\"},\n    {ext: \".webm\", mimeType: \"video/webm\"},\n    {ext: \".avi\", mimeType: \"video/x-msvideo\"},\n    {ext: \".flv\", mimeType: \"video/x-flv\"},\n    {ext: \".mkv\", mimeType: \"video/x-matroska\"},\n    {ext: \".asf\", mimeType: \"video/x-ms-asf\"},\n    {ext: \".aac\", mimeType: \"audio/aac\"},\n    {ext: \".voc\", mimeType: \"audio/x-unknown\"},\n    {ext: \".m3u\", mimeType: \"application/vnd.apple.mpegurl\"},\n    {ext: \".rmvb\", mimeType: \"application/vnd.rn-realmedia-vbr\"},\n    {ext: \".gz\", mimeType: \"application/gzip\"},\n    {ext: \".class\", mimeType: \"application/x-java-applet\"},\n    {ext: \".swf\", mimeType: \"application/x-shockwave-flash\"},\n    {ext: \".crx\", mimeType: \"application/x-chrome-extension\"},\n    {ext: \".ttf\", mimeType: \"font/ttf\"},\n    {ext: \".woff\", mimeType: \"font/woff\"},\n    {ext: \".woff2\", mimeType: \"font/woff2\"},\n    {ext: \".otf\", mimeType: \"font/otf\"},\n    {ext: \".ttc\", mimeType: \"font/collection\"},\n    {ext: \".eot\", mimeType: \"application/vnd.ms-fontobject\"},\n    {ext: \".wasm\", mimeType: \"application/wasm\"},\n    {ext: \".shx\", mimeType: \"application/vnd.shx\"},\n    {ext: \".shp\", mimeType: \"application/vnd.shp\"},\n    {ext: \".dbf\", mimeType: \"application/x-dbf\"},\n    {ext: \".dcm\", mimeType: \"application/dicom\"},\n    {ext: \".rar\", mimeType: \"application/x-rar-compressed\"},\n    {ext: \".djvu\", mimeType: \"image/vnd.djvu\"},\n    {ext: \".mobi\", mimeType: \"application/x-mobipocket-ebook\"},\n    {ext: \".lit\", mimeType: \"application/x-ms-reader\"},\n    {ext: \".bpg\", mimeType: \"image/bpg\"},\n    {ext: \".cbor\", mimeType: \"application/cbor\"},\n    {ext: \".sqlite\", mimeType: \"application/vnd.sqlite3\"},\n    {ext: \".dwg\", mimeType: \"image/vnd.dwg\"},\n    {ext: \".nes\", mimeType: \"application/vnd.nintendo.snes.rom\"},\n    {ext: \".lnk\", mimeType: \"application/x-ms-shortcut\"},\n    {ext: \".macho\", mimeType: \"application/x-mach-binary\"},\n    {ext: \".qcp\", mimeType: \"audio/qcelp\"},\n    {ext: \".icns\", mimeType: \"image/x-icns\"},\n    {ext: \".hdr\", mimeType: \"image/vnd.radiance\"},\n    {ext: \".mrc\", mimeType: \"application/marc\"},\n    {ext: \".mdb\", mimeType: \"application/x-msaccess\"},\n    {ext: \".accdb\", mimeType: \"application/x-msaccess\"},\n    {ext: \".zst\", mimeType: \"application/zstd\"},\n    {ext: \".cab\", mimeType: \"application/vnd.ms-cab-compressed\"},\n    {ext: \".rpm\", mimeType: \"application/x-rpm\"},\n    {ext: \".xz\", mimeType: \"application/x-xz\"},\n    {ext: \".lz\", mimeType: \"application/lzip\"},\n    {ext: \".torrent\", mimeType: \"application/x-bittorrent\"},\n    {ext: \".cpio\", mimeType: \"application/x-cpio\"},\n    {ext: \"\", mimeType: \"application/tzif\"},\n    {ext: \".xcf\", mimeType: \"image/x-xcf\"},\n    {ext: \".pat\", mimeType: \"image/x-gimp-pat\"},\n    {ext: \".gbr\", mimeType: \"image/x-gimp-gbr\"},\n    {ext: \".glb\", mimeType: \"model/gltf-binary\"},\n    {ext: \".cab\", mimeType: \"application/x-installshield\"},\n    {ext: \".jxr\", mimeType: \"image/jxr\"},\n    {ext: \".parquet\", mimeType: \"application/vnd.apache.parquet\"},\n    {ext: \".txt\", mimeType: \"text/plain\"},\n    {ext: \".html\", mimeType: \"text/html\"},\n    {ext: \".svg\", mimeType: \"image/svg+xml\"},\n    {ext: \".xml\", mimeType: \"text/xml\"},\n    {ext: \".rss\", mimeType: \"application/rss+xml\"},\n    {ext: \".atom\", mimeType: \"application/atom+xml\"},\n    {ext: \".x3d\", mimeType: \"model/x3d+xml\"},\n    {ext: \".kml\", mimeType: \"application/vnd.google-earth.kml+xml\"},\n    {ext: \".xlf\", mimeType: \"application/x-xliff+xml\"},\n    {ext: \".dae\", mimeType: \"model/vnd.collada+xml\"},\n    {ext: \".gml\", mimeType: \"application/gml+xml\"},\n    {ext: \".gpx\", mimeType: \"application/gpx+xml\"},\n    {ext: \".tcx\", mimeType: \"application/vnd.garmin.tcx+xml\"},\n    {ext: \".amf\", mimeType: \"application/x-amf\"},\n    {ext: \".3mf\", mimeType: \"application/vnd.ms-package.3dmanufacturing-3dmodel+xml\"},\n    {ext: \".xfdf\", mimeType: \"application/vnd.adobe.xfdf\"},\n    {ext: \".owl\", mimeType: \"application/owl+xml\"},\n    {ext: \".php\", mimeType: \"text/x-php\"},\n    {ext: \".js\", mimeType: \"text/javascript\"},\n    {ext: \".lua\", mimeType: \"text/x-lua\"},\n    {ext: \".pl\", mimeType: \"text/x-perl\"},\n    {ext: \".py\", mimeType: \"text/x-python\"},\n    {ext: \".json\", mimeType: \"application/json\"},\n    {ext: \".geojson\", mimeType: \"application/geo+json\"},\n    {ext: \".har\", mimeType: \"application/json\"},\n    {ext: \".ndjson\", mimeType: \"application/x-ndjson\"},\n    {ext: \".rtf\", mimeType: \"text/rtf\"},\n    {ext: \".srt\", mimeType: \"application/x-subrip\"},\n    {ext: \".tcl\", mimeType: \"text/x-tcl\"},\n    {ext: \".csv\", mimeType: \"text/csv\"},\n    {ext: \".tsv\", mimeType: \"text/tab-separated-values\"},\n    {ext: \".vcf\", mimeType: \"text/vcard\"},\n    {ext: \".ics\", mimeType: \"text/calendar\"},\n    {ext: \".warc\", mimeType: \"application/warc\"},\n    {ext: \".vtt\", mimeType: \"text/vtt\"},\n];\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import Field from \"@/components/base/Field.svelte\";\n    import MimeTypeSelectOption from \"@/components/base/MimeTypeSelectOption.svelte\";\n    import MultipleValueInput from \"@/components/base/MultipleValueInput.svelte\";\n    import ObjectSelect from \"@/components/base/ObjectSelect.svelte\";\n    import Toggler from \"@/components/base/Toggler.svelte\";\n    import SchemaField from \"@/components/collections/schema/SchemaField.svelte\";\n    import baseMimeTypesList from \"@/mimes.js\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    export let field;\n    export let key = \"\";\n\n    const isSingleOptions = [\n        { label: \"Single\", value: true },\n        { label: \"Multiple\", value: false },\n    ];\n\n    let mimeTypesList = baseMimeTypesList.slice();\n    let isSingle = field.maxSelect <= 1;\n    let oldIsSingle = isSingle;\n\n    $: if (typeof field.maxSelect == \"undefined\") {\n        loadDefaults();\n    } else {\n        appendMissingMimeTypes();\n    }\n\n    $: if (oldIsSingle != isSingle) {\n        oldIsSingle = isSingle;\n        if (isSingle) {\n            field.maxSelect = 1;\n        } else {\n            field.maxSelect = 99;\n        }\n    }\n\n    function loadDefaults() {\n        field.maxSelect = 1;\n        field.thumbs = [];\n        field.mimeTypes = [];\n\n        isSingle = true;\n        oldIsSingle = isSingle;\n    }\n\n    // append any previously set custom mime types to the predefined\n    // list for backward compatibility\n    function appendMissingMimeTypes() {\n        if (CommonHelper.isEmpty(field.mimeTypes)) {\n            return;\n        }\n\n        const missing = [];\n\n        for (const v of field.mimeTypes) {\n            if (!!mimeTypesList.find((item) => item.mimeType === v)) {\n                continue; // exist\n            }\n\n            missing.push({ mimeType: v });\n        }\n\n        if (missing.length) {\n            mimeTypesList = mimeTypesList.concat(missing);\n        }\n    }\n</script>\n\n<SchemaField bind:field {key} on:rename on:remove on:duplicate {...$$restProps}>\n    <svelte:fragment let:interactive>\n        <div class=\"separator\" />\n\n        <Field\n            class=\"form-field form-field-single-multiple-select {!interactive ? 'readonly' : ''}\"\n            inlineError\n            let:uniqueId\n        >\n            <ObjectSelect\n                id={uniqueId}\n                items={isSingleOptions}\n                readonly={!interactive}\n                bind:keyOfSelected={isSingle}\n            />\n        </Field>\n\n        <div class=\"separator\" />\n    </svelte:fragment>\n\n    <svelte:fragment slot=\"options\">\n        <div class=\"grid grid-sm\">\n            <div class=\"col-sm-12\">\n                <Field class=\"form-field\" name=\"fields.{key}.mimeTypes\" let:uniqueId>\n                    <label for={uniqueId}>\n                        <span class=\"txt\">Allowed mime types</span>\n                        <i\n                            class=\"ri-information-line link-hint\"\n                            use:tooltip={{\n                                text: \"Allow files ONLY with the listed mime types. \\n Leave empty for no restriction.\",\n                                position: \"top\",\n                            }}\n                        />\n                    </label>\n                    <ObjectSelect\n                        id={uniqueId}\n                        multiple\n                        searchable\n                        closable={false}\n                        selectionKey=\"mimeType\"\n                        selectPlaceholder=\"No restriction\"\n                        items={mimeTypesList}\n                        labelComponent={MimeTypeSelectOption}\n                        optionComponent={MimeTypeSelectOption}\n                        bind:keyOfSelected={field.mimeTypes}\n                    />\n                    <div class=\"help-block\">\n                        <div tabindex=\"0\" role=\"button\" class=\"inline-flex flex-gap-0\">\n                            <span class=\"txt link-primary\">Choose presets</span>\n                            <i class=\"ri-arrow-drop-down-fill\" aria-hidden=\"true\" />\n                            <Toggler class=\"dropdown dropdown-sm dropdown-nowrap dropdown-left\">\n                                <button\n                                    type=\"button\"\n                                    class=\"dropdown-item closable\"\n                                    role=\"menuitem\"\n                                    on:click={() => {\n                                        field.mimeTypes = [\n                                            \"image/jpeg\",\n                                            \"image/png\",\n                                            \"image/svg+xml\",\n                                            \"image/gif\",\n                                            \"image/webp\",\n                                        ];\n                                    }}\n                                >\n                                    <span class=\"txt\">Images (jpg, png, svg, gif, webp)</span>\n                                </button>\n                                <button\n                                    type=\"button\"\n                                    class=\"dropdown-item closable\"\n                                    role=\"menuitem\"\n                                    on:click={() => {\n                                        field.mimeTypes = [\n                                            \"application/pdf\",\n                                            \"application/msword\",\n                                            \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n                                            \"application/vnd.ms-excel\",\n                                            \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n                                        ];\n                                    }}\n                                >\n                                    <span class=\"txt\">Documents (pdf, doc/docx, xls/xlsx)</span>\n                                </button>\n                                <button\n                                    type=\"button\"\n                                    class=\"dropdown-item closable\"\n                                    role=\"menuitem\"\n                                    on:click={() => {\n                                        field.mimeTypes = [\n                                            \"video/mp4\",\n                                            \"video/x-ms-wmv\",\n                                            \"video/quicktime\",\n                                            \"video/3gpp\",\n                                        ];\n                                    }}\n                                >\n                                    <span class=\"txt\">Videos (mp4, avi, mov, 3gp)</span>\n                                </button>\n                                <button\n                                    type=\"button\"\n                                    class=\"dropdown-item closable\"\n                                    role=\"menuitem\"\n                                    on:click={() => {\n                                        field.mimeTypes = [\n                                            \"application/zip\",\n                                            \"application/x-7z-compressed\",\n                                            \"application/x-rar-compressed\",\n                                        ];\n                                    }}\n                                >\n                                    <span class=\"txt\">Archives (zip, 7zip, rar)</span>\n                                </button>\n                            </Toggler>\n                        </div>\n                    </div>\n                </Field>\n            </div>\n\n            <div class={!isSingle ? \"col-sm-6\" : \"col-sm-8\"}>\n                <Field class=\"form-field\" name=\"fields.{key}.thumbs\" let:uniqueId>\n                    <label for={uniqueId}>\n                        <span class=\"txt\">Thumb sizes</span>\n                        <i\n                            class=\"ri-information-line link-hint\"\n                            use:tooltip={{\n                                text: \"List of additional thumb sizes for image files, along with the default thumb size of 100x100. The thumbs are generated lazily on first access.\",\n                                position: \"top\",\n                            }}\n                        />\n                    </label>\n                    <MultipleValueInput\n                        id={uniqueId}\n                        placeholder=\"e.g. 50x50, 480x720\"\n                        bind:value={field.thumbs}\n                    />\n                    <div class=\"help-block\">\n                        <span class=\"txt\">Use comma as separator.</span>\n                        <button type=\"button\" class=\"inline-flex flex-gap-0\">\n                            <span class=\"txt link-primary\">Supported formats</span>\n                            <i class=\"ri-arrow-drop-down-fill\" aria-hidden=\"true\" />\n                            <Toggler class=\"dropdown dropdown-sm dropdown-center dropdown-nowrap p-r-10\">\n                                <ul class=\"m-0\">\n                                    <li>\n                                        <strong>WxH</strong>\n                                        (e.g. 100x50) - crop to WxH viewbox (from center)\n                                    </li>\n                                    <li>\n                                        <strong>WxHt</strong>\n                                        (e.g. 100x50t) - crop to WxH viewbox (from top)\n                                    </li>\n                                    <li>\n                                        <strong>WxHb</strong>\n                                        (e.g. 100x50b) - crop to WxH viewbox (from bottom)\n                                    </li>\n                                    <li>\n                                        <strong>WxHf</strong>\n                                        (e.g. 100x50f) - fit inside a WxH viewbox (without cropping)\n                                    </li>\n                                    <li>\n                                        <strong>0xH</strong>\n                                        (e.g. 0x50) - resize to H height preserving the aspect ratio\n                                    </li>\n                                    <li>\n                                        <strong>Wx0</strong>\n                                        (e.g. 100x0) - resize to W width preserving the aspect ratio\n                                    </li>\n                                </ul>\n                            </Toggler>\n                        </button>\n                    </div>\n                </Field>\n            </div>\n\n            <div class={!isSingle ? \"col-sm-3\" : \"col-sm-4\"}>\n                <Field class=\"form-field\" name=\"fields.{key}.maxSize\" let:uniqueId>\n                    <label for={uniqueId}>Max file size</label>\n                    <input\n                        type=\"number\"\n                        id={uniqueId}\n                        step=\"1\"\n                        min=\"0\"\n                        max={Number.MAX_SAFE_INTEGER}\n                        value={field.maxSize || \"\"}\n                        on:input={(e) => (field.maxSize = parseInt(e.target.value, 10))}\n                        placeholder=\"Default to max ~5MB\"\n                    />\n                    <div class=\"help-block\">Must be in bytes.</div>\n                </Field>\n            </div>\n\n            {#if !isSingle}\n                <div class=\"col-sm-3\">\n                    <Field class=\"form-field\" name=\"fields.{key}.maxSelect\" let:uniqueId>\n                        <label for={uniqueId}>Max select</label>\n                        <input\n                            id={uniqueId}\n                            type=\"number\"\n                            step=\"1\"\n                            min=\"2\"\n                            max={Number.MAX_SAFE_INTEGER}\n                            required\n                            placeholder=\"Default to single\"\n                            bind:value={field.maxSelect}\n                        />\n                    </Field>\n                </div>\n            {/if}\n\n            <Field class=\"form-field form-field-toggle\" name=\"fields.{key}.protected\" let:uniqueId>\n                <input type=\"checkbox\" id={uniqueId} bind:checked={field.protected} />\n                <label for={uniqueId}>\n                    <span class=\"txt\">Protected</span>\n                </label>\n                <small class=\"txt-hint\">\n                    it will require View API rule permissions and file token to be accessible\n                    <a\n                        href={import.meta.env.PB_PROTECTED_FILE_DOCS}\n                        class=\"toggle-info\"\n                        target=\"_blank\"\n                        rel=\"noopener\"\n                    >\n                        (Learn more)\n                    </a>\n                </small>\n            </Field>\n        </div>\n    </svelte:fragment>\n</SchemaField>\n\n<style>\n    :global(.form-field-file-max-select) {\n        width: 100px;\n        flex-shrink: 0;\n    }\n</style>\n","<script>\n    import Field from \"@/components/base/Field.svelte\";\n    import SchemaField from \"@/components/collections/schema/SchemaField.svelte\";\n    import { slide } from \"svelte/transition\";\n\n    export let field;\n    export let key = \"\";\n\n    let showInfo = false;\n</script>\n\n<SchemaField bind:field {key} on:rename on:remove on:duplicate {...$$restProps}>\n    <svelte:fragment slot=\"options\">\n        <Field class=\"form-field m-b-sm\" name=\"fields.{key}.maxSize\" let:uniqueId>\n            <label for={uniqueId}>Max size <small>(bytes)</small></label>\n            <input\n                type=\"number\"\n                id={uniqueId}\n                step=\"1\"\n                min=\"0\"\n                max={Number.MAX_SAFE_INTEGER}\n                value={field.maxSize || \"\"}\n                on:input={(e) => (field.maxSize = parseInt(e.target.value, 10))}\n                placeholder=\"Default to max ~1MB\"\n            />\n        </Field>\n\n        <button\n            type=\"button\"\n            class=\"btn btn-sm {showInfo ? 'btn-secondary' : 'btn-hint btn-transparent'}\"\n            on:click={() => {\n                showInfo = !showInfo;\n            }}\n        >\n            <strong class=\"txt\">String value normalizations</strong>\n            {#if showInfo}\n                <i class=\"ri-arrow-up-s-line txt-sm\" />\n            {:else}\n                <i class=\"ri-arrow-down-s-line txt-sm\" />\n            {/if}\n        </button>\n        {#if showInfo}\n            <div class=\"block\" transition:slide={{ duration: 150 }}>\n                <div class=\"alert alert-warning m-b-0 m-t-10\">\n                    <div class=\"content\">\n                        In order to support seamlessly both <code>application/json</code> and\n                        <code>multipart/form-data</code>\n                        requests, the following normalization rules are applied if the <code>json</code> field\n                        is a\n                        <strong>plain string</strong>:\n                        <ul>\n                            <li>\"true\" is converted to the json <code>true</code></li>\n                            <li>\"false\" is converted to the json <code>false</code></li>\n                            <li>\"null\" is converted to the json <code>null</code></li>\n                            <li>\"[1,2,3]\" is converted to the json <code>[1,2,3]</code></li>\n                            <li>\n                                {'\"{\"a\":1,\"b\":2}\"'} is converted to the json <code>{'{\"a\":1,\"b\":2}'}</code>\n                            </li>\n                            <li>numeric strings are converted to json number</li>\n                            <li>double quoted strings are left as they are (aka. without normalizations)</li>\n                            <li>any other string (empty string too) is double quoted</li>\n                        </ul>\n                        Alternatively, if you want to avoid the string value normalizations, you can wrap your\n                        data inside an object, eg.<code>{'{\"data\": anything}'}</code>\n                    </div>\n                </div>\n            </div>\n        {/if}\n    </svelte:fragment>\n</SchemaField>\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import Field from \"@/components/base/Field.svelte\";\n    import SchemaField from \"@/components/collections/schema/SchemaField.svelte\";\n\n    export let field;\n    export let key = \"\";\n</script>\n\n<SchemaField bind:field {key} on:rename on:remove on:duplicate {...$$restProps}>\n    <svelte:fragment slot=\"options\">\n        <div class=\"grid grid-sm\">\n            <div class=\"col-sm-6\">\n                <Field class=\"form-field\" name=\"fields.{key}.min\" let:uniqueId>\n                    <label for={uniqueId}>Min</label>\n                    <input type=\"number\" id={uniqueId} bind:value={field.min} />\n                </Field>\n            </div>\n\n            <div class=\"col-sm-6\">\n                <Field class=\"form-field\" name=\"fields.{key}.max\" let:uniqueId>\n                    <label for={uniqueId}>Max</label>\n                    <input type=\"number\" id={uniqueId} min={field.min} bind:value={field.max} />\n                </Field>\n            </div>\n        </div>\n    </svelte:fragment>\n\n    <svelte:fragment slot=\"optionsFooter\">\n        <Field class=\"form-field form-field-toggle\" name=\"fields.{key}.onlyInt\" let:uniqueId>\n            <input type=\"checkbox\" id={uniqueId} bind:checked={field.onlyInt} />\n            <label for={uniqueId}>\n                <span class=\"txt\">No decimals</span>\n                <i\n                    class=\"ri-information-line link-hint\"\n                    use:tooltip={{\n                        text: `Existing decimal numbers will not be affected.`,\n                    }}\n                />\n            </label>\n        </Field>\n    </svelte:fragment>\n</SchemaField>\n","<script>\n    import Field from \"@/components/base/Field.svelte\";\n    import SchemaField from \"@/components/collections/schema/SchemaField.svelte\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    export let field;\n    export let key = \"\";\n\n    $: if (CommonHelper.isEmpty(field.id)) {\n        loadDefaults();\n    }\n\n    function loadDefaults() {\n        field.cost = 11;\n    }\n</script>\n\n<SchemaField bind:field {key} on:rename on:remove on:duplicate {...$$restProps}>\n    <svelte:fragment slot=\"options\">\n        <div class=\"grid grid-sm\">\n            <div class=\"col-sm-6\">\n                <Field class=\"form-field\" name=\"fields.{key}.min\" let:uniqueId>\n                    <label for={uniqueId}>Min length</label>\n                    <input\n                        type=\"number\"\n                        id={uniqueId}\n                        step=\"1\"\n                        min=\"0\"\n                        placeholder=\"No min limit\"\n                        value={field.min || \"\"}\n                        on:input={(e) => (field.min = e.target.value << 0)}\n                    />\n                </Field>\n            </div>\n\n            <div class=\"col-sm-6\">\n                <Field class=\"form-field\" name=\"fields.{key}.max\" let:uniqueId>\n                    <label for={uniqueId}>Max length</label>\n                    <input\n                        type=\"number\"\n                        id={uniqueId}\n                        step=\"1\"\n                        placeholder=\"Up to 71 chars\"\n                        min={field.min || 0}\n                        max=\"71\"\n                        value={field.max || \"\"}\n                        on:input={(e) => (field.max = e.target.value << 0)}\n                    />\n                </Field>\n            </div>\n\n            <div class=\"col-sm-6\">\n                <Field class=\"form-field\" name=\"fields.{key}.cost\" let:uniqueId>\n                    <label for={uniqueId}>Bcrypt cost</label>\n                    <input\n                        type=\"number\"\n                        id={uniqueId}\n                        placeholder=\"Default to 10\"\n                        step=\"1\"\n                        min=\"6\"\n                        max=\"31\"\n                        value={field.cost || \"\"}\n                        on:input={(e) => (field.cost = e.target.value << 0)}\n                    />\n                </Field>\n            </div>\n\n            <div class=\"col-sm-6\">\n                <Field class=\"form-field\" name=\"fields.{key}.pattern\" let:uniqueId>\n                    <label for={uniqueId}>Validation pattern</label>\n                    <input type=\"text\" id={uniqueId} placeholder=\"ex. ^\\w+$\" bind:value={field.pattern} />\n                </Field>\n            </div>\n        </div>\n    </svelte:fragment>\n</SchemaField>\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import Field from \"@/components/base/Field.svelte\";\n    import ObjectSelect from \"@/components/base/ObjectSelect.svelte\";\n    import CollectionUpsertPanel from \"@/components/collections/CollectionUpsertPanel.svelte\";\n    import SchemaField from \"@/components/collections/schema/SchemaField.svelte\";\n    import { collections } from \"@/stores/collections\";\n\n    export let field;\n    export let key = \"\";\n\n    const isSingleOptions = [\n        { label: \"Single\", value: true },\n        { label: \"Multiple\", value: false },\n    ];\n\n    const defaultOptions = [\n        { label: \"False\", value: false },\n        { label: \"True\", value: true },\n    ];\n\n    let upsertPanel = null;\n    let isSingle = field.maxSelect <= 1;\n    let oldIsSingle = isSingle;\n\n    $: selectCollections = $collections.filter((c) => !c.system && c.type != \"view\");\n\n    // load defaults\n    $: if (typeof field.maxSelect == \"undefined\") {\n        loadDefaults();\n    }\n\n    $: if (oldIsSingle != isSingle) {\n        oldIsSingle = isSingle;\n        if (isSingle) {\n            field.minSelect = 0;\n            field.maxSelect = 1;\n        } else {\n            field.maxSelect = 999;\n        }\n    }\n\n    $: selectedColection = $collections.find((c) => c.id == field.collectionId) || null;\n\n    function loadDefaults() {\n        field.maxSelect = 1;\n        field.collectionId = null;\n        field.cascadeDelete = false;\n        isSingle = true;\n        oldIsSingle = isSingle;\n    }\n</script>\n\n<SchemaField bind:field {key} on:rename on:remove on:duplicate {...$$restProps}>\n    <svelte:fragment let:interactive>\n        <div class=\"separator\" />\n\n        <Field\n            class=\"form-field required {!interactive ? 'readonly' : ''}\"\n            inlineError\n            name=\"fields.{key}.collectionId\"\n            let:uniqueId\n        >\n            <ObjectSelect\n                id={uniqueId}\n                searchable={selectCollections.length > 5}\n                selectPlaceholder={\"Select collection *\"}\n                noOptionsText=\"No collections found\"\n                selectionKey=\"id\"\n                items={selectCollections}\n                readonly={!interactive || field.id}\n                bind:keyOfSelected={field.collectionId}\n            >\n                <svelte:fragment slot=\"afterOptions\">\n                    <hr />\n                    <button\n                        type=\"button\"\n                        class=\"btn btn-transparent btn-block btn-sm\"\n                        on:click={() => upsertPanel?.show()}\n                    >\n                        <i class=\"ri-add-line\" />\n                        <span class=\"txt\">New collection</span>\n                    </button>\n                </svelte:fragment>\n            </ObjectSelect>\n        </Field>\n\n        <div class=\"separator\" />\n\n        <Field\n            class=\"form-field form-field-single-multiple-select {!interactive ? 'readonly' : ''}\"\n            inlineError\n            let:uniqueId\n        >\n            <ObjectSelect\n                id={uniqueId}\n                items={isSingleOptions}\n                readonly={!interactive}\n                bind:keyOfSelected={isSingle}\n            />\n        </Field>\n\n        <div class=\"separator\" />\n    </svelte:fragment>\n\n    <svelte:fragment slot=\"options\">\n        <div class=\"grid grid-sm\">\n            {#if !isSingle}\n                <div class=\"col-sm-6\">\n                    <Field class=\"form-field\" name=\"fields.{key}.minSelect\" let:uniqueId>\n                        <label for={uniqueId}>Min select</label>\n                        <input\n                            type=\"number\"\n                            id={uniqueId}\n                            step=\"1\"\n                            min=\"0\"\n                            placeholder=\"No min limit\"\n                            value={field.minSelect || \"\"}\n                            on:input={(e) => (field.minSelect = e.target.value << 0)}\n                        />\n                    </Field>\n                </div>\n                <div class=\"col-sm-6\">\n                    <Field class=\"form-field\" name=\"fields.{key}.maxSelect\" let:uniqueId>\n                        <label for={uniqueId}>Max select</label>\n                        <input\n                            type=\"number\"\n                            id={uniqueId}\n                            step=\"1\"\n                            placeholder=\"Default to single\"\n                            min={field.minSelect || 1}\n                            bind:value={field.maxSelect}\n                        />\n                    </Field>\n                </div>\n            {/if}\n\n            <div class=\"col-sm-12\">\n                <Field class=\"form-field\" name=\"fields.{key}.cascadeDelete\" let:uniqueId>\n                    <label for={uniqueId}>\n                        <span class=\"txt\">Cascade delete</span>\n                        <!-- prettier-ignore -->\n                        <i\n                            class=\"ri-information-line link-hint\"\n                            use:tooltip={{\n                                text: [\n                                    `Whether on ${selectedColection?.name || \"relation\"} record deletion to delete also the current corresponding collection record(s).`,\n                                    !isSingle ? `For \"Multiple\" relation fields the cascade delete is triggered only when all ${selectedColection?.name || \"relation\"} ids are removed from the corresponding record.` : null\n                                ].filter(Boolean).join(\"\\n\\n\"),\n                                position: \"top\",\n                            }}\n                        />\n                    </label>\n                    <ObjectSelect\n                        id={uniqueId}\n                        items={defaultOptions}\n                        bind:keyOfSelected={field.cascadeDelete}\n                    />\n                </Field>\n            </div>\n        </div>\n    </svelte:fragment>\n</SchemaField>\n\n<CollectionUpsertPanel\n    bind:this={upsertPanel}\n    on:save={(e) => {\n        if (e?.detail?.collection?.id && e.detail.collection.type != \"view\") {\n            field.collectionId = e.detail.collection.id;\n        }\n    }}\n/>\n","<script>\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import Toggler from \"@/components/base/Toggler.svelte\";\n    import Draggable from \"@/components/base/Draggable.svelte\";\n\n    export let id = null;\n    export let items = [];\n    export let disabled = false;\n    export let emptyPlaceholder = \"Add items\";\n    export let newPlaceholder = \"e.g. optionA\";\n\n    let newInput;\n    let newInputVal = \"\";\n\n    $: formattedValue = items.join(\" • \");\n\n    function remove(item) {\n        items = items || [];\n        CommonHelper.removeByValue(items, item);\n\n        if (!items.length) {\n            newInput?.focus();\n        }\n    }\n\n    function add(item) {\n        const val = item.trim();\n        if (!val.length) {\n            return;\n        }\n\n        items = items || [];\n        CommonHelper.pushUnique(items, val);\n\n        // reset input\n        newInputVal = \"\";\n    }\n</script>\n\n<div class=\"block\">\n    <input\n        {id}\n        readonly\n        type=\"text\"\n        class=\"formatted-value-input\"\n        {disabled}\n        placeholder={emptyPlaceholder}\n        value={formattedValue}\n        title={formattedValue}\n    />\n\n    {#if !disabled}\n        <Toggler\n            class=\"dropdown dropdown-block options-dropdown dropdown-left m-t-0 p-0\"\n            on:hide={() => (newInputVal = \"\")}\n        >\n            <!-- svelte-ignore a11y-no-static-element-interactions -->\n            <div\n                class=\"block\"\n                on:dragover|stopPropagation\n                on:dragleave|stopPropagation\n                on:dragend|stopPropagation\n                on:dragstart|stopPropagation\n                on:drop|stopPropagation\n            >\n                {#each items as item, i (item)}\n                    <Draggable bind:list={items} index={i} group={\"options_\" + id}>\n                        <div class=\"dropdown-item plain\">\n                            <span class=\"txt\">{item}</span>\n                            <div class=\"flex-fill\"></div>\n                            <button\n                                type=\"button\"\n                                class=\"btn btn-circle btn-transparent btn-hint btn-xs\"\n                                title=\"Remove\"\n                                on:click|stopPropagation={() => remove(item)}\n                            >\n                                <i class=\"ri-close-line\" aria-hidden=\"true\"></i>\n                            </button>\n                        </div>\n                    </Draggable>\n                {/each}\n\n                <div class=\"new-item-form\">\n                    <div class=\"form-field form-field-sm m-0\">\n                        <div class=\"input-group\">\n                            <!-- svelte-ignore a11y-autofocus -->\n                            <input\n                                bind:this={newInput}\n                                autofocus\n                                type=\"text\"\n                                class=\"new-item-input\"\n                                placeholder={newPlaceholder}\n                                bind:value={newInputVal}\n                                on:keydown={(e) => {\n                                    if (e.code === \"Enter\") {\n                                        e.preventDefault();\n                                        add(e.target.value);\n                                    }\n                                }}\n                            />\n                            <div class=\"form-field-addon suffix\">\n                                <button\n                                    type=\"button\"\n                                    class=\"btn btn-transparent btn-xs btn-circle new-item-btn\"\n                                    title=\"Add new\"\n                                    class:btn-disabled={!newInputVal.length}\n                                    on:click={() => add(newInputVal)}\n                                >\n                                    <i class=\"ri-add-line\" aria-hidden=\"true\"></i>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </Toggler>\n    {/if}\n</div>\n\n<style lang=\"scss\">\n    .formatted-value-input {\n        padding-left: 10px;\n        padding-right: 10px;\n        cursor: pointer;\n        color: var(--txtPrimaryColor);\n    }\n    .dropdown-item {\n        padding-top: 5px;\n        padding-bottom: 5px;\n    }\n    .new-item-form {\n        position: sticky;\n        z-index: 99;\n        bottom: 0;\n        padding: 10px;\n        background: var(--baseColor);\n        border-bottom-left-radius: var(--baseRadius);\n        border-bottom-right-radius: var(--baseRadius);\n        &:not(:first-child) {\n            margin-top: 5px;\n            border-top: 1px solid var(--baseAlt1Color);\n        }\n    }\n    .new-item-input {\n        padding-right: 40px;\n        padding-left: 10px;\n    }\n    .new-item-btn {\n        right: -5px;\n    }\n</style>\n","<script>\n    import Field from \"@/components/base/Field.svelte\";\n    import ObjectSelect from \"@/components/base/ObjectSelect.svelte\";\n    import DynamicOptionsSelect from \"@/components/base/DynamicOptionsSelect.svelte\";\n    import SchemaField from \"@/components/collections/schema/SchemaField.svelte\";\n\n    export let field;\n    export let key = \"\";\n\n    const isSingleOptions = [\n        { label: \"Single\", value: true },\n        { label: \"Multiple\", value: false },\n    ];\n\n    let isSingle = field.maxSelect <= 1;\n    let oldIsSingle = isSingle;\n\n    $: if (typeof field.maxSelect == \"undefined\") {\n        loadDefaults();\n    }\n\n    $: if (oldIsSingle != isSingle) {\n        oldIsSingle = isSingle;\n        if (isSingle) {\n            field.maxSelect = 1;\n        } else {\n            field.maxSelect = field.values?.length || 2;\n        }\n    }\n\n    function loadDefaults() {\n        field.maxSelect = 1;\n        field.values = [];\n        isSingle = true;\n        oldIsSingle = isSingle;\n    }\n</script>\n\n<SchemaField bind:field {key} on:rename on:remove on:duplicate {...$$restProps}>\n    <svelte:fragment let:interactive>\n        <div class=\"separator\" />\n\n        <Field\n            class=\"form-field required {!interactive ? 'readonly' : ''}\"\n            inlineError\n            name=\"fields.{key}.values\"\n            let:uniqueId\n        >\n            <DynamicOptionsSelect\n                id={uniqueId}\n                emptyPlaceholder={\"Add choices *\"}\n                bind:items={field.values}\n            />\n        </Field>\n\n        <div class=\"separator\" />\n\n        <Field\n            class=\"form-field form-field-single-multiple-select {!interactive ? 'readonly' : ''}\"\n            inlineError\n            let:uniqueId\n        >\n            <ObjectSelect\n                id={uniqueId}\n                items={isSingleOptions}\n                readonly={!interactive}\n                bind:keyOfSelected={isSingle}\n            />\n        </Field>\n\n        <div class=\"separator\" />\n    </svelte:fragment>\n\n    <svelte:fragment slot=\"options\">\n        {#if !isSingle}\n            <Field class=\"form-field\" name=\"fields.{key}.maxSelect\" let:uniqueId>\n                <label for={uniqueId}>Max select</label>\n                <input\n                    id={uniqueId}\n                    type=\"number\"\n                    step=\"1\"\n                    min=\"2\"\n                    max={field.values.length}\n                    placeholder=\"Default to single\"\n                    bind:value={field.maxSelect}\n                />\n            </Field>\n        {/if}\n    </svelte:fragment>\n</SchemaField>\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import Field from \"@/components/base/Field.svelte\";\n    import SchemaField from \"@/components/collections/schema/SchemaField.svelte\";\n\n    export let field;\n    export let key = \"\";\n</script>\n\n<SchemaField bind:field {key} on:rename on:remove on:duplicate {...$$restProps}>\n    <svelte:fragment slot=\"options\">\n        <div class=\"grid grid-sm\">\n            <div class=\"col-sm-6\">\n                <Field class=\"form-field\" name=\"fields.{key}.min\" let:uniqueId>\n                    <label for={uniqueId}>\n                        <span class=\"txt\">Min length</span>\n                        <i\n                            class=\"ri-information-line link-hint\"\n                            use:tooltip={\"Clear the field or set it to 0 for no limit.\"}\n                        />\n                    </label>\n                    <input\n                        type=\"number\"\n                        id={uniqueId}\n                        step=\"1\"\n                        min=\"0\"\n                        max={Number.MAX_SAFE_INTEGER}\n                        placeholder=\"No min limit\"\n                        value={field.min || \"\"}\n                        on:input={(e) => (field.min = parseInt(e.target.value, 10))}\n                    />\n                </Field>\n            </div>\n\n            <div class=\"col-sm-6\">\n                <Field class=\"form-field\" name=\"fields.{key}.max\" let:uniqueId>\n                    <label for={uniqueId}>\n                        <span class=\"txt\">Max length</span>\n                        <i\n                            class=\"ri-information-line link-hint\"\n                            use:tooltip={\"Clear the field or set it to 0 to fallback to the default limit.\"}\n                        />\n                    </label>\n                    <input\n                        type=\"number\"\n                        id={uniqueId}\n                        step=\"1\"\n                        placeholder=\"Default to max 5000 characters\"\n                        min={field.min || 0}\n                        max={Number.MAX_SAFE_INTEGER}\n                        value={field.max || \"\"}\n                        on:input={(e) => (field.max = parseInt(e.target.value, 10))}\n                    />\n                </Field>\n            </div>\n\n            <div class=\"col-sm-6\">\n                <Field class=\"form-field\" name=\"fields.{key}.pattern\" let:uniqueId>\n                    <label for={uniqueId}>\n                        <span class=\"txt\">Validation pattern</span>\n                        {#if field.primaryKey}\n                            <i\n                                class=\"ri-information-line link-hint\"\n                                use:tooltip={\"All record ids have unique case-insensitive (ASCII) validation applied in addition to the user defined validation pattern.\"}\n                            />\n                        {/if}\n                    </label>\n                    <input type=\"text\" id={uniqueId} bind:value={field.pattern} />\n                    <div class=\"help-block\">\n                        <p>Ex. <code>{\"^[a-z0-9]+$\"}</code></p>\n                    </div>\n                </Field>\n            </div>\n\n            <div class=\"col-sm-6\">\n                <Field class=\"form-field\" name=\"fields.{key}.autogeneratePattern\" let:uniqueId>\n                    <label for={uniqueId}>\n                        <span class=\"txt\">Autogenerate pattern</span>\n                        <i\n                            class=\"ri-information-line link-hint\"\n                            use:tooltip={\"Set and autogenerate text matching the pattern on missing record create value.\"}\n                        />\n                    </label>\n                    <input type=\"text\" id={uniqueId} bind:value={field.autogeneratePattern} />\n                    <div class=\"help-block\">\n                        <p>Ex. <code>{\"[a-z0-9]{30}\"}</code></p>\n                    </div>\n                </Field>\n            </div>\n        </div>\n    </svelte:fragment>\n</SchemaField>\n","<script>\n    import SchemaFieldEmail from \"./SchemaFieldEmail.svelte\";\n\n    export let field;\n    export let key = \"\";\n</script>\n\n<!-- shares the same options with the email field -->\n<SchemaFieldEmail bind:field {key} on:rename on:remove on:duplicate {...$$restProps} />\n","<script>\n    import SchemaField from \"@/components/collections/schema/SchemaField.svelte\";\n\n    export let field;\n    export let key = \"\";\n</script>\n\n<SchemaField bind:field {key} on:rename on:remove on:duplicate {...$$restProps} />\n","<script>\n    import Draggable from \"@/components/base/Draggable.svelte\";\n    import IndexesList from \"@/components/collections/IndexesList.svelte\";\n    import NewField from \"@/components/collections/schema/NewField.svelte\";\n    import SchemaFieldAutodate from \"@/components/collections/schema/SchemaFieldAutodate.svelte\";\n    import SchemaFieldBool from \"@/components/collections/schema/SchemaFieldBool.svelte\";\n    import SchemaFieldDate from \"@/components/collections/schema/SchemaFieldDate.svelte\";\n    import SchemaFieldEditor from \"@/components/collections/schema/SchemaFieldEditor.svelte\";\n    import SchemaFieldEmail from \"@/components/collections/schema/SchemaFieldEmail.svelte\";\n    import SchemaFieldFile from \"@/components/collections/schema/SchemaFieldFile.svelte\";\n    import SchemaFieldJson from \"@/components/collections/schema/SchemaFieldJson.svelte\";\n    import SchemaFieldNumber from \"@/components/collections/schema/SchemaFieldNumber.svelte\";\n    import SchemaFieldPassword from \"@/components/collections/schema/SchemaFieldPassword.svelte\";\n    import SchemaFieldRelation from \"@/components/collections/schema/SchemaFieldRelation.svelte\";\n    import SchemaFieldSelect from \"@/components/collections/schema/SchemaFieldSelect.svelte\";\n    import SchemaFieldText from \"@/components/collections/schema/SchemaFieldText.svelte\";\n    import SchemaFieldUrl from \"@/components/collections/schema/SchemaFieldUrl.svelte\";\n    import SchemaFieldGeoPoint from \"@/components/collections/schema/SchemaFieldGeoPoint.svelte\";\n    import { scaffolds } from \"@/stores/collections\";\n    import { setErrors } from \"@/stores/errors\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    export let collection;\n\n    let oldCollectionType;\n\n    const fieldComponents = {\n        text: SchemaFieldText,\n        number: SchemaFieldNumber,\n        bool: SchemaFieldBool,\n        email: SchemaFieldEmail,\n        url: SchemaFieldUrl,\n        editor: SchemaFieldEditor,\n        date: SchemaFieldDate,\n        select: SchemaFieldSelect,\n        json: SchemaFieldJson,\n        file: SchemaFieldFile,\n        relation: SchemaFieldRelation,\n        password: SchemaFieldPassword,\n        autodate: SchemaFieldAutodate,\n        geoPoint: SchemaFieldGeoPoint,\n    };\n\n    $: if (!collection.id && oldCollectionType != collection.type) {\n        oldCollectionType = collection.type;\n        onTypeCange();\n    }\n\n    $: if (typeof collection.fields === \"undefined\") {\n        collection.fields = [];\n    }\n\n    $: nonDeletedFields = collection.fields.filter((f) => !f._toDelete);\n\n    function removeField(fieldIndex) {\n        if (collection.fields[fieldIndex]) {\n            collection.fields.splice(fieldIndex, 1);\n            collection.fields = collection.fields;\n        }\n    }\n\n    function duplicateField(fieldIndex) {\n        const field = collection.fields[fieldIndex];\n        if (!field) {\n            return; // nothing to duplicate\n        }\n\n        field.onMountSelect = false;\n\n        const clone = structuredClone(field);\n        clone.id = \"\";\n        clone.system = false;\n        clone.name = getUniqueFieldName(clone.name + \"_copy\");\n        clone.onMountSelect = true;\n\n        collection.fields.splice(fieldIndex + 1, 0, clone);\n        collection.fields = collection.fields;\n    }\n\n    function newField(fieldType = \"text\") {\n        const field = CommonHelper.initSchemaField({\n            name: getUniqueFieldName(),\n            type: fieldType,\n        });\n\n        field.onMountSelect = true;\n\n        // if the collection has created/updated last fields,\n        // insert before the first autodate field, otherwise - append\n        const idx = collection.fields.findLastIndex((f) => f.type != \"autodate\");\n        if (field.type != \"autodate\" && idx >= 0) {\n            collection.fields.splice(idx + 1, 0, field);\n        } else {\n            collection.fields.push(field);\n        }\n\n        collection.fields = collection.fields;\n    }\n\n    function getUniqueFieldName(name = \"field\") {\n        let result = name;\n        let counter = 2;\n\n        let suffix = name.match(/\\d+$/)?.[0] || \"\"; // extract numeric suffix\n\n        // name without the suffix\n        let base = suffix ? name.substring(0, name.length - suffix.length) : name;\n\n        while (hasFieldWithName(result)) {\n            result = base + ((suffix << 0) + counter);\n            counter++;\n        }\n\n        return result;\n    }\n\n    function hasFieldWithName(name) {\n        return !!collection?.fields?.find((field) => field.name === name);\n    }\n\n    function getSchemaFieldIndex(field) {\n        return nonDeletedFields.findIndex((f) => f === field);\n    }\n\n    function replaceIndexesColumn(oldName, newName) {\n        if (!collection?.fields?.length || oldName === newName || !newName) {\n            return;\n        }\n\n        // field with the old name exists so there is no need to rename index columns\n        if (!!collection?.fields?.find((f) => f.name == oldName && !f._toDelete)) {\n            return;\n        }\n\n        // update indexes on renamed fields\n        collection.indexes = collection.indexes.map((idx) =>\n            CommonHelper.replaceIndexColumn(idx, oldName, newName),\n        );\n    }\n\n    function onTypeCange() {\n        const oldFields = collection.fields || [];\n        const nonSystemFields = oldFields.filter((f) => !f.system);\n\n        const blank = structuredClone($scaffolds[collection.type]);\n        collection.fields = blank.fields;\n\n        for (let oldField of oldFields) {\n            if (!oldField.system) {\n                continue;\n            }\n\n            const idx = collection.fields.findIndex((f) => f.name == oldField.name);\n            if (idx < 0) {\n                continue;\n            }\n\n            // merge the default field with the existing one\n            collection.fields[idx] = Object.assign(collection.fields[idx], oldField);\n        }\n\n        for (let field of nonSystemFields) {\n            collection.fields.push(field);\n        }\n    }\n\n    function replaceIdentityFields(oldName, newName) {\n        if (oldName === newName || !newName) {\n            return;\n        }\n\n        let identityFields = collection.passwordAuth?.identityFields || [];\n\n        for (let i = 0; i < identityFields.length; i++) {\n            if (identityFields[i] == oldName) {\n                identityFields[i] = newName;\n            }\n        }\n    }\n\n    function onFieldRename(oldName, newName) {\n        replaceIndexesColumn(oldName, newName);\n        replaceIdentityFields(oldName, newName);\n    }\n</script>\n\n<div class=\"schema-fields total-{collection.fields.length}\">\n    {#each collection.fields as field, i (field)}\n        <Draggable\n            bind:list={collection.fields}\n            index={i}\n            disabled={field._toDelete}\n            dragHandleClass=\"drag-handle-wrapper\"\n            on:drag={(e) => {\n                // blank drag placeholder\n                if (!e.detail) {\n                    return;\n                }\n                const ghost = e.detail.target;\n                ghost.style.opacity = 0;\n                setTimeout(() => {\n                    ghost?.style?.removeProperty(\"opacity\"); // restore\n                }, 0);\n                e.detail.dataTransfer.setDragImage(ghost, 0, 0);\n            }}\n            on:sort={() => {\n                // reset errors since the schema keys index has changed\n                setErrors({});\n            }}\n        >\n            <svelte:component\n                this={fieldComponents[field.type]}\n                key={getSchemaFieldIndex(field)}\n                {collection}\n                bind:field\n                on:remove={() => removeField(i)}\n                on:duplicate={() => duplicateField(i)}\n                on:rename={(e) => onFieldRename(e.detail.oldName, e.detail.newName)}\n            />\n        </Draggable>\n    {/each}\n</div>\n\n<NewField class=\"btn btn-block btn-outline\" on:select={(e) => newField(e.detail)} />\n\n<hr />\n\n<IndexesList bind:collection />\n","<script>\n    import Field from \"@/components/base/Field.svelte\";\n    import { errors, removeError } from \"@/stores/errors\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { onMount } from \"svelte\";\n\n    export let collection;\n\n    let codeEditorComponent;\n    let isCodeEditorComponentLoading = false;\n    let fieldsErrors = [];\n\n    $: checkFieldsErrors($errors);\n\n    function checkFieldsErrors(errs) {\n        fieldsErrors = [];\n\n        const raw = CommonHelper.getNestedVal(errs, \"fields\", null);\n\n        if (CommonHelper.isEmpty(raw)) {\n            return;\n        }\n\n        // generic fields list error\n        // ---\n        if (raw?.message) {\n            fieldsErrors.push(raw?.message);\n            return;\n        }\n\n        // individual field error\n        // ---\n        const columns = CommonHelper.extractColumnsFromQuery(collection?.viewQuery);\n        // remove base system fields\n        CommonHelper.removeByValue(columns, \"id\");\n        CommonHelper.removeByValue(columns, \"created\");\n        CommonHelper.removeByValue(columns, \"updated\");\n\n        for (let idx in raw) {\n            for (let key in raw[idx]) {\n                const message = raw[idx][key].message;\n                const fieldName = columns[idx] || idx;\n\n                fieldsErrors.push(CommonHelper.sentenize(fieldName + \": \" + message));\n            }\n        }\n    }\n\n    onMount(async () => {\n        isCodeEditorComponentLoading = true;\n\n        try {\n            codeEditorComponent = (await import(\"@/components/base/CodeEditor.svelte\")).default;\n        } catch (err) {\n            console.warn(err);\n        }\n\n        isCodeEditorComponentLoading = false;\n    });\n</script>\n\n<Field class=\"form-field required {fieldsErrors.length ? 'error' : ''}\" name=\"viewQuery\" let:uniqueId>\n    <label for={uniqueId}>\n        <span class=\"txt\">Select query</span>\n    </label>\n\n    {#if isCodeEditorComponentLoading}\n        <textarea disabled rows=\"7\" placeholder=\"Loading...\" />\n    {:else}\n        <svelte:component\n            this={codeEditorComponent}\n            id={uniqueId}\n            placeholder=\"eg. SELECT id, name from posts\"\n            language=\"sql-select\"\n            minHeight=\"150\"\n            on:change={() => {\n                if (fieldsErrors.length) {\n                    removeError(\"fields\");\n                }\n            }}\n            bind:value={collection.viewQuery}\n        />\n    {/if}\n\n    <div class=\"help-block\">\n        <ul>\n            <li>Wildcard columns (<code>*</code>) are not supported.</li>\n            <li>\n                The query must have a unique <code>id</code> column.\n                <br />\n                If your query doesn't have a suitable one, you can use the universal\n                <code>(ROW_NUMBER() OVER()) as id</code>.\n            </li>\n            <li>\n                Expressions must be aliased with a valid formatted field name, e.g.\n                <code>MAX(balance) as maxBalance</code>.\n            </li>\n            <li>\n                Combined/multi-spaced expressions must be wrapped in parenthesis, e.g.\n                <code>(MAX(balance) + 1) as maxBalance</code>.\n            </li>\n        </ul>\n    </div>\n\n    {#if fieldsErrors.length}\n        <div class=\"help-block help-block-error\">\n            <div class=\"content\">\n                {#each fieldsErrors as err}\n                    <p>{err}</p>\n                {/each}\n            </div>\n        </div>\n    {/if}\n</Field>\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import RuleField from \"@/components/collections/RuleField.svelte\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { slide } from \"svelte/transition\";\n\n    export let collection;\n\n    $: fieldNames = CommonHelper.getAllCollectionIdentifiers(collection);\n\n    $: hiddenFieldNames = collection.fields?.filter((f) => f.hidden).map((f) => f.name);\n\n    let showFiltersInfo = false;\n\n    let showExtraRules = collection.manageRule !== null || collection.authRule !== \"\";\n</script>\n\n<div class=\"block m-b-sm handle\">\n    <div class=\"flex txt-sm txt-hint m-b-5\">\n        <p>\n            All rules follow the\n            <a href={import.meta.env.PB_RULES_SYNTAX_DOCS} target=\"_blank\" rel=\"noopener noreferrer\">\n                PocketBase filter syntax and operators\n            </a>.\n        </p>\n        <button\n            type=\"button\"\n            class=\"expand-handle txt-sm txt-bold txt-nowrap link-hint\"\n            on:click={() => (showFiltersInfo = !showFiltersInfo)}\n        >\n            {showFiltersInfo ? \"Hide available fields\" : \"Show available fields\"}\n        </button>\n    </div>\n\n    {#if showFiltersInfo}\n        <div transition:slide={{ duration: 150 }}>\n            <div class=\"alert alert-warning m-0\">\n                <div class=\"content\">\n                    <p class=\"m-b-0\">The following record fields are available:</p>\n                    <div class=\"inline-flex flex-gap-5\">\n                        {#each fieldNames as name}\n                            {#if !hiddenFieldNames.includes(name)}\n                                <code>{name}</code>\n                            {/if}\n                        {/each}\n                    </div>\n\n                    <hr class=\"m-t-10 m-b-5\" />\n\n                    <p class=\"m-b-0\">\n                        The request fields could be accessed with the special <em>@request</em> filter:\n                    </p>\n                    <div class=\"inline-flex flex-gap-5\">\n                        <code>@request.headers.*</code>\n                        <code>@request.query.*</code>\n                        <code>@request.body.*</code>\n                        <code>@request.auth.*</code>\n                    </div>\n\n                    <hr class=\"m-t-10 m-b-5\" />\n\n                    <p class=\"m-b-0\">\n                        You could also add constraints and query other collections using the\n                        <em>@collection</em> filter:\n                    </p>\n                    <div class=\"inline-flex flex-gap-5\">\n                        <code>@collection.ANY_COLLECTION_NAME.*</code>\n                    </div>\n\n                    <hr class=\"m-t-10 m-b-5\" />\n\n                    <p>\n                        Example rule:\n                        <br />\n                        <code>@request.auth.id != \"\" && created > \"2022-01-01 00:00:00\"</code>\n                    </p>\n                </div>\n            </div>\n        </div>\n    {/if}\n</div>\n\n<RuleField label=\"List/Search rule\" formKey=\"listRule\" {collection} bind:rule={collection.listRule} />\n\n<RuleField label=\"View rule\" formKey=\"viewRule\" {collection} bind:rule={collection.viewRule} />\n\n{#if collection?.type !== \"view\"}\n    <RuleField label=\"Create rule\" formKey=\"createRule\" {collection} bind:rule={collection.createRule}>\n        <svelte:fragment slot=\"afterLabel\" let:isSuperuserOnly>\n            {#if !isSuperuserOnly}\n                <i\n                    class=\"ri-information-line link-hint\"\n                    use:tooltip={{\n                        text: `The main record fields hold the values that are going to be inserted in the database.`,\n                        position: \"top\",\n                    }}\n                />\n            {/if}\n        </svelte:fragment>\n    </RuleField>\n\n    <RuleField label=\"Update rule\" formKey=\"updateRule\" {collection} bind:rule={collection.updateRule}>\n        <svelte:fragment slot=\"afterLabel\" let:isSuperuserOnly>\n            {#if !isSuperuserOnly}\n                <i\n                    class=\"ri-information-line link-hint\"\n                    use:tooltip={{\n                        text: `The main record fields represent the old/existing record field values.\\nTo target the newly submitted ones you can use @request.body.*`,\n                        position: \"top\",\n                    }}\n                />\n            {/if}\n        </svelte:fragment>\n    </RuleField>\n\n    <RuleField label=\"Delete rule\" formKey=\"deleteRule\" {collection} bind:rule={collection.deleteRule} />\n{/if}\n\n{#if collection?.type === \"auth\"}\n    <hr />\n\n    <button\n        type=\"button\"\n        class=\"btn btn-sm m-b-sm {showExtraRules ? 'btn-secondary' : 'btn-hint btn-transparent'}\"\n        on:click={() => {\n            showExtraRules = !showExtraRules;\n        }}\n    >\n        <strong class=\"txt\">Additional auth collection rules</strong>\n        {#if showExtraRules}\n            <i class=\"ri-arrow-up-s-line txt-sm\" />\n        {:else}\n            <i class=\"ri-arrow-down-s-line txt-sm\" />\n        {/if}\n    </button>\n\n    {#if showExtraRules}\n        <div class=\"block\" transition:slide={{ duration: 150 }}>\n            <RuleField\n                label=\"Authentication rule\"\n                formKey=\"authRule\"\n                placeholder=\"\"\n                {collection}\n                bind:rule={collection.authRule}\n            >\n                <svelte:fragment>\n                    <p>\n                        This rule is executed every time before authentication allowing you to restrict who\n                        can authenticate.\n                    </p>\n                    <p>\n                        For example, to allow only verified users you can set it to\n                        <code>verified = true</code>.\n                    </p>\n                    <p>Leave it empty to allow anyone with an account to authenticate.</p>\n                    <p>To disable authentication entirely you can change it to \"Set superusers only\".</p>\n                </svelte:fragment>\n            </RuleField>\n\n            <RuleField\n                label=\"Manage rule\"\n                formKey=\"manageRule\"\n                placeholder=\"\"\n                required={collection.manageRule !== null}\n                {collection}\n                bind:rule={collection.manageRule}\n            >\n                <svelte:fragment>\n                    <p>\n                        This rule is executed in addition to the <code>create</code> and <code>update</code> API\n                        rules.\n                    </p>\n                    <p>\n                        It enables superuser-like permissions to allow fully managing the auth record(s), eg.\n                        changing the password without requiring to enter the old one, directly updating the\n                        verified state or email, etc.\n                    </p>\n                </svelte:fragment>\n            </RuleField>\n        </div>\n    {/if}\n{/if}\n","<script>\n    import { createEventDispatcher, tick } from \"svelte\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import OverlayPanel from \"@/components/base/OverlayPanel.svelte\";\n\n    const dispatch = createEventDispatcher();\n\n    let panel;\n    let oldCollection;\n    let newCollection;\n    let hideAfterSave;\n    let conflictingOIDCs = [];\n    let changedRules = [];\n\n    $: isCollectionRenamed = oldCollection?.name != newCollection?.name;\n\n    $: isNewCollectionView = newCollection?.type === \"view\";\n\n    $: isNewCollectionAuth = newCollection?.type === \"auth\";\n\n    $: renamedFields =\n        (!isNewCollectionView &&\n            newCollection?.fields?.filter(\n                (field) => field.id && !field._toDelete && field._originalName != field.name,\n            )) ||\n        [];\n\n    $: deletedFields =\n        (!isNewCollectionView && newCollection?.fields?.filter((field) => field.id && field._toDelete)) || [];\n\n    $: multipleToSingleFields =\n        newCollection?.fields?.filter((field) => {\n            const old = oldCollection?.fields?.find((f) => f.id == field.id);\n            if (!old) {\n                return false;\n            }\n            return old.maxSelect != 1 && field.maxSelect == 1;\n        }) || [];\n\n    $: showChanges = !isNewCollectionView || isCollectionRenamed || changedRules.length;\n\n    export async function show(original, changed, hideAfterSaveArg = true) {\n        oldCollection = original;\n        newCollection = changed;\n        hideAfterSave = hideAfterSaveArg;\n\n        await detectConflictingOIDCs();\n\n        detectRulesChange();\n\n        await tick();\n\n        if (\n            isCollectionRenamed ||\n            renamedFields.length ||\n            deletedFields.length ||\n            multipleToSingleFields.length ||\n            conflictingOIDCs.length ||\n            changedRules.length\n        ) {\n            panel?.show();\n        } else {\n            // no changes to review -> confirm directly\n            confirm();\n        }\n    }\n\n    export function hide() {\n        panel?.hide();\n    }\n\n    function confirm() {\n        hide();\n        dispatch(\"confirm\", hideAfterSave);\n    }\n\n    const oidcProviders = [\"oidc\", \"oidc2\", \"oidc3\"];\n\n    async function detectConflictingOIDCs() {\n        conflictingOIDCs = [];\n\n        for (let name of oidcProviders) {\n            let oldProvider = oldCollection?.oauth2?.providers?.find((p) => p.name == name);\n            let newProvider = newCollection?.oauth2?.providers?.find((p) => p.name == name);\n\n            if (!oldProvider || !newProvider) {\n                continue;\n            }\n\n            let oldHost = new URL(oldProvider.authURL).host;\n            let newHost = new URL(newProvider.authURL).host;\n            if (oldHost == newHost) {\n                continue;\n            }\n\n            // check if there are existing externalAuths\n            if (await haveExternalAuths(name)) {\n                conflictingOIDCs.push({ name, oldHost, newHost });\n            }\n        }\n    }\n\n    async function haveExternalAuths(provider) {\n        try {\n            await ApiClient.collection(\"_externalAuths\").getFirstListItem(\n                ApiClient.filter(\"collectionRef={:collectionId} && provider={:provider}\", {\n                    collectionId: newCollection?.id,\n                    provider: provider,\n                }),\n            );\n            return true;\n        } catch {}\n\n        return false;\n    }\n\n    function getExternalAuthsFilterLink(provider) {\n        return `#/collections?collection=_externalAuths&filter=collectionRef%3D%22${newCollection?.id}%22+%26%26+provider%3D%22${provider}%22`;\n    }\n\n    function detectRulesChange() {\n        changedRules = [];\n\n        // for now enable only for \"production\"\n        if (window.location.protocol != \"https:\") {\n            return;\n        }\n\n        const ruleProps = [\"listRule\", \"viewRule\"];\n        if (!isNewCollectionView) {\n            ruleProps.push(\"createRule\", \"updateRule\", \"deleteRule\");\n        }\n        if (isNewCollectionAuth) {\n            ruleProps.push(\"manageRule\", \"authRule\");\n        }\n\n        let oldRule, newRule;\n        for (let prop of ruleProps) {\n            oldRule = oldCollection?.[prop];\n            newRule = newCollection?.[prop];\n            if (oldRule === newRule) {\n                continue;\n            }\n\n            changedRules.push({ prop, oldRule, newRule });\n        }\n    }\n</script>\n\n<OverlayPanel bind:this={panel} class=\"confirm-changes-panel\" popup on:hide on:show>\n    <svelte:fragment slot=\"header\">\n        <h4>Confirm collection changes</h4>\n    </svelte:fragment>\n\n    {#if isCollectionRenamed || deletedFields.length || renamedFields.length}\n        <div class=\"alert alert-warning\">\n            <div class=\"icon\">\n                <i class=\"ri-error-warning-line\" />\n            </div>\n            <div class=\"content txt-bold\">\n                <p>\n                    If any of the collection changes is part of another collection rule, filter or view query,\n                    you'll have to update it manually!\n                </p>\n                {#if deletedFields.length}\n                    <p>All data associated with the removed fields will be permanently deleted!</p>\n                {/if}\n            </div>\n        </div>\n    {/if}\n\n    {#if showChanges}\n        <h6>Changes:</h6>\n        <ul class=\"changes-list\">\n            {#if isCollectionRenamed}\n                <li>\n                    <div class=\"inline-flex\">\n                        Renamed collection\n                        <strong class=\"txt-strikethrough txt-hint\">{oldCollection?.name}</strong>\n                        <i class=\"ri-arrow-right-line txt-sm\" />\n                        <strong class=\"txt\"> {newCollection?.name}</strong>\n                    </div>\n                </li>\n            {/if}\n\n            {#if !isNewCollectionView}\n                {#each multipleToSingleFields as field}\n                    <li>\n                        Multiple to single value conversion of field\n                        <strong>{field.name}</strong>\n                        <em class=\"txt-sm\">(will keep only the last array item)</em>\n                    </li>\n                {/each}\n\n                {#each renamedFields as field}\n                    <li>\n                        <div class=\"inline-flex\">\n                            Renamed field\n                            <strong class=\"txt-strikethrough txt-hint\">{field._originalName}</strong>\n                            <i class=\"ri-arrow-right-line txt-sm\" />\n                            <strong class=\"txt\">{field.name}</strong>\n                        </div>\n                    </li>\n                {/each}\n\n                {#each deletedFields as field}\n                    <li class=\"txt-danger\">\n                        Removed field <span class=\"txt-bold\">{field.name}</span>\n                    </li>\n                {/each}\n            {/if}\n\n            {#each changedRules as ruleChange}\n                <li>\n                    Changed API rule <code class=\"txt-sm\">{ruleChange.prop}</code>:\n                    <br />\n                    <small class=\"txt-mono txt-hint\">\n                        <strong>Old</strong>:\n                        <span class=\"txt-preline\">\n                            {ruleChange.oldRule === null\n                                ? \"null (superusers only)\"\n                                : ruleChange.oldRule || '\"\"'}\n                        </span>\n                    </small>\n                    <br />\n                    <small class=\"txt-mono txt-success\">\n                        <strong>New</strong>:\n                        <span class=\"txt-preline\">\n                            {ruleChange.newRule === null\n                                ? \"null (superusers only)\"\n                                : ruleChange.newRule || '\"\"'}\n                        </span>\n                    </small>\n                </li>\n            {/each}\n\n            {#each conflictingOIDCs as oidc}\n                <li>\n                    Changed <code>{oidc.name}</code> host\n                    <div class=\"inline-flex m-l-5\">\n                        <strong class=\"txt-strikethrough txt-hint\">{oidc.oldHost}</strong>\n                        <i class=\"ri-arrow-right-line txt-sm\" />\n                        <strong class=\"txt\">{oidc.newHost}</strong>\n                    </div>\n                    <br />\n                    <em class=\"txt-hint\">\n                        If the old and new OIDC configuration is not for the same provider consider deleting\n                        all old <code class=\"txt-sm\">_externalAuths</code> records associated to the current\n                        collection and provider, otherwise it may result in account linking errors.\n                        <a href={getExternalAuthsFilterLink(oidc.name)} target=\"_blank\">\n                            Review existing <code class=\"txt-sm\">_externalAuths</code> records\n                            <i class=\"ri-external-link-line txt-sm\"></i>\n                        </a>.\n                    </em>\n                </li>\n            {/each}\n        </ul>\n    {/if}\n\n    <svelte:fragment slot=\"footer\">\n        <!-- svelte-ignore a11y-autofocus -->\n        <button autofocus type=\"button\" class=\"btn btn-transparent\" on:click={() => hide()}>\n            <span class=\"txt\">Cancel</span>\n        </button>\n        <button type=\"button\" class=\"btn btn-expanded\" on:click={() => confirm()}>\n            <span class=\"txt\">Confirm</span>\n        </button>\n    </svelte:fragment>\n</OverlayPanel>\n\n<style lang=\"scss\">\n    .changes-list {\n        word-break: break-word;\n        line-height: var(--smLineHeight);\n        li {\n            margin-top: 10px;\n            margin-bottom: 10px;\n        }\n    }\n</style>\n","<script>\n    import { createEventDispatcher, tick } from \"svelte\";\n    import { scale } from \"svelte/transition\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { confirm } from \"@/stores/confirmation\";\n    import { errors, removeError, setErrors } from \"@/stores/errors\";\n    import { addSuccessToast, removeAllToasts } from \"@/stores/toasts\";\n    import { addCollection, removeCollection, scaffolds, activeCollection } from \"@/stores/collections\";\n    import tooltip from \"@/actions/tooltip\";\n    import Field from \"@/components/base/Field.svelte\";\n    import OverlayPanel from \"@/components/base/OverlayPanel.svelte\";\n    import Toggler from \"@/components/base/Toggler.svelte\";\n    import CollectionAuthOptionsTab from \"@/components/collections/CollectionAuthOptionsTab.svelte\";\n    import CollectionFieldsTab from \"@/components/collections/CollectionFieldsTab.svelte\";\n    import CollectionQueryTab from \"@/components/collections/CollectionQueryTab.svelte\";\n    import CollectionRulesTab from \"@/components/collections/CollectionRulesTab.svelte\";\n    import CollectionUpdateConfirm from \"@/components/collections/CollectionUpdateConfirm.svelte\";\n\n    const TAB_SCHEMA = \"schema\";\n    const TAB_RULES = \"api_rules\";\n    const TAB_OPTIONS = \"options\";\n\n    const TYPE_BASE = \"base\";\n    const TYPE_AUTH = \"auth\";\n    const TYPE_VIEW = \"view\";\n\n    const collectionTypes = {};\n    collectionTypes[TYPE_BASE] = \"Base\";\n    collectionTypes[TYPE_VIEW] = \"View\";\n    collectionTypes[TYPE_AUTH] = \"Auth\";\n\n    const dispatch = createEventDispatcher();\n\n    let collectionPanel;\n    let confirmChangesPanel;\n    let original = null;\n    let collection = {};\n    let isSaving = false;\n    let isLoadingConfirmation = false;\n    let confirmClose = false; // prevent close recursion\n    let activeTab = TAB_SCHEMA;\n    let initialFormHash = calculateFormHash(collection);\n    let fieldsTabError = \"\";\n    let baseCollectionKeys = [];\n\n    $: baseCollectionKeys = Object.keys($scaffolds[\"base\"] || {});\n\n    $: isAuth = collection.type === TYPE_AUTH;\n\n    $: isView = collection.type === TYPE_VIEW;\n\n    $: if ($errors.fields || $errors.viewQuery || $errors.indexes) {\n        // extract the direct fields list error, otherwise - return a generic message\n        fieldsTabError = CommonHelper.getNestedVal($errors, \"fields.message\") || \"Has errors\";\n    } else {\n        fieldsTabError = \"\";\n    }\n\n    $: isSystemUpdate = !!collection.id && collection.system;\n\n    $: isSuperusers = !!collection.id && collection.system && collection.name == \"_superusers\";\n\n    $: hasChanges = initialFormHash != calculateFormHash(collection);\n\n    $: canSave = !collection.id || hasChanges;\n\n    $: if (activeTab === TAB_OPTIONS && collection.type !== \"auth\") {\n        // reset selected tab\n        changeTab(TAB_SCHEMA);\n    }\n\n    $: if (collection.type === \"view\") {\n        // reset non-view fields\n        collection.createRule = null;\n        collection.updateRule = null;\n        collection.deleteRule = null;\n        collection.indexes = [];\n    }\n\n    // update indexes on collection rename\n    $: if (collection.name && original?.name != collection.name && collection.indexes.length > 0) {\n        collection.indexes = collection.indexes?.map((idx) =>\n            CommonHelper.replaceIndexTableName(idx, collection.name),\n        );\n    }\n\n    export function changeTab(newTab) {\n        activeTab = newTab;\n    }\n\n    export function show(model) {\n        load(model);\n\n        confirmClose = true;\n        isLoadingConfirmation = false;\n        isSaving = false;\n\n        changeTab(TAB_SCHEMA);\n\n        return collectionPanel?.show();\n    }\n\n    export function hide() {\n        return collectionPanel?.hide();\n    }\n\n    export function forceHide() {\n        confirmClose = false;\n        hide();\n    }\n\n    async function load(model) {\n        setErrors({}); // reset errors\n\n        if (typeof model !== \"undefined\") {\n            original = model;\n            collection = structuredClone(model);\n        } else {\n            original = null;\n            collection = structuredClone($scaffolds[\"base\"]);\n\n            // add default timestamp fields\n            collection.fields.push({\n                type: \"autodate\",\n                name: \"created\",\n                onCreate: true,\n            });\n            collection.fields.push({\n                type: \"autodate\",\n                name: \"updated\",\n                onCreate: true,\n                onUpdate: true,\n            });\n        }\n\n        // normalize\n        collection.fields = collection.fields || [];\n        collection._originalName = collection.name || \"\";\n\n        await tick();\n\n        initialFormHash = calculateFormHash(collection);\n    }\n\n    async function saveConfirm(hideAfterSave = true) {\n        if (isLoadingConfirmation) {\n            return;\n        }\n\n        isLoadingConfirmation = true;\n\n        try {\n            if (!collection.id) {\n                await save(hideAfterSave);\n            } else {\n                await confirmChangesPanel?.show(original, collection, hideAfterSave);\n            }\n        } catch {}\n\n        isLoadingConfirmation = false;\n    }\n\n    function save(hideAfterSave = true) {\n        if (isSaving) {\n            return;\n        }\n\n        isSaving = true;\n\n        const data = exportFormData();\n        const isNew = !collection.id;\n\n        let request;\n        if (isNew) {\n            request = ApiClient.collections.create(data);\n        } else {\n            request = ApiClient.collections.update(collection.id, data);\n        }\n\n        return request\n            .then((result) => {\n                removeAllToasts();\n\n                addCollection(result);\n\n                if (hideAfterSave) {\n                    confirmClose = false;\n                    hide();\n                } else {\n                    load(result);\n                }\n\n                addSuccessToast(\n                    !collection.id ? \"Successfully created collection.\" : \"Successfully updated collection.\",\n                );\n\n                dispatch(\"save\", {\n                    isNew: isNew,\n                    collection: result,\n                });\n\n                if (isNew) {\n                    $activeCollection = result;\n                }\n            })\n            .catch((err) => {\n                ApiClient.error(err);\n            })\n            .finally(() => {\n                isSaving = false;\n            });\n    }\n\n    function exportFormData() {\n        const data = Object.assign({}, collection);\n        data.fields = data.fields.slice(0);\n\n        // remove deleted fields\n        for (let i = data.fields.length - 1; i >= 0; i--) {\n            const field = data.fields[i];\n            if (field._toDelete) {\n                data.fields.splice(i, 1);\n            }\n        }\n\n        return data;\n    }\n\n    function truncateConfirm() {\n        if (!original?.id) {\n            return; // nothing to truncate\n        }\n\n        confirm(\n            `Do you really want to delete all \"${original.name}\" records, including their cascade delete references and files?`,\n            () => {\n                return ApiClient.collections\n                    .truncate(original.id)\n                    .then(() => {\n                        forceHide();\n                        addSuccessToast(`Successfully truncated collection \"${original.name}\".`);\n                        dispatch(\"truncate\");\n                    })\n                    .catch((err) => {\n                        ApiClient.error(err);\n                    });\n            },\n        );\n    }\n\n    function deleteConfirm() {\n        if (!original?.id) {\n            return; // nothing to delete\n        }\n\n        confirm(`Do you really want to delete collection \"${original.name}\" and all its records?`, () => {\n            return ApiClient.collections\n                .delete(original.id)\n                .then(() => {\n                    forceHide();\n                    addSuccessToast(`Successfully deleted collection \"${original.name}\".`);\n                    dispatch(\"delete\", original);\n                    removeCollection(original);\n                })\n                .catch((err) => {\n                    ApiClient.error(err);\n                });\n        });\n    }\n\n    function calculateFormHash(m) {\n        return JSON.stringify(m);\n    }\n\n    function setCollectionType(t) {\n        collection.type = t;\n\n        // merge with the scaffold to ensure that the minimal props are set\n        collection = Object.assign(structuredClone($scaffolds[t]), collection);\n\n        // reset fields list errors on type change\n        removeError(\"fields\");\n    }\n\n    function duplicateConfirm() {\n        if (hasChanges) {\n            confirm(\"You have unsaved changes. Do you really want to discard them?\", () => {\n                duplicate();\n            });\n        } else {\n            duplicate();\n        }\n    }\n\n    async function duplicate() {\n        const clone = original ? structuredClone(original) : null;\n\n        if (clone) {\n            clone.id = \"\";\n            clone.created = \"\";\n            clone.updated = \"\";\n            clone.name += \"_duplicate\";\n\n            // reset the fields list\n            if (!CommonHelper.isEmpty(clone.fields)) {\n                for (const field of clone.fields) {\n                    field.id = \"\";\n                }\n            }\n\n            // update indexes with the new table name\n            if (!CommonHelper.isEmpty(clone.indexes)) {\n                for (let i = 0; i < clone.indexes.length; i++) {\n                    const parsed = CommonHelper.parseIndex(clone.indexes[i]);\n                    parsed.indexName = \"idx_\" + CommonHelper.randomString(10);\n                    parsed.tableName = clone.name;\n                    clone.indexes[i] = CommonHelper.buildIndex(parsed);\n                }\n            }\n        }\n\n        show(clone);\n\n        await tick();\n\n        initialFormHash = \"\";\n    }\n\n    function hasOtherKeys(obj, excludes = []) {\n        if (CommonHelper.isEmpty(obj)) {\n            return false;\n        }\n\n        const errorKeys = Object.keys(obj);\n        for (let key of errorKeys) {\n            if (!excludes.includes(key)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n</script>\n\n<!-- svelte-ignore a11y-no-noninteractive-tabindex -->\n<!-- svelte-ignore a11y-no-noninteractive-element-interactions -->\n<OverlayPanel\n    bind:this={collectionPanel}\n    class=\"overlay-panel-lg colored-header collection-panel\"\n    escClose={false}\n    overlayClose={!isSaving}\n    beforeHide={() => {\n        if (hasChanges && confirmClose) {\n            confirm(\"You have unsaved changes. Do you really want to close the panel?\", () => {\n                confirmClose = false;\n                hide();\n            });\n            return false;\n        }\n        return true;\n    }}\n    on:hide\n    on:show\n>\n    <svelte:fragment slot=\"header\">\n        <h4 class=\"upsert-panel-title\">\n            {!collection.id ? \"New collection\" : \"Edit collection\"}\n        </h4>\n\n        {#if !!collection.id && (!collection.system || !isView)}\n            <div class=\"flex-fill\" />\n            <div\n                tabindex=\"0\"\n                role=\"button\"\n                aria-label=\"More collection options\"\n                class=\"btn btn-sm btn-circle btn-transparent flex-gap-0\"\n            >\n                <i class=\"ri-more-line\" aria-hidden=\"true\" />\n                <Toggler class=\"dropdown dropdown-right m-t-5\">\n                    {#if !collection.system}\n                        <button\n                            type=\"button\"\n                            class=\"dropdown-item\"\n                            role=\"menuitem\"\n                            on:click={() => duplicateConfirm()}\n                        >\n                            <i class=\"ri-file-copy-line\" aria-hidden=\"true\" />\n                            <span class=\"txt\">Duplicate</span>\n                        </button>\n                        <hr />\n                    {/if}\n                    {#if !isView}\n                        <button\n                            type=\"button\"\n                            class=\"dropdown-item txt-danger\"\n                            role=\"menuitem\"\n                            on:click={() => truncateConfirm()}\n                        >\n                            <i class=\"ri-eraser-line\" aria-hidden=\"true\"></i>\n                            <span class=\"txt\">Truncate</span>\n                        </button>\n                    {/if}\n                    {#if !collection.system}\n                        <button\n                            type=\"button\"\n                            class=\"dropdown-item txt-danger\"\n                            role=\"menuitem\"\n                            on:click|preventDefault|stopPropagation={() => deleteConfirm()}\n                        >\n                            <i class=\"ri-delete-bin-7-line\" aria-hidden=\"true\" />\n                            <span class=\"txt\">Delete</span>\n                        </button>\n                    {/if}\n                </Toggler>\n            </div>\n        {/if}\n\n        <form\n            class=\"block\"\n            on:submit|preventDefault={() => {\n                canSave && saveConfirm();\n            }}\n        >\n            <Field class=\"form-field collection-field-name required m-b-0\" name=\"name\" let:uniqueId>\n                <label for={uniqueId}>Name</label>\n\n                <!-- svelte-ignore a11y-autofocus -->\n                <input\n                    type=\"text\"\n                    id={uniqueId}\n                    required\n                    disabled={isSystemUpdate}\n                    spellcheck=\"false\"\n                    class:txt-bold={collection.system}\n                    autofocus={!collection.id}\n                    placeholder={isAuth ? `eg. \"users\"` : `eg. \"posts\"`}\n                    value={collection.name}\n                    on:input={(e) => {\n                        collection.name = CommonHelper.slugify(e.target.value);\n                        e.target.value = collection.name;\n                    }}\n                />\n\n                <div class=\"form-field-addon\">\n                    <div\n                        tabindex={!collection.id ? 0 : -1}\n                        role={!collection.id ? \"button\" : \"\"}\n                        aria-label=\"View types\"\n                        class=\"btn btn-sm p-r-10 p-l-10 {!collection.id ? 'btn-outline' : 'btn-transparent'}\"\n                        class:btn-disabled={!!collection.id}\n                    >\n                        <!-- empty span for alignment -->\n                        <span aria-hidden=\"true\" />\n                        <span class=\"txt\">Type: {collectionTypes[collection.type] || \"N/A\"}</span>\n                        {#if !collection.id}\n                            <i class=\"ri-arrow-down-s-fill\" aria-hidden=\"true\" />\n                            <Toggler class=\"dropdown dropdown-right dropdown-nowrap m-t-5\">\n                                {#each Object.entries(collectionTypes) as [type, label]}\n                                    <button\n                                        type=\"button\"\n                                        role=\"menuitem\"\n                                        class=\"dropdown-item closable\"\n                                        class:selected={type == collection.type}\n                                        on:click={() => setCollectionType(type)}\n                                    >\n                                        <i\n                                            class={CommonHelper.getCollectionTypeIcon(type)}\n                                            aria-hidden=\"true\"\n                                        />\n                                        <span class=\"txt\">{label} collection</span>\n                                    </button>\n                                {/each}\n                            </Toggler>\n                        {/if}\n                    </div>\n                </div>\n\n                {#if collection.system}\n                    <div class=\"help-block\">System collection</div>\n                {/if}\n            </Field>\n\n            <input type=\"submit\" class=\"hidden\" tabindex=\"-1\" />\n        </form>\n\n        <div class=\"tabs-header stretched\">\n            <button\n                type=\"button\"\n                class=\"tab-item\"\n                class:active={activeTab === TAB_SCHEMA}\n                on:click={() => changeTab(TAB_SCHEMA)}\n            >\n                <span class=\"txt\">{isView ? \"Query\" : \"Fields\"}</span>\n                {#if !CommonHelper.isEmpty(fieldsTabError)}\n                    <i\n                        class=\"ri-error-warning-fill txt-danger\"\n                        transition:scale={{ duration: 150, start: 0.7 }}\n                        use:tooltip={fieldsTabError}\n                    />\n                {/if}\n            </button>\n\n            {#if !isSuperusers}\n                <button\n                    type=\"button\"\n                    class=\"tab-item\"\n                    class:active={activeTab === TAB_RULES}\n                    on:click={() => changeTab(TAB_RULES)}\n                >\n                    <span class=\"txt\">API Rules</span>\n                    {#if !CommonHelper.isEmpty($errors?.listRule) || !CommonHelper.isEmpty($errors?.viewRule) || !CommonHelper.isEmpty($errors?.createRule) || !CommonHelper.isEmpty($errors?.updateRule) || !CommonHelper.isEmpty($errors?.deleteRule) || !CommonHelper.isEmpty($errors?.authRule) || !CommonHelper.isEmpty($errors?.manageRule)}\n                        <i\n                            class=\"ri-error-warning-fill txt-danger\"\n                            transition:scale={{ duration: 150, start: 0.7 }}\n                            use:tooltip={\"Has errors\"}\n                        />\n                    {/if}\n                </button>\n            {/if}\n\n            {#if isAuth}\n                <button\n                    type=\"button\"\n                    class=\"tab-item\"\n                    class:active={activeTab === TAB_OPTIONS}\n                    on:click={() => changeTab(TAB_OPTIONS)}\n                >\n                    <span class=\"txt\">Options</span>\n                    {#if $errors && hasOtherKeys($errors, baseCollectionKeys.concat( [\"manageRule\", \"authRule\"], ))}\n                        <i\n                            class=\"ri-error-warning-fill txt-danger\"\n                            transition:scale={{ duration: 150, start: 0.7 }}\n                            use:tooltip={\"Has errors\"}\n                        />\n                    {/if}\n                </button>\n            {/if}\n        </div>\n    </svelte:fragment>\n\n    <div class=\"tabs-content\">\n        <!-- avoid rerendering the fields tab -->\n        <div class=\"tab-item\" class:active={activeTab === TAB_SCHEMA}>\n            {#if isView}\n                <CollectionQueryTab bind:collection />\n            {:else}\n                <CollectionFieldsTab bind:collection />\n            {/if}\n        </div>\n\n        {#if !isSuperusers && activeTab === TAB_RULES}\n            <div class=\"tab-item active\">\n                <CollectionRulesTab bind:collection />\n            </div>\n        {/if}\n\n        {#if isAuth}\n            <div class=\"tab-item\" class:active={activeTab === TAB_OPTIONS}>\n                <CollectionAuthOptionsTab bind:collection />\n            </div>\n        {/if}\n    </div>\n\n    <svelte:fragment slot=\"footer\">\n        <button type=\"button\" class=\"btn btn-transparent\" disabled={isSaving} on:click={() => hide()}>\n            <span class=\"txt\">Cancel</span>\n        </button>\n\n        <div class=\"btns-group no-gap\">\n            <button\n                type=\"button\"\n                title=\"Save and close\"\n                class=\"btn\"\n                class:btn-expanded={!collection.id}\n                class:btn-expanded-sm={!!collection.id}\n                class:btn-loading={isSaving || isLoadingConfirmation}\n                disabled={!canSave || isSaving || isLoadingConfirmation}\n                on:click={() => saveConfirm()}\n            >\n                <span class=\"txt\">{!collection.id ? \"Create\" : \"Save changes\"}</span>\n            </button>\n\n            {#if collection.id}\n                <button\n                    type=\"button\"\n                    class=\"btn p-l-5 p-r-5 flex-gap-0\"\n                    disabled={!canSave || isSaving || isLoadingConfirmation}\n                >\n                    <i class=\"ri-arrow-down-s-line\" aria-hidden=\"true\"></i>\n\n                    <Toggler class=\"dropdown dropdown-upside dropdown-right dropdown-nowrap m-b-5\">\n                        <button\n                            type=\"button\"\n                            class=\"dropdown-item closable\"\n                            role=\"menuitem\"\n                            on:click={() => saveConfirm(false)}\n                        >\n                            <span class=\"txt\">Save and continue</span>\n                        </button>\n                    </Toggler>\n                </button>\n            {/if}\n        </div>\n    </svelte:fragment>\n</OverlayPanel>\n\n<CollectionUpdateConfirm bind:this={confirmChangesPanel} on:confirm={(e) => save(e.detail)} />\n\n<style>\n    .upsert-panel-title {\n        display: inline-flex;\n        align-items: center;\n        min-height: var(--smBtnHeight);\n    }\n    .tabs-content:focus-within {\n        z-index: 9; /* autocomplete dropdown overlay fix */\n    }\n    :global(.collection-panel .panel-content) {\n        scrollbar-gutter: stable;\n        padding-right: calc(var(--baseSpacing) - 5px);\n    }\n</style>\n","<script>\n    import { createEventDispatcher } from \"svelte\";\n\n    const dispatch = createEventDispatcher();\n\n    export let tolerance = 0;\n\n    let elem;\n    let startX = 0;\n    let startY = 0;\n    let shiftX = 0;\n    let shiftY = 0;\n    let dragStarted = false;\n\n    function dragInit(e) {\n        e.stopPropagation();\n\n        startX = e.clientX;\n        startY = e.clientY;\n        shiftX = e.clientX - elem.offsetLeft;\n        shiftY = e.clientY - elem.offsetTop;\n\n        document.addEventListener(\"touchmove\", onMove);\n        document.addEventListener(\"mousemove\", onMove);\n        document.addEventListener(\"touchend\", onStop);\n        document.addEventListener(\"mouseup\", onStop);\n    }\n\n    function onStop(e) {\n        if (dragStarted) {\n            e.preventDefault();\n\n            dragStarted = false;\n\n            elem.classList.remove(\"no-pointer-events\");\n\n            dispatch(\"dragstop\", { event: e, elem: elem });\n        }\n\n        document.removeEventListener(\"touchmove\", onMove);\n        document.removeEventListener(\"mousemove\", onMove);\n        document.removeEventListener(\"touchend\", onStop);\n        document.removeEventListener(\"mouseup\", onStop);\n    }\n\n    function onMove(e) {\n        let diffX = e.clientX - startX;\n        let diffY = e.clientY - startY;\n        let left = e.clientX - shiftX;\n        let top = e.clientY - shiftY;\n\n        if (\n            !dragStarted &&\n            Math.abs(left - elem.offsetLeft) < tolerance &&\n            Math.abs(top - elem.offsetTop) < tolerance\n        ) {\n            return;\n        }\n\n        e.preventDefault();\n\n        if (!dragStarted) {\n            dragStarted = true;\n            elem.classList.add(\"no-pointer-events\");\n            dispatch(\"dragstart\", { event: e, elem: elem });\n        }\n\n        dispatch(\"dragging\", { event: e, elem: elem, diffX: diffX, diffY: diffY });\n    }\n</script>\n\n<!-- svelte-ignore a11y-no-static-element-interactions -->\n<!-- svelte-ignore a11y-no-static-element-interactions -->\n<span\n    bind:this={elem}\n    class=\"dragline\"\n    class:dragging={dragStarted}\n    on:mousedown={(e) => {\n        if (e.button == 0) {\n            dragInit(e);\n        }\n    }}\n    on:touchstart={dragInit}\n/>\n\n<style lang=\"scss\">\n    .dragline {\n        position: relative;\n        z-index: 101;\n        left: 0;\n        top: 0;\n        height: 100%;\n        width: 5px;\n        padding: 0;\n        margin: 0 -3px 0 -1px;\n        background: none;\n        cursor: ew-resize;\n        box-sizing: content-box;\n        user-select: none;\n        transition: box-shadow var(--activeAnimationSpeed);\n        box-shadow: inset 1px 0 0 0 var(--baseAlt2Color);\n        &:hover,\n        &.dragging {\n            box-shadow: inset 3px 0 0 0 var(--baseAlt2Color);\n        }\n    }\n</style>\n","<script>\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import Dragline from \"@/components/base/Dragline.svelte\";\n\n    const widthStorageKey = \"@superuserSidebarWidth\";\n\n    let classes = \"\";\n    export { classes as class }; // export reserved keyword\n\n    let sidebarElem;\n    let initialSidebarWidth;\n    let sidebarWidth = localStorage.getItem(widthStorageKey) || null;\n\n    $: if (sidebarWidth && sidebarElem) {\n        sidebarElem.style.width = sidebarWidth;\n        localStorage.setItem(widthStorageKey, sidebarWidth);\n    }\n</script>\n\n<aside bind:this={sidebarElem} class=\"page-sidebar {classes}\">\n    <slot />\n</aside>\n\n<Dragline\n    on:dragstart={() => {\n        initialSidebarWidth = sidebarElem.offsetWidth;\n    }}\n    on:dragging={(e) => {\n        sidebarWidth = initialSidebarWidth + e.detail.diffX + \"px\";\n    }}\n    on:dragstop={() => {\n        CommonHelper.triggerResize();\n    }}\n/>\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import { activeCollection } from \"@/stores/collections\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { link } from \"svelte-spa-router\";\n\n    export let collection;\n    export let pinnedIds;\n\n    $: isPinned = pinnedIds.includes(collection.id);\n\n    function toggleCollectionPin(collection) {\n        if (pinnedIds.includes(collection.id)) {\n            CommonHelper.removeByValue(pinnedIds, collection.id);\n        } else {\n            pinnedIds.push(collection.id);\n        }\n\n        pinnedIds = pinnedIds;\n    }\n</script>\n\n<a\n    href=\"/collections?collection={collection.id}\"\n    class=\"sidebar-list-item\"\n    title={collection.name}\n    class:active={$activeCollection?.id === collection.id}\n    use:link\n>\n    <i class={CommonHelper.getCollectionTypeIcon(collection.type)} aria-hidden=\"true\" />\n\n    <span class=\"txt\">{collection.name}</span>\n\n    {#if collection.type == \"auth\" && collection.oauth2?.enabled && !collection.oauth2.providers?.length}\n        <i\n            class=\"ri-alert-line txt-sm link-hint\"\n            aria-hidden=\"true\"\n            use:tooltip={\"OAuth2 auth is enabled but the collection doesn't have any registered providers\"}\n        />\n    {/if}\n\n    <!-- svelte-ignore a11y-no-static-element-interactions -->\n    <!-- svelte-ignore a11y-click-events-have-key-events -->\n    <span\n        class=\"btn btn-xs btn-circle btn-hint btn-transparent btn-pin-collection m-l-auto\"\n        aria-label={\"Pin collection\"}\n        aria-hidden=\"true\"\n        use:tooltip={{ position: \"right\", text: (isPinned ? \"Unpin\" : \"Pin\") + \" collection\" }}\n        on:click|preventDefault|stopPropagation={() => toggleCollectionPin(collection)}\n    >\n        {#if isPinned}\n            <i class=\"ri-unpin-line\" />\n        {:else}\n            <i class=\"ri-pushpin-line m-l-auto\" />\n        {/if}\n    </span>\n</a>\n\n<style lang=\"scss\">\n    .btn-pin-collection {\n        margin: 0 -7px 0 -15px;\n        opacity: 0;\n        transition: opacity var(--baseAnimationSpeed);\n        i {\n            font-size: inherit;\n        }\n    }\n    a:hover .btn-pin-collection {\n        opacity: 0.4;\n        &:hover {\n            opacity: 1;\n        }\n    }\n</style>\n","<script>\n    import PageSidebar from \"@/components/base/PageSidebar.svelte\";\n    import CollectionSidebarItem from \"@/components/collections/CollectionSidebarItem.svelte\";\n    import CollectionUpsertPanel from \"@/components/collections/CollectionUpsertPanel.svelte\";\n    import { hideControls } from \"@/stores/app\";\n    import { activeCollection, collections, isCollectionsLoading } from \"@/stores/collections\";\n\n    const pinnedStorageKey = \"@pinnedCollections\";\n\n    let collectionPanel;\n    let searchTerm = \"\";\n    let pinnedIds = [];\n    let showSystemSection = false;\n    let oldCollectionId;\n\n    loadPinned();\n\n    $: if ($collections) {\n        syncPinned();\n        scrollIntoView();\n    }\n\n    $: normalizedSearch = searchTerm.replace(/\\s+/g, \"\").toLowerCase();\n\n    $: hasSearch = searchTerm !== \"\";\n\n    $: if (pinnedIds) {\n        localStorage.setItem(pinnedStorageKey, JSON.stringify(pinnedIds));\n    }\n\n    $: filtered = $collections.filter((c) => {\n        return c.id == searchTerm || c.name?.replace(/\\s+/g, \"\")?.toLowerCase()?.includes(normalizedSearch);\n    });\n\n    $: pinnedCollections = filtered.filter((c) => pinnedIds.includes(c.id));\n\n    $: unpinnedRegularCollections = filtered.filter((c) => !c.system && !pinnedIds.includes(c.id));\n\n    $: unpinnedSystemCollections = filtered.filter((c) => c.system && !pinnedIds.includes(c.id));\n\n    $: if ($activeCollection?.id && oldCollectionId != $activeCollection.id) {\n        oldCollectionId = $activeCollection.id;\n        if ($activeCollection.system && !pinnedCollections.find((c) => c.id == $activeCollection.id)) {\n            showSystemSection = true;\n        } else {\n            showSystemSection = false;\n        }\n    }\n\n    function scrollIntoView() {\n        setTimeout(() => {\n            const activeItem = document.querySelector(\".collection-sidebar .sidebar-list-item.active\");\n            if (activeItem) {\n                activeItem?.scrollIntoView({ block: \"nearest\" });\n            }\n        }, 0);\n    }\n\n    function loadPinned() {\n        pinnedIds = [];\n\n        try {\n            const encoded = localStorage.getItem(pinnedStorageKey);\n            if (encoded) {\n                pinnedIds = JSON.parse(encoded) || [];\n            }\n        } catch (_) {}\n    }\n\n    function syncPinned() {\n        pinnedIds = pinnedIds.filter((id) => !!$collections.find((c) => c.id == id));\n    }\n</script>\n\n<PageSidebar class=\"collection-sidebar\">\n    <header class=\"sidebar-header\">\n        <div class=\"form-field search\" class:active={hasSearch}>\n            <div class=\"form-field-addon\">\n                <button\n                    type=\"button\"\n                    class=\"btn btn-xs btn-transparent btn-circle btn-clear\"\n                    class:hidden={!hasSearch}\n                    on:click={() => (searchTerm = \"\")}\n                >\n                    <i class=\"ri-close-line\" />\n                </button>\n            </div>\n            <input\n                type=\"text\"\n                placeholder=\"Search collections...\"\n                name=\"collections-search\"\n                bind:value={searchTerm}\n            />\n        </div>\n    </header>\n\n    <hr class=\"m-t-5 m-b-xs\" />\n\n    <div\n        class=\"sidebar-content\"\n        class:fade={$isCollectionsLoading}\n        class:sidebar-content-compact={filtered.length > 20}\n    >\n        {#if pinnedCollections.length}\n            <div class=\"sidebar-title\">Pinned</div>\n            {#each pinnedCollections as collection (collection.id)}\n                <CollectionSidebarItem {collection} bind:pinnedIds />\n            {/each}\n        {/if}\n\n        {#if unpinnedRegularCollections.length}\n            {#if pinnedCollections.length}\n                <div class=\"sidebar-title\">Others</div>\n            {/if}\n            {#each unpinnedRegularCollections as collection (collection.id)}\n                <CollectionSidebarItem {collection} bind:pinnedIds />\n            {/each}\n        {/if}\n\n        {#if unpinnedSystemCollections.length}\n            <button\n                type=\"button\"\n                class=\"sidebar-title m-b-xs\"\n                class:link-hint={!normalizedSearch.length}\n                aria-label={showSystemSection ? \"Expand system collections\" : \"Collapse system collections\"}\n                aria-expanded={showSystemSection || normalizedSearch.length}\n                disabled={normalizedSearch.length}\n                on:click={() => {\n                    if (!normalizedSearch.length) {\n                        showSystemSection = !showSystemSection;\n                    }\n                }}\n            >\n                <span class=\"txt\">System</span>\n                {#if !normalizedSearch.length}\n                    <i class=\"ri-arrow-{showSystemSection ? 'up' : 'down'}-s-line\" aria-hidden=\"true\" />\n                {/if}\n            </button>\n            {#if showSystemSection || normalizedSearch.length}\n                {#each unpinnedSystemCollections as collection (collection.id)}\n                    <CollectionSidebarItem {collection} bind:pinnedIds />\n                {/each}\n            {/if}\n        {/if}\n\n        {#if normalizedSearch.length && !filtered.length}\n            <p class=\"txt-hint m-t-10 m-b-10 txt-center\">No collections found.</p>\n        {/if}\n    </div>\n\n    {#if !$hideControls}\n        <footer class=\"sidebar-footer\">\n            <button type=\"button\" class=\"btn btn-block btn-outline\" on:click={() => collectionPanel?.show()}>\n                <i class=\"ri-add-line\" />\n                <span class=\"txt\">New collection</span>\n            </button>\n        </footer>\n    {/if}\n</PageSidebar>\n\n<CollectionUpsertPanel bind:this={collectionPanel} />\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    export let date = \"\";\n\n    $: dateOnly = date ? date.substring(0, 10) : null;\n\n    $: timeOnly = date ? date.substring(10, 19) : null;\n\n    const tooltipData = {\n        // generate the tooltip text as getter to speed up the initial load\n        // in case the component is used with large number of items\n        get text() {\n            return CommonHelper.formatToLocalDate(date) + \" Local\";\n        },\n    };\n</script>\n\n{#if date}\n    <div class=\"datetime\" use:tooltip={tooltipData}>\n        <div class=\"date\">{dateOnly}</div>\n        <div class=\"time\">{timeOnly} UTC</div>\n    </div>\n{:else}\n    <span class=\"txt txt-hint\">N/A</span>\n{/if}\n\n<style>\n    .datetime {\n        display: inline-block;\n        vertical-align: top;\n        white-space: nowrap;\n        line-height: var(--smLineHeight);\n    }\n    .time {\n        font-size: var(--smFontSize);\n        color: var(--txtHintColor);\n    }\n</style>\n","<script>\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import OverlayPanel from \"@/components/base/OverlayPanel.svelte\";\n\n    let panel;\n    let url = \"\";\n    let urlOrFactory;\n\n    $: queryParamsIndex = url.indexOf(\"?\");\n\n    $: filename = url.substring(\n        url.lastIndexOf(\"/\") + 1,\n        queryParamsIndex > 0 ? queryParamsIndex : undefined,\n    );\n\n    $: type = CommonHelper.getFileType(filename);\n\n    export async function show(urlOrFactoryArg) {\n        urlOrFactory = urlOrFactoryArg;\n        if (!urlOrFactory) {\n            return;\n        }\n\n        url = await resolveUrlOrFactory();\n\n        panel?.show();\n    }\n\n    export function hide() {\n        return panel?.hide();\n    }\n\n    async function resolveUrlOrFactory() {\n        if (typeof urlOrFactory == \"function\") {\n            return await urlOrFactory();\n        }\n\n        // string or Promise\n        return await urlOrFactory;\n    }\n\n    async function openInNewTab() {\n        try {\n            // resolve again because it may have expired\n            url = await resolveUrlOrFactory();\n            window.open(url, \"_blank\", \"noreferrer,noopener\");\n        } catch (err) {\n            if (!err.isAbort) {\n                console.warn(\"openInNewTab file token failure:\", err);\n            }\n        }\n    }\n</script>\n\n<OverlayPanel bind:this={panel} class=\"preview preview-{type}\" btnClose={false} popup on:show on:hide>\n    <svelte:fragment slot=\"header\">\n        <button type=\"button\" class=\"overlay-close\" on:click|preventDefault={hide}>\n            <i class=\"ri-close-line\" />\n        </button>\n    </svelte:fragment>\n\n    {#if panel?.isActive()}\n        {#if type === \"image\"}\n            <img src={url} alt=\"Preview {filename}\" />\n        {:else}\n            <object title={filename} data={url}>Cannot preview the file.</object>\n        {/if}\n    {/if}\n\n    <svelte:fragment slot=\"footer\">\n        <button\n            type=\"button\"\n            title={filename}\n            class=\"link-hint txt-ellipsis inline-flex\"\n            on:auxclick={openInNewTab}\n            on:click={openInNewTab}\n        >\n            {filename}\n            <i class=\"ri-external-link-line\" />\n        </button>\n        <div class=\"flex-fill\" />\n        <button type=\"button\" class=\"btn btn-transparent\" on:click={hide}>Close</button>\n    </svelte:fragment>\n</OverlayPanel>\n","<script>\n    import PreviewPopup from \"@/components/base/PreviewPopup.svelte\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    export let record = null;\n    export let filename = \"\";\n    export let size = \"\"; // sm/lg/xl\n\n    let previewPopup;\n    let thumbUrl = \"\";\n    let token = \"\";\n    let isLoadingToken = true;\n\n    loadThumbUrlToken();\n\n    $: type = CommonHelper.getFileType(filename);\n\n    $: hasPreview = [\"image\", \"audio\", \"video\"].includes(type) || filename.endsWith(\".pdf\");\n\n    $: thumbUrl = !isLoadingToken\n        ? ApiClient.files.getURL(record, filename, { thumb: \"100x100\", token: token })\n        : \"\";\n\n    async function loadThumbUrlToken() {\n        isLoadingToken = true;\n\n        try {\n            token = await ApiClient.getSuperuserFileToken(record.collectionId);\n        } catch (err) {\n            console.warn(\"File token failure:\", err);\n        }\n\n        isLoadingToken = false;\n    }\n\n    function onError() {\n        thumbUrl = \"\";\n    }\n</script>\n\n{#if isLoadingToken}\n    <div class=\"thumb {size ? `thumb-${size}` : ''}\" />\n{:else}\n    <button\n        type=\"button\"\n        draggable={false}\n        class=\"handle thumb {size ? `thumb-${size}` : ''}\"\n        title={(hasPreview ? \"Preview\" : \"Download\") + \" \" + filename}\n        on:click|stopPropagation={async () => {\n            if (!hasPreview) {\n                return;\n            }\n\n            try {\n                // refetch the token because it could have expired\n                previewPopup?.show(async () => {\n                    token = await ApiClient.getSuperuserFileToken(record.collectionId);\n                    return ApiClient.files.getURL(record, filename, { token });\n                });\n            } catch (err) {\n                if (!err.isAbort) {\n                    console.warn(\"Preview file token failure:\", err);\n                }\n            }\n        }}\n    >\n        {#if type === \"image\"}\n            <img\n                draggable={false}\n                loading=\"lazy\"\n                src={thumbUrl}\n                alt={filename}\n                title=\"Preview {filename}\"\n                on:error={onError}\n            />\n        {:else if type === \"video\" || type === \"audio\"}\n            <i class=\"ri-video-line\" />\n        {:else}\n            <i class=\"ri-file-3-line\" />\n        {/if}\n    </button>\n{/if}\n\n{#if hasPreview}\n    <PreviewPopup bind:this={previewPopup} />\n{/if}\n","<script>\n    export let value = {};\n</script>\n\n<div class=\"txt\">\n    {value?.lon}\n    <span class=\"txt-disabled txt-xs\">|</span>\n    {value.lat}\n</div>\n","<script>\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import RecordFileThumb from \"@/components/records/RecordFileThumb.svelte\";\n    import RecordInfoContent from \"@/components/records/RecordInfoContent.svelte\";\n    import GeoPointValue from \"@/components/records/fields/GeoPointValue.svelte\";\n    import { collections } from \"@/stores/collections\";\n\n    export let record;\n\n    let fileDisplayFields = [];\n    let nonFileDisplayFields = [];\n\n    $: collection = $collections?.find((item) => item.id == record?.collectionId);\n\n    $: if (collection) {\n        loadDisplayFields();\n    }\n\n    function loadDisplayFields() {\n        const fields = collection?.fields || [];\n\n        fileDisplayFields = fields.filter((f) => !f.hidden && f.presentable && f.type == \"file\");\n        nonFileDisplayFields = fields.filter((f) => !f.hidden && f.presentable && f.type != \"file\");\n\n        // fallback to the first single file field that accept images\n        // if no presentable field is available\n        if (!fileDisplayFields.length && !nonFileDisplayFields.length) {\n            const fallbackFileField = fields.find((f) => {\n                return (\n                    !f.hidden &&\n                    f.type == \"file\" &&\n                    f.maxSelect == 1 &&\n                    f.mimeTypes?.find((t) => t.startsWith(\"image/\"))\n                );\n            });\n            if (fallbackFileField) {\n                fileDisplayFields.push(fallbackFileField);\n            }\n        }\n    }\n</script>\n\n{#each fileDisplayFields as field}\n    {@const filenames = CommonHelper.toArray(record[field.name]).slice(0, 5)}\n    {#each filenames as filename}\n        {#if !CommonHelper.isEmpty(filename)}\n            <RecordFileThumb {record} {filename} size=\"xs\" />\n        {/if}\n    {/each}\n{/each}\n\n{#each nonFileDisplayFields as field, i}\n    {#if i > 0},{/if}\n\n    {#if field.type == \"relation\" && record.expand?.[field.name]}\n        <RecordInfoContent bind:record={record.expand[field.name]} />\n    {:else if field.type == \"geoPoint\"}\n        <GeoPointValue value={record[field.name]} />\n    {:else}\n        {CommonHelper.truncate(CommonHelper.displayValue(record, [field.name]), 70)}\n    {/if}\n{:else}\n    {CommonHelper.truncate(CommonHelper.displayValue(record, []), 70)}\n{/each}\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import RecordInfoContent from \"@/components/records/RecordInfoContent.svelte\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    export let record;\n\n    function excludeProps(item, ...props) {\n        const result = Object.assign({}, item);\n        for (let prop of props) {\n            delete result[prop];\n        }\n        return result;\n    }\n</script>\n\n<div class=\"record-info\">\n    <RecordInfoContent {record} />\n\n    <a\n        href=\"#/collections?collection={record.collectionId}&recordId={record.id}\"\n        target=\"_blank\"\n        class=\"inline-flex link-hint\"\n        rel=\"noopener noreferrer\"\n        use:tooltip={{\n            text:\n                \"Open relation record in new tab:\\n\" +\n                CommonHelper.truncate(\n                    JSON.stringify(CommonHelper.truncateObject(excludeProps(record, \"expand\")), null, 2),\n                    800,\n                    true,\n                ),\n            class: \"code\",\n            position: \"left\",\n        }}\n        on:click|stopPropagation\n        on:keydown|stopPropagation\n    >\n        <i class=\"ri-external-link-line txt-sm\"></i>\n    </a>\n</div>\n\n<style lang=\"scss\">\n    .record-info {\n        display: inline-flex;\n        vertical-align: top;\n        align-items: center;\n        justify-content: center;\n        max-width: 100%;\n        min-width: 0;\n        gap: 5px;\n        padding-left: 1px; // for visual alignment with the new tab icon\n    }\n</style>\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import CopyIcon from \"@/components/base/CopyIcon.svelte\";\n    import FormattedDate from \"@/components/base/FormattedDate.svelte\";\n    import TinyMCE from \"@/components/base/TinyMCE.svelte\";\n    import RecordFileThumb from \"@/components/records/RecordFileThumb.svelte\";\n    import RecordInfo from \"@/components/records/RecordInfo.svelte\";\n    import GeoPointValue from \"@/components/records/fields/GeoPointValue.svelte\";\n    import { superuser } from \"@/stores/superuser\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    export let record;\n    export let field;\n    export let short = false;\n\n    $: rawValue = record?.[field.name];\n</script>\n\n{#if field.primaryKey}\n    <div class=\"label\">\n        <CopyIcon value={rawValue} />\n        <div class=\"txt txt-ellipsis\">{rawValue}</div>\n    </div>\n    {#if record.collectionName == \"_superusers\" && record.id == $superuser.id}\n        <span class=\"label label-warning\">You</span>\n    {/if}\n{:else if field.type === \"json\"}\n    {@const stringifiedJson = CommonHelper.trimQuotedValue(JSON.stringify(rawValue)) || '\"\"'}\n    {#if short}\n        <span class=\"txt txt-ellipsis\">\n            {CommonHelper.truncate(stringifiedJson)}\n        </span>\n    {:else}\n        <span class=\"txt\">\n            {CommonHelper.truncate(stringifiedJson, 500, true)}\n        </span>\n        {#if stringifiedJson.length > 500}\n            <CopyIcon value={JSON.stringify(rawValue, null, 2)} />\n        {/if}\n    {/if}\n{:else if CommonHelper.isEmpty(rawValue)}\n    <span class=\"txt-hint\">N/A</span>\n{:else if field.type === \"bool\"}\n    <span class=\"label\" class:label-success={!!rawValue}>{rawValue ? \"True\" : \"False\"}</span>\n{:else if field.type === \"number\"}\n    <span class=\"txt\">{rawValue}</span>\n{:else if field.type === \"url\"}\n    <a\n        class=\"txt-ellipsis\"\n        href={rawValue}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        use:tooltip={\"Open in new tab\"}\n        on:click|stopPropagation\n    >\n        {CommonHelper.truncate(rawValue)}\n    </a>\n{:else if field.type === \"editor\"}\n    {#if short}\n        <span class=\"txt\">\n            {CommonHelper.truncate(CommonHelper.plainText(rawValue), 195)}\n        </span>\n    {:else}\n        <TinyMCE\n            cssClass=\"tinymce-preview\"\n            conf={{\n                branding: false,\n                promotion: false,\n                menubar: false,\n                statusbar: false,\n                min_height: 30,\n                height: 59,\n                max_height: 500,\n                autoresize_bottom_margin: 5,\n                resize: false,\n                content_style: \"body { font-size: 14px }\",\n                toolbar: \"\",\n                plugins: [\"autoresize\"],\n                skin: \"pocketbase\",\n            }}\n            value={rawValue}\n            disabled\n        />\n    {/if}\n{:else if field.type === \"date\" || field.type === \"autodate\"}\n    <FormattedDate date={rawValue} />\n{:else if field.type === \"select\"}\n    <div class=\"inline-flex\">\n        {#each CommonHelper.toArray(rawValue) as item, i (i + item)}\n            <span class=\"label\">{item}</span>\n        {/each}\n    </div>\n{:else if field.type === \"relation\"}\n    {@const relations = CommonHelper.toArray(rawValue)}\n    {@const expanded = CommonHelper.toArray(record?.expand?.[field.name])}\n    {@const relLimit = short ? 20 : 500}\n    <div class=\"inline-flex\">\n        {#if expanded.length}\n            {#each expanded.slice(0, relLimit) as item, i (i + item)}\n                <span class=\"label\">\n                    <RecordInfo record={item} />\n                </span>\n            {/each}\n        {:else}\n            {#each relations.slice(0, relLimit) as id}\n                <span class=\"label\">{id}</span>\n            {/each}\n        {/if}\n        {#if relations.length > relLimit}\n            ...\n        {/if}\n    </div>\n{:else if field.type === \"file\"}\n    {@const files = CommonHelper.toArray(rawValue)}\n    {@const filesLimit = short ? 10 : 500}\n    <div class=\"inline-flex\" class:multiple={field.maxSelect != 1}>\n        {#each files.slice(0, filesLimit) as filename, i (i + filename)}\n            <RecordFileThumb {record} {filename} size=\"sm\" />\n        {/each}\n        {#if files.length > filesLimit}\n            ...\n        {/if}\n    </div>\n{:else if field.type === \"geoPoint\"}\n    <div class=\"label\"><GeoPointValue value={rawValue} /></div>\n{:else if short}\n    <span class=\"txt txt-ellipsis\" title={CommonHelper.truncate(rawValue)}>\n        {CommonHelper.truncate(rawValue)}\n    </span>\n{:else}\n    <div class=\"block txt-break fallback-block\">{rawValue}</div>\n{/if}\n\n<style>\n    .fallback-block {\n        max-height: 100px;\n        overflow: auto;\n    }\n</style>\n","<script>\n    import { addErrorToast } from \"@/stores/toasts\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import OverlayPanel from \"@/components/base/OverlayPanel.svelte\";\n    import CopyIcon from \"@/components/base/CopyIcon.svelte\";\n    import FormattedDate from \"@/components/base/FormattedDate.svelte\";\n    import RecordFieldValue from \"@/components/records/RecordFieldValue.svelte\";\n\n    export let collection;\n\n    let recordPanel;\n    let record = {};\n    let isLoading = false;\n\n    $: hasEditorField = !!collection?.fields?.find((f) => f.type === \"editor\");\n\n    export function show(model) {\n        load(model);\n\n        return recordPanel?.show();\n    }\n\n    export function hide() {\n        isLoading = false;\n        return recordPanel?.hide();\n    }\n\n    async function load(model) {\n        record = {}; // reset\n\n        isLoading = true;\n\n        record = (await resolveModel(model)) || {};\n\n        isLoading = false;\n    }\n\n    async function resolveModel(model) {\n        if (model && typeof model === \"string\") {\n            // load from id\n            try {\n                return await ApiClient.collection(collection.id).getOne(model);\n            } catch (err) {\n                if (!err.isAbort) {\n                    hide();\n                    console.warn(\"resolveModel:\", err);\n                    addErrorToast(`Unable to load record with id \"${model}\"`);\n                }\n            }\n\n            return null;\n        }\n\n        return model;\n    }\n</script>\n\n<OverlayPanel\n    bind:this={recordPanel}\n    class=\"record-preview-panel {hasEditorField ? 'overlay-panel-xl' : 'overlay-panel-lg'}\"\n    on:hide\n    on:show\n>\n    <svelte:fragment slot=\"header\">\n        <h4><strong>{collection?.name}</strong> record preview</h4>\n    </svelte:fragment>\n\n    <table class=\"table-border preview-table\" class:table-loading={isLoading}>\n        <tbody>\n            {#each collection?.fields as field}\n                <tr>\n                    <td class=\"min-width txt-hint txt-bold\">{field.name}</td>\n                    <td class=\"col-field\">\n                        <RecordFieldValue {field} {record} />\n                    </td>\n                </tr>\n            {/each}\n        </tbody>\n    </table>\n\n    <svelte:fragment slot=\"footer\">\n        <button type=\"button\" class=\"btn btn-transparent\" on:click={() => hide()}>\n            <span class=\"txt\">Close</span>\n        </button>\n    </svelte:fragment>\n</OverlayPanel>\n\n<style lang=\"scss\">\n    .col-field {\n        max-width: 1px; // text overflow workaround\n    }\n</style>\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import { collections } from \"@/stores/collections\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    const detailedDateFormat = \"yyyy-MM-dd HH:mm:ss.SSS\";\n\n    export let record;\n\n    let tooltipDates = [];\n\n    $: collection = record && $collections.find((c) => c.id == record.collectionId);\n\n    $: if (record) {\n        refreshTooltipDates();\n    }\n\n    function refreshTooltipDates() {\n        tooltipDates = [];\n\n        const fields = collection.fields || [];\n\n        for (let field of fields) {\n            if (field.type != \"autodate\") {\n                continue;\n            }\n\n            tooltipDates.push(\n                field.name +\n                    \": \" +\n                    CommonHelper.formatToLocalDate(record[field.name], detailedDateFormat) +\n                    \" Local\",\n            );\n        }\n    }\n</script>\n\n<i\n    class=\"ri-calendar-event-line txt-disabled\"\n    use:tooltip={{\n        text: tooltipDates.join(\"\\n\"),\n        position: \"left\",\n    }}\n/>\n","<script>\n    import providersList from \"@/providers.js\";\n    import { confirm } from \"@/stores/confirmation\";\n    import { addSuccessToast } from \"@/stores/toasts\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { createEventDispatcher } from \"svelte\";\n\n    const dispatch = createEventDispatcher();\n\n    export let record;\n\n    let externalAuths = [];\n    let isLoading = false;\n\n    function getProviderConfig(provider) {\n        return providersList.find((p) => p.key == provider) || {};\n    }\n\n    function getProviderTitle(provider) {\n        return getProviderConfig(provider)?.title || CommonHelper.sentenize(provider, false);\n    }\n\n    async function loadExternalAuths() {\n        if (!record?.id) {\n            externalAuths = [];\n            isLoading = false;\n            return;\n        }\n\n        isLoading = true;\n\n        try {\n            externalAuths = await ApiClient.collection(\"_externalAuths\").getFullList({\n                filter: ApiClient.filter(\"collectionRef = {:collectionId} && recordRef = {:recordId}\", {\n                    collectionId: record.collectionId,\n                    recordId: record.id,\n                }),\n            });\n        } catch (err) {\n            ApiClient.error(err);\n        }\n\n        isLoading = false;\n    }\n\n    function unlinkExternalAuth(externalAuth) {\n        if (!record?.id || !externalAuth) {\n            return; // nothing to unlink\n        }\n\n        confirm(\n            `Do you really want to unlink the ${getProviderTitle(externalAuth.provider)} provider?`,\n            () => {\n                return ApiClient.collection(\"_externalAuths\")\n                    .delete(externalAuth.id)\n                    .then(() => {\n                        addSuccessToast(\n                            `Successfully unlinked the ${getProviderTitle(externalAuth.provider)} provider.`,\n                        );\n                        dispatch(\"unlink\", externalAuth.provider);\n                        loadExternalAuths(); // reload list\n                    })\n                    .catch((err) => {\n                        ApiClient.error(err);\n                    });\n            },\n        );\n    }\n\n    loadExternalAuths();\n</script>\n\n{#if isLoading}\n    <div class=\"block txt-center\">\n        <span class=\"loader\" />\n    </div>\n{:else if record?.id && externalAuths.length}\n    <div class=\"list\">\n        {#each externalAuths as auth}\n            <div class=\"list-item\">\n                <figure class=\"provider-logo\">\n                    <img\n                        src=\"{import.meta.env.BASE_URL}images/oauth2/{getProviderConfig(auth.provider)?.logo}\"\n                        alt=\"Provider logo\"\n                    />\n                </figure>\n                <span class=\"txt\">{getProviderTitle(auth.provider)}</span>\n                <div class=\"txt-hint\">ID: {auth.providerId}</div>\n                <button\n                    type=\"button\"\n                    class=\"btn btn-transparent link-hint btn-circle btn-sm m-l-auto\"\n                    on:click={() => unlinkExternalAuth(auth)}\n                >\n                    <i class=\"ri-close-line\" />\n                </button>\n            </div>\n        {/each}\n    </div>\n{:else}\n    <h6 class=\"txt-hint txt-center m-t-sm m-b-sm\">No linked OAuth2 providers.</h6>\n{/if}\n","<script>\n    import { createEventDispatcher, tick } from \"svelte\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import Toggler from \"@/components/base/Toggler.svelte\";\n    import CopyIcon from \"@/components/base/CopyIcon.svelte\";\n    import tooltip from \"@/actions/tooltip\";\n\n    const dispatch = createEventDispatcher();\n\n    let classes = \"btn-sm btn-hint btn-transparent\";\n    export { classes as class };\n\n    export let length = 32;\n\n    let secret = \"\";\n    let secretElem;\n    let togglerActive = false;\n\n    async function generate() {\n        secret = CommonHelper.randomSecret(length);\n\n        dispatch(\"generate\", secret);\n\n        await tick();\n\n        if (secretElem) {\n            let range = document.createRange();\n            range.selectNode(secretElem);\n            window.getSelection().removeAllRanges();\n            window.getSelection().addRange(range);\n        }\n    }\n</script>\n\n<button\n    tabindex=\"-1\"\n    type=\"button\"\n    aria-label=\"Generate\"\n    class=\"btn btn-circle {classes}\"\n    use:tooltip={togglerActive ? \"\" : \"Generate\"}\n>\n    <i class=\"ri-sparkling-line\" aria-hidden=\"true\" />\n    <Toggler\n        class=\"dropdown dropdown-upside dropdown-center dropdown-nowrap\"\n        bind:active={togglerActive}\n        on:show={generate}\n    >\n        <div class=\"flex flex-gap-5 p-5\">\n            <span bind:this={secretElem} class=\"secret\">{secret}</span>\n            <CopyIcon value={secret} />\n            <!-- svelte-ignore a11y-click-events-have-key-events -->\n            <!-- svelte-ignore a11y-no-static-element-interactions -->\n            <i\n                class=\"ri-refresh-line txt-sm link-hint\"\n                use:tooltip={\"Refresh\"}\n                aria-label=\"Refresh\"\n                on:click={generate}\n            />\n        </div>\n    </Toggler>\n</button>\n\n<style>\n    .secret {\n        font-family: var(--monospaceFontFamily);\n        font-size: var(--baseFontSize);\n        font-weight: normal;\n        user-select: all;\n    }\n</style>\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import Field from \"@/components/base/Field.svelte\";\n    import SecretGeneratorButton from \"@/components/base/SecretGeneratorButton.svelte\";\n    import { confirm } from \"@/stores/confirmation\";\n    import { removeError } from \"@/stores/errors\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { slide } from \"svelte/transition\";\n\n    export let record;\n    export let collection;\n    export let isNew = !record?.id;\n\n    $: isSuperusers = collection?.name == \"_superusers\";\n\n    $: emailField = collection?.fields?.find((f) => f.name == \"email\") || {};\n\n    $: passwordField = collection?.fields?.find((f) => f.name == \"password\") || {};\n\n    let changePasswordToggle = false;\n\n    $: if (!changePasswordToggle) {\n        record.password = undefined;\n        record.passwordConfirm = undefined;\n        removeError(\"password\");\n        removeError(\"passwordConfirm\");\n    }\n</script>\n\n<div class=\"grid m-b-base\">\n    <div class=\"col-lg-12\">\n        <Field class=\"form-field {emailField?.required ? 'required' : ''}\" name=\"email\" let:uniqueId>\n            <label for={uniqueId}>\n                <i class={CommonHelper.getFieldTypeIcon(\"email\")} />\n                <span class=\"txt\">email</span>\n            </label>\n\n            {#if !isSuperusers}\n                <div class=\"form-field-addon email-visibility-addon\">\n                    <button\n                        type=\"button\"\n                        class=\"btn btn-sm btn-transparent {record.emailVisibility\n                            ? 'btn-success'\n                            : 'btn-hint'}\"\n                        use:tooltip={{\n                            text: \"Make email public or private\",\n                            position: \"top-right\",\n                        }}\n                        on:click|preventDefault={() => (record.emailVisibility = !record.emailVisibility)}\n                    >\n                        <span class=\"txt\">Public: {record.emailVisibility ? \"On\" : \"Off\"}</span>\n                    </button>\n                </div>\n            {/if}\n\n            <!-- svelte-ignore a11y-autofocus -->\n            <input\n                type=\"email\"\n                autofocus={isNew}\n                autocomplete=\"off\"\n                id={uniqueId}\n                required={emailField.required}\n                bind:value={record.email}\n            />\n        </Field>\n    </div>\n\n    <div class=\"col-lg-12\">\n        {#if !isNew}\n            <Field class=\"form-field form-field-toggle\" name=\"verified\" let:uniqueId>\n                <input type=\"checkbox\" id={uniqueId} bind:checked={changePasswordToggle} />\n                <label for={uniqueId}>Change password</label>\n            </Field>\n        {/if}\n\n        {#if isNew || changePasswordToggle}\n            <div class=\"block\" transition:slide={{ duration: 150 }}>\n                <div class=\"grid\" class:p-t-xs={changePasswordToggle}>\n                    <div class=\"col-sm-6\">\n                        <Field class=\"form-field required\" name=\"password\" let:uniqueId>\n                            <label for={uniqueId}>\n                                <i class=\"ri-lock-line\" />\n                                <span class=\"txt\">Password</span>\n                            </label>\n                            <input\n                                type=\"password\"\n                                autocomplete=\"new-password\"\n                                id={uniqueId}\n                                required\n                                bind:value={record.password}\n                            />\n                            <div class=\"form-field-addon\">\n                                <SecretGeneratorButton length={Math.max(15, passwordField.min || 0)} />\n                            </div>\n                        </Field>\n                    </div>\n                    <div class=\"col-sm-6\">\n                        <Field class=\"form-field required\" name=\"passwordConfirm\" let:uniqueId>\n                            <label for={uniqueId}>\n                                <i class=\"ri-lock-line\" />\n                                <span class=\"txt\">Password confirm</span>\n                            </label>\n                            <input\n                                type=\"password\"\n                                autocomplete=\"new-password\"\n                                id={uniqueId}\n                                required\n                                bind:value={record.passwordConfirm}\n                            />\n                        </Field>\n                    </div>\n                </div>\n            </div>\n        {/if}\n    </div>\n\n    {#if !isSuperusers}\n        <div class=\"col-lg-12\">\n            <Field class=\"form-field form-field-toggle\" name=\"verified\" let:uniqueId>\n                <input\n                    type=\"checkbox\"\n                    id={uniqueId}\n                    bind:checked={record.verified}\n                    on:change|preventDefault={(e) => {\n                        if (isNew) {\n                            return; // no confirmation required\n                        }\n                        confirm(\n                            `Do you really want to manually change the verified account state?`,\n                            () => {},\n                            () => {\n                                record.verified = !e.target.checked;\n                            },\n                        );\n                    }}\n                />\n                <label for={uniqueId}>Verified</label>\n            </Field>\n        </div>\n    {/if}\n</div>\n\n<style>\n    .email-visibility-addon ~ input {\n        padding-right: 100px;\n    }\n</style>\n","<script>\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    export let uniqueId;\n    export let field;\n    export let icon = true;\n</script>\n\n<label for={uniqueId}>\n    {#if icon}\n        {#if field.primaryKey}\n            <i class={CommonHelper.getFieldTypeIcon(\"primary\")} />\n        {:else}\n            <i class={CommonHelper.getFieldTypeIcon(field.type)} />\n        {/if}\n    {/if}\n\n    <span class=\"txt\">{field.name}</span>\n\n    {#if field.hidden}\n        <small class=\"label label-sm label-danger\">Hidden</small>\n    {/if}\n\n    <slot />\n</label>\n","<script>\n    import Field from \"@/components/base/Field.svelte\";\n    import FieldLabel from \"@/components/records/fields/FieldLabel.svelte\";\n\n    export let field;\n    export let value = false;\n</script>\n\n<Field class=\"form-field form-field-toggle {field.required ? 'required' : ''}\" name={field.name} let:uniqueId>\n    <input type=\"checkbox\" id={uniqueId} bind:checked={value} />\n    <FieldLabel {uniqueId} {field} icon={false} />\n</Field>\n","<script>\n    import Flatpickr from \"svelte-flatpickr\";\n    import tooltip from \"@/actions/tooltip\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import Field from \"@/components/base/Field.svelte\";\n    import FieldLabel from \"@/components/records/fields/FieldLabel.svelte\";\n\n    export let field;\n    export let value = undefined;\n\n    let pickerValue = value;\n\n    // strip ms and zone for backwards compatibility with the older format\n    // and because flatpickr currently doesn't have integrated\n    // zones support and requires manual parsing and formatting\n    $: if (value && value.length > 19) {\n        value = value.substring(0, 19);\n    }\n\n    $: if (pickerValue != value) {\n        pickerValue = value;\n    }\n\n    // ensure that value is set even on manual input edit\n    function onClose(e) {\n        if (e.detail && e.detail.length == 3) {\n            value = e.detail[1];\n        }\n    }\n\n    function clear() {\n        value = \"\";\n    }\n</script>\n\n<Field class=\"form-field {field.required ? 'required' : ''}\" name={field.name} let:uniqueId>\n    <FieldLabel {uniqueId} {field} />\n\n    {#if value && !field.required}\n        <div class=\"form-field-addon\">\n            <button type=\"button\" class=\"link-hint clear-btn\" use:tooltip={\"Clear\"} on:click={() => clear()}>\n                <i class=\"ri-close-line\" />\n            </button>\n        </div>\n    {/if}\n\n    <Flatpickr\n        id={uniqueId}\n        options={CommonHelper.defaultFlatpickrOptions()}\n        bind:value={pickerValue}\n        bind:formattedValue={value}\n        on:close={onClose}\n    />\n</Field>\n\n<style>\n    .clear-btn {\n        margin-top: 20px;\n    }\n</style>\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import Field from \"@/components/base/Field.svelte\";\n    import ObjectSelect from \"@/components/base/ObjectSelect.svelte\";\n    import OverlayPanel from \"@/components/base/OverlayPanel.svelte\";\n    import Scroller from \"@/components/base/Scroller.svelte\";\n    import Searchbar from \"@/components/base/Searchbar.svelte\";\n    import RecordUpsertPanel from \"@/components/records/RecordUpsertPanel.svelte\";\n    import { collections } from \"@/stores/collections\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { createEventDispatcher } from \"svelte\";\n\n    const dispatch = createEventDispatcher();\n    const uniqueId = \"file_picker_\" + CommonHelper.randomString(5);\n    const batchSize = 50;\n\n    export let title = \"Select a file\";\n    export let submitText = \"Insert\";\n    export let fileTypes = [\"image\", \"document\", \"video\", \"audio\", \"file\"];\n\n    let pickerPanel;\n    let upsertPanel;\n    let filter = \"\";\n    let list = [];\n    let currentPage = 1;\n    let lastItemsCount = 0;\n    let isLoading = false;\n    let fileCollections = [];\n    let fileFields = [];\n    let sizeOptions = [];\n    let selectedCollection = {};\n    let selectedFile = {};\n    let selectedSize = \"\";\n\n    // find all collections with at least one non-protected file field\n    $: fileCollections = $collections.filter((c) => {\n        return (\n            c.type !== \"view\" &&\n            !!CommonHelper.toArray(c.fields).find((f) => {\n                return (\n                    // is file field\n                    f.type === \"file\" &&\n                    // is public (aka. doesn't require file token)\n                    !f.protected &&\n                    // allow any MIME type OR image/*\n                    (!f.mimeTypes?.length || !!f.mimeTypes?.find((t) => t.startsWith(\"image/\")))\n                );\n            })\n        );\n    });\n\n    // auto select the first collection from the list\n    $: if (!selectedCollection?.id && fileCollections.length > 0) {\n        selectedCollection = fileCollections[0];\n    }\n\n    $: fileFields = selectedCollection?.fields?.filter((f) => f.type === \"file\" && !f.protected);\n\n    // reset filter on collection change\n    $: if (selectedCollection?.id) {\n        clearFilter();\n        refreshSizeOptions();\n    }\n\n    // refresh the size options on selected file change\n    $: if (selectedFile?.name) {\n        refreshSizeOptions();\n    }\n\n    // reset list on filter or collection change\n    $: if (typeof filter !== \"undefined\" && selectedCollection?.id && pickerPanel?.isActive()) {\n        loadList(true);\n    }\n\n    $: isSelected = (record, name) => {\n        return selectedFile?.name == name && selectedFile?.record?.id == record.id;\n    };\n\n    $: hasAtleastOneFile = list.find((r) => extractFiles(r).length > 0);\n\n    $: canLoadMore = !isLoading && lastItemsCount == batchSize;\n\n    $: canSubmit = !isLoading && !!selectedFile?.name;\n\n    export function show() {\n        loadList(true);\n\n        return pickerPanel?.show();\n    }\n\n    export function hide() {\n        return pickerPanel?.hide();\n    }\n\n    function clearList() {\n        list = [];\n        selectedFile = {};\n        selectedSize = \"\";\n    }\n\n    function clearFilter() {\n        filter = \"\";\n    }\n\n    async function loadList(reset = false) {\n        if (!selectedCollection?.id) {\n            return;\n        }\n\n        isLoading = true;\n\n        if (reset) {\n            clearList();\n        }\n\n        try {\n            const page = reset ? 1 : currentPage + 1;\n\n            const fallbackSearchFields = CommonHelper.getAllCollectionIdentifiers(selectedCollection);\n\n            let normalizedFilter = CommonHelper.normalizeSearchFilter(filter, fallbackSearchFields) || \"\";\n\n            if (normalizedFilter) {\n                normalizedFilter += \" && \";\n            }\n            normalizedFilter += \"(\" + fileFields.map((f) => `${f.name}:length>0`).join(\"||\") + \")\";\n\n            let sort = \"\";\n            if (selectedCollection.type != \"view\") {\n                sort = \"-@rowid\"; // all collections with exception to the view has this field\n            }\n\n            const result = await ApiClient.collection(selectedCollection.id).getList(page, batchSize, {\n                filter: normalizedFilter,\n                sort: sort,\n                fields: \"*:excerpt(100)\",\n                skipTotal: 1,\n                requestKey: uniqueId + \"loadImagePicker\",\n            });\n\n            list = CommonHelper.filterDuplicatesByKey(list.concat(result.items));\n            currentPage = result.page;\n            lastItemsCount = result.items.length;\n\n            isLoading = false;\n        } catch (err) {\n            if (!err.isAbort) {\n                ApiClient.error(err);\n                isLoading = false;\n            }\n        }\n    }\n\n    function refreshSizeOptions() {\n        let sizes = [\"100x100\"]; // default Superuser UI thumb\n\n        // extract the thumb sizes of the selected file field\n        if (selectedFile?.record?.id) {\n            for (const field of fileFields) {\n                if (CommonHelper.toArray(selectedFile.record[field.name]).includes(selectedFile.name)) {\n                    sizes = sizes.concat(CommonHelper.toArray(field.thumbs));\n                    break;\n                }\n            }\n        }\n\n        // construct the dropdown options\n        sizeOptions = [{ label: \"Original size\", value: \"\" }];\n        for (const size of sizes) {\n            sizeOptions.push({\n                label: `${size} thumb`,\n                value: size,\n            });\n        }\n\n        // reset selected size if missing\n        if (selectedSize && !sizes.includes(selectedSize)) {\n            selectedSize = \"\";\n        }\n    }\n\n    function extractFiles(record) {\n        let result = [];\n\n        for (const field of fileFields) {\n            const names = CommonHelper.toArray(record[field.name]);\n            for (const name of names) {\n                if (fileTypes.includes(CommonHelper.getFileType(name))) {\n                    result.push(name);\n                }\n            }\n        }\n\n        return result;\n    }\n\n    function select(record, name) {\n        selectedFile = { record, name };\n    }\n\n    function submit() {\n        if (!canSubmit) {\n            return;\n        }\n\n        dispatch(\n            \"submit\",\n            Object.assign(\n                {\n                    size: selectedSize,\n                },\n                selectedFile,\n            ),\n        );\n\n        hide();\n    }\n</script>\n\n<OverlayPanel bind:this={pickerPanel} popup class=\"file-picker-popup\" on:hide on:show {...$$restProps}>\n    <svelte:fragment slot=\"header\">\n        <h4>{title}</h4>\n    </svelte:fragment>\n\n    {#if !fileCollections.length}\n        <h6 class=\"txt-center txt-hint\">\n            You currently don't have any collection with <code>file</code> field.\n        </h6>\n    {:else}\n        <div class=\"file-picker\">\n            <aside class=\"file-picker-sidebar\">\n                {#each fileCollections as collection (collection.id)}\n                    <button\n                        type=\"button\"\n                        class=\"sidebar-item\"\n                        class:active={selectedCollection?.id == collection.id}\n                        on:click|preventDefault={() => {\n                            selectedCollection = collection;\n                        }}\n                    >\n                        {collection.name}\n                    </button>\n                {/each}\n            </aside>\n\n            <div class=\"file-picker-content\">\n                <div class=\"flex m-b-base flex-gap-10\">\n                    <Searchbar\n                        value={filter}\n                        placeholder=\"Record search term or filter...\"\n                        autocompleteCollection={selectedCollection}\n                        on:submit={(e) => (filter = e.detail)}\n                    />\n                    <button\n                        type=\"button\"\n                        class=\"btn btn-pill btn-transparent btn-hint p-l-xs p-r-xs\"\n                        on:click={() => upsertPanel?.show()}\n                    >\n                        <div class=\"txt\">New record</div>\n                    </button>\n                </div>\n                <Scroller\n                    class=\"files-list\"\n                    vThreshold={100}\n                    on:vScrollEnd={() => {\n                        if (canLoadMore) {\n                            loadList();\n                        }\n                    }}\n                >\n                    {#if hasAtleastOneFile}\n                        {#each list as record (record.id)}\n                            {@const names = extractFiles(record)}\n                            {#each names as name}\n                                <button\n                                    type=\"button\"\n                                    class=\"thumb handle\"\n                                    use:tooltip={name + \"\\n(record: \" + record.id + \")\"}\n                                    class:thumb-warning={isSelected(record, name)}\n                                    on:click|preventDefault={select(record, name)}\n                                >\n                                    {#if CommonHelper.hasImageExtension(name)}\n                                        <img\n                                            loading=\"lazy\"\n                                            src={ApiClient.files.getURL(record, name, { thumb: \"100x100\" })}\n                                            alt={name}\n                                        />\n                                    {:else}\n                                        <i class=\"ri-file-3-line\" />\n                                    {/if}\n                                </button>\n                            {/each}\n                        {/each}\n                    {:else if !isLoading}\n                        <div class=\"inline-flex\">\n                            <span class=\"txt txt-hint\">No records with images found.</span>\n                            {#if filter?.length}\n                                <button\n                                    type=\"button\"\n                                    class=\"btn btn-hint btn-sm\"\n                                    on:click|preventDefault={clearFilter}\n                                >\n                                    <span class=\"txt\">Clear filter</span>\n                                </button>\n                            {/if}\n                        </div>\n                    {/if}\n\n                    {#if isLoading}\n                        <div class=\"block txt-center\">\n                            <span class=\"loader loader-sm active\" />\n                        </div>\n                    {/if}\n                </Scroller>\n            </div>\n        </div>\n    {/if}\n\n    <svelte:fragment slot=\"footer\">\n        <button type=\"button\" class=\"btn btn-transparent m-r-auto\" disabled={isLoading} on:click={hide}>\n            <span class=\"txt\">Cancel</span>\n        </button>\n\n        {#if CommonHelper.hasImageExtension(selectedFile?.name)}\n            <Field class=\"form-field file-picker-size-select\" let:uniqueId>\n                <ObjectSelect\n                    upside\n                    id={uniqueId}\n                    items={sizeOptions}\n                    disabled={!canSubmit}\n                    selectPlaceholder=\"Select size\"\n                    bind:keyOfSelected={selectedSize}\n                />\n            </Field>\n        {/if}\n\n        <button type=\"button\" class=\"btn btn-expanded\" disabled={!canSubmit} on:click={submit}>\n            <span class=\"txt\">{submitText}</span>\n        </button>\n    </svelte:fragment>\n</OverlayPanel>\n\n<RecordUpsertPanel\n    bind:this={upsertPanel}\n    collection={selectedCollection}\n    on:save={(e) => {\n        CommonHelper.removeByKey(list, \"id\", e.detail.record.id);\n        list.unshift(e.detail.record);\n        list = list;\n\n        const names = extractFiles(e.detail.record);\n        if (names.length > 0) {\n            select(e.detail.record, names[0]);\n        }\n    }}\n    on:delete={(e) => {\n        if (selectedFile?.record?.id == e.detail.id) {\n            selectedFile = {};\n        }\n\n        CommonHelper.removeByKey(list, \"id\", e.detail.id);\n        list = list;\n    }}\n/>\n","<script>\n    import { onMount } from \"svelte\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import Field from \"@/components/base/Field.svelte\";\n    import TinyMCE from \"@/components/base/TinyMCE.svelte\";\n    import RecordFilePicker from \"@/components/records/RecordFilePicker.svelte\";\n    import FieldLabel from \"@/components/records/fields/FieldLabel.svelte\";\n\n    export let field;\n    export let value = \"\";\n\n    let picker;\n    let editor;\n    let mounted = false;\n    let mountedTimeoutId = null;\n\n    $: conf = Object.assign(CommonHelper.defaultEditorOptions(), {\n        convert_urls: field.convertURLs,\n        relative_urls: false,\n    });\n\n    // normalize value\n    // (depending on the editor plugins, `undefined` may throw an error in case the TinyMCE text functions are used)\n    $: if (typeof value == \"undefined\") {\n        value = \"\";\n    }\n\n    onMount(async () => {\n        if (typeof value == \"undefined\") {\n            value = \"\";\n        }\n\n        // slight \"offset\" the editor mount to avoid blocking the rendering of the other fields\n        mountedTimeoutId = setTimeout(() => {\n            mounted = true;\n        }, 100);\n\n        return () => {\n            clearTimeout(mountedTimeoutId);\n        };\n    });\n</script>\n\n<Field class=\"form-field form-field-editor {field.required ? 'required' : ''}\" name={field.name} let:uniqueId>\n    <FieldLabel {uniqueId} {field} />\n\n    {#if mounted}\n        <TinyMCE\n            id={uniqueId}\n            {conf}\n            bind:value\n            on:init={(initEvent) => {\n                editor = initEvent.detail.editor;\n                editor.on(\"collections_file_picker\", () => {\n                    picker?.show();\n                });\n            }}\n        />\n    {:else}\n        <div class=\"tinymce-wrapper\" />\n    {/if}\n</Field>\n\n<RecordFilePicker\n    bind:this={picker}\n    title=\"Select an image\"\n    fileTypes={[\"image\"]}\n    on:submit={(e) => {\n        editor?.execCommand(\n            \"InsertImage\",\n            false,\n            ApiClient.files.getURL(e.detail.record, e.detail.name, {\n                thumb: e.detail.size,\n            }),\n        );\n    }}\n/>\n","<script>\n    import Field from \"@/components/base/Field.svelte\";\n    import FieldLabel from \"@/components/records/fields/FieldLabel.svelte\";\n\n    export let field;\n    export let value = undefined;\n</script>\n\n<Field class=\"form-field {field.required ? 'required' : ''}\" name={field.name} let:uniqueId>\n    <FieldLabel {uniqueId} {field} />\n\n    <input type=\"email\" id={uniqueId} required={field.required} bind:value />\n</Field>\n","<script>\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    export let file; // File() instance\n    export let size = 50; // preview thumb size (if file is image)\n\n    $: if (typeof file !== \"undefined\") {\n        loadPreviewUrl();\n    }\n\n    $: previewUrl = \"\";\n\n    function loadPreviewUrl() {\n        if (CommonHelper.hasImageExtension(file?.name)) {\n            CommonHelper.generateThumb(file, size, size)\n                .then((url) => {\n                    previewUrl = url;\n                })\n                .catch((err) => {\n                    previewUrl = \"\";\n                    console.warn(\"Unable to generate thumb: \", err);\n                });\n        } else {\n            previewUrl = \"\";\n        }\n    }\n</script>\n\n{#if previewUrl}\n    <img draggable={false} src={previewUrl} width={size} height={size} alt={file.name} />\n{:else}\n    <i class=\"ri-file-line\" alt={file.name} />\n{/if}\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import Draggable from \"@/components/base/Draggable.svelte\";\n    import Field from \"@/components/base/Field.svelte\";\n    import UploadedFilePreview from \"@/components/base/UploadedFilePreview.svelte\";\n    import RecordFileThumb from \"@/components/records/RecordFileThumb.svelte\";\n    import FieldLabel from \"@/components/records/fields/FieldLabel.svelte\";\n\n    export let record;\n    export let field;\n    export let value = \"\";\n    export let uploadedFiles = []; // Array<File> array\n    export let deletedFileNames = []; // Array<string> array\n\n    let fileInput;\n    let filesListElem;\n    let isDragOver = false;\n\n    // normalize uploadedFiles type\n    $: if (!Array.isArray(uploadedFiles)) {\n        uploadedFiles = CommonHelper.toArray(uploadedFiles);\n    }\n\n    // normalize deleted files\n    $: if (!Array.isArray(deletedFileNames)) {\n        deletedFileNames = CommonHelper.toArray(deletedFileNames);\n    }\n\n    $: isMultiple = field.maxSelect > 1;\n\n    $: if (CommonHelper.isEmpty(value)) {\n        value = isMultiple ? [] : \"\";\n    }\n\n    $: valueAsArray = CommonHelper.toArray(value);\n\n    $: maxReached =\n        (valueAsArray.length || uploadedFiles.length) &&\n        field.maxSelect <= valueAsArray.length + uploadedFiles.length - deletedFileNames.length;\n\n    $: if (uploadedFiles !== -1 || deletedFileNames !== -1) {\n        triggerListChange();\n    }\n\n    function restoreExistingFile(name) {\n        CommonHelper.removeByValue(deletedFileNames, name);\n        deletedFileNames = deletedFileNames;\n    }\n\n    function removeExistingFile(name) {\n        CommonHelper.pushUnique(deletedFileNames, name);\n        deletedFileNames = deletedFileNames;\n    }\n\n    function removeNewFile(index) {\n        if (!CommonHelper.isEmpty(uploadedFiles[index])) {\n            uploadedFiles.splice(index, 1);\n        }\n        uploadedFiles = uploadedFiles;\n    }\n\n    // emulate native change event\n    function triggerListChange() {\n        filesListElem?.dispatchEvent(\n            new CustomEvent(\"change\", {\n                detail: { value, uploadedFiles, deletedFileNames },\n                bubbles: true,\n            }),\n        );\n    }\n\n    function dropHandler(e) {\n        e.preventDefault();\n\n        isDragOver = false;\n\n        const files = e.dataTransfer?.files || [];\n\n        if (maxReached || !files.length) {\n            return;\n        }\n\n        for (const file of files) {\n            const currentTotal = valueAsArray.length + uploadedFiles.length - deletedFileNames.length;\n\n            if (field.maxSelect <= currentTotal) {\n                break;\n            }\n\n            uploadedFiles.push(file);\n        }\n\n        uploadedFiles = uploadedFiles;\n    }\n\n    async function openInNewTab(filename) {\n        try {\n            let token = await ApiClient.getSuperuserFileToken(record.collectionId);\n            let url = ApiClient.files.getURL(record, filename, { token });\n            window.open(url, \"_blank\", \"noreferrer, noopener\");\n        } catch (err) {\n            console.warn(\"openInNewTab file token failure:\", err);\n        }\n    }\n</script>\n\n<!-- svelte-ignore a11y-no-static-element-interactions -->\n<div\n    class=\"block\"\n    on:dragover|preventDefault={() => {\n        isDragOver = true;\n    }}\n    on:dragleave={() => {\n        isDragOver = false;\n    }}\n    on:drop={dropHandler}\n>\n    <Field\n        class=\"\n            form-field form-field-list form-field-file\n            {field.required ? 'required' : ''}\n            {isDragOver ? 'dragover' : ''}\n        \"\n        name={field.name}\n        let:uniqueId\n    >\n        <FieldLabel {uniqueId} {field} />\n\n        <div bind:this={filesListElem} class=\"list\">\n            {#each valueAsArray as filename, i (filename + record.id)}\n                {@const isDeleted = deletedFileNames.includes(filename)}\n                <Draggable\n                    bind:list={value}\n                    group={field.name + \"_uploaded\"}\n                    index={i}\n                    disabled={!isMultiple}\n                    let:dragging\n                    let:dragover\n                >\n                    <div class=\"list-item\" class:dragging class:dragover>\n                        <div class:fade={isDeleted}>\n                            <RecordFileThumb {record} {filename} />\n                        </div>\n\n                        <div class=\"content\">\n                            <button\n                                type=\"button\"\n                                draggable={false}\n                                class=\"txt-ellipsis {isDeleted\n                                    ? 'txt-strikethrough link-hint'\n                                    : 'link-primary'}\"\n                                title=\"Download\"\n                                on:auxclick={() => openInNewTab(filename)}\n                                on:click={() => openInNewTab(filename)}\n                            >\n                                {filename}\n                            </button>\n                        </div>\n\n                        <div class=\"actions\">\n                            {#if isDeleted}\n                                <button\n                                    type=\"button\"\n                                    class=\"btn btn-sm btn-danger btn-transparent\"\n                                    on:click={() => restoreExistingFile(filename)}\n                                >\n                                    <span class=\"txt\">Restore</span>\n                                </button>\n                            {:else}\n                                <button\n                                    type=\"button\"\n                                    class=\"btn btn-transparent btn-hint btn-sm btn-circle btn-remove\"\n                                    use:tooltip={\"Remove file\"}\n                                    on:click={() => removeExistingFile(filename)}\n                                >\n                                    <i class=\"ri-close-line\" />\n                                </button>\n                            {/if}\n                        </div>\n                    </div>\n                </Draggable>\n            {/each}\n\n            {#each uploadedFiles as file, i (file.name + i)}\n                <Draggable\n                    bind:list={uploadedFiles}\n                    group={field.name + \"_new\"}\n                    index={i}\n                    disabled={!isMultiple}\n                    let:dragging\n                    let:dragover\n                >\n                    <div class=\"list-item\" class:dragging class:dragover>\n                        <figure class=\"thumb\">\n                            <UploadedFilePreview {file} />\n                        </figure>\n                        <div class=\"filename m-r-auto\" title={file.name}>\n                            <small class=\"label label-success m-r-5\">New</small>\n                            <span class=\"txt\">{file.name}</span>\n                        </div>\n                        <button\n                            type=\"button\"\n                            class=\"btn btn-transparent btn-hint btn-sm btn-circle btn-remove\"\n                            use:tooltip={\"Remove file\"}\n                            on:click={() => removeNewFile(i)}\n                        >\n                            <i class=\"ri-close-line\" />\n                        </button>\n                    </div>\n                </Draggable>\n            {/each}\n\n            <div class=\"list-item list-item-btn\">\n                <input\n                    bind:this={fileInput}\n                    type=\"file\"\n                    class=\"hidden\"\n                    accept={field.mimeTypes?.join(\",\") || null}\n                    multiple={isMultiple}\n                    on:change={() => {\n                        for (let file of fileInput.files) {\n                            uploadedFiles.push(file);\n                        }\n                        uploadedFiles = uploadedFiles;\n                        fileInput.value = null; // reset\n                    }}\n                />\n                <button\n                    type=\"button\"\n                    class=\"btn btn-transparent btn-sm btn-block\"\n                    disabled={maxReached}\n                    on:click={() => fileInput?.click()}\n                >\n                    <i class=\"ri-upload-cloud-line\" />\n                    <span class=\"txt\">Upload new file</span>\n                </button>\n            </div>\n        </div>\n    </Field>\n</div>\n","<script>\n    import { onMount } from \"svelte\";\n    import tooltip from \"@/actions/tooltip\";\n    import Field from \"@/components/base/Field.svelte\";\n    import FieldLabel from \"@/components/records/fields/FieldLabel.svelte\";\n\n    export let field;\n    export let value = undefined;\n\n    let editorComponent;\n\n    let serialized = serialize(value);\n\n    $: if (value !== serialized?.trim()) {\n        serialized = serialize(value);\n        value = serialized;\n    }\n\n    $: isValid = isValidJson(serialized);\n\n    function serialize(val) {\n        if (typeof val == \"string\" && isValidJson(val)) {\n            return val; // already serlialized\n        }\n\n        return JSON.stringify(typeof val === \"undefined\" ? null : val, null, 2);\n    }\n\n    function isValidJson(val) {\n        try {\n            JSON.parse(val === \"\" ? null : val);\n            return true;\n        } catch (_) {}\n\n        return false;\n    }\n\n    onMount(async () => {\n        try {\n            editorComponent = (await import(\"@/components/base/CodeEditor.svelte\")).default;\n        } catch (err) {\n            console.warn(err);\n        }\n    });\n</script>\n\n<Field class=\"form-field {field.required ? 'required' : ''}\" name={field.name} let:uniqueId>\n    <FieldLabel {uniqueId} {field}>\n        <span\n            class=\"json-state\"\n            use:tooltip={{ position: \"left\", text: isValid ? \"Valid JSON\" : \"Invalid JSON\" }}\n        >\n            {#if isValid}\n                <i class=\"ri-checkbox-circle-fill txt-success\" />\n            {:else}\n                <i class=\"ri-error-warning-fill txt-danger\" />\n            {/if}\n        </span>\n    </FieldLabel>\n\n    {#if editorComponent}\n        <svelte:component\n            this={editorComponent}\n            id={uniqueId}\n            maxHeight=\"500\"\n            language=\"json\"\n            value={serialized}\n            on:change={(e) => {\n                serialized = e.detail;\n                value = serialized.trim();\n            }}\n        />\n    {:else}\n        <input type=\"text\" class=\"txt-mono\" value=\"Loading...\" disabled />\n    {/if}\n</Field>\n\n<style>\n    .json-state {\n        position: absolute;\n        right: 10px;\n    }\n</style>\n","<script>\n    import Field from \"@/components/base/Field.svelte\";\n    import FieldLabel from \"@/components/records/fields/FieldLabel.svelte\";\n\n    export let field;\n    export let value = undefined;\n</script>\n\n<Field class=\"form-field {field.required ? 'required' : ''}\" name={field.name} let:uniqueId>\n    <FieldLabel {uniqueId} {field} />\n\n    <input\n        type=\"number\"\n        id={uniqueId}\n        required={field.required}\n        min={field.min}\n        max={field.max}\n        step=\"any\"\n        bind:value\n    />\n</Field>\n","<script>\n    import Field from \"@/components/base/Field.svelte\";\n    import FieldLabel from \"@/components/records/fields/FieldLabel.svelte\";\n\n    export let field;\n    export let value = undefined;\n</script>\n\n<Field class=\"form-field {field.required ? 'required' : ''}\" name={field.name} let:uniqueId>\n    <FieldLabel {uniqueId} {field} />\n\n    <input type=\"password\" id={uniqueId} autocomplete=\"new-password\" required={field.required} bind:value />\n</Field>\n","// Simple Svelte scrollend detection action.\n// ===================================================================\n//\n// ### Example usage\n//\n// Simple form (with default 100px threshold):\n// ```html\n// <div class=\"list\" use:scrollend={() => { console.log(\"end reached\") }}>\n//     ...\n// </div>\n// ```\n//\n// With custom threshold:\n// ```html\n// <div class=\"list\" use:scrollend={{\n//     threshold: 10,\n//     callback:  () => { console.log(\"end reached\") }\n// }}>\n//     ...\n// </div>\n// ```\n// ===================================================================\n\nfunction normalize(rawData) {\n    if (typeof rawData === \"function\") {\n        return {\n            threshold: 100,\n            callback: rawData,\n        }\n    }\n\n    return rawData || {};\n}\n\nexport default function scrollend(node, options) {\n    options = normalize(options);\n\n    options?.callback && options.callback();\n\n    function onScroll(e) {\n        if (!options?.callback) {\n            return;\n        }\n\n        const offset = e.target.scrollHeight - e.target.clientHeight - e.target.scrollTop;\n\n        if (offset <= options.threshold) {\n            options.callback();\n        }\n    }\n\n    node.addEventListener(\"scroll\", onScroll);\n    node.addEventListener(\"resize\", onScroll);\n\n    return {\n        update(newOptions) {\n            options = normalize(newOptions);\n        },\n        destroy() {\n            node.removeEventListener(\"scroll\", onScroll);\n            node.removeEventListener(\"resize\", onScroll);\n        },\n    };\n}\n","<script>\n    import scrollend from \"@/actions/scrollend\";\n    import tooltip from \"@/actions/tooltip\";\n    import Draggable from \"@/components/base/Draggable.svelte\";\n    import OverlayPanel from \"@/components/base/OverlayPanel.svelte\";\n    import Searchbar from \"@/components/base/Searchbar.svelte\";\n    import RecordInfo from \"@/components/records/RecordInfo.svelte\";\n    import RecordUpsertPanel from \"@/components/records/RecordUpsertPanel.svelte\";\n    import { collections } from \"@/stores/collections\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { createEventDispatcher } from \"svelte\";\n\n    const dispatch = createEventDispatcher();\n    const uniqueId = \"picker_\" + CommonHelper.randomString(5);\n    const batchSize = 50;\n\n    export let value;\n    export let field;\n\n    let pickerPanel;\n    let upsertPanel;\n    let filter = \"\";\n    let list = [];\n    let selected = [];\n    let currentPage = 1;\n    let lastItemsCount = 0;\n    let isLoadingList = false;\n    let isLoadingSelected = false;\n    let isReloadingRecord = {};\n\n    $: maxSelect = field?.maxSelect || null;\n\n    $: collectionId = field?.collectionId;\n\n    $: collection = $collections.find((c) => c.id == collectionId) || null;\n\n    $: if (typeof filter !== \"undefined\" && pickerPanel?.isActive()) {\n        loadList(true); // reset list on filter change\n    }\n\n    $: isView = collection?.type === \"view\";\n\n    $: isLoading = isLoadingList || isLoadingSelected;\n\n    $: canLoadMore = lastItemsCount == batchSize;\n\n    $: canSelectMore = maxSelect <= 0 || maxSelect > selected.length;\n\n    export function show() {\n        filter = \"\";\n        list = [];\n        selected = [];\n        loadSelected();\n        loadList(true);\n\n        return pickerPanel?.show();\n    }\n\n    export function hide() {\n        return pickerPanel?.hide();\n    }\n\n    function getExpand() {\n        let expands = [];\n\n        const presentableRelFields = collection?.fields?.filter(\n            (f) => !f.hidden && f.presentable && f.type == \"relation\",\n        );\n        for (const field of presentableRelFields) {\n            expands = expands.concat(CommonHelper.getExpandPresentableRelFields(field, $collections, 2));\n        }\n\n        return expands.join(\",\");\n    }\n\n    async function loadSelected() {\n        const selectedIds = CommonHelper.toArray(value);\n\n        if (!collectionId || !selectedIds.length) {\n            return;\n        }\n\n        isLoadingSelected = true;\n\n        let loadedItems = [];\n\n        // batch load all selected records to avoid parser stack overflow errors\n        const filterIds = selectedIds.slice();\n        const loadPromises = [];\n        while (filterIds.length > 0) {\n            const filters = [];\n            for (const id of filterIds.splice(0, batchSize)) {\n                filters.push(`id=\"${id}\"`);\n            }\n\n            loadPromises.push(\n                ApiClient.collection(collectionId).getFullList({\n                    batch: batchSize,\n                    filter: filters.join(\"||\"),\n                    fields: \"*:excerpt(200)\",\n                    expand: getExpand(),\n                    requestKey: null,\n                }),\n            );\n        }\n\n        try {\n            await Promise.all(loadPromises).then((values) => {\n                loadedItems = loadedItems.concat(...values);\n            });\n\n            // preserve selected order\n            selected = [];\n            for (const id of selectedIds) {\n                const item = CommonHelper.findByKey(loadedItems, \"id\", id);\n                if (item) {\n                    selected.push(item);\n                }\n            }\n\n            if (!filter.trim()) {\n                // add the selected models to the list (if not already)\n                list = CommonHelper.filterDuplicatesByKey(selected.concat(list));\n            }\n\n            isLoadingSelected = false;\n        } catch (err) {\n            if (!err.isAbort) {\n                ApiClient.error(err);\n                isLoadingSelected = false;\n            }\n        }\n    }\n\n    async function loadList(reset = false) {\n        if (!collectionId) {\n            return;\n        }\n\n        isLoadingList = true;\n\n        if (reset) {\n            if (!filter.trim()) {\n                // prepend the loaded selected items\n                list = CommonHelper.toArray(selected).slice();\n            } else {\n                list = [];\n            }\n        }\n\n        try {\n            const page = reset ? 1 : currentPage + 1;\n\n            const fallbackSearchFields = CommonHelper.getAllCollectionIdentifiers(collection);\n\n            let sort = \"\";\n            if (!isView) {\n                sort = \"-@rowid\"; // all collections with exception to the view has this field\n            }\n\n            const result = await ApiClient.collection(collectionId).getList(page, batchSize, {\n                filter: CommonHelper.normalizeSearchFilter(filter, fallbackSearchFields),\n                sort: sort,\n                fields: \"*:excerpt(200)\",\n                skipTotal: 1,\n                expand: getExpand(),\n                requestKey: uniqueId + \"loadList\",\n            });\n\n            list = CommonHelper.filterDuplicatesByKey(list.concat(result.items));\n            currentPage = result.page;\n            lastItemsCount = result.items.length;\n\n            isLoadingList = false;\n        } catch (err) {\n            if (!err.isAbort) {\n                ApiClient.error(err);\n                isLoadingList = false;\n            }\n        }\n    }\n\n    async function reloadRecord(record) {\n        if (!record?.id) {\n            return;\n        }\n\n        isReloadingRecord[record.id] = true;\n\n        try {\n            const reloaded = await ApiClient.collection(collectionId).getOne(record.id, {\n                fields: \"*:excerpt(200)\",\n                expand: getExpand(),\n                requestKey: uniqueId + \"reload\" + record.id,\n            });\n\n            CommonHelper.pushOrReplaceByKey(selected, reloaded);\n            CommonHelper.pushOrReplaceByKey(list, reloaded);\n            selected = selected;\n            list = list;\n\n            isReloadingRecord[record.id] = false;\n        } catch (err) {\n            if (!err.isAbort) {\n                ApiClient.error(err);\n                isReloadingRecord[record.id] = false;\n            }\n        }\n    }\n\n    $: isSelected = function (record) {\n        return CommonHelper.findByKey(selected, \"id\", record.id);\n    };\n\n    function select(record) {\n        if (maxSelect == 1) {\n            selected = [record];\n        } else if (canSelectMore) {\n            CommonHelper.pushOrReplaceByKey(selected, record);\n            selected = selected;\n        }\n    }\n\n    function deselect(record) {\n        CommonHelper.removeByKey(selected, \"id\", record.id);\n        selected = selected;\n    }\n\n    function toggle(record) {\n        if (isSelected(record)) {\n            deselect(record);\n        } else {\n            select(record);\n        }\n    }\n\n    function save() {\n        if (maxSelect != 1) {\n            value = selected.map((r) => r.id);\n        } else {\n            value = selected?.[0]?.id || \"\";\n        }\n\n        dispatch(\"save\", selected);\n        hide();\n    }\n</script>\n\n<OverlayPanel bind:this={pickerPanel} popup class=\"overlay-panel-xl\" on:hide on:show {...$$restProps}>\n    <svelte:fragment slot=\"header\">\n        <h4>\n            Select <strong>{collection?.name || \"\"}</strong> records\n        </h4>\n    </svelte:fragment>\n\n    <div class=\"flex m-b-base flex-gap-10\">\n        <Searchbar\n            value={filter}\n            autocompleteCollection={collection}\n            on:submit={(e) => (filter = e.detail)}\n        />\n        {#if !isView}\n            <button\n                type=\"button\"\n                class=\"btn btn-pill btn-transparent btn-hint p-l-xs p-r-xs\"\n                on:click={() => upsertPanel?.show()}\n            >\n                <div class=\"txt\">New record</div>\n            </button>\n        {/if}\n    </div>\n\n    <div\n        class=\"list picker-list m-b-base\"\n        use:scrollend={() => {\n            if (canLoadMore && !isLoadingList) {\n                loadList();\n            }\n        }}\n    >\n        {#each list as record (record.id)}\n            {@const selected = isSelected(record)}\n\n            <!-- svelte-ignore a11y-no-static-element-interactions -->\n            <!-- svelte-ignore a11y-no-noninteractive-tabindex -->\n            <div\n                tabindex=\"0\"\n                class=\"list-item handle\"\n                class:selected\n                class:disabled={isReloadingRecord[record.id] ||\n                    (!selected && maxSelect > 1 && !canSelectMore)}\n                on:click={() => toggle(record)}\n                on:keydown={(e) => {\n                    if (e.code === \"Enter\" || e.code === \"Space\") {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        toggle(record);\n                    }\n                }}\n            >\n                {#if selected}\n                    <i class=\"ri-checkbox-circle-fill txt-success\" />\n                {:else}\n                    <i class=\"ri-checkbox-blank-circle-line txt-disabled\" />\n                {/if}\n                <div class=\"content\">\n                    {#if isReloadingRecord[record.id]}\n                        <span class=\"loader loader-xs active\"></span>\n                    {:else}\n                        <RecordInfo {record} />\n                    {/if}\n                </div>\n                {#if !isView}\n                    <div class=\"actions nonintrusive\">\n                        <button\n                            type=\"button\"\n                            class=\"btn btn-sm btn-circle btn-transparent btn-hint m-l-auto\"\n                            use:tooltip={\"Edit\"}\n                            on:keydown|stopPropagation\n                            on:click|stopPropagation={() => upsertPanel?.show(record.id)}\n                        >\n                            <i class=\"ri-pencil-line\" />\n                        </button>\n                    </div>\n                {/if}\n            </div>\n        {:else}\n            {#if !isLoading}\n                <div class=\"list-item\">\n                    <span class=\"txt txt-hint\">No records found.</span>\n                    {#if filter?.length}\n                        <button type=\"button\" class=\"btn btn-hint btn-sm\" on:click={() => (filter = \"\")}>\n                            <span class=\"txt\">Clear filters</span>\n                        </button>\n                    {/if}\n                </div>\n            {/if}\n        {/each}\n\n        {#if isLoading}\n            <div class=\"list-item\">\n                <div class=\"block txt-center\">\n                    <span class=\"loader loader-sm active\" />\n                </div>\n            </div>\n        {/if}\n    </div>\n\n    <h5 class=\"section-title\">\n        Selected\n        {#if maxSelect > 1}\n            ({selected.length} of MAX {maxSelect})\n        {/if}\n    </h5>\n    {#if selected.length}\n        <div class=\"selected-list\">\n            {#each selected as record, i}\n                <Draggable bind:list={selected} index={i} let:dragging let:dragover>\n                    <span class=\"label\" class:label-danger={dragging} class:label-warning={dragover}>\n                        {#if isReloadingRecord[record.id]}\n                            <span class=\"loader loader-xs active\"></span>\n                        {:else}\n                            <RecordInfo {record} />\n                        {/if}\n                        <button\n                            type=\"button\"\n                            title=\"Remove\"\n                            class=\"btn btn-circle btn-transparent btn-hint btn-xs\"\n                            on:click={() => deselect(record)}\n                        >\n                            <i class=\"ri-close-line\" />\n                        </button>\n                    </span>\n                </Draggable>\n            {/each}\n        </div>\n    {:else}\n        <p class=\"txt-hint\">No selected records.</p>\n    {/if}\n\n    <svelte:fragment slot=\"footer\">\n        <button type=\"button\" class=\"btn btn-transparent\" on:click={() => hide()}>\n            <span class=\"txt\">Cancel</span>\n        </button>\n        <button type=\"button\" class=\"btn\" on:click={() => save()}>\n            <span class=\"txt\">Set selection</span>\n        </button>\n    </svelte:fragment>\n</OverlayPanel>\n\n<RecordUpsertPanel\n    bind:this={upsertPanel}\n    {collection}\n    on:save={(e) => {\n        CommonHelper.removeByKey(list, \"id\", e.detail.record.id);\n        list.unshift(e.detail.record);\n        list = list;\n\n        select(e.detail.record);\n\n        reloadRecord(e.detail.record);\n    }}\n    on:delete={(e) => {\n        CommonHelper.removeByKey(list, \"id\", e.detail.id);\n        list = list;\n\n        deselect(e.detail);\n    }}\n/>\n\n<style lang=\"scss\">\n    .picker-list {\n        max-height: 380px;\n    }\n    .selected-list {\n        display: flex;\n        flex-wrap: wrap;\n        align-items: center;\n        gap: 10px;\n        max-height: 220px;\n        overflow: auto;\n    }\n</style>\n","<script>\n    import { onDestroy } from \"svelte\";\n    import tooltip from \"@/actions/tooltip\";\n    import { collections } from \"@/stores/collections\";\n    import Draggable from \"@/components/base/Draggable.svelte\";\n    import Field from \"@/components/base/Field.svelte\";\n    import RecordInfo from \"@/components/records/RecordInfo.svelte\";\n    import RecordsPicker from \"@/components/records/RecordsPicker.svelte\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import FieldLabel from \"@/components/records/fields/FieldLabel.svelte\";\n\n    const batchSize = 100;\n\n    export let field;\n    export let value;\n    export let picker;\n\n    let fieldRef;\n    let list = [];\n    let isLoading = false;\n    let loadTimeoutId;\n    let invalidIds = [];\n\n    $: isMultiple = field.maxSelect > 1;\n\n    $: if (typeof value != \"undefined\") {\n        fieldRef?.changed();\n    }\n\n    $: if (needLoad(list, value)) {\n        isLoading = true;\n        // Move the load function to the end of the execution queue.\n        //\n        // It helps reducing the layout shifts (the relation field has fixed height skeleton loader)\n        // and allows the other form fields to load sooner.\n        clearTimeout(loadTimeoutId);\n        loadTimeoutId = setTimeout(load, 0);\n    }\n\n    function needLoad() {\n        if (isLoading) {\n            return false;\n        }\n\n        const ids = CommonHelper.toArray(value);\n\n        list = list.filter((item) => ids.includes(item.id));\n\n        return ids.length != list.length;\n    }\n\n    async function load() {\n        const ids = CommonHelper.toArray(value);\n\n        // reset\n        list = [];\n        invalidIds = [];\n\n        if (!field?.collectionId || !ids.length) {\n            isLoading = false;\n            return;\n        }\n\n        isLoading = true;\n\n        let expands = [];\n        const presentableRelFields = $collections\n            .find((c) => c.id == field.collectionId)\n            ?.fields?.filter((f) => !f.hidden && f.presentable && f.type == \"relation\");\n        for (const field of presentableRelFields) {\n            expands = expands.concat(CommonHelper.getExpandPresentableRelFields(field, $collections, 2));\n        }\n\n        // batch load all selected records to avoid parser stack overflow errors\n        const filterIds = ids.slice();\n        const loadPromises = [];\n        while (filterIds.length > 0) {\n            const filters = [];\n            for (const id of filterIds.splice(0, batchSize)) {\n                filters.push(`id=\"${id}\"`);\n            }\n\n            loadPromises.push(\n                ApiClient.collection(field.collectionId).getFullList(batchSize, {\n                    filter: filters.join(\"||\"),\n                    fields: \"*:excerpt(200)\",\n                    expand: expands.join(\",\"),\n                    requestKey: null,\n                }),\n            );\n        }\n\n        try {\n            let loadedItems = [];\n            await Promise.all(loadPromises).then((values) => {\n                loadedItems = loadedItems.concat(...values);\n            });\n\n            // preserve selected order\n            for (const id of ids) {\n                const rel = CommonHelper.findByKey(loadedItems, \"id\", id);\n                if (rel) {\n                    list.push(rel);\n                } else {\n                    invalidIds.push(id);\n                }\n            }\n\n            list = list;\n\n            // ensure that any record that was deleted during the request\n            // is also removed from the relation value\n            listToValue();\n        } catch (err) {\n            ApiClient.error(err);\n        }\n\n        isLoading = false;\n    }\n\n    function remove(rel) {\n        CommonHelper.removeByKey(list, \"id\", rel.id);\n        list = list;\n\n        listToValue();\n    }\n\n    function listToValue() {\n        if (isMultiple) {\n            value = list.map((r) => r.id);\n        } else {\n            value = list[0]?.id || \"\";\n        }\n    }\n\n    onDestroy(() => {\n        clearTimeout(loadTimeoutId);\n    });\n</script>\n\n<Field\n    bind:this={fieldRef}\n    class=\"form-field form-field-list {field.required ? 'required' : ''}\"\n    name={field.name}\n    let:uniqueId\n>\n    <FieldLabel {uniqueId} {field}>\n        {#if invalidIds.length}\n            <i\n                class=\"ri-error-warning-line link-hint m-l-auto flex-order-10\"\n                use:tooltip={{\n                    position: \"left\",\n                    text:\n                        \"The following relation ids were removed from the list because they are missing or invalid: \" +\n                        invalidIds.join(\", \"),\n                }}\n            />\n        {/if}\n    </FieldLabel>\n\n    <div class=\"list\">\n        <div class=\"relations-list\">\n            {#each list as record, i (record.id)}\n                <Draggable\n                    bind:list\n                    group={field.name + \"_relation\"}\n                    index={i}\n                    disabled={!isMultiple}\n                    let:dragging\n                    let:dragover\n                    on:sort={() => {\n                        listToValue();\n                    }}\n                >\n                    <div class=\"list-item\" class:dragging class:dragover>\n                        <div class=\"content\">\n                            <RecordInfo {record} />\n                        </div>\n                        <div class=\"actions\">\n                            <button\n                                type=\"button\"\n                                class=\"btn btn-transparent btn-hint btn-sm btn-circle btn-remove\"\n                                use:tooltip={\"Remove\"}\n                                on:click={() => remove(record)}\n                            >\n                                <i class=\"ri-close-line\" />\n                            </button>\n                        </div>\n                    </div>\n                </Draggable>\n            {:else}\n                {#if isLoading}\n                    {#each CommonHelper.toArray(value).slice(0, 10) as _}\n                        <div class=\"list-item\">\n                            <div class=\"skeleton-loader\" />\n                        </div>\n                    {/each}\n                {/if}\n            {/each}\n        </div>\n\n        <div class=\"list-item list-item-btn\">\n            <button\n                type=\"button\"\n                class=\"btn btn-transparent btn-sm btn-block\"\n                on:click={() => picker?.show()}\n            >\n                <i class=\"ri-magic-line\" />\n                <!-- <i class=\"ri-layout-line\" /> -->\n                <span class=\"txt\">Open picker</span>\n            </button>\n        </div>\n    </div>\n</Field>\n\n<RecordsPicker\n    bind:this={picker}\n    {value}\n    {field}\n    on:save={(e) => {\n        list = e.detail || [];\n        value = isMultiple ? list.map((r) => r.id) : list[0]?.id || \"\";\n    }}\n/>\n\n<style lang=\"scss\">\n    .relations-list {\n        max-height: 300px;\n        overflow: auto; /* fallback */\n        overflow: overlay;\n    }\n</style>\n","<script>\n    import Field from \"@/components/base/Field.svelte\";\n    import Select from \"@/components/base/Select.svelte\";\n    import FieldLabel from \"@/components/records/fields/FieldLabel.svelte\";\n\n    export let field;\n    export let value = undefined;\n\n    $: isMultiple = field.maxSelect > 1;\n\n    $: if (typeof value === \"undefined\") {\n        value = isMultiple ? [] : \"\";\n    }\n\n    $: maxSelect = field.maxSelect || field.values.length;\n\n    $: if (isMultiple && Array.isArray(value)) {\n        value = value.filter((v) => field.values.includes(v));\n        if (value.length > maxSelect) {\n            value = value.slice(value.length - maxSelect);\n        }\n    }\n</script>\n\n<Field class=\"form-field {field.required ? 'required' : ''}\" name={field.name} let:uniqueId>\n    <FieldLabel {uniqueId} {field} />\n\n    <Select\n        id={uniqueId}\n        toggle={!field.required || isMultiple}\n        multiple={isMultiple}\n        closable={!isMultiple || value?.length >= field.maxSelect}\n        items={field.values}\n        searchable={field.values?.length > 5}\n        bind:selected={value}\n    />\n    {#if isMultiple}\n        <div class=\"help-block\">Select up to {maxSelect} items.</div>\n    {/if}\n</Field>\n","<script>\n    import { onMount } from \"svelte\";\n\n    export let value = \"\";\n    export let maxHeight = 200;\n\n    let inputElem;\n    let updateTimeoutId;\n\n    $: if (typeof value !== undefined) {\n        updateInputHeight();\n    }\n\n    function updateInputHeight() {\n        clearTimeout(updateTimeoutId);\n        updateTimeoutId = setTimeout(() => {\n            if (inputElem) {\n                inputElem.style.height = \"\"; // reset\n                inputElem.style.height = Math.min(inputElem.scrollHeight, maxHeight) + \"px\";\n            }\n        }, 0);\n    }\n\n    // Pressing \"Enter\" key should trigger parent form submission,\n    // aka. the same as any <input /> element.\n    //\n    // note: New line could be added using \"Enter+Shift\".\n    function handleKeydown(e) {\n        if (e?.code === \"Enter\" && !e?.shiftKey && !e?.isComposing) {\n            e.preventDefault();\n\n            // trigger parent form submission (if any)\n            const form = inputElem.closest(\"form\");\n            form?.requestSubmit && form.requestSubmit();\n        }\n    }\n\n    onMount(() => {\n        updateInputHeight();\n\n        return () => clearTimeout(updateTimeoutId);\n    });\n</script>\n\n<textarea bind:this={inputElem} bind:value on:keydown={handleKeydown} {...$$restProps} />\n\n<style>\n    textarea {\n        resize: none;\n        padding-top: 4px !important;\n        padding-bottom: 5px !important;\n        min-height: var(--inputHeight);\n        height: var(--inputHeight);\n    }\n</style>\n","<script>\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import Field from \"@/components/base/Field.svelte\";\n    import AutoExpandTextarea from \"@/components/base/AutoExpandTextarea.svelte\";\n    import FieldLabel from \"@/components/records/fields/FieldLabel.svelte\";\n\n    export let original;\n    export let field;\n    export let value = undefined;\n\n    $: hasAutogenerate = !CommonHelper.isEmpty(field.autogeneratePattern) && !original?.id;\n\n    $: isRequired = field.required && !hasAutogenerate;\n</script>\n\n<Field class=\"form-field {isRequired ? 'required' : ''}\" name={field.name} let:uniqueId>\n    <FieldLabel {uniqueId} {field} />\n\n    <AutoExpandTextarea\n        id={uniqueId}\n        required={isRequired}\n        placeholder={hasAutogenerate ? \"Leave empty to autogenerate...\" : \"\"}\n        bind:value\n    />\n</Field>\n","<script>\n    import Field from \"@/components/base/Field.svelte\";\n    import FieldLabel from \"@/components/records/fields/FieldLabel.svelte\";\n\n    export let field;\n    export let value = undefined;\n</script>\n\n<Field class=\"form-field {field.required ? 'required' : ''}\" name={field.name} let:uniqueId>\n    <FieldLabel {uniqueId} {field} />\n\n    <input type=\"url\" id={uniqueId} required={field.required} bind:value />\n</Field>\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import Field from \"@/components/base/Field.svelte\";\n    import FieldLabel from \"@/components/records/fields/FieldLabel.svelte\";\n    import { slide } from \"svelte/transition\";\n\n    export let original;\n    export let field;\n    export let value = undefined;\n\n    let mapComponent;\n    let isMapComponentLoading = false;\n    let isMapVisible = false;\n\n    $: if (typeof value === \"undefined\") {\n        value = { lat: 0, lon: 0 };\n    }\n\n    $: if (value) {\n        normalize();\n    }\n\n    function normalize() {\n        if (value.lat > 90) {\n            value.lat = 90;\n        }\n\n        if (value.lat < -90) {\n            value.lat = -90;\n        }\n\n        if (value.lon > 180) {\n            value.lon = 180;\n        }\n\n        if (value.lon < -180) {\n            value.lon = -180;\n        }\n    }\n\n    function toggleMapVisibility() {\n        if (isMapVisible) {\n            hideMap();\n        } else {\n            showMap();\n        }\n    }\n\n    function showMap() {\n        loadMapComponent();\n        isMapVisible = true;\n    }\n\n    function hideMap() {\n        isMapVisible = false;\n    }\n\n    async function loadMapComponent() {\n        if (mapComponent || isMapComponentLoading) {\n            return; // already loaded or in the process\n        }\n\n        isMapComponentLoading = true;\n\n        mapComponent = (await import(\"@/components/base/Leaflet.svelte\")).default;\n\n        isMapComponentLoading = false;\n    }\n</script>\n\n<Field class=\"form-field form-field-list {field.required ? 'required' : ''}\" name={field.name} let:uniqueId>\n    <FieldLabel {uniqueId} {field} />\n\n    <div class=\"list\">\n        <div class=\"list-item\">\n            <Field class=\"form-field form-field-inline m-0\" let:uniqueId>\n                <label for={uniqueId}>Longitude:</label>\n                <input\n                    type=\"number\"\n                    id={uniqueId}\n                    required={field.required}\n                    placeholder=\"0\"\n                    step=\"any\"\n                    min=\"-180\"\n                    max=\"180\"\n                    bind:value={value.lon}\n                />\n            </Field>\n            <span class=\"separator\"></span>\n            <Field class=\"form-field form-field-inline m-0\" let:uniqueId>\n                <label for={uniqueId}>Latitude:</label>\n                <input\n                    type=\"number\"\n                    id={uniqueId}\n                    required={field.required}\n                    placeholder=\"0\"\n                    step=\"any\"\n                    min=\"-90\"\n                    max=\"90\"\n                    bind:value={value.lat}\n                />\n            </Field>\n            <span class=\"separator\"></span>\n            <button\n                type=\"button\"\n                class=\"btn btn-circle btn-sm btn-circle {isMapVisible\n                    ? 'btn-secondary'\n                    : 'btn-hint btn-transparent'}\"\n                aria-label=\"Toggle map\"\n                use:tooltip={\"Toggle map\"}\n                on:click={toggleMapVisibility}\n            >\n                <i class=\"ri-map-2-line\"></i>\n            </button>\n        </div>\n\n        {#if isMapVisible}\n            <div class=\"block\" style=\"height:200px\" transition:slide={{ duration: 150 }}>\n                {#if isMapComponentLoading}\n                    <div class=\"block txt-center p-base\">\n                        <span class=\"loader loader-sm\"></span>\n                    </div>\n                {:else}\n                    <svelte:component this={mapComponent} height={200} bind:point={value} />\n                {/if}\n            </div>\n        {/if}\n    </div>\n</Field>\n\n<style lang=\"scss\">\n    .list-item {\n        padding: 5px 10px;\n        min-height: 0;\n        gap: 10px;\n    }\n    .separator {\n        align-self: stretch;\n        background: var(--baseAlt2Color);\n        width: 1px;\n        margin: -5px 0;\n    }\n</style>\n","<script>\n    import CodeBlock from \"@/components/base/CodeBlock.svelte\";\n\n    const SDK_PREFERENCE_KEY = \"pb_sdk_preference\";\n\n    let classes = \"m-b-sm\";\n    export { classes as class }; // export reserved keyword\n\n    export let js = \"\";\n    export let dart = \"\";\n\n    let activeTab = localStorage.getItem(SDK_PREFERENCE_KEY) || \"javascript\";\n\n    $: if (activeTab) {\n        // store user preference\n        localStorage.setItem(SDK_PREFERENCE_KEY, activeTab);\n    }\n\n    $: sdkExamples = [\n        {\n            title: \"JavaScript\",\n            language: \"javascript\",\n            content: js,\n            url: import.meta.env.PB_JS_SDK_URL,\n        },\n        {\n            title: \"Dart\",\n            language: \"dart\",\n            content: dart,\n            url: import.meta.env.PB_DART_SDK_URL,\n        },\n    ];\n</script>\n\n<div class=\"tabs sdk-tabs {classes}\">\n    <div class=\"tabs-header compact combined left\">\n        {#each sdkExamples as example (example.language)}\n            <button\n                class=\"tab-item\"\n                class:active={activeTab === example.language}\n                on:click={() => (activeTab = example.language)}\n            >\n                <div class=\"txt\">{example.title}</div>\n            </button>\n        {/each}\n    </div>\n    <div class=\"tabs-content\">\n        {#each sdkExamples as example (example.language)}\n            <div class=\"tab-item\" class:active={activeTab === example.language}>\n                <CodeBlock language={example.language} content={example.content} />\n                <div class=\"txt-right\">\n                    <em class=\"txt-sm txt-hint\">\n                        <a href={example.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                            {example.title} SDK\n                        </a>\n                    </em>\n                </div>\n            </div>\n        {/each}\n    </div>\n</div>\n\n<style>\n    .sdk-tabs .tabs-header .tab-item {\n        min-width: 100px;\n    }\n</style>\n","<script>\n    import { createEventDispatcher } from \"svelte\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { addSuccessToast } from \"@/stores/toasts\";\n    import OverlayPanel from \"@/components/base/OverlayPanel.svelte\";\n    import CopyIcon from \"@/components/base/CopyIcon.svelte\";\n    import SdkTabs from \"@/components/base/SdkTabs.svelte\";\n    import Field from \"@/components/base/Field.svelte\";\n\n    const dispatch = createEventDispatcher();\n    const formId = \"impersonate_\" + CommonHelper.randomString(5);\n\n    export let collection;\n    export let record;\n\n    let panel;\n    let duration = 0;\n    let isSubmitting = false;\n    let impersonateClient;\n\n    $: backendAbsUrl = CommonHelper.getApiExampleUrl(impersonateClient?.baseURL);\n\n    export function show() {\n        if (!record) {\n            return;\n        }\n        reset();\n        panel?.show();\n    }\n\n    export function hide() {\n        panel?.hide();\n        reset();\n    }\n\n    async function submit() {\n        if (isSubmitting || !collection || !record) {\n            return;\n        }\n\n        isSubmitting = true;\n\n        try {\n            impersonateClient = await ApiClient.collection(collection.name).impersonate(record.id, duration);\n\n            dispatch(\"submit\", impersonateClient);\n        } catch (err) {\n            ApiClient.error(err);\n        }\n\n        isSubmitting = false;\n    }\n\n    function reset() {\n        duration = 0;\n        impersonateClient = undefined;\n    }\n</script>\n\n<OverlayPanel\n    bind:this={panel}\n    overlayClose={false}\n    escClose={!isSubmitting}\n    beforeHide={() => !isSubmitting}\n    popup\n    on:show\n    on:hide\n>\n    <svelte:fragment slot=\"header\">\n        <h4>Impersonate auth token</h4>\n    </svelte:fragment>\n\n    <div class=\"clearfix\"></div>\n\n    {#if impersonateClient?.authStore?.token}\n        <div class=\"alert alert-success\">\n            <div class=\"content txt-bold\">\n                <span class=\"txt token-holder\">{impersonateClient.authStore.token}</span>\n                <CopyIcon value={impersonateClient.authStore.token} />\n            </div>\n        </div>\n\n        <SdkTabs\n            class=\"m-b-0\"\n            js={`\n                import PocketBase from 'pocketbase';\n\n                const token = \"...\";\n\n                const pb = new PocketBase('${backendAbsUrl}');\n\n                pb.authStore.save(token, null);\n            `}\n            dart={`\n                import 'package:pocketbase/pocketbase.dart';\n\n                final token = \"...\";\n\n                final pb = PocketBase('${backendAbsUrl}');\n\n                pb.authStore.save(token, null);\n            `}\n        />\n    {:else}\n        <form id={formId} on:submit|preventDefault={submit}>\n            <div class=\"content\">\n                <p>\n                    Generate a non-refreshable auth token for\n                    <strong>{CommonHelper.displayValue(record)}:</strong>\n                </p>\n            </div>\n\n            <Field class=\"form-field m-b-xs m-t-sm\" name=\"duration\" let:uniqueId>\n                <label for={uniqueId}>Token duration (in seconds)</label>\n                <input\n                    type=\"number\"\n                    id={uniqueId}\n                    placeholder=\"Default to the collection setting ({collection?.authToken?.duration || 0}s)\"\n                    min=\"0\"\n                    step=\"1\"\n                    value={duration || \"\"}\n                    on:input={(e) => (duration = e.target.value << 0)}\n                />\n            </Field>\n        </form>\n    {/if}\n\n    <svelte:fragment slot=\"footer\">\n        <button type=\"button\" class=\"btn btn-transparent\" on:click={hide} disabled={isSubmitting}>\n            <span class=\"txt\">Close</span>\n        </button>\n        {#if impersonateClient?.authStore?.token}\n            <button\n                type=\"button\"\n                class=\"btn btn-secondary btn-expanded\"\n                disabled={isSubmitting}\n                on:click={() => reset()}\n            >\n                <span class=\"txt\">Generate a new one</span>\n            </button>\n        {:else}\n            <button\n                type=\"submit\"\n                form={formId}\n                class=\"btn btn-expanded\"\n                class:btn-loading={isSubmitting}\n                disabled={isSubmitting}\n                on:click={() => submit()}\n            >\n                <span class=\"txt\">Generate token</span>\n            </button>\n        {/if}\n    </svelte:fragment>\n</OverlayPanel>\n\n<style>\n    .token-holder {\n        user-select: all;\n    }\n</style>\n","<script>\n    import { createEventDispatcher, tick } from \"svelte\";\n    import { slide } from \"svelte/transition\";\n    import { ClientResponseError } from \"pocketbase\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import tooltip from \"@/actions/tooltip\";\n    import Field from \"@/components/base/Field.svelte\";\n    import OverlayPanel from \"@/components/base/OverlayPanel.svelte\";\n    import Toggler from \"@/components/base/Toggler.svelte\";\n    import AutodateIcon from \"@/components/records/AutodateIcon.svelte\";\n    import ExternalAuthsList from \"@/components/records/ExternalAuthsList.svelte\";\n    import AuthFields from \"@/components/records/fields/AuthFields.svelte\";\n    import BoolField from \"@/components/records/fields/BoolField.svelte\";\n    import DateField from \"@/components/records/fields/DateField.svelte\";\n    import EditorField from \"@/components/records/fields/EditorField.svelte\";\n    import EmailField from \"@/components/records/fields/EmailField.svelte\";\n    import FileField from \"@/components/records/fields/FileField.svelte\";\n    import JsonField from \"@/components/records/fields/JsonField.svelte\";\n    import NumberField from \"@/components/records/fields/NumberField.svelte\";\n    import PasswordField from \"@/components/records/fields/PasswordField.svelte\";\n    import RelationField from \"@/components/records/fields/RelationField.svelte\";\n    import SelectField from \"@/components/records/fields/SelectField.svelte\";\n    import TextField from \"@/components/records/fields/TextField.svelte\";\n    import UrlField from \"@/components/records/fields/UrlField.svelte\";\n    import GeoPointField from \"@/components/records/fields/GeoPointField.svelte\";\n    import ImpersonatePopup from \"@/components/records/ImpersonatePopup.svelte\";\n    import { confirm } from \"@/stores/confirmation\";\n    import { setErrors } from \"@/stores/errors\";\n    import { addErrorToast, addInfoToast, addSuccessToast } from \"@/stores/toasts\";\n\n    const dispatch = createEventDispatcher();\n    const formId = \"record_\" + CommonHelper.randomString(5);\n    const tabFormKey = \"form\";\n    const tabProviderKey = \"providers\";\n\n    export let collection;\n\n    let recordPanel;\n    let impersonatePopup;\n    let original = {};\n    let record = {};\n    let initialDraft = null;\n    let isSaving = false;\n    let confirmHide = false; // prevent close recursion\n    let uploadedFilesMap = {}; // eg.: {\"field1\":[File1, File2], ...}\n    let deletedFileNamesMap = {}; // eg.: {\"field1\":[0, 1], ...}\n    let originalSerializedData = JSON.stringify(original);\n    let serializedData = originalSerializedData;\n    let activeTab = tabFormKey;\n    let isNew = true;\n    let isLoading = true;\n    let initialCollection = collection;\n    let regularFields = [];\n\n    $: isAuthCollection = collection?.type === \"auth\";\n\n    $: isSuperusersCollection = collection?.name === \"_superusers\";\n\n    $: hasEditorField = !!collection?.fields?.find((f) => f.type === \"editor\");\n\n    $: idField = collection?.fields?.find((f) => f.name === \"id\");\n\n    $: hasFileChanges =\n        CommonHelper.hasNonEmptyProps(uploadedFilesMap) || CommonHelper.hasNonEmptyProps(deletedFileNamesMap);\n\n    $: serializedData = JSON.stringify(record);\n\n    $: hasChanges = hasFileChanges || originalSerializedData != serializedData;\n\n    $: isNew = !original || !original.id;\n\n    $: canSave = !isLoading && (isNew || hasChanges);\n\n    $: if (!isLoading) {\n        updateDraft(serializedData);\n    }\n\n    $: if (collection && initialCollection?.id != collection?.id) {\n        onCollectionChange();\n    }\n\n    const baseSkipFieldNames = [\"id\"];\n\n    const authSkipFieldNames = baseSkipFieldNames.concat(\n        \"email\",\n        \"emailVisibility\",\n        \"verified\",\n        \"tokenKey\",\n        \"password\",\n    );\n\n    $: skipFieldNames = isAuthCollection ? authSkipFieldNames : baseSkipFieldNames;\n\n    $: regularFields =\n        collection?.fields?.filter((f) => !skipFieldNames.includes(f.name) && f.type != \"autodate\") || [];\n\n    export function show(model) {\n        load(model);\n\n        confirmHide = true;\n\n        activeTab = tabFormKey;\n\n        return recordPanel?.show();\n    }\n\n    export function hide() {\n        return recordPanel?.hide();\n    }\n\n    function forceHide() {\n        confirmHide = false;\n        hide();\n    }\n\n    function onCollectionChange() {\n        initialCollection = collection;\n\n        if (!recordPanel?.isActive()) {\n            return;\n        }\n\n        updateDraft(JSON.stringify(record));\n\n        forceHide();\n    }\n\n    async function resolveModel(model) {\n        if (!model) {\n            return null;\n        }\n\n        let id = typeof model == \"string\" ? model : model?.id;\n        if (id) {\n            // load the full record\n            try {\n                return await ApiClient.collection(collection.id).getOne(id);\n            } catch (err) {\n                if (!err.isAbort) {\n                    forceHide();\n                    console.warn(\"resolveModel:\", err);\n                    addErrorToast(`Unable to load record with id \"${id}\"`);\n                }\n            }\n        }\n\n        return typeof model == \"object\" ? model : null;\n    }\n\n    async function load(model) {\n        isLoading = true;\n\n        // resets\n        setErrors({});\n        uploadedFilesMap = {};\n        deletedFileNamesMap = {};\n\n        // load the minimum model data if possible to minimize layout shifts\n        original =\n            typeof model === \"string\"\n                ? { id: model, collectionId: collection?.id, collectionName: collection?.name }\n                : model || {};\n        record = structuredClone(original);\n\n        // resolve the complete model\n        original = (await resolveModel(model)) || {};\n        record = structuredClone(original);\n\n        // wait to populate the fields to get the normalized values\n        await tick();\n\n        initialDraft = getDraft();\n        if (!initialDraft || areRecordsEqual(record, initialDraft)) {\n            initialDraft = null;\n        } else {\n            delete initialDraft.password;\n            delete initialDraft.passwordConfirm;\n        }\n\n        originalSerializedData = JSON.stringify(record);\n\n        isLoading = false;\n    }\n\n    async function replaceOriginal(newOriginal) {\n        setErrors({}); // reset errors\n        original = newOriginal || {};\n        uploadedFilesMap = {};\n        deletedFileNamesMap = {};\n\n        // to avoid layout shifts we replace only the file and non-collection fields\n        const skipFields = collection?.fields?.filter((f) => f.type != \"file\")?.map((f) => f.name) || [];\n        for (let k in newOriginal) {\n            if (skipFields.includes(k)) {\n                continue;\n            }\n            record[k] = newOriginal[k];\n        }\n\n        // wait to populate the fields to get the normalized values\n        await tick();\n\n        originalSerializedData = JSON.stringify(record);\n\n        deleteDraft();\n    }\n\n    function draftKey() {\n        return \"record_draft_\" + (collection?.id || \"\") + \"_\" + (original?.id || \"\");\n    }\n\n    function getDraft(fallbackRecord) {\n        try {\n            const raw = window.localStorage.getItem(draftKey());\n            if (raw) {\n                return JSON.parse(raw);\n            }\n        } catch (_) {}\n\n        return fallbackRecord;\n    }\n\n    function updateDraft(newSerializedData) {\n        try {\n            window.localStorage.setItem(draftKey(), newSerializedData);\n        } catch (e) {\n            // ignore local storage errors in case the serialized data\n            // exceed the browser localStorage single value quota\n            console.warn(\"updateDraft failure:\", e);\n            window.localStorage.removeItem(draftKey());\n        }\n    }\n\n    function restoreDraft() {\n        if (initialDraft) {\n            record = initialDraft;\n            initialDraft = null;\n        }\n    }\n\n    function areRecordsEqual(recordA, recordB) {\n        const cloneA = structuredClone(recordA || {});\n        const cloneB = structuredClone(recordB || {});\n\n        const fileFields = collection?.fields?.filter((f) => f.type === \"file\");\n        for (let field of fileFields) {\n            delete cloneA[field.name];\n            delete cloneB[field.name];\n        }\n\n        // props to exclude from the checks\n        const excludeProps = [\"expand\", \"password\", \"passwordConfirm\"];\n        for (let prop of excludeProps) {\n            delete cloneA[prop];\n            delete cloneB[prop];\n        }\n\n        return JSON.stringify(cloneA) == JSON.stringify(cloneB);\n    }\n\n    function deleteDraft() {\n        initialDraft = null;\n        window.localStorage.removeItem(draftKey());\n    }\n\n    async function save(hidePanel = true) {\n        if (isSaving || !canSave || !collection?.id) {\n            return;\n        }\n\n        isSaving = true;\n\n        try {\n            const data = exportFormData();\n\n            let result;\n            if (isNew) {\n                result = await ApiClient.collection(collection.id).create(data);\n            } else {\n                result = await ApiClient.collection(collection.id).update(record.id, data);\n            }\n\n            addSuccessToast(isNew ? \"Successfully created record.\" : \"Successfully updated record.\");\n\n            deleteDraft();\n\n            // logout on password change of the current logged in user\n            if (\n                isSuperusersCollection &&\n                record?.id == ApiClient.authStore.record?.id &&\n                !!data.get(\"password\")\n            ) {\n                return ApiClient.logout();\n            }\n\n            if (hidePanel) {\n                forceHide();\n            } else {\n                replaceOriginal(result);\n            }\n\n            dispatch(\"save\", {\n                isNew: isNew,\n                record: result,\n            });\n        } catch (err) {\n            ApiClient.error(err);\n        }\n\n        isSaving = false;\n    }\n\n    function deleteConfirm() {\n        if (!original?.id) {\n            return; // nothing to delete\n        }\n\n        confirm(`Do you really want to delete the selected record?`, () => {\n            return ApiClient.collection(original.collectionId)\n                .delete(original.id)\n                .then(() => {\n                    forceHide();\n                    addSuccessToast(\"Successfully deleted record.\");\n                    dispatch(\"delete\", original);\n                })\n                .catch((err) => {\n                    ApiClient.error(err);\n                });\n        });\n    }\n\n    function exportFormData() {\n        const data = structuredClone(record || {});\n        const formData = new FormData();\n        const exportableFields = {};\n        const jsonFields = {};\n\n        for (const field of collection?.fields || []) {\n            if (field.type == \"autodate\" || (isAuthCollection && field.type == \"password\")) {\n                continue;\n            }\n\n            exportableFields[field.name] = true;\n\n            if (field.type == \"json\") {\n                jsonFields[field.name] = true;\n            }\n        }\n\n        // export the auth password fields only if explicitly set\n        if (isAuthCollection && data[\"password\"]) {\n            exportableFields[\"password\"] = true;\n        }\n        if (isAuthCollection && data[\"passwordConfirm\"]) {\n            exportableFields[\"passwordConfirm\"] = true;\n        }\n\n        // export base fields\n        for (const key in data) {\n            // skip non-exportable fields\n            if (!exportableFields[key]) {\n                continue;\n            }\n\n            // normalize nullable values\n            if (typeof data[key] === \"undefined\") {\n                data[key] = null;\n            }\n\n            // \"validate\" json fields\n            if (jsonFields[key] && data[key] !== \"\") {\n                try {\n                    JSON.parse(data[key]);\n                } catch (err) {\n                    const fieldErr = {};\n                    fieldErr[key] = {\n                        code: \"invalid_json\",\n                        message: err.toString(),\n                    };\n                    // emulate server error\n                    throw new ClientResponseError({\n                        status: 400,\n                        response: {\n                            data: fieldErr,\n                        },\n                    });\n                }\n            }\n\n            CommonHelper.addValueToFormData(formData, key, data[key]);\n        }\n\n        // add uploaded files  (if any)\n        for (const key in uploadedFilesMap) {\n            const files = CommonHelper.toArray(uploadedFilesMap[key]);\n            for (const file of files) {\n                formData.append(key + \"+\", file);\n            }\n        }\n\n        // unset deleted files (if any)\n        for (const key in deletedFileNamesMap) {\n            const names = CommonHelper.toArray(deletedFileNamesMap[key]);\n            for (const name of names) {\n                formData.append(key + \"-\", name);\n            }\n        }\n\n        return formData;\n    }\n\n    function sendVerificationEmail() {\n        if (!collection?.id || !original?.email) {\n            return;\n        }\n\n        confirm(`Do you really want to sent verification email to ${original.email}?`, () => {\n            return ApiClient.collection(collection.id)\n                .requestVerification(original.email)\n                .then(() => {\n                    addSuccessToast(`Successfully sent verification email to ${original.email}.`);\n                })\n                .catch((err) => {\n                    ApiClient.error(err);\n                });\n        });\n    }\n\n    function sendPasswordResetEmail() {\n        if (!collection?.id || !original?.email) {\n            return;\n        }\n\n        confirm(`Do you really want to sent password reset email to ${original.email}?`, () => {\n            return ApiClient.collection(collection.id)\n                .requestPasswordReset(original.email)\n                .then(() => {\n                    addSuccessToast(`Successfully sent password reset email to ${original.email}.`);\n                })\n                .catch((err) => {\n                    ApiClient.error(err);\n                });\n        });\n    }\n\n    function duplicateConfirm() {\n        if (hasChanges) {\n            confirm(\"You have unsaved changes. Do you really want to discard them?\", () => {\n                duplicate();\n            });\n        } else {\n            duplicate();\n        }\n    }\n\n    async function duplicate() {\n        let clone = original ? structuredClone(original) : null;\n\n        if (clone) {\n            // reset file fields\n            const resetTypes = [\"file\", \"autodate\"];\n            const fields = collection?.fields || [];\n            for (const field of fields) {\n                if (resetTypes.includes(field.type)) {\n                    delete clone[field.name];\n                }\n            }\n\n            clone.id = \"\";\n        }\n\n        deleteDraft();\n        show(clone);\n\n        await tick();\n\n        originalSerializedData = \"\";\n    }\n\n    function handleFormKeydown(e) {\n        if ((e.ctrlKey || e.metaKey) && e.code == \"KeyS\") {\n            e.preventDefault();\n            e.stopPropagation();\n            save(false);\n        }\n    }\n\n    function copyJSON() {\n        CommonHelper.copyToClipboard(JSON.stringify(original, null, 2));\n        addInfoToast(\"The record JSON was copied to your clipboard!\", 3000);\n    }\n</script>\n\n<OverlayPanel\n    bind:this={recordPanel}\n    class=\"\n        record-panel\n        {hasEditorField ? 'overlay-panel-xl' : 'overlay-panel-lg'}\n        {isAuthCollection && !isSuperusersCollection && !isNew ? 'colored-header' : ''}\n    \"\n    btnClose={!isLoading}\n    escClose={!isLoading}\n    overlayClose={!isLoading}\n    beforeHide={() => {\n        if (hasChanges && confirmHide) {\n            confirm(\"You have unsaved changes. Do you really want to close the panel?\", () => {\n                forceHide();\n            });\n\n            return false;\n        }\n\n        setErrors({});\n        deleteDraft();\n\n        return true;\n    }}\n    on:hide\n    on:show\n>\n    <svelte:fragment slot=\"header\">\n        {#if isLoading}\n            <span class=\"loader loader-sm\" />\n            <h4 class=\"panel-title txt-hint\">Loading...</h4>\n        {:else}\n            <h4 class=\"panel-title\">\n                {isNew ? \"New\" : \"Edit\"}\n                <strong>{collection?.name}</strong> record\n            </h4>\n\n            {#if !isNew}\n                <div class=\"flex-fill\" />\n                <div\n                    tabindex=\"0\"\n                    role=\"button\"\n                    aria-label=\"More record options\"\n                    class=\"btn btn-sm btn-circle btn-transparent flex-gap-0\"\n                >\n                    <i class=\"ri-more-line\" aria-hidden=\"true\" />\n                    <Toggler class=\"dropdown dropdown-right dropdown-nowrap\">\n                        {#if isAuthCollection && !original.verified && original.email}\n                            <button\n                                type=\"button\"\n                                class=\"dropdown-item closable\"\n                                role=\"menuitem\"\n                                on:click={() => sendVerificationEmail()}\n                            >\n                                <i class=\"ri-mail-check-line\" aria-hidden=\"true\" />\n                                <span class=\"txt\">Send verification email</span>\n                            </button>\n                        {/if}\n                        {#if isAuthCollection && original.email}\n                            <button\n                                type=\"button\"\n                                class=\"dropdown-item closable\"\n                                role=\"menuitem\"\n                                on:click={() => sendPasswordResetEmail()}\n                            >\n                                <i class=\"ri-mail-lock-line\" aria-hidden=\"true\" />\n                                <span class=\"txt\">Send password reset email</span>\n                            </button>\n                        {/if}\n                        {#if isAuthCollection}\n                            <button\n                                type=\"button\"\n                                class=\"dropdown-item closable\"\n                                role=\"menuitem\"\n                                on:click={() => impersonatePopup?.show()}\n                            >\n                                <i class=\"ri-id-card-line\" aria-hidden=\"true\" />\n                                <span class=\"txt\">Impersonate</span>\n                            </button>\n                        {/if}\n                        <button\n                            type=\"button\"\n                            class=\"dropdown-item closable\"\n                            role=\"menuitem\"\n                            on:click={() => copyJSON()}\n                        >\n                            <i class=\"ri-braces-line\" aria-hidden=\"true\" />\n                            <span class=\"txt\">Copy raw JSON</span>\n                        </button>\n                        <button\n                            type=\"button\"\n                            class=\"dropdown-item closable\"\n                            role=\"menuitem\"\n                            on:click={() => duplicateConfirm()}\n                        >\n                            <i class=\"ri-file-copy-line\" aria-hidden=\"true\" />\n                            <span class=\"txt\">Duplicate</span>\n                        </button>\n                        <hr />\n                        <button\n                            type=\"button\"\n                            class=\"dropdown-item txt-danger closable\"\n                            role=\"menuitem\"\n                            on:click|preventDefault|stopPropagation={() => deleteConfirm()}\n                        >\n                            <i class=\"ri-delete-bin-7-line\" aria-hidden=\"true\" />\n                            <span class=\"txt\">Delete</span>\n                        </button>\n                    </Toggler>\n                </div>\n            {/if}\n        {/if}\n\n        {#if isAuthCollection && !isSuperusersCollection && !isNew}\n            <div class=\"tabs-header stretched\">\n                <button\n                    type=\"button\"\n                    class=\"tab-item\"\n                    class:active={activeTab === tabFormKey}\n                    on:click={() => (activeTab = tabFormKey)}\n                >\n                    Account\n                </button>\n                <button\n                    type=\"button\"\n                    class=\"tab-item\"\n                    class:active={activeTab === tabProviderKey}\n                    on:click={() => (activeTab = tabProviderKey)}\n                >\n                    Authorized providers\n                </button>\n            </div>\n        {/if}\n    </svelte:fragment>\n\n    <div class=\"tabs-content no-animations\">\n        <!-- svelte-ignore a11y-no-noninteractive-element-interactions -->\n        <form\n            id={formId}\n            class=\"tab-item\"\n            class:no-pointer-events={isLoading}\n            class:active={activeTab === tabFormKey}\n            on:submit|preventDefault={save}\n            on:keydown={handleFormKeydown}\n        >\n            {#if !hasChanges && initialDraft && !isLoading}\n                <div class=\"block\" out:slide={{ duration: 150 }}>\n                    <div class=\"alert alert-info m-0\">\n                        <div class=\"icon\">\n                            <i class=\"ri-information-line\" />\n                        </div>\n                        <div class=\"flex flex-gap-xs\">\n                            The record has previous unsaved changes.\n                            <button\n                                type=\"button\"\n                                class=\"btn btn-sm btn-secondary\"\n                                on:click={() => restoreDraft()}\n                            >\n                                Restore draft\n                            </button>\n                        </div>\n                        <button\n                            type=\"button\"\n                            class=\"close\"\n                            aria-label=\"Discard draft\"\n                            use:tooltip={\"Discard draft\"}\n                            on:click|preventDefault={() => deleteDraft()}\n                        >\n                            <i class=\"ri-close-line\" />\n                        </button>\n                    </div>\n                    <div class=\"clearfix p-b-base\" />\n                </div>\n            {/if}\n\n            <Field class=\"form-field {!isNew ? 'readonly' : ''}\" name=\"id\" let:uniqueId>\n                <label for={uniqueId}>\n                    <i class={CommonHelper.getFieldTypeIcon(\"primary\")} />\n                    <span class=\"txt\">id</span>\n                    <span class=\"flex-fill\" />\n                </label>\n                {#if !isNew}\n                    <div class=\"form-field-addon\">\n                        <AutodateIcon {record} />\n                    </div>\n                {/if}\n                <input\n                    type=\"text\"\n                    id={uniqueId}\n                    placeholder={!isLoading && !CommonHelper.isEmpty(idField?.autogeneratePattern)\n                        ? \"Leave empty to auto generate...\"\n                        : \"\"}\n                    minlength={idField?.min || null}\n                    maxlength={idField?.max || null}\n                    readonly={!isNew}\n                    bind:value={record.id}\n                />\n            </Field>\n\n            {#if isAuthCollection}\n                <AuthFields bind:record {isNew} {collection} />\n\n                {#if regularFields.length}\n                    <hr />\n                {/if}\n            {/if}\n\n            {#each regularFields as field (field.name)}\n                {#if field.type === \"text\"}\n                    <TextField {field} {original} {record} bind:value={record[field.name]} />\n                {:else if field.type === \"number\"}\n                    <NumberField {field} {original} {record} bind:value={record[field.name]} />\n                {:else if field.type === \"bool\"}\n                    <BoolField {field} {original} {record} bind:value={record[field.name]} />\n                {:else if field.type === \"email\"}\n                    <EmailField {field} {original} {record} bind:value={record[field.name]} />\n                {:else if field.type === \"url\"}\n                    <UrlField {field} {original} {record} bind:value={record[field.name]} />\n                {:else if field.type === \"editor\"}\n                    <EditorField {field} {original} {record} bind:value={record[field.name]} />\n                {:else if field.type === \"date\"}\n                    <DateField {field} {original} {record} bind:value={record[field.name]} />\n                {:else if field.type === \"select\"}\n                    <SelectField {field} {original} {record} bind:value={record[field.name]} />\n                {:else if field.type === \"json\"}\n                    <JsonField {field} {original} {record} bind:value={record[field.name]} />\n                {:else if field.type === \"file\"}\n                    <FileField\n                        {field}\n                        {original}\n                        {record}\n                        bind:value={record[field.name]}\n                        bind:uploadedFiles={uploadedFilesMap[field.name]}\n                        bind:deletedFileNames={deletedFileNamesMap[field.name]}\n                    />\n                {:else if field.type === \"relation\"}\n                    <RelationField {field} {original} {record} bind:value={record[field.name]} />\n                {:else if field.type === \"password\"}\n                    <PasswordField {field} {original} {record} bind:value={record[field.name]} />\n                {:else if field.type === \"geoPoint\"}\n                    <GeoPointField {field} {original} {record} bind:value={record[field.name]} />\n                {/if}\n            {/each}\n        </form>\n\n        {#if isAuthCollection && !isSuperusersCollection && !isNew}\n            <div class=\"tab-item\" class:active={activeTab === tabProviderKey}>\n                <ExternalAuthsList {record} />\n            </div>\n        {/if}\n    </div>\n\n    <svelte:fragment slot=\"footer\">\n        <button\n            type=\"button\"\n            class=\"btn btn-transparent\"\n            disabled={isSaving || isLoading}\n            on:click={() => hide()}\n        >\n            <span class=\"txt\">Cancel</span>\n        </button>\n\n        <div class=\"btns-group no-gap\">\n            <button\n                type=\"submit\"\n                form={formId}\n                title=\"Save and close\"\n                class=\"btn\"\n                class:btn-expanded={isNew}\n                class:btn-expanded-sm={!isNew}\n                class:btn-loading={isSaving || isLoading}\n                disabled={!canSave || isSaving}\n            >\n                <span class=\"txt\">{isNew ? \"Create\" : \"Save changes\"}</span>\n            </button>\n\n            {#if !isNew}\n                <button type=\"button\" class=\"btn p-l-5 p-r-5 flex-gap-0\" disabled={!canSave || isSaving}>\n                    <i class=\"ri-arrow-down-s-line\" aria-hidden=\"true\"></i>\n\n                    <Toggler class=\"dropdown dropdown-upside dropdown-right dropdown-nowrap m-b-5\">\n                        <button\n                            type=\"button\"\n                            class=\"dropdown-item closable\"\n                            role=\"menuitem\"\n                            on:click={() => save(false)}\n                        >\n                            <span class=\"txt\">Save and continue</span>\n                        </button>\n                    </Toggler>\n                </button>\n            {/if}\n        </div>\n    </svelte:fragment>\n</OverlayPanel>\n\n{#if isAuthCollection}\n    <ImpersonatePopup bind:this={impersonatePopup} {record} {collection} />\n{/if}\n\n<style>\n    .panel-title {\n        line-height: var(--smBtnHeight);\n    }\n</style>\n","<script>\n    import { createEventDispatcher } from \"svelte\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    const dispatch = createEventDispatcher();\n\n    export let collection;\n    export let filter = \"\";\n    export let totalCount = 0;\n\n    let classes = undefined;\n    export { classes as class }; // export reserved keyword\n\n    let isLoading = false;\n\n    $: if (collection?.id && filter !== -1) {\n        reload();\n    }\n\n    export async function reload() {\n        if (!collection?.id) {\n            return;\n        }\n\n        isLoading = true;\n        totalCount = 0;\n\n        try {\n            const fallbackSearchFields = CommonHelper.getAllCollectionIdentifiers(collection);\n\n            const result = await ApiClient.collection(collection.id).getList(1, 1, {\n                filter: CommonHelper.normalizeSearchFilter(filter, fallbackSearchFields),\n                fields: \"id\",\n                requestKey: \"records_count\",\n            });\n\n            totalCount = result.totalItems;\n            dispatch(\"count\", totalCount);\n            isLoading = false;\n        } catch (err) {\n            if (!err?.isAbort) {\n                isLoading = false;\n                console.warn(err);\n            }\n        }\n    }\n</script>\n\n<div class=\"inline-flex flex-gap-5 records-counter {classes}\">\n    <span class=\"txt\">Total found:</span>\n    <span class=\"txt\">{!isLoading ? totalCount : \"...\"}</span>\n</div>\n","<script>\n    import { createEventDispatcher } from \"svelte\";\n    import { fly } from \"svelte/transition\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { collections, isCollectionsLoading } from \"@/stores/collections\";\n    import { confirm } from \"@/stores/confirmation\";\n    import { addSuccessToast } from \"@/stores/toasts\";\n    import Field from \"@/components/base/Field.svelte\";\n    import Scroller from \"@/components/base/Scroller.svelte\";\n    import SortHeader from \"@/components/base/SortHeader.svelte\";\n    import Toggler from \"@/components/base/Toggler.svelte\";\n    import RecordFieldValue from \"@/components/records/RecordFieldValue.svelte\";\n\n    const dispatch = createEventDispatcher();\n    const sortRegex = /^([\\+\\-])?(\\w+)$/;\n    const perPage = 40;\n\n    export let collection;\n    export let sort = \"\";\n    export let filter = \"\";\n\n    let scrollWrapper;\n    let records = [];\n    let currentPage = 1;\n    let lastTotal = 0;\n    let bulkSelected = {};\n    let isLoading = true;\n    let isDeleting = false;\n    let yieldedRecordsId = 0;\n    let columnsTrigger;\n    let hiddenColumns = [];\n    let collumnsToHide = [];\n    let hiddenColumnsKey = \"\";\n\n    const unusedSuperusersFields = [\"verified\", \"emailVisibility\"];\n\n    $: if (collection?.id) {\n        hiddenColumnsKey = collection.id + \"@hiddenColumns\";\n        loadStoredHiddenColumns();\n        clearList();\n    }\n\n    $: isView = collection?.type === \"view\";\n\n    $: isSuperusers = collection?.type === \"auth\" && collection.name === \"_superusers\";\n\n    // skip unused superusers fields\n    $: fields = (collection?.fields || []).filter(\n        (f) => !f.hidden && (!isSuperusers || !unusedSuperusersFields.includes(f.name)),\n    );\n\n    $: editorFields = fields.filter((f) => f.type === \"editor\");\n\n    $: relFields = fields.filter((f) => f.type === \"relation\");\n\n    $: visibleFields = fields.filter((f) => !hiddenColumns.includes(f.id));\n\n    $: if (!$isCollectionsLoading && collection?.id && sort !== -1 && filter !== -1) {\n        load(1);\n    }\n\n    $: canLoadMore = lastTotal >= perPage;\n\n    $: totalBulkSelected = Object.keys(bulkSelected).length;\n\n    $: areAllRecordsSelected = records.length && totalBulkSelected === records.length;\n\n    $: if (hiddenColumns !== -1) {\n        updateStoredHiddenColumns();\n    }\n\n    $: collumnsToHide = fields\n        .filter((f) => !f.primaryKey)\n        .map((f) => {\n            return { id: f.id, name: f.name };\n        });\n\n    function updateStoredHiddenColumns() {\n        if (!collection?.id) {\n            return;\n        }\n\n        if (hiddenColumns.length) {\n            localStorage.setItem(hiddenColumnsKey, JSON.stringify(hiddenColumns));\n        } else {\n            localStorage.removeItem(hiddenColumnsKey);\n        }\n    }\n\n    function loadStoredHiddenColumns() {\n        hiddenColumns = [];\n\n        if (!collection?.id) {\n            return;\n        }\n\n        try {\n            const encoded = localStorage.getItem(hiddenColumnsKey);\n            if (encoded) {\n                hiddenColumns = JSON.parse(encoded) || [];\n            }\n        } catch (_) {}\n    }\n\n    export function hasRecord(id) {\n        return !!records.find((r) => r.id == id);\n    }\n\n    export async function reloadLoadedPages() {\n        const loadedPages = currentPage;\n\n        for (let i = 1; i <= loadedPages; i++) {\n            if (i === 1 || canLoadMore) {\n                await load(i, false);\n            }\n        }\n    }\n\n    export async function load(page = 1, breakTasks = true) {\n        if (!collection?.id) {\n            return;\n        }\n\n        isLoading = true;\n\n        // allow sorting by the relation display fields\n        let listSort = sort;\n        const sortMatch = listSort.match(sortRegex);\n        const sortRelField = sortMatch ? relFields.find((f) => f.name === sortMatch[2]) : null;\n        if (sortMatch && sortRelField) {\n            const relPresentableFields =\n                $collections\n                    ?.find((c) => c.id == sortRelField.collectionId)\n                    ?.fields?.filter((f) => f.presentable)\n                    ?.map((f) => f.name) || [];\n\n            const parts = [];\n            for (const presentableField of relPresentableFields) {\n                parts.push((sortMatch[1] || \"\") + sortMatch[2] + \".\" + presentableField);\n            }\n            if (parts.length > 0) {\n                listSort = parts.join(\",\");\n            }\n        }\n\n        const fallbackSearchFields = CommonHelper.getAllCollectionIdentifiers(collection);\n\n        const listFields = editorFields\n            .map((f) => f.name + \":excerpt(200)\")\n            .concat(relFields.map((field) => \"expand.\" + field.name + \".*:excerpt(200)\"));\n        if (listFields.length) {\n            listFields.unshift(\"*\");\n        }\n\n        let expandFields = [];\n        for (const field of relFields) {\n            expandFields = expandFields.concat(\n                CommonHelper.getExpandPresentableRelFields(field, $collections, 2),\n            );\n        }\n\n        return ApiClient.collection(collection.id)\n            .getList(page, perPage, {\n                sort: listSort,\n                skipTotal: 1,\n                filter: CommonHelper.normalizeSearchFilter(filter, fallbackSearchFields),\n                expand: expandFields.join(\",\"),\n                fields: listFields.join(\",\"),\n                requestKey: \"records_list\",\n            })\n            .then(async (result) => {\n                if (page <= 1) {\n                    clearList();\n                }\n\n                isLoading = false;\n                currentPage = result.page;\n                lastTotal = result.items.length;\n                dispatch(\"load\", records.concat(result.items));\n\n                // mark the records as \"partial\" because of the excerpt\n                if (editorFields.length) {\n                    for (let record of result.items) {\n                        record._partial = true;\n                    }\n                }\n\n                // optimize the records listing by rendering the rows in task batches\n                if (breakTasks) {\n                    const currentYieldId = ++yieldedRecordsId;\n                    while (result.items?.length) {\n                        if (yieldedRecordsId != currentYieldId) {\n                            break; // new yield has been started\n                        }\n\n                        const subset = result.items.splice(0, 20);\n                        for (let item of subset) {\n                            CommonHelper.pushOrReplaceByKey(records, item);\n                        }\n                        records = records;\n\n                        await CommonHelper.yieldToMain();\n                    }\n                } else {\n                    for (let item of result.items) {\n                        CommonHelper.pushOrReplaceByKey(records, item);\n                    }\n                    records = records;\n                }\n            })\n            .catch((err) => {\n                if (!err?.isAbort) {\n                    isLoading = false;\n                    console.warn(err);\n                    clearList();\n                    ApiClient.error(err, !filter || err?.status != 400); // silence filter errors\n                }\n            });\n    }\n\n    function clearList() {\n        scrollWrapper?.resetVerticalScroll();\n        records = [];\n        currentPage = 1;\n        lastTotal = 0;\n        bulkSelected = {};\n    }\n\n    function toggleSelectAllRecords() {\n        if (areAllRecordsSelected) {\n            deselectAllRecords();\n        } else {\n            selectAllRecords();\n        }\n    }\n\n    function deselectAllRecords() {\n        bulkSelected = {};\n    }\n\n    function selectAllRecords() {\n        for (const record of records) {\n            bulkSelected[record.id] = record;\n        }\n        bulkSelected = bulkSelected;\n    }\n\n    function toggleSelectRecord(record) {\n        if (!bulkSelected[record.id]) {\n            bulkSelected[record.id] = record;\n        } else {\n            delete bulkSelected[record.id];\n        }\n\n        bulkSelected = bulkSelected; // trigger reactivity\n    }\n\n    function deleteSelectedConfirm() {\n        const msg = `Do you really want to delete the selected ${\n            totalBulkSelected === 1 ? \"record\" : \"records\"\n        }?`;\n\n        confirm(msg, deleteSelected);\n    }\n\n    async function deleteSelected() {\n        if (isDeleting || !totalBulkSelected || !collection?.id) {\n            return;\n        }\n\n        let promises = [];\n        for (const recordId of Object.keys(bulkSelected)) {\n            promises.push(ApiClient.collection(collection.id).delete(recordId));\n        }\n\n        isDeleting = true;\n\n        return Promise.all(promises)\n            .then(() => {\n                addSuccessToast(\n                    `Successfully deleted the selected ${totalBulkSelected === 1 ? \"record\" : \"records\"}.`,\n                );\n\n                dispatch(\"delete\", bulkSelected);\n\n                deselectAllRecords();\n            })\n            .catch((err) => {\n                ApiClient.error(err);\n            })\n            .finally(() => {\n                isDeleting = false;\n\n                // always reload because some of the records may not be deletable\n                return reloadLoadedPages();\n            });\n    }\n</script>\n\n<Scroller bind:this={scrollWrapper} class=\"table-wrapper\">\n    <svelte:fragment slot=\"before\">\n        {#if columnsTrigger}\n            <Toggler\n                class=\"dropdown dropdown-right dropdown-nowrap columns-dropdown\"\n                trigger={columnsTrigger}\n            >\n                <div class=\"txt-hint txt-sm p-5 m-b-5\">Toggle columns</div>\n                {#each collumnsToHide as column (column.id + column.name)}\n                    <Field class=\"form-field form-field-sm form-field-toggle m-0 p-5\" let:uniqueId>\n                        <input\n                            type=\"checkbox\"\n                            id={uniqueId}\n                            checked={!hiddenColumns.includes(column.id)}\n                            on:change={(e) => {\n                                if (e.target.checked) {\n                                    CommonHelper.removeByValue(hiddenColumns, column.id);\n                                } else {\n                                    CommonHelper.pushUnique(hiddenColumns, column.id);\n                                }\n                                hiddenColumns = hiddenColumns;\n                            }}\n                        />\n                        <label for={uniqueId}>{column.name}</label>\n                    </Field>\n                {/each}\n            </Toggler>\n        {/if}\n    </svelte:fragment>\n\n    <table class=\"table\" class:table-loading={isLoading}>\n        <thead>\n            <tr>\n                {#if !isView}\n                    <th class=\"bulk-select-col min-width\">\n                        {#if isLoading}\n                            <span class=\"loader loader-sm\" />\n                        {:else}\n                            <div class=\"form-field\">\n                                <input\n                                    type=\"checkbox\"\n                                    id=\"checkbox_0\"\n                                    disabled={!records.length}\n                                    checked={areAllRecordsSelected}\n                                    on:change={() => toggleSelectAllRecords()}\n                                />\n                                <label for=\"checkbox_0\" />\n                            </div>\n                        {/if}\n                    </th>\n                {/if}\n\n                {#each visibleFields as field (field.id)}\n                    <SortHeader\n                        class=\"col-type-{field.type} col-field-{field.name}\"\n                        name={field.name}\n                        bind:sort\n                    >\n                        <div class=\"col-header-content\">\n                            {#if field.primaryKey}\n                                <i class={CommonHelper.getFieldTypeIcon(\"primary\")} />\n                            {:else}\n                                <i class={CommonHelper.getFieldTypeIcon(field.type)} />\n                            {/if}\n                            <span class=\"txt\">{field.name}</span>\n                        </div>\n                    </SortHeader>\n                {/each}\n\n                <th class=\"col-type-action min-width\">\n                    {#if collumnsToHide.length}\n                        <button\n                            bind:this={columnsTrigger}\n                            type=\"button\"\n                            aria-label=\"Toggle columns\"\n                            class=\"btn btn-sm btn-transparent p-0\"\n                        >\n                            <i class=\"ri-more-line\" />\n                        </button>\n                    {/if}\n                </th>\n            </tr>\n        </thead>\n        <tbody>\n            {#each records as record (!isView ? record.id : record)}\n                <tr\n                    tabindex=\"0\"\n                    class=\"row-handle\"\n                    on:click={() => dispatch(\"select\", record)}\n                    on:keydown={(e) => {\n                        if (e.code === \"Enter\") {\n                            e.preventDefault();\n                            dispatch(\"select\", record);\n                        }\n                    }}\n                >\n                    {#if !isView}\n                        <td class=\"bulk-select-col min-width\">\n                            <!-- svelte-ignore a11y-click-events-have-key-events -->\n                            <!-- svelte-ignore a11y-no-static-element-interactions -->\n                            <div class=\"form-field\" on:click|stopPropagation>\n                                <input\n                                    type=\"checkbox\"\n                                    id=\"checkbox_{record.id}\"\n                                    checked={bulkSelected[record.id]}\n                                    on:change={() => toggleSelectRecord(record)}\n                                />\n                                <label for=\"checkbox_{record.id}\" />\n                            </div>\n                        </td>\n                    {/if}\n\n                    {#each visibleFields as field (field.id)}\n                        <td class=\"col-type-{field.type} col-field-{field.name}\">\n                            <RecordFieldValue short {record} {field} />\n                        </td>\n                    {/each}\n\n                    <td class=\"col-type-action min-width\">\n                        <i class=\"ri-arrow-right-line\" />\n                    </td>\n                </tr>\n            {:else}\n                {#if isLoading}\n                    <tr>\n                        <td colspan=\"99\" class=\"p-xs\">\n                            <span class=\"skeleton-loader m-0\" />\n                        </td>\n                    </tr>\n                {:else}\n                    <tr>\n                        <td colspan=\"99\" class=\"txt-center txt-hint p-xs\">\n                            <h6>No records found.</h6>\n                            {#if filter?.length}\n                                <button\n                                    type=\"button\"\n                                    class=\"btn btn-hint btn-expanded m-t-sm\"\n                                    on:click={() => (filter = \"\")}\n                                >\n                                    <span class=\"txt\">Clear filters</span>\n                                </button>\n                            {:else if !isView}\n                                <button\n                                    type=\"button\"\n                                    class=\"btn btn-secondary btn-expanded m-t-sm\"\n                                    on:click={() => dispatch(\"new\")}\n                                >\n                                    <i class=\"ri-add-line\" />\n                                    <span class=\"txt\">New record</span>\n                                </button>\n                            {/if}\n                        </td>\n                    </tr>\n                {/if}\n            {/each}\n\n            {#if records.length && canLoadMore}\n                <tr>\n                    <td colspan=\"99\" class=\"txt-center\">\n                        <button\n                            class=\"btn btn-expanded-lg btn-secondary btn-horizontal-sticky\"\n                            disabled={isLoading}\n                            class:btn-loading={isLoading}\n                            on:click|preventDefault={() => load(currentPage + 1)}\n                        >\n                            <span class=\"txt\">Load more</span>\n                        </button>\n                    </td>\n                </tr>\n            {/if}\n        </tbody>\n    </table>\n</Scroller>\n\n{#if totalBulkSelected}\n    <div class=\"bulkbar\" transition:fly={{ duration: 150, y: 5 }}>\n        <div class=\"txt\">\n            Selected <strong>{totalBulkSelected}</strong>\n            {totalBulkSelected === 1 ? \"record\" : \"records\"}\n        </div>\n        <button\n            type=\"button\"\n            class=\"btn btn-xs btn-transparent btn-outline p-l-5 p-r-5\"\n            class:btn-disabled={isDeleting}\n            on:click={() => deselectAllRecords()}\n        >\n            <span class=\"txt\">Reset</span>\n        </button>\n        <div class=\"flex-fill\" />\n        <button\n            type=\"button\"\n            class=\"btn btn-sm btn-transparent btn-danger\"\n            class:btn-loading={isDeleting}\n            class:btn-disabled={isDeleting}\n            on:click={() => deleteSelectedConfirm()}\n        >\n            <span class=\"txt\">Delete selected</span>\n        </button>\n    </div>\n{/if}\n","<script>\n    import { tick } from \"svelte\";\n    import { querystring } from \"svelte-spa-router\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import tooltip from \"@/actions/tooltip\";\n    import PageWrapper from \"@/components/base/PageWrapper.svelte\";\n    import RefreshButton from \"@/components/base/RefreshButton.svelte\";\n    import Searchbar from \"@/components/base/Searchbar.svelte\";\n    import CollectionDocsPanel from \"@/components/collections/CollectionDocsPanel.svelte\";\n    import CollectionUpsertPanel from \"@/components/collections/CollectionUpsertPanel.svelte\";\n    import CollectionsSidebar from \"@/components/collections/CollectionsSidebar.svelte\";\n    import RecordPreviewPanel from \"@/components/records/RecordPreviewPanel.svelte\";\n    import RecordUpsertPanel from \"@/components/records/RecordUpsertPanel.svelte\";\n    import RecordsCount from \"@/components/records/RecordsCount.svelte\";\n    import RecordsList from \"@/components/records/RecordsList.svelte\";\n    import { hideControls, pageTitle } from \"@/stores/app\";\n    import {\n        activeCollection,\n        changeActiveCollectionByIdOrName,\n        collections,\n        isCollectionsLoading,\n        loadCollections,\n    } from \"@/stores/collections\";\n\n    const initialQueryParams = new URLSearchParams($querystring);\n\n    let collectionUpsertPanel;\n    let collectionDocsPanel;\n    let recordUpsertPanel;\n    let recordPreviewPanel;\n    let recordsList;\n    let recordsCount;\n    let filter = initialQueryParams.get(\"filter\") || \"\";\n    let sort = initialQueryParams.get(\"sort\") || \"-@rowid\";\n    let selectedCollectionIdOrName = initialQueryParams.get(\"collection\") || $activeCollection?.id;\n    let totalCount = 0; // used to manully change the count without the need of reloading the recordsCount component\n\n    loadCollections(selectedCollectionIdOrName);\n\n    $: reactiveParams = new URLSearchParams($querystring);\n\n    $: collectionQueryParam = reactiveParams.get(\"collection\");\n\n    $: if (\n        !$isCollectionsLoading &&\n        collectionQueryParam &&\n        collectionQueryParam != selectedCollectionIdOrName &&\n        collectionQueryParam != $activeCollection?.id &&\n        collectionQueryParam != $activeCollection?.name\n    ) {\n        changeActiveCollectionByIdOrName(collectionQueryParam);\n    }\n\n    // reset filter and sort on collection change\n    $: if (\n        $activeCollection?.id &&\n        selectedCollectionIdOrName != $activeCollection.id &&\n        selectedCollectionIdOrName != $activeCollection.name\n    ) {\n        reset();\n    }\n\n    $: if ($activeCollection?.id) {\n        normalizeSort();\n    }\n\n    $: if (!$isCollectionsLoading && initialQueryParams.get(\"recordId\")) {\n        showRecordById(initialQueryParams.get(\"recordId\"));\n    }\n\n    // keep the url params in sync\n    $: if (!$isCollectionsLoading && (sort || filter || $activeCollection?.id)) {\n        updateQueryParams();\n    }\n\n    $: $pageTitle = $activeCollection?.name || \"Collections\";\n\n    async function showRecordById(recordId) {\n        await tick(); // ensure that the reactive component params are resolved\n\n        $activeCollection?.type === \"view\"\n            ? recordPreviewPanel.show(recordId)\n            : recordUpsertPanel?.show(recordId);\n    }\n\n    function reset() {\n        selectedCollectionIdOrName = $activeCollection?.id;\n        filter = \"\";\n        sort = \"-@rowid\";\n\n        normalizeSort();\n\n        updateQueryParams({ recordId: null });\n\n        // close any open collection panels\n        collectionUpsertPanel?.forceHide();\n        collectionDocsPanel?.hide();\n    }\n\n    // ensures that the sort fields exist in the collection\n    async function normalizeSort() {\n        if (!sort) {\n            return; // nothing to normalize\n        }\n\n        const collectionFields = CommonHelper.getAllCollectionIdentifiers($activeCollection);\n\n        const sortFields = sort.split(\",\").map((f) => {\n            if (f.startsWith(\"+\") || f.startsWith(\"-\")) {\n                return f.substring(1);\n            }\n            return f;\n        });\n\n        // invalid sort expression or missing sort field\n        if (sortFields.filter((f) => collectionFields.includes(f)).length != sortFields.length) {\n            if ($activeCollection?.type != \"view\") {\n                sort = \"-@rowid\"; // all collections with exception to the view has this field\n            } else if (collectionFields.includes(\"created\")) {\n                // common autodate field\n                sort = \"-created\";\n            } else {\n                sort = \"\";\n            }\n        }\n    }\n\n    function updateQueryParams(extra = {}) {\n        const queryParams = Object.assign(\n            {\n                collection: $activeCollection?.id || \"\",\n                filter: filter,\n                sort: sort,\n            },\n            extra,\n        );\n\n        CommonHelper.replaceHashQueryParams(queryParams);\n    }\n</script>\n\n{#if $isCollectionsLoading && !$collections.length}\n    <PageWrapper center>\n        <div class=\"placeholder-section m-b-base\">\n            <span class=\"loader loader-lg\" />\n            <h1>Loading collections...</h1>\n        </div>\n    </PageWrapper>\n{:else if !$collections.length}\n    <PageWrapper center>\n        <div class=\"placeholder-section m-b-base\">\n            <div class=\"icon\">\n                <i class=\"ri-database-2-line\" />\n            </div>\n            {#if $hideControls}\n                <h1 class=\"m-b-10\">You don't have any collections yet.</h1>\n            {:else}\n                <h1 class=\"m-b-10\">Create your first collection to add records!</h1>\n                <button\n                    type=\"button\"\n                    class=\"btn btn-expanded-lg btn-lg\"\n                    on:click={() => collectionUpsertPanel?.show()}\n                >\n                    <i class=\"ri-add-line\" />\n                    <span class=\"txt\">Create new collection</span>\n                </button>\n            {/if}\n        </div>\n    </PageWrapper>\n{:else}\n    <CollectionsSidebar />\n\n    <PageWrapper class=\"flex-content\">\n        <header class=\"page-header\">\n            <nav class=\"breadcrumbs\">\n                <div class=\"breadcrumb-item\">Collections</div>\n                <div class=\"breadcrumb-item\">{$activeCollection.name}</div>\n            </nav>\n\n            <div class=\"inline-flex gap-5\">\n                {#if !$hideControls}\n                    <button\n                        type=\"button\"\n                        aria-label=\"Edit collection\"\n                        class=\"btn btn-transparent btn-circle\"\n                        use:tooltip={{ text: \"Edit collection\", position: \"right\" }}\n                        on:click={() => collectionUpsertPanel?.show($activeCollection)}\n                    >\n                        <i class=\"ri-settings-4-line\" />\n                    </button>\n                {/if}\n\n                <RefreshButton\n                    on:refresh={() => {\n                        recordsList?.load();\n                        recordsCount?.reload();\n                    }}\n                />\n            </div>\n\n            <div class=\"btns-group\">\n                <button\n                    type=\"button\"\n                    class=\"btn btn-outline\"\n                    on:click={() => collectionDocsPanel?.show($activeCollection)}\n                >\n                    <i class=\"ri-code-s-slash-line\" />\n                    <span class=\"txt\">API Preview</span>\n                </button>\n\n                {#if $activeCollection.type !== \"view\"}\n                    <button type=\"button\" class=\"btn btn-expanded\" on:click={() => recordUpsertPanel?.show()}>\n                        <i class=\"ri-add-line\" />\n                        <span class=\"txt\">New record</span>\n                    </button>\n                {/if}\n            </div>\n        </header>\n\n        <Searchbar\n            value={filter}\n            autocompleteCollection={$activeCollection}\n            on:submit={(e) => (filter = e.detail)}\n        />\n\n        <div class=\"clearfix m-b-sm\" />\n\n        <RecordsList\n            bind:this={recordsList}\n            collection={$activeCollection}\n            bind:filter\n            bind:sort\n            on:select={(e) => {\n                updateQueryParams({\n                    recordId: e.detail.id,\n                });\n\n                let showModel = e.detail._partial ? e.detail.id : e.detail;\n\n                $activeCollection.type === \"view\"\n                    ? recordPreviewPanel?.show(showModel)\n                    : recordUpsertPanel?.show(showModel);\n            }}\n            on:delete={() => {\n                recordsCount?.reload();\n            }}\n            on:new={() => recordUpsertPanel?.show()}\n        />\n\n        <svelte:fragment slot=\"footer\">\n            <RecordsCount\n                bind:this={recordsCount}\n                class=\"m-r-auto txt-sm txt-hint\"\n                collection={$activeCollection}\n                {filter}\n                bind:totalCount\n            />\n        </svelte:fragment>\n    </PageWrapper>\n{/if}\n\n<CollectionUpsertPanel\n    bind:this={collectionUpsertPanel}\n    on:truncate={() => {\n        recordsList?.load();\n        recordsCount?.reload();\n    }}\n/>\n\n<CollectionDocsPanel bind:this={collectionDocsPanel} />\n\n<RecordUpsertPanel\n    bind:this={recordUpsertPanel}\n    collection={$activeCollection}\n    on:hide={() => {\n        updateQueryParams({ recordId: null });\n    }}\n    on:save={(e) => {\n        if (filter) {\n            // if there is applied filter, reload the count since we\n            // don't know after the save whether the record satisfies it\n            recordsCount?.reload();\n        } else if (e.detail.isNew) {\n            totalCount++;\n        }\n\n        recordsList?.reloadLoadedPages();\n    }}\n    on:delete={(e) => {\n        if (!filter || recordsList?.hasRecord(e.detail.id)) {\n            totalCount--;\n        }\n\n        recordsList?.reloadLoadedPages();\n    }}\n/>\n\n<RecordPreviewPanel\n    bind:this={recordPreviewPanel}\n    collection={$activeCollection}\n    on:hide={() => {\n        updateQueryParams({ recordId: null });\n    }}\n/>\n","<script>\n    import PageSidebar from \"@/components/base/PageSidebar.svelte\";\n    import { hideControls } from \"@/stores/app\";\n    import { link } from \"svelte-spa-router\";\n    import active from \"svelte-spa-router/active\";\n</script>\n\n<PageSidebar class=\"settings-sidebar\">\n    <div class=\"sidebar-content\">\n        <div class=\"sidebar-title\">System</div>\n        <a href=\"/settings\" class=\"sidebar-list-item\" use:active={{ path: \"/settings\" }} use:link>\n            <i class=\"ri-home-gear-line\" aria-hidden=\"true\" />\n            <span class=\"txt\">Application</span>\n        </a>\n        <a\n            href=\"/settings/mail\"\n            class=\"sidebar-list-item\"\n            use:active={{ path: \"/settings/mail/?.*\" }}\n            use:link\n        >\n            <i class=\"ri-send-plane-2-line\" aria-hidden=\"true\" />\n            <span class=\"txt\">Mail settings</span>\n        </a>\n        <a\n            href=\"/settings/storage\"\n            class=\"sidebar-list-item\"\n            use:active={{ path: \"/settings/storage/?.*\" }}\n            use:link\n        >\n            <i class=\"ri-archive-drawer-line\" aria-hidden=\"true\" />\n            <span class=\"txt\">Files storage</span>\n        </a>\n        <a\n            href=\"/settings/backups\"\n            class=\"sidebar-list-item\"\n            use:active={{ path: \"/settings/backups/?.*\" }}\n            use:link\n        >\n            <i class=\"ri-archive-line\" aria-hidden=\"true\" />\n            <span class=\"txt\">Backups</span>\n        </a>\n        <a\n            href=\"/settings/crons\"\n            class=\"sidebar-list-item\"\n            use:active={{ path: \"/settings/crons/?.*\" }}\n            use:link\n        >\n            <i class=\"ri-time-line\" aria-hidden=\"true\"></i>\n            <span class=\"txt\">Crons</span>\n        </a>\n\n        {#if !$hideControls}\n            <div class=\"sidebar-title\">\n                <span class=\"txt\">Sync</span>\n            </div>\n            <a\n                href=\"/settings/export-collections\"\n                class=\"sidebar-list-item\"\n                use:active={{ path: \"/settings/export-collections/?.*\" }}\n                use:link\n            >\n                <i class=\"ri-uninstall-line\" aria-hidden=\"true\" />\n                <span class=\"txt\">Export collections</span>\n            </a>\n            <a\n                href=\"/settings/import-collections\"\n                class=\"sidebar-list-item\"\n                use:active={{ path: \"/settings/import-collections/?.*\" }}\n                use:link\n            >\n                <i class=\"ri-install-line\" aria-hidden=\"true\" />\n                <span class=\"txt\">Import collections</span>\n            </a>\n        {/if}\n    </div>\n</PageSidebar>\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import Accordion from \"@/components/base/Accordion.svelte\";\n    import Field from \"@/components/base/Field.svelte\";\n    import { errors } from \"@/stores/errors\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { scale } from \"svelte/transition\";\n\n    export let formSettings;\n\n    $: hasErrors = !CommonHelper.isEmpty($errors?.batch);\n\n    $: isEnabled = !!formSettings.batch?.enabled;\n</script>\n\n<Accordion single>\n    <svelte:fragment slot=\"header\">\n        <div class=\"inline-flex\">\n            <i class=\"ri-archive-stack-line\"></i>\n            <span class=\"txt\">Batch API</span>\n        </div>\n\n        <div class=\"flex-fill\" />\n\n        {#if isEnabled}\n            <span class=\"label label-success\">Enabled</span>\n        {:else}\n            <span class=\"label\">Disabled</span>\n        {/if}\n\n        {#if hasErrors}\n            <i\n                class=\"ri-error-warning-fill txt-danger\"\n                transition:scale={{ duration: 150, start: 0.7 }}\n                use:tooltip={{ text: \"Has errors\", position: \"left\" }}\n            />\n        {/if}\n    </svelte:fragment>\n\n    <Field class=\"form-field form-field-toggle m-b-sm\" name=\"batch.enabled\" let:uniqueId>\n        <input type=\"checkbox\" id={uniqueId} bind:checked={formSettings.batch.enabled} />\n        <label for={uniqueId}>Enable <small class=\"txt-hint\">(experimental)</small></label>\n    </Field>\n\n    <div class=\"grid\">\n        <div class=\"col-lg-4\">\n            <Field class=\"form-field {isEnabled ? 'required' : ''}\" name=\"batch.maxRequests\" let:uniqueId>\n                <label for={uniqueId}>\n                    <span class=\"txt\">Max requests in a batch</span>\n                    <i\n                        class=\"ri-information-line link-hint\"\n                        use:tooltip={{\n                            text: \"Rate limiting (if enabled) also applies for the batch create/update/upsert/delete requests.\",\n                            position: \"right\",\n                        }}\n                    />\n                </label>\n                <input\n                    type=\"number\"\n                    id={uniqueId}\n                    min=\"0\"\n                    step=\"1\"\n                    required={isEnabled}\n                    bind:value={formSettings.batch.maxRequests}\n                />\n            </Field>\n        </div>\n\n        <div class=\"col-lg-4\">\n            <Field class=\"form-field {isEnabled ? 'required' : ''}\" name=\"batch.timeout\" let:uniqueId>\n                <label for={uniqueId}>\n                    <span class=\"txt\">Max processing time (in seconds)</span>\n                </label>\n                <input\n                    type=\"number\"\n                    id={uniqueId}\n                    min=\"0\"\n                    step=\"1\"\n                    required={isEnabled}\n                    bind:value={formSettings.batch.timeout}\n                />\n            </Field>\n        </div>\n\n        <div class=\"col-lg-4\">\n            <Field class=\"form-field\" name=\"batch.maxBodySize\" let:uniqueId>\n                <label for={uniqueId}>Max body size (in bytes)</label>\n                <input\n                    type=\"number\"\n                    id={uniqueId}\n                    min=\"0\"\n                    step=\"1\"\n                    placeholder=\"Default to 128MB\"\n                    value={formSettings.batch.maxBodySize || \"\"}\n                    on:input={(e) => (formSettings.batch.maxBodySize = e.target.value << 0)}\n                />\n            </Field>\n        </div>\n    </div>\n</Accordion>\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import Accordion from \"@/components/base/Accordion.svelte\";\n    import Field from \"@/components/base/Field.svelte\";\n    import MultipleValueInput from \"@/components/base/MultipleValueInput.svelte\";\n    import ObjectSelect from \"@/components/base/ObjectSelect.svelte\";\n    import { errors } from \"@/stores/errors\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { scale } from \"svelte/transition\";\n\n    const commonProxyHeaders = [\"X-Forwarded-For\", \"Fly-Client-IP\", \"CF-Connecting-IP\"];\n\n    export let formSettings;\n    export let healthData;\n\n    let initialSettingsHash = \"\";\n\n    $: settingsHash = JSON.stringify(formSettings);\n\n    $: if (initialSettingsHash != settingsHash) {\n        initialSettingsHash = settingsHash;\n    }\n\n    $: hasChanges = initialSettingsHash != settingsHash;\n\n    $: hasErrors = !CommonHelper.isEmpty($errors?.trustedProxy);\n\n    $: isEnabled = !CommonHelper.isEmpty(formSettings.trustedProxy.headers);\n\n    $: suggestedProxyHeaders = !healthData.possibleProxyHeader\n        ? commonProxyHeaders\n        : [healthData.possibleProxyHeader].concat(\n              commonProxyHeaders.filter((h) => h != healthData.possibleProxyHeader),\n          );\n\n    function setHeader(val) {\n        formSettings.trustedProxy.headers = [val];\n    }\n\n    const ipOptions = [\n        { label: \"Use leftmost IP\", value: true },\n        { label: \"Use rightmost IP\", value: false },\n    ];\n</script>\n\n<Accordion single>\n    <svelte:fragment slot=\"header\">\n        <div class=\"inline-flex\">\n            <i class=\"ri-route-line\"></i>\n            <span class=\"txt\">User IP proxy headers</span>\n            {#if !isEnabled && healthData.possibleProxyHeader}\n                <i\n                    class=\"ri-alert-line txt-sm txt-warning\"\n                    use:tooltip={\"Detected proxy header.\\nIt is recommend to list it as trusted.\"}\n                />\n            {:else if isEnabled && !hasChanges && !formSettings.trustedProxy.headers.includes(healthData.possibleProxyHeader)}\n                <i\n                    class=\"ri-alert-line txt-sm txt-hint\"\n                    use:tooltip={\"The configured proxy header doesn't match with the detected one.\"}\n                />\n            {/if}\n        </div>\n\n        <div class=\"flex-fill\" />\n\n        {#if isEnabled}\n            <span class=\"label label-success\">Enabled</span>\n        {:else}\n            <span class=\"label\">Disabled</span>\n        {/if}\n\n        {#if hasErrors}\n            <i\n                class=\"ri-error-warning-fill txt-danger\"\n                transition:scale={{ duration: 150, start: 0.7 }}\n                use:tooltip={{ text: \"Has errors\", position: \"left\" }}\n            />\n        {/if}\n    </svelte:fragment>\n\n    <div class=\"alert alert-info m-b-sm\">\n        <div class=\"content\">\n            <div class=\"inline-flex flex-gap-5\">\n                <span>Resolved user IP:</span>\n                <strong>{healthData.realIP || \"N/A\"}</strong>\n                <i\n                    class=\"ri-information-line txt-sm link-hint\"\n                    use:tooltip={\"Must show your actual IP.\\nIf not, set the correct proxy header.\"}\n                />\n            </div>\n            <br />\n            <div class=\"inline-flex flex-gap-5\">\n                <span>Detected proxy header:</span>\n                <strong>{healthData.possibleProxyHeader || \"N/A\"}</strong>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"content m-b-sm\">\n        <p>\n            When PocketBase is deployed on platforms like Fly or it is accessible through proxies such as\n            NGINX, requests from different users will originate from the same IP address (the IP of the proxy\n            connecting to your PocketBase app).\n        </p>\n        <p>\n            In this case to retrieve the actual user IP (used for rate limiting, logging, etc.) you need to\n            properly configure your proxy and list below the trusted headers that PocketBase could use to\n            extract the user IP.\n        </p>\n        <p class=\"txt-bold\">When using such proxy, to avoid spoofing it is recommended to:</p>\n        <ul class=\"m-t-0 txt-bold\">\n            <li>use headers that are controlled only by the proxy and cannot be manually set by the users</li>\n            <li>make sure that the PocketBase server can be accessed only through the proxy</li>\n        </ul>\n        <p>You can clear the headers field if PocketBase is not deployed behind a proxy.</p>\n    </div>\n\n    <div class=\"grid grid-sm\">\n        <div class=\"col-lg-9\">\n            <Field class=\"form-field m-b-0\" name=\"trustedProxy.headers\" let:uniqueId>\n                <label for={uniqueId}>Trusted proxy headers</label>\n                <MultipleValueInput\n                    id={uniqueId}\n                    placeholder=\"Leave empty to disable\"\n                    bind:value={formSettings.trustedProxy.headers}\n                />\n                <div class=\"form-field-addon\">\n                    <button\n                        type=\"button\"\n                        class=\"btn btn-sm btn-hint btn-transparent btn-clear\"\n                        class:hidden={CommonHelper.isEmpty(formSettings.trustedProxy.headers)}\n                        on:click={() => (formSettings.trustedProxy.headers = [])}\n                    >\n                        Clear\n                    </button>\n                </div>\n                <div class=\"help-block\">\n                    <p>\n                        Comma separated list of headers such as:\n                        {#each suggestedProxyHeaders as header}\n                            <button\n                                type=\"button\"\n                                class=\"label label-sm link-primary txt-mono\"\n                                on:click={() => setHeader(header)}\n                            >\n                                {header}\n                            </button>&nbsp;\n                        {/each}\n                    </p>\n                </div>\n            </Field>\n        </div>\n        <div class=\"col-lg-3\">\n            <Field class=\"form-field m-0\" name=\"trustedProxy.useLeftmostIP\" let:uniqueId>\n                <label for={uniqueId}>\n                    <span class=\"txt\">IP priority selection</span>\n                    <i\n                        class=\"ri-information-line link-hint\"\n                        use:tooltip={{\n                            text: \"This is in case the proxy returns more than 1 IP as header value. The rightmost IP is usually considered to be the more trustworthy but this could vary depending on the proxy.\",\n                            position: \"right\",\n                        }}\n                    />\n                </label>\n                <ObjectSelect\n                    items={ipOptions}\n                    bind:keyOfSelected={formSettings.trustedProxy.useLeftmostIP}\n                />\n            </Field>\n        </div>\n    </div>\n</Accordion>\n","<script>\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    export let value = \"\";\n    export let options = []; // [{label: \"Option 1\", value: \"opt1\"}, {label: \"Option 2\", value: \"opt2\"}, ...]\n\n    const uniqueId = \"list_\" + CommonHelper.randomString(5);\n</script>\n\n<input\n    type={$$restProps.type || \"text\"}\n    list={uniqueId}\n    {value}\n    on:input={(e) => {\n        value = e.target.value;\n    }}\n    {...$$restProps}\n/>\n\n<datalist id={uniqueId}>\n    {#each options as opt}\n        <option value={opt.value}>{opt.label || \"\"}</option>\n    {/each}\n</datalist>\n","<script>\n    import { scale } from \"svelte/transition\";\n    import tooltip from \"@/actions/tooltip\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import Accordion from \"@/components/base/Accordion.svelte\";\n    import Field from \"@/components/base/Field.svelte\";\n    import AutocompleteInput from \"@/components/base/AutocompleteInput.svelte\";\n    import ObjectSelect from \"@/components/base/ObjectSelect.svelte\";\n    import OverlayPanel from \"@/components/base/OverlayPanel.svelte\";\n    import { errors, setErrors, removeError } from \"@/stores/errors\";\n    import { collections, loadCollections } from \"@/stores/collections\";\n\n    export let formSettings;\n\n    const audienceOptions = [\n        { value: \"\", label: \"All\" },\n        { value: \"@guest\", label: \"Guest only\" },\n        { value: \"@auth\", label: \"Auth only\" },\n    ];\n\n    const basePredefinedTags = [\n        { value: \"*:list\" },\n        { value: \"*:view\" },\n        { value: \"*:create\" },\n        { value: \"*:update\" },\n        { value: \"*:delete\" },\n        { value: \"*:file\", description: \"targets the files download endpoint\" },\n        { value: \"*:listAuthMethods\" },\n        { value: \"*:authRefresh\" },\n        { value: \"*:auth\", description: \"targets all auth methods\" },\n        { value: \"*:authWithPassword\" },\n        { value: \"*:authWithOAuth2\" },\n        { value: \"*:authWithOTP\" },\n        { value: \"*:requestOTP\" },\n        { value: \"*:requestPasswordReset\" },\n        { value: \"*:confirmPasswordReset\" },\n        { value: \"*:requestVerification\" },\n        { value: \"*:confirmVerification\" },\n        { value: \"*:requestEmailChange\" },\n        { value: \"*:confirmEmailChange\" },\n    ];\n\n    let predefinedTags = basePredefinedTags;\n\n    let formatInfoPanel;\n\n    $: hasErrors = !CommonHelper.isEmpty($errors?.rateLimits);\n\n    loadPredefinedTags();\n\n    async function loadPredefinedTags() {\n        await loadCollections();\n\n        predefinedTags = [];\n\n        for (let collection of $collections) {\n            if (collection.system) {\n                continue;\n            }\n\n            predefinedTags.push({ value: collection.name + \":list\" });\n            predefinedTags.push({ value: collection.name + \":view\" });\n\n            if (collection.type != \"view\") {\n                predefinedTags.push({ value: collection.name + \":create\" });\n                predefinedTags.push({ value: collection.name + \":update\" });\n                predefinedTags.push({ value: collection.name + \":delete\" });\n            }\n\n            if (collection.type == \"auth\") {\n                predefinedTags.push({ value: collection.name + \":listAuthMethods\" });\n                predefinedTags.push({ value: collection.name + \":authRefresh\" });\n                predefinedTags.push({ value: collection.name + \":auth\" });\n                predefinedTags.push({ value: collection.name + \":authWithPassword\" });\n                predefinedTags.push({ value: collection.name + \":authWithOAuth2\" });\n                predefinedTags.push({ value: collection.name + \":authWithOTP\" });\n                predefinedTags.push({ value: collection.name + \":requestOTP\" });\n                predefinedTags.push({ value: collection.name + \":requestPasswordReset\" });\n                predefinedTags.push({ value: collection.name + \":confirmPasswordReset\" });\n                predefinedTags.push({ value: collection.name + \":requestVerification\" });\n                predefinedTags.push({ value: collection.name + \":confirmVerification\" });\n                predefinedTags.push({ value: collection.name + \":requestEmailChange\" });\n                predefinedTags.push({ value: collection.name + \":confirmEmailChange\" });\n            }\n\n            if (collection.fields.find((f) => f.type == \"file\")) {\n                predefinedTags.push({ value: collection.name + \":file\" });\n            }\n        }\n\n        predefinedTags = predefinedTags.concat(basePredefinedTags);\n    }\n\n    function newRule() {\n        setErrors({}); // reset\n\n        if (!Array.isArray(formSettings.rateLimits.rules)) {\n            formSettings.rateLimits.rules = [];\n        }\n\n        formSettings.rateLimits.rules.push({\n            label: \"\",\n            maxRequests: 300,\n            duration: 10,\n            audience: \"\",\n        });\n\n        formSettings.rateLimits.rules = formSettings.rateLimits.rules;\n\n        if (formSettings.rateLimits.rules.length == 1) {\n            formSettings.rateLimits.enabled = true;\n        }\n    }\n\n    function removeRule(i) {\n        setErrors({}); // reset\n\n        formSettings.rateLimits.rules.splice(i, 1);\n        formSettings.rateLimits.rules = formSettings.rateLimits.rules;\n\n        if (!formSettings.rateLimits.rules.length) {\n            formSettings.rateLimits.enabled = false;\n        }\n    }\n</script>\n\n<Accordion single>\n    <svelte:fragment slot=\"header\">\n        <div class=\"inline-flex\">\n            <i class=\"ri-pulse-fill\"></i>\n            <span class=\"txt\">Rate limiting</span>\n        </div>\n\n        <div class=\"flex-fill\" />\n\n        {#if hasErrors}\n            <i\n                class=\"ri-error-warning-fill txt-danger\"\n                transition:scale={{ duration: 150, start: 0.7 }}\n                use:tooltip={{ text: \"Has errors\", position: \"left\" }}\n            />\n        {/if}\n\n        {#if formSettings.rateLimits.enabled}\n            <span class=\"label label-success\">Enabled</span>\n        {:else}\n            <span class=\"label\">Disabled</span>\n        {/if}\n    </svelte:fragment>\n\n    <Field class=\"form-field form-field-toggle m-b-xs\" name=\"rateLimits.enabled\" let:uniqueId>\n        <input type=\"checkbox\" id={uniqueId} bind:checked={formSettings.rateLimits.enabled} />\n        <label for={uniqueId}>Enable <small class=\"txt-hint\">(experimental)</small></label>\n    </Field>\n\n    {#if !CommonHelper.isEmpty(formSettings.rateLimits.rules)}\n        <table class=\"rate-limit-table\">\n            <thead>\n                <tr>\n                    <th class=\"col-label\">Rate limit label</th>\n                    <th class=\"col-requests\">Max requests<br /><small>(per IP)</small></th>\n                    <th class=\"col-duration\">Interval<br /><small>(in seconds)</small></th>\n                    <th class=\"col-audience\">Targeted users</th>\n                    <th></th>\n                </tr>\n            </thead>\n            <tbody>\n                {#each formSettings.rateLimits.rules || [] as rule, i}\n                    <tr class=\"rate-limit-row\">\n                        <td class=\"col-label\">\n                            <Field class=\"form-field\" name={\"rateLimits.rules.\" + i + \".label\"} inlineError>\n                                <AutocompleteInput\n                                    required\n                                    placeholder=\"tag (users:create) or path (/api/)\"\n                                    options={predefinedTags}\n                                    bind:value={rule.label}\n                                />\n                            </Field>\n                        </td>\n                        <td class=\"col-requests\">\n                            <Field\n                                class=\"form-field\"\n                                name={\"rateLimits.rules.\" + i + \".maxRequests\"}\n                                inlineError\n                            >\n                                <input\n                                    type=\"number\"\n                                    required\n                                    placeholder=\"Max requests*\"\n                                    min=\"1\"\n                                    step=\"1\"\n                                    bind:value={rule.maxRequests}\n                                />\n                            </Field>\n                        </td>\n                        <td class=\"col-duration\">\n                            <Field\n                                class=\"form-field\"\n                                name={\"rateLimits.rules.\" + i + \".duration\"}\n                                inlineError\n                            >\n                                <input\n                                    type=\"number\"\n                                    required\n                                    placeholder=\"Interval*\"\n                                    min=\"1\"\n                                    step=\"1\"\n                                    bind:value={rule.duration}\n                                />\n                            </Field>\n                        </td>\n                        <td class=\"col-audience\">\n                            <Field\n                                class=\"form-field\"\n                                name={\"rateLimits.rules.\" + i + \".audience\"}\n                                inlineError\n                            >\n                                <ObjectSelect\n                                    items={audienceOptions}\n                                    bind:keyOfSelected={rule.audience}\n                                    on:change={() => {\n                                        removeError(\"rateLimits.rules.\" + i); // reset rule errors\n                                    }}\n                                />\n                            </Field>\n                        </td>\n                        <td class=\"col-action\">\n                            <button\n                                type=\"button\"\n                                title=\"Remove rule\"\n                                aria-label=\"Remove rule\"\n                                class=\"btn btn-xs btn-circle btn-hint btn-transparent\"\n                                on:click={() => removeRule(i)}\n                            >\n                                <i class=\"ri-close-line\"></i>\n                            </button>\n                        </td>\n                    </tr>\n                {/each}\n            </tbody>\n        </table>\n    {/if}\n\n    <div class=\"flex m-t-sm\">\n        <button\n            type=\"button\"\n            class=\"btn btn-sm btn-secondary m-r-auto\"\n            class:btn-danger={$errors?.rateLimits?.rules?.message}\n            on:click={() => newRule()}\n        >\n            <i class=\"ri-add-line\"></i>\n            <span class=\"txt\">Add rate limit rule</span>\n        </button>\n\n        <button type=\"button\" class=\"txt-nowrap txt-sm link-hint\" on:click={() => formatInfoPanel?.show()}>\n            <em>Learn more about the rate limit rules</em>\n        </button>\n    </div>\n</Accordion>\n\n<OverlayPanel bind:this={formatInfoPanel}>\n    <svelte:fragment slot=\"header\">\n        <h4 class=\"center txt-break\">Rate limit label format</h4>\n    </svelte:fragment>\n\n    <p>The rate limit rules are resolved in the following order (stops on the first match):</p>\n    <ol>\n        <li>exact tag (e.g. <code>users:create</code>)</li>\n        <li>wildcard tag (e.g. <code>*:create</code>)</li>\n        <li>METHOD + exact path (e.g. <code>POST /a/b</code>)</li>\n        <li>METHOD + prefix path (e.g. <code>POST /a/b<strong>/</strong></code>)</li>\n        <li>exact path (e.g. <code>/a/b</code>)</li>\n        <li>prefix path (e.g. <code>/a/b<strong>/</strong></code>)</li>\n    </ol>\n    <p>\n        In case of multiple rules with the same label but different target user audience (e.g. \"guest\" vs\n        \"auth\"), only the matching audience rule is taken in consideration.\n    </p>\n\n    <hr class=\"m-t-xs m-b-xs\" />\n\n    <p>The rate limit label could be in one of the following formats:</p>\n    <ul>\n        <li class=\"m-b-sm\">\n            <code>[METHOD ]/my/path</code> - full exact route match (\n            <strong>must be without trailing slash </strong>; \"METHOD\" is optional).\n            <br /> For example:\n            <ul class=\"m-0\">\n                <li class=\"m-0\">\n                    <code>/hello</code> - matches <code>GET /hello</code>, <code>POST /hello</code>, etc.\n                </li>\n                <li class=\"m-0\">\n                    <code>POST /hello</code> - matches only <code>POST /hello</code>\n                </li>\n            </ul>\n        </li>\n        <li class=\"m-b-sm\">\n            <code>[METHOD ]/my/prefix<strong>/</strong></code> - path prefix (\n            <strong>must end with trailing slash;</strong>\n            \"METHOD\" is optional). For example:\n            <ul class=\"m-0\">\n                <li class=\"m-0\">\n                    <code>/hello/</code> - matches <code>GET /hello</code>,\n                    <code>POST /hello/a/b/c</code>, etc.\n                </li>\n                <li class=\"m-0\">\n                    <code>POST /hello/</code> - matches <code>POST /hello</code>,\n                    <code>POST /hello/a/b/c</code>, etc.\n                </li>\n            </ul>\n        </li>\n        <li>\n            <code>collectionName:predefinedTag</code> - targets a specific action of a single collection. To\n            apply the rule for all collections you can use the <code>*</code> wildcard. For example:\n            <code>posts:create</code>, <code>users:listAuthMethods</code>, <code>*:auth</code>.\n            <br />\n            The predifined collection tags are (<em>there should be autocomplete once you start typing</em>):\n            <ul>\n                {#each basePredefinedTags as tag}\n                    <li class=\"m-0\">\n                        {tag.value.replace(\"*:\", \":\")}\n                        {#if tag.description}\n                            <em class=\"txt-hint\">({tag.description})</em>\n                        {/if}\n                    </li>\n                {/each}\n            </ul>\n        </li>\n    </ul>\n\n    <svelte:fragment slot=\"footer\">\n        <button type=\"button\" class=\"btn btn-transparent\" on:click={() => formatInfoPanel?.hide()}>\n            Close\n        </button>\n    </svelte:fragment>\n</OverlayPanel>\n","<script>\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import tooltip from \"@/actions/tooltip\";\n    import { addSuccessToast } from \"@/stores/toasts\";\n    import { appName, hideControls, pageTitle } from \"@/stores/app\";\n    import { setErrors } from \"@/stores/errors\";\n    import Field from \"@/components/base/Field.svelte\";\n    import PageWrapper from \"@/components/base/PageWrapper.svelte\";\n    import SettingsSidebar from \"@/components/settings/SettingsSidebar.svelte\";\n    import BatchAccordion from \"@/components/settings/BatchAccordion.svelte\";\n    import TrustedProxyAccordion from \"@/components/settings/TrustedProxyAccordion.svelte\";\n    import RateLimitAccordion from \"@/components/settings/RateLimitAccordion.svelte\";\n\n    $pageTitle = \"Application settings\";\n\n    let originalFormSettings = {};\n    let formSettings = {};\n    let isLoading = false;\n    let isSaving = false;\n    let initialHash = \"\";\n    let healthData = {};\n\n    $: initialHash = JSON.stringify(originalFormSettings);\n\n    $: hasChanges = initialHash != JSON.stringify(formSettings);\n\n    loadSettings();\n\n    async function loadHealthData() {\n        try {\n            healthData = ((await ApiClient.health.check()) || {})?.data || {};\n        } catch (err) {\n            console.warn(\"Health check failed:\", err);\n        }\n    }\n\n    async function loadSettings() {\n        isLoading = true;\n\n        try {\n            const settings = (await ApiClient.settings.getAll()) || {};\n            init(settings);\n\n            await loadHealthData();\n        } catch (err) {\n            ApiClient.error(err);\n        }\n\n        isLoading = false;\n    }\n\n    async function save() {\n        if (isSaving || !hasChanges) {\n            return;\n        }\n\n        isSaving = true;\n\n        formSettings.rateLimits.rules = sortRules(formSettings.rateLimits.rules);\n\n        try {\n            const settings = await ApiClient.settings.update(CommonHelper.filterRedactedProps(formSettings));\n            init(settings);\n\n            await loadHealthData();\n\n            setErrors({});\n\n            addSuccessToast(\"Successfully saved application settings.\");\n        } catch (err) {\n            ApiClient.error(err);\n        }\n\n        isSaving = false;\n    }\n\n    function init(settings = {}) {\n        $appName = settings?.meta?.appName;\n        $hideControls = !!settings?.meta?.hideControls;\n\n        formSettings = {\n            meta: settings?.meta || {},\n            batch: settings.batch || {},\n            trustedProxy: settings.trustedProxy || { headers: [] },\n            rateLimits: settings.rateLimits || { rules: [] },\n        };\n\n        sortRules(formSettings.rateLimits.rules);\n\n        originalFormSettings = JSON.parse(JSON.stringify(formSettings));\n    }\n\n    function reset() {\n        formSettings = JSON.parse(JSON.stringify(originalFormSettings || {}));\n    }\n\n    // sort the specified rules list in place\n    function sortRules(rules) {\n        if (!rules) {\n            return;\n        }\n\n        let compare = [{}, {}];\n\n        rules.sort((a, b) => {\n            compare[0].length = a.label.length;\n            compare[0].isTag = a.label.includes(\":\") || !a.label.includes(\"/\");\n            compare[0].isWildcardTag = compare[0].isTag && a.label.startsWith(\"*\");\n            compare[0].isExactTag = compare[0].isTag && !compare[0].isWildcardTag;\n            compare[0].isPrefix = !compare[0].isTag && a.label.endsWith(\"/\");\n            compare[0].hasMethod = !compare[0].isTag && a.label.includes(\" /\");\n\n            compare[1].length = b.label.length;\n            compare[1].isTag = b.label.includes(\":\") || !b.label.includes(\"/\");\n            compare[1].isWildcardTag = compare[1].isTag && b.label.startsWith(\"*\");\n            compare[1].isExactTag = compare[1].isTag && !compare[1].isWildcardTag;\n            compare[1].isPrefix = !compare[1].isTag && b.label.endsWith(\"/\");\n            compare[1].hasMethod = !compare[1].isTag && b.label.includes(\" /\");\n\n            for (let item of compare) {\n                item.priority = 0; // reset\n\n                if (item.isTag) {\n                    item.priority += 1000;\n\n                    if (item.isExactTag) {\n                        item.priority += 10;\n                    } else {\n                        item.priority += 5;\n                    }\n                } else {\n                    if (item.hasMethod) {\n                        item.priority += 10;\n                    }\n\n                    if (!item.isPrefix) {\n                        item.priority += 5;\n                    }\n                }\n            }\n            // sort additionally prefix paths based on their length\n            if (\n                compare[0].isPrefix &&\n                compare[1].isPrefix &&\n                ((compare[0].hasMethod && compare[1].hasMethod) ||\n                    (!compare[0].hasMethod && !compare[1].hasMethod))\n            ) {\n                if (compare[0].length > compare[1].length) {\n                    compare[0].priority += 1;\n                } else if (compare[0].length < compare[1].length) {\n                    compare[1].priority += 1;\n                }\n            }\n\n            if (compare[0].priority > compare[1].priority) {\n                return -1;\n            }\n\n            if (compare[0].priority < compare[1].priority) {\n                return 1;\n            }\n\n            return 0;\n        });\n\n        return rules;\n    }\n</script>\n\n<SettingsSidebar />\n\n<PageWrapper>\n    <header class=\"page-header\">\n        <nav class=\"breadcrumbs\">\n            <div class=\"breadcrumb-item\">Settings</div>\n            <div class=\"breadcrumb-item\">Application</div>\n        </nav>\n    </header>\n\n    <div class=\"wrapper\">\n        <form class=\"panel\" autocomplete=\"off\" on:submit|preventDefault={save}>\n            {#if isLoading}\n                <div class=\"loader\" />\n            {:else}\n                <div class=\"grid\">\n                    <div class=\"col-lg-6\">\n                        <Field class=\"form-field required\" name=\"meta.appName\" let:uniqueId>\n                            <label for={uniqueId}>Application name</label>\n                            <input\n                                type=\"text\"\n                                id={uniqueId}\n                                required\n                                bind:value={formSettings.meta.appName}\n                            />\n                        </Field>\n                    </div>\n\n                    <div class=\"col-lg-6\">\n                        <Field class=\"form-field required\" name=\"meta.appURL\" let:uniqueId>\n                            <label for={uniqueId}>Application URL</label>\n                            <input type=\"text\" id={uniqueId} required bind:value={formSettings.meta.appURL} />\n                        </Field>\n                    </div>\n                    <div class=\"col-lg-12\">\n                        <div class=\"accordions\">\n                            <TrustedProxyAccordion bind:formSettings {healthData} />\n                            <RateLimitAccordion bind:formSettings />\n                            <BatchAccordion bind:formSettings />\n                        </div>\n                    </div>\n                    <div class=\"col-lg-12\">\n                        <Field class=\"form-field form-field-toggle m-0\" name=\"meta.hideControls\" let:uniqueId>\n                            <input\n                                type=\"checkbox\"\n                                id={uniqueId}\n                                bind:checked={formSettings.meta.hideControls}\n                            />\n                            <label for={uniqueId}>\n                                <span class=\"txt\">Hide collection create and edit controls</span>\n                                <i\n                                    class=\"ri-information-line link-hint\"\n                                    use:tooltip={{\n                                        text: `This could prevent making accidental schema changes when in production environment.`,\n                                        position: \"right\",\n                                    }}\n                                />\n                            </label>\n                        </Field>\n                    </div>\n                </div>\n\n                <div class=\"flex m-t-base\">\n                    <div class=\"flex-fill\" />\n\n                    {#if hasChanges}\n                        <button\n                            type=\"button\"\n                            class=\"btn btn-transparent btn-hint\"\n                            disabled={isSaving}\n                            on:click={() => reset()}\n                        >\n                            <span class=\"txt\">Cancel</span>\n                        </button>\n                    {/if}\n\n                    <button\n                        type=\"submit\"\n                        class=\"btn btn-expanded\"\n                        class:btn-loading={isSaving}\n                        disabled={!hasChanges || isSaving}\n                        on:click={() => save()}\n                    >\n                        <span class=\"txt\">Save changes</span>\n                    </button>\n                </div>\n            {/if}\n        </form>\n    </div>\n</PageWrapper>\n","<script>\n    import { createEventDispatcher, onDestroy } from \"svelte\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { setErrors } from \"@/stores/errors\";\n    import { addInfoToast, addSuccessToast } from \"@/stores/toasts\";\n    import OverlayPanel from \"@/components/base/OverlayPanel.svelte\";\n    import Field from \"@/components/base/Field.svelte\";\n\n    const dispatch = createEventDispatcher();\n\n    const formId = \"backup_create_\" + CommonHelper.randomString(5);\n\n    let panel;\n    let name = \"\";\n    let isSubmitting = false;\n    let submitTimeoutId;\n\n    export function show(newName) {\n        setErrors({});\n        isSubmitting = false;\n        name = newName || \"\";\n        panel?.show();\n    }\n\n    export function hide() {\n        return panel?.hide();\n    }\n\n    async function submit() {\n        if (isSubmitting) {\n            return;\n        }\n\n        isSubmitting = true;\n\n        clearTimeout(submitTimeoutId);\n        submitTimeoutId = setTimeout(() => {\n            hide();\n        }, 1500);\n\n        try {\n            await ApiClient.backups.create(name, { $cancelKey: formId });\n\n            isSubmitting = false;\n\n            hide();\n            dispatch(\"submit\");\n            addSuccessToast(\"Successfully generated new backup.\");\n        } catch (err) {\n            if (!err.isAbort) {\n                ApiClient.error(err);\n            }\n        }\n\n        clearTimeout(submitTimeoutId);\n        isSubmitting = false;\n    }\n\n    onDestroy(() => {\n        clearTimeout(submitTimeoutId);\n    });\n</script>\n\n<OverlayPanel\n    bind:this={panel}\n    class=\"backup-create-panel\"\n    beforeOpen={() => {\n        if (isSubmitting) {\n            addInfoToast(\"A backup has already been started, please wait.\");\n            return false;\n        }\n\n        return true;\n    }}\n    beforeHide={() => {\n        if (isSubmitting) {\n            addInfoToast(\n                \"The backup was started but may take a while to complete. You can come back later.\",\n                4500\n            );\n        }\n\n        return true;\n    }}\n    popup\n    on:show\n    on:hide\n>\n    <svelte:fragment slot=\"header\">\n        <h4 class=\"center txt-break\">Initialize new backup</h4>\n    </svelte:fragment>\n\n    <div class=\"alert alert-info\">\n        <div class=\"icon\">\n            <i class=\"ri-information-line\" />\n        </div>\n        <div class=\"content\">\n            <p>\n                Please note that during the backup other concurrent write requests may fail since the\n                database will be temporary \"locked\" (this usually happens only during the ZIP generation).\n            </p>\n            <p class=\"txt-bold\">\n                If you are using S3 storage for the collections file upload, you'll have to backup them\n                separately since they are not locally stored and will not be included in the final backup!\n            </p>\n        </div>\n    </div>\n\n    <form id={formId} autocomplete=\"off\" on:submit|preventDefault={submit}>\n        <Field class=\"form-field m-0\" name=\"name\" let:uniqueId>\n            <label for={uniqueId}>Backup name</label>\n            <input\n                type=\"text\"\n                id={uniqueId}\n                placeholder={\"Leave empty to autogenerate\"}\n                pattern=\"^[a-z0-9_-]+\\.zip$\"\n                bind:value={name}\n            />\n            <em class=\"help-block\">Must be in the format [a-z0-9_-].zip</em>\n        </Field>\n    </form>\n\n    <svelte:fragment slot=\"footer\">\n        <button type=\"button\" class=\"btn btn-transparent\" on:click={hide} disabled={isSubmitting}>\n            <span class=\"txt\">Cancel</span>\n        </button>\n        <button\n            type=\"submit\"\n            form={formId}\n            class=\"btn btn-expanded\"\n            class:btn-loading={isSubmitting}\n            disabled={isSubmitting}\n        >\n            <span class=\"txt\">Start backup</span>\n        </button>\n    </svelte:fragment>\n</OverlayPanel>\n","<script>\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { setErrors } from \"@/stores/errors\";\n    import { addErrorToast } from \"@/stores/toasts\";\n    import OverlayPanel from \"@/components/base/OverlayPanel.svelte\";\n    import Field from \"@/components/base/Field.svelte\";\n    import CopyIcon from \"@/components/base/CopyIcon.svelte\";\n    import { onDestroy } from \"svelte\";\n\n    const formId = \"backup_restore_\" + CommonHelper.randomString(5);\n\n    let panel;\n    let name = \"\";\n    let nameConfirm = \"\";\n    let isSubmitting = false;\n    let reloadTimeoutId = null;\n\n    $: canSubmit = nameConfirm != \"\" && name == nameConfirm;\n\n    export function show(backupName) {\n        setErrors({});\n        nameConfirm = \"\";\n        name = backupName;\n        isSubmitting = false;\n        panel?.show();\n    }\n\n    export function hide() {\n        return panel?.hide();\n    }\n\n    async function submit() {\n        if (!canSubmit || isSubmitting) {\n            return;\n        }\n\n        clearTimeout(reloadTimeoutId);\n\n        isSubmitting = true;\n\n        try {\n            await ApiClient.backups.restore(name);\n\n            // optimistic restore page reload\n            reloadTimeoutId = setTimeout(() => {\n                window.location.reload();\n            }, 2000);\n        } catch (err) {\n            clearTimeout(reloadTimeoutId);\n\n            if (!err?.isAbort) {\n                isSubmitting = false;\n                addErrorToast(err.response?.message || err.message);\n            }\n        }\n    }\n\n    onDestroy(() => {\n        clearTimeout(reloadTimeoutId);\n    });\n</script>\n\n<OverlayPanel\n    bind:this={panel}\n    class=\"backup-restore-panel\"\n    overlayClose={!isSubmitting}\n    escClose={!isSubmitting}\n    beforeHide={() => !isSubmitting}\n    popup\n    on:show\n    on:hide\n>\n    <svelte:fragment slot=\"header\">\n        <h4 class=\"popup-title txt-ellipsis\">Restore <strong>{name}</strong></h4>\n    </svelte:fragment>\n\n    <div class=\"alert alert-danger\">\n        <div class=\"icon\">\n            <i class=\"ri-alert-line\" />\n        </div>\n        <div class=\"content\">\n            <p class=\"txt-bold\">Please proceed with caution and use it only with trusted backups!</p>\n\n            <p>Backup restore is experimental and works only on UNIX based systems.</p>\n            <p>\n                The restore operation will attempt to replace your existing <code>pb_data</code> with the one from\n                the backup and will restart the application process.\n            </p>\n            <p>\n                This means that on success all of your data (including app settings, users, superusers, etc.) will\n                be replaced with the ones from the backup.\n            </p>\n            <p>\n                Nothing will happen if the backup is invalid or incompatible (ex. missing\n                <code>data.db</code> file).\n            </p>\n        </div>\n    </div>\n\n    <div class=\"content m-b-xs\">\n        Type the backup name\n        <div class=\"label\">\n            <span class=\"txt\">{name}</span>\n            <CopyIcon value={name} />\n        </div>\n        to confirm:\n    </div>\n\n    <form id={formId} autocomplete=\"off\" on:submit|preventDefault={submit}>\n        <Field class=\"form-field required m-0\" name=\"name\" let:uniqueId>\n            <label for={uniqueId}>Backup name</label>\n            <input type=\"text\" id={uniqueId} required bind:value={nameConfirm} />\n        </Field>\n    </form>\n\n    <svelte:fragment slot=\"footer\">\n        <button type=\"button\" class=\"btn btn-transparent\" on:click={hide} disabled={isSubmitting}>\n            Cancel\n        </button>\n        <button\n            type=\"submit\"\n            form={formId}\n            class=\"btn btn-expanded\"\n            class:btn-loading={isSubmitting}\n            disabled={!canSubmit || isSubmitting}\n        >\n            <span class=\"txt\">Restore backup</span>\n        </button>\n    </svelte:fragment>\n</OverlayPanel>\n\n<style>\n    .popup-title {\n        max-width: 80%;\n    }\n</style>\n","<script>\n    import { onMount } from \"svelte\";\n    import { slide } from \"svelte/transition\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import tooltip from \"@/actions/tooltip\";\n    import { confirm } from \"@/stores/confirmation\";\n    import { addSuccessToast } from \"@/stores/toasts\";\n    import BackupCreatePanel from \"@/components/settings/BackupCreatePanel.svelte\";\n    import BackupRestorePanel from \"@/components/settings/BackupRestorePanel.svelte\";\n\n    let createPanel;\n    let restorePanel;\n    let backups = [];\n    let isLoading = false;\n    let isDownloading = {};\n    let isDeleting = {};\n    let canBackup = true;\n\n    loadBackups();\n    loadCanBackup();\n\n    export async function loadBackups() {\n        isLoading = true;\n\n        try {\n            backups = await ApiClient.backups.getFullList();\n\n            // sort backups DESC by their modified date\n            backups.sort((a, b) => {\n                if (a.modified < b.modified) {\n                    return 1;\n                }\n\n                if (a.modified > b.modified) {\n                    return -1;\n                }\n\n                return 0;\n            });\n\n            isLoading = false;\n        } catch (err) {\n            if (!err.isAbort) {\n                ApiClient.error(err);\n                isLoading = false;\n            }\n        }\n    }\n\n    async function download(name) {\n        if (isDownloading[name]) {\n            return;\n        }\n\n        isDownloading[name] = true;\n\n        try {\n            const token = await ApiClient.getSuperuserFileToken();\n            CommonHelper.download(ApiClient.backups.getDownloadURL(token, name));\n        } catch (err) {\n            if (!err.isAbort) {\n                ApiClient.error(err);\n            }\n        }\n\n        delete isDownloading[name];\n        isDownloading = isDownloading;\n    }\n\n    function deleteConfirm(name) {\n        confirm(`Do you really want to delete ${name}?`, () => deleteBackup(name));\n    }\n\n    async function deleteBackup(name) {\n        if (isDeleting[name]) {\n            return;\n        }\n\n        isDeleting[name] = true;\n\n        try {\n            await ApiClient.backups.delete(name);\n            CommonHelper.removeByKey(backups, \"name\", name);\n            loadBackups();\n            addSuccessToast(`Successfully deleted ${name}.`);\n        } catch (err) {\n            if (!err.isAbort) {\n                ApiClient.error(err);\n            }\n        }\n\n        delete isDeleting[name];\n        isDeleting = isDeleting;\n    }\n\n    async function loadCanBackup() {\n        try {\n            const health = await ApiClient.health.check({ $autoCancel: false });\n            const oldCanBackup = canBackup;\n            canBackup = health?.data?.canBackup || false;\n\n            // reload backups list\n            if (oldCanBackup != canBackup && canBackup) {\n                loadBackups();\n            }\n        } catch (_) {}\n    }\n\n    onMount(() => {\n        let canBackupIntervalId = setInterval(() => {\n            loadCanBackup();\n        }, 3000);\n\n        return () => {\n            clearInterval(canBackupIntervalId);\n        };\n    });\n</script>\n\n<div class=\"list list-compact\">\n    <div class=\"list-content\">\n        {#if isLoading}\n            {#each Array(backups.length || 1) as i}\n                <div class=\"list-item list-item-loader\">\n                    <span class=\"skeleton-loader\" />\n                </div>\n            {/each}\n        {:else}\n            {#each backups as backup (backup.key)}\n                <div class=\"list-item\" transition:slide={{ duration: 150 }}>\n                    <i class=\"ri-folder-zip-line\" />\n                    <div class=\"content\">\n                        <span class=\"name backup-name\" title={backup.key}>{backup.key}</span>\n                        <span class=\"size txt-hint txt-nowrap\">\n                            ({CommonHelper.formattedFileSize(backup.size)})\n                        </span>\n                    </div>\n                    <div class=\"actions nonintrusive\">\n                        <button\n                            type=\"button\"\n                            class=\"btn btn-sm btn-circle btn-hint btn-transparent\"\n                            class:btn-loading={isDownloading[backup.key]}\n                            disabled={isDeleting[backup.key] || isDownloading[backup.key]}\n                            aria-label=\"Download\"\n                            use:tooltip={\"Download\"}\n                            on:click|preventDefault={() => download(backup.key)}\n                        >\n                            <i class=\"ri-download-line\" />\n                        </button>\n                        <button\n                            type=\"button\"\n                            class=\"btn btn-sm btn-circle btn-hint btn-transparent\"\n                            disabled={isDeleting[backup.key]}\n                            aria-label=\"Restore\"\n                            use:tooltip={\"Restore\"}\n                            on:click|preventDefault={() => restorePanel.show(backup.key)}\n                        >\n                            <i class=\"ri-restart-line\" />\n                        </button>\n                        <button\n                            type=\"button\"\n                            class=\"btn btn-sm btn-circle btn-hint btn-transparent\"\n                            class:btn-loading={isDeleting[backup.key]}\n                            disabled={isDeleting[backup.key]}\n                            aria-label=\"Delete\"\n                            use:tooltip={\"Delete\"}\n                            on:click|preventDefault={() => deleteConfirm(backup.key)}\n                        >\n                            <i class=\"ri-delete-bin-7-line\" />\n                        </button>\n                    </div>\n                </div>\n            {:else}\n                <div class=\"list-item list-item-placeholder\">\n                    <span class=\"txt\">No backups yet.</span>\n                </div>\n            {/each}\n        {/if}\n    </div>\n\n    <div class=\"list-item list-item-btn\">\n        <button\n            type=\"button\"\n            class=\"btn btn-block btn-transparent\"\n            disabled={isLoading || !canBackup}\n            on:click={() => createPanel?.show()}\n        >\n            {#if canBackup}\n                <i class=\"ri-play-circle-line\" />\n                <span class=\"txt\">Initialize new backup</span>\n            {:else}\n                <span class=\"loader loader-sm\" />\n                <span class=\"txt\">Backup/restore operation is in process</span>\n            {/if}\n        </button>\n    </div>\n</div>\n\n<BackupCreatePanel\n    bind:this={createPanel}\n    on:submit={() => {\n        loadBackups();\n    }}\n/>\n\n<BackupRestorePanel bind:this={restorePanel} />\n\n<style lang=\"scss\">\n    .list-content {\n        overflow: auto;\n        max-height: 342px;\n        .list-item {\n            min-height: 49px;\n        }\n    }\n    .backup-name {\n        max-width: 300px;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n    }\n</style>\n","<script>\n    import { onMount } from \"svelte\";\n    import { slide } from \"svelte/transition\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import tooltip from \"@/actions/tooltip\";\n    import { removeError } from \"@/stores/errors\";\n    import Field from \"@/components/base/Field.svelte\";\n    import RedactedPasswordInput from \"@/components/base/RedactedPasswordInput.svelte\";\n\n    const testRequestKey = \"s3_test_request\";\n\n    export let originalConfig = {};\n    export let config = {};\n    export let configKey = \"s3\";\n    export let toggleLabel = \"Enable S3\";\n    export let testFilesystem = \"storage\"; // storage or backups\n    export let testError = null;\n    export let isTesting = false;\n\n    let testTimeoutId = null;\n    let testDebounceId = null;\n    let maskSecret = false;\n\n    $: if (originalConfig?.enabled) {\n        refreshMaskSecret();\n        testConnectionWithDebounce(100);\n    }\n\n    // clear s3 errors on disable\n    $: if (!config.enabled) {\n        removeError(configKey);\n    }\n\n    function refreshMaskSecret() {\n        maskSecret = !!originalConfig?.accessKey;\n    }\n\n    function testConnectionWithDebounce(timeout) {\n        isTesting = true;\n        clearTimeout(testDebounceId);\n        testDebounceId = setTimeout(() => {\n            testConnection();\n        }, timeout);\n    }\n\n    async function testConnection() {\n        testError = null;\n\n        if (!config.enabled) {\n            isTesting = false;\n            return testError; // nothing to test\n        }\n\n        // auto cancel the test request after 30sec\n        ApiClient.cancelRequest(testRequestKey);\n        clearTimeout(testTimeoutId);\n        testTimeoutId = setTimeout(() => {\n            ApiClient.cancelRequest(testRequestKey);\n            testError = new Error(\"S3 test connection timeout.\");\n            isTesting = false;\n        }, 30000);\n\n        isTesting = true;\n\n        let err;\n\n        try {\n            await ApiClient.settings.testS3(testFilesystem, {\n                $cancelKey: testRequestKey,\n            });\n        } catch (e) {\n            err = e;\n        }\n\n        if (!err?.isAbort) {\n            testError = err;\n            isTesting = false;\n            clearTimeout(testTimeoutId);\n        }\n\n        return testError;\n    }\n\n    onMount(() => {\n        return () => {\n            clearTimeout(testTimeoutId);\n            clearTimeout(testDebounceId);\n        };\n    });\n</script>\n\n<Field class=\"form-field form-field-toggle\" let:uniqueId>\n    <input type=\"checkbox\" id={uniqueId} required bind:checked={config.enabled} />\n    <label for={uniqueId}>{toggleLabel}</label>\n</Field>\n\n<slot {isTesting} {testError} enabled={config.enabled} />\n\n{#if config.enabled}\n    <div class=\"grid\" transition:slide={{ duration: 150 }}>\n        <div class=\"col-lg-6\">\n            <Field class=\"form-field required\" name=\"{configKey}.endpoint\" let:uniqueId>\n                <label for={uniqueId}>Endpoint</label>\n                <input type=\"text\" id={uniqueId} required bind:value={config.endpoint} />\n            </Field>\n        </div>\n        <div class=\"col-lg-3\">\n            <Field class=\"form-field required\" name=\"{configKey}.bucket\" let:uniqueId>\n                <label for={uniqueId}>Bucket</label>\n                <input type=\"text\" id={uniqueId} required bind:value={config.bucket} />\n            </Field>\n        </div>\n        <div class=\"col-lg-3\">\n            <Field class=\"form-field required\" name=\"{configKey}.region\" let:uniqueId>\n                <label for={uniqueId}>Region</label>\n                <input type=\"text\" id={uniqueId} required bind:value={config.region} />\n            </Field>\n        </div>\n        <div class=\"col-lg-6\">\n            <Field class=\"form-field required\" name=\"{configKey}.accessKey\" let:uniqueId>\n                <label for={uniqueId}>Access key</label>\n                <input type=\"text\" id={uniqueId} required bind:value={config.accessKey} />\n            </Field>\n        </div>\n        <div class=\"col-lg-6\">\n            <Field class=\"form-field required\" name=\"{configKey}.secret\" let:uniqueId>\n                <label for={uniqueId}>Secret</label>\n                <RedactedPasswordInput\n                    required\n                    id={uniqueId}\n                    bind:mask={maskSecret}\n                    bind:value={config.secret}\n                />\n            </Field>\n        </div>\n        <div class=\"col-lg-12\">\n            <Field class=\"form-field\" name=\"{configKey}.forcePathStyle\" let:uniqueId>\n                <input type=\"checkbox\" id={uniqueId} bind:checked={config.forcePathStyle} />\n                <label for={uniqueId}>\n                    <span class=\"txt\">Force path-style addressing</span>\n                    <i\n                        class=\"ri-information-line link-hint\"\n                        use:tooltip={{\n                            text: 'Forces the request to use path-style addressing, eg. \"https://s3.amazonaws.com/BUCKET/KEY\" instead of the default \"https://BUCKET.s3.amazonaws.com/KEY\".',\n                            position: \"top\",\n                        }}\n                    />\n                </label>\n            </Field>\n        </div>\n        <!-- margin helper -->\n        <div class=\"col-lg-12\" />\n    </div>\n{/if}\n","<script>\n    import { createEventDispatcher, onDestroy } from \"svelte\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import tooltip from \"@/actions/tooltip\";\n    import { addSuccessToast, addErrorToast } from \"@/stores/toasts\";\n    import { confirm } from \"@/stores/confirmation\";\n\n    const dispatch = createEventDispatcher();\n    const backupRequestKey = \"upload_backup\";\n\n    let classes = \"\";\n    export { classes as class };\n\n    let fileInput;\n    let isUploading = false;\n\n    function resetSelectedFile() {\n        if (fileInput) {\n            fileInput.value = \"\";\n        }\n    }\n\n    function uploadConfirm(file) {\n        if (!file) {\n            return;\n        }\n\n        confirm(\n            `Note that we don't perform validations for the uploaded backup files. Proceed with caution and only if you trust the source.\\n\\n` +\n                `Do you really want to upload \"${file.name}\"?`,\n            () => {\n                upload(file);\n            },\n            () => {\n                resetSelectedFile();\n            },\n        );\n    }\n\n    async function upload(file) {\n        if (isUploading || !file) {\n            return;\n        }\n\n        isUploading = true;\n\n        const data = new FormData();\n        data.set(\"file\", file);\n\n        try {\n            await ApiClient.backups.upload(data, { requestKey: backupRequestKey });\n            isUploading = false;\n            dispatch(\"success\");\n            addSuccessToast(\"Successfully uploaded a new backup.\");\n        } catch (err) {\n            if (!err.isAbort) {\n                isUploading = false;\n                if (err.response?.data?.file?.message) {\n                    addErrorToast(err.response.data.file.message);\n                } else {\n                    ApiClient.error(err);\n                }\n            }\n        }\n\n        resetSelectedFile();\n    }\n\n    onDestroy(() => {\n        ApiClient.cancelRequest(backupRequestKey);\n    });\n</script>\n\n<button\n    type=\"button\"\n    class=\"btn btn-circle btn-transparent {classes}\"\n    class:btn-loading={isUploading}\n    class:btn-disabled={isUploading}\n    aria-label=\"Upload backup\"\n    use:tooltip={\"Upload backup\"}\n    on:click={() => fileInput?.click()}\n>\n    <i class=\"ri-upload-cloud-line\" />\n</button>\n\n<input\n    bind:this={fileInput}\n    type=\"file\"\n    accept=\"application/zip\"\n    class=\"hidden\"\n    on:change={(e) => {\n        uploadConfirm(e?.target?.files?.[0]);\n    }}\n/>\n","<script>\n    import { slide } from \"svelte/transition\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { pageTitle } from \"@/stores/app\";\n    import { removeError, setErrors } from \"@/stores/errors\";\n    import { addSuccessToast } from \"@/stores/toasts\";\n    import tooltip from \"@/actions/tooltip\";\n    import PageWrapper from \"@/components/base/PageWrapper.svelte\";\n    import Field from \"@/components/base/Field.svelte\";\n    import Toggler from \"@/components/base/Toggler.svelte\";\n    import RefreshButton from \"@/components/base/RefreshButton.svelte\";\n    import SettingsSidebar from \"@/components/settings/SettingsSidebar.svelte\";\n    import BackupsList from \"@/components/settings/BackupsList.svelte\";\n    import S3Fields from \"@/components/settings/S3Fields.svelte\";\n    import BackupUploadButton from \"@/components/settings/BackupUploadButton.svelte\";\n\n    $pageTitle = \"Backups\";\n\n    let backupsListComponent;\n    let originalFormSettings = {};\n    let formSettings = {};\n    let isLoading = false;\n    let isSaving = false;\n    let initialHash = \"\";\n    let enableAutoBackups = false;\n    let showBackupsSettings = false;\n    let isTesting = false;\n    let testError = null;\n\n    $: initialHash = JSON.stringify(originalFormSettings);\n\n    $: hasChanges = initialHash != JSON.stringify(formSettings);\n\n    $: if (!enableAutoBackups && formSettings?.backups?.cron) {\n        removeError(\"backups.cron\");\n        formSettings.backups.cron = \"\";\n    }\n\n    loadSettings();\n\n    async function loadSettings() {\n        isLoading = true;\n\n        try {\n            const settings = (await ApiClient.settings.getAll()) || {};\n            init(settings);\n        } catch (err) {\n            ApiClient.error(err);\n        }\n\n        isLoading = false;\n    }\n\n    async function save() {\n        if (isSaving || !hasChanges) {\n            return;\n        }\n\n        isSaving = true;\n\n        try {\n            const settings = await ApiClient.settings.update(CommonHelper.filterRedactedProps(formSettings));\n\n            setErrors({});\n\n            await refreshList();\n\n            init(settings);\n\n            addSuccessToast(\"Successfully saved application settings.\");\n        } catch (err) {\n            ApiClient.error(err);\n        }\n\n        isSaving = false;\n    }\n\n    function init(settings = {}) {\n        formSettings = {\n            backups: settings?.backups || {},\n        };\n\n        enableAutoBackups = formSettings.backups.cron != \"\";\n\n        originalFormSettings = JSON.parse(JSON.stringify(formSettings));\n    }\n\n    function reset() {\n        formSettings = JSON.parse(JSON.stringify(originalFormSettings || { backups: {} }));\n        enableAutoBackups = formSettings.backups.cron != \"\";\n    }\n\n    async function refreshList() {\n        return backupsListComponent?.loadBackups();\n    }\n</script>\n\n<SettingsSidebar />\n\n<PageWrapper>\n    <header class=\"page-header\">\n        <nav class=\"breadcrumbs\">\n            <div class=\"breadcrumb-item\">Settings</div>\n            <div class=\"breadcrumb-item\">{$pageTitle}</div>\n        </nav>\n    </header>\n\n    <div class=\"wrapper\">\n        <div class=\"panel\" autocomplete=\"off\" on:submit|preventDefault={save}>\n            <div class=\"flex m-b-sm flex-gap-10\">\n                <span class=\"txt-xl\">Backup and restore your PocketBase data</span>\n                <RefreshButton class=\"btn-sm\" tooltip={\"Refresh\"} on:refresh={refreshList} />\n                <BackupUploadButton class=\"btn-sm\" on:success={refreshList} />\n            </div>\n\n            <BackupsList bind:this={backupsListComponent} />\n\n            <hr />\n\n            <button\n                type=\"button\"\n                class=\"btn btn-secondary\"\n                class:btn-loading={isLoading}\n                disabled={isLoading}\n                on:click={() => (showBackupsSettings = !showBackupsSettings)}\n            >\n                <span class=\"txt\">Backups options</span>\n                {#if showBackupsSettings}\n                    <i class=\"ri-arrow-up-s-line\" />\n                {:else}\n                    <i class=\"ri-arrow-down-s-line\" />\n                {/if}\n            </button>\n\n            {#if showBackupsSettings && !isLoading}\n                <form\n                    class=\"block\"\n                    autocomplete=\"off\"\n                    on:submit|preventDefault={save}\n                    transition:slide={{ duration: 150 }}\n                >\n                    <Field class=\"form-field form-field-toggle m-t-base m-b-0\" let:uniqueId>\n                        <input type=\"checkbox\" id={uniqueId} bind:checked={enableAutoBackups} />\n                        <label for={uniqueId}>Enable auto backups</label>\n                    </Field>\n\n                    {#if enableAutoBackups}\n                        <div class=\"block\" transition:slide={{ duration: 150 }}>\n                            <div class=\"grid p-t-base p-b-sm\">\n                                <div class=\"col-lg-6\">\n                                    <Field class=\"form-field required\" name=\"backups.cron\" let:uniqueId>\n                                        <label for={uniqueId}>Cron expression</label>\n                                        <!-- svelte-ignore a11y-autofocus -->\n                                        <input\n                                            required\n                                            type=\"text\"\n                                            id={uniqueId}\n                                            class=\"txt-lg txt-mono\"\n                                            placeholder=\"* * * * *\"\n                                            autofocus={!originalFormSettings?.backups?.cron}\n                                            bind:value={formSettings.backups.cron}\n                                        />\n                                        <div class=\"form-field-addon\">\n                                            <button type=\"button\" class=\"btn btn-sm btn-outline p-r-0\">\n                                                <span class=\"txt\">Presets</span>\n                                                <i class=\"ri-arrow-drop-down-fill\" />\n                                                <Toggler class=\"dropdown dropdown-nowrap dropdown-right\">\n                                                    <button\n                                                        type=\"button\"\n                                                        class=\"dropdown-item closable\"\n                                                        on:click={() => {\n                                                            formSettings.backups.cron = \"0 0 * * *\";\n                                                        }}\n                                                    >\n                                                        <span class=\"txt\">Every day at 00:00h</span>\n                                                    </button>\n                                                    <button\n                                                        type=\"button\"\n                                                        class=\"dropdown-item closable\"\n                                                        on:click={() => {\n                                                            formSettings.backups.cron = \"0 0 * * 0\";\n                                                        }}\n                                                    >\n                                                        <span class=\"txt\">Every sunday at 00:00h</span>\n                                                    </button>\n                                                    <button\n                                                        type=\"button\"\n                                                        class=\"dropdown-item closable\"\n                                                        on:click={() => {\n                                                            formSettings.backups.cron = \"0 0 * * 1,3\";\n                                                        }}\n                                                    >\n                                                        <span class=\"txt\">Every Mon and Wed at 00:00h</span>\n                                                    </button>\n                                                    <button\n                                                        type=\"button\"\n                                                        class=\"dropdown-item closable\"\n                                                        on:click={() => {\n                                                            formSettings.backups.cron = \"0 0 1 * *\";\n                                                        }}\n                                                    >\n                                                        <span class=\"txt\">\n                                                            Every first day of the month at 00:00h\n                                                        </span>\n                                                    </button>\n                                                </Toggler>\n                                            </button>\n                                        </div>\n                                        <div class=\"help-block\">\n                                            <!-- prettier-ignore -->\n                                            <p>\n                                                Supports numeric list, steps, ranges or\n                                                <span\n                                                    class=\"link-primary\"\n                                                    use:tooltip={\"@yearly\\n@annually\\n@monthly\\n@weekly\\n@daily\\n@midnight\\n@hourly\"}\n                                                >macros</span>.\n                                                <br>\n                                                The timezone is in UTC.\n                                            </p>\n                                        </div>\n                                    </Field>\n                                </div>\n                                <div class=\"col-lg-6\">\n                                    <Field\n                                        class=\"form-field required\"\n                                        name=\"backups.cronMaxKeep\"\n                                        let:uniqueId\n                                    >\n                                        <label for={uniqueId}>Max @auto backups to keep</label>\n                                        <input\n                                            type=\"number\"\n                                            id={uniqueId}\n                                            min=\"1\"\n                                            bind:value={formSettings.backups.cronMaxKeep}\n                                        />\n                                    </Field>\n                                </div>\n                            </div>\n                        </div>\n                    {/if}\n\n                    <div class=\"clearfix m-b-base\" />\n\n                    <S3Fields\n                        toggleLabel=\"Store backups in S3 storage\"\n                        testFilesystem=\"backups\"\n                        configKey=\"backups.s3\"\n                        originalConfig={originalFormSettings.backups?.s3}\n                        bind:config={formSettings.backups.s3}\n                        bind:isTesting\n                        bind:testError\n                    />\n\n                    <div class=\"flex\">\n                        <div class=\"flex-fill\" />\n\n                        {#if formSettings.backups?.s3?.enabled && !hasChanges && !isSaving}\n                            {#if isTesting}\n                                <span class=\"loader loader-sm\" />\n                            {:else if testError}\n                                <div\n                                    class=\"label label-sm label-warning entrance-right\"\n                                    use:tooltip={testError.data?.message}\n                                >\n                                    <i class=\"ri-error-warning-line txt-warning\" />\n                                    <span class=\"txt\">Failed to establish S3 connection</span>\n                                </div>\n                            {:else}\n                                <div class=\"label label-sm label-success entrance-right\">\n                                    <i class=\"ri-checkbox-circle-line txt-success\" />\n                                    <span class=\"txt\">S3 connected successfully</span>\n                                </div>\n                            {/if}\n                        {/if}\n\n                        {#if hasChanges}\n                            <button\n                                type=\"button\"\n                                class=\"btn btn-hint btn-transparent\"\n                                disabled={!hasChanges || isSaving}\n                                on:click={() => reset()}\n                            >\n                                <span class=\"txt\">Reset</span>\n                            </button>\n                        {/if}\n\n                        <button\n                            type=\"submit\"\n                            class=\"btn btn-expanded\"\n                            class:btn-loading={isSaving}\n                            disabled={!hasChanges || isSaving}\n                            on:click={() => save()}\n                        >\n                            <span class=\"txt\">Save changes</span>\n                        </button>\n                    </div>\n                </form>\n            {/if}\n        </div>\n    </div>\n</PageWrapper>\n","<script>\n    import ApiClient from \"@/utils/ApiClient\";\n    import tooltip from \"@/actions/tooltip\";\n    import { pageTitle } from \"@/stores/app\";\n    import { addSuccessToast } from \"@/stores/toasts\";\n    import PageWrapper from \"@/components/base/PageWrapper.svelte\";\n    import RefreshButton from \"@/components/base/RefreshButton.svelte\";\n    import SettingsSidebar from \"@/components/settings/SettingsSidebar.svelte\";\n\n    $pageTitle = \"Crons\";\n\n    let crons = [];\n    let isLoading = false;\n    let isRunning = {};\n\n    loadCrons();\n\n    async function loadCrons() {\n        isLoading = true;\n\n        try {\n            crons = await ApiClient.crons.getFullList();\n            isLoading = false;\n        } catch (err) {\n            if (!err.isAbort) {\n                ApiClient.error(err);\n                isLoading = false;\n            }\n        }\n    }\n\n    async function cronRun(jobId) {\n        isRunning[jobId] = true;\n\n        try {\n            await ApiClient.crons.run(jobId);\n            addSuccessToast(`Successfully triggered ${jobId}.`);\n            isRunning[jobId] = false;\n        } catch (err) {\n            if (!err.isAbort) {\n                ApiClient.error(err);\n                isRunning[jobId] = false;\n            }\n        }\n    }\n</script>\n\n<SettingsSidebar />\n\n<PageWrapper>\n    <header class=\"page-header\">\n        <nav class=\"breadcrumbs\">\n            <div class=\"breadcrumb-item\">Settings</div>\n            <div class=\"breadcrumb-item\">{$pageTitle}</div>\n        </nav>\n    </header>\n\n    <div class=\"wrapper\">\n        <div class=\"panel\" autocomplete=\"off\">\n            <div class=\"flex m-b-sm flex-gap-10\">\n                <span class=\"txt-xl\">Registered app cron jobs</span>\n                <RefreshButton class=\"btn-sm\" tooltip={\"Refresh\"} on:refresh={loadCrons} />\n            </div>\n\n            <div class=\"list list-compact\">\n                <div class=\"list-content\">\n                    {#if isLoading}\n                        <div class=\"list-item list-item-loader\">\n                            <span class=\"skeleton-loader skeleton-loader-lg\" />\n                        </div>\n                        <div class=\"list-item list-item-loader\">\n                            <span class=\"skeleton-loader skeleton-loader-lg\" />\n                        </div>\n                        <div class=\"list-item list-item-loader\">\n                            <span class=\"skeleton-loader skeleton-loader-lg\" />\n                        </div>\n                        <div class=\"list-item list-item-loader\">\n                            <span class=\"skeleton-loader skeleton-loader-lg\" />\n                        </div>\n                    {:else}\n                        {#each crons as cron (cron.id)}\n                            <div class=\"list-item\">\n                                <!-- <i class=\"ri-time-line\"></i> -->\n                                <div class=\"content\">\n                                    <span class=\"txt\">{cron.id}</span>\n                                </div>\n                                <span class=\"txt-hint txt-nowrap txt-mono cron-expr m-r-xs\">\n                                    {cron.expression}\n                                </span>\n                                <div class=\"actions\">\n                                    <button\n                                        type=\"button\"\n                                        class=\"btn btn-sm btn-circle btn-hint btn-transparent\"\n                                        class:btn-loading={isRunning[cron.id]}\n                                        disabled={isRunning[cron.id]}\n                                        aria-label=\"Run\"\n                                        use:tooltip={\"Run\"}\n                                        on:click|preventDefault={() => cronRun(cron.id)}\n                                    >\n                                        <i class=\"ri-play-large-line\"></i>\n                                    </button>\n                                </div>\n                            </div>\n                        {:else}\n                            <div class=\"list-item list-item-placeholder\">\n                                <span class=\"txt\">No app crons found.</span>\n                            </div>\n                        {/each}\n                    {/if}\n                </div>\n            </div>\n\n            <p class=\"txt-hint m-t-xs\">\n                App cron jobs can be registered only programmatically with\n                <a\n                    href=\"{import.meta.env.PB_DOCS_URL}/go-jobs-scheduling/\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                >\n                    Go\n                </a>\n                or\n                <a\n                    href=\"{import.meta.env.PB_DOCS_URL}/js-jobs-scheduling/\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                >\n                    JavaScript\n                </a>.\n            </p>\n        </div>\n    </div>\n</PageWrapper>\n","<script>\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { pageTitle } from \"@/stores/app\";\n    import { addInfoToast } from \"@/stores/toasts\";\n    import PageWrapper from \"@/components/base/PageWrapper.svelte\";\n    import Field from \"@/components/base/Field.svelte\";\n    import SettingsSidebar from \"@/components/settings/SettingsSidebar.svelte\";\n\n    $pageTitle = \"Export collections\";\n\n    const uniqueId = \"export_\" + CommonHelper.randomString(5);\n\n    let previewContainer;\n    let collections = [];\n    let bulkSelected = {};\n    let isLoadingCollections = false;\n\n    $: schema = JSON.stringify(Object.values(bulkSelected), null, 4);\n\n    $: totalBulkSelected = Object.keys(bulkSelected).length;\n\n    $: areAllSelected = collections.length && totalBulkSelected === collections.length;\n\n    loadCollections();\n\n    async function loadCollections() {\n        isLoadingCollections = true;\n\n        try {\n            collections = await ApiClient.collections.getFullList({\n                batch: 100,\n                $cancelKey: uniqueId,\n            });\n\n            collections = CommonHelper.sortCollections(collections);\n\n            for (let collection of collections) {\n                // delete timestamps\n                delete collection.created;\n                delete collection.updated;\n\n                // unset oauth2 providers\n                delete collection.oauth2?.providers;\n            }\n\n            selectAll();\n        } catch (err) {\n            ApiClient.error(err);\n        }\n\n        isLoadingCollections = false;\n    }\n\n    function download() {\n        CommonHelper.downloadJson(Object.values(bulkSelected), \"pb_schema\");\n    }\n\n    function copy() {\n        CommonHelper.copyToClipboard(schema);\n        addInfoToast(\"The configuration was copied to your clipboard!\", 3000);\n    }\n\n    function toggleSelectAll() {\n        if (areAllSelected) {\n            deselectAll();\n        } else {\n            selectAll();\n        }\n    }\n\n    function deselectAll() {\n        bulkSelected = {};\n    }\n\n    function selectAll() {\n        bulkSelected = {};\n\n        for (const collection of collections) {\n            bulkSelected[collection.id] = collection;\n        }\n    }\n\n    function toggleSelectCollection(collection) {\n        if (!bulkSelected[collection.id]) {\n            bulkSelected[collection.id] = collection;\n        } else {\n            delete bulkSelected[collection.id];\n        }\n\n        bulkSelected = bulkSelected; // trigger reactivity\n    }\n</script>\n\n<SettingsSidebar />\n\n<PageWrapper>\n    <header class=\"page-header\">\n        <nav class=\"breadcrumbs\">\n            <div class=\"breadcrumb-item\">Settings</div>\n            <div class=\"breadcrumb-item\">{$pageTitle}</div>\n        </nav>\n    </header>\n\n    <div class=\"wrapper\">\n        <div class=\"panel\">\n            {#if isLoadingCollections}\n                <div class=\"loader\" />\n            {:else}\n                <div class=\"content txt-xl m-b-base\">\n                    <p>\n                        Below you'll find your current collections configuration that you could import in\n                        another PocketBase environment.\n                    </p>\n                </div>\n\n                <div class=\"export-panel\">\n                    <div class=\"export-list\">\n                        <div class=\"list-item list-item-section\">\n                            <Field class=\"form-field\" let:uniqueId>\n                                <input\n                                    type=\"checkbox\"\n                                    id={uniqueId}\n                                    disabled={!collections.length}\n                                    checked={areAllSelected}\n                                    on:change={() => toggleSelectAll()}\n                                />\n                                <label for={uniqueId}>Select all</label>\n                            </Field>\n                        </div>\n                        {#each collections as collection (collection.id)}\n                            <div class=\"list-item list-item-collection\">\n                                <Field class=\"form-field\" let:uniqueId>\n                                    <input\n                                        type=\"checkbox\"\n                                        id={uniqueId}\n                                        checked={bulkSelected[collection.id]}\n                                        on:change={() => toggleSelectCollection(collection)}\n                                    />\n                                    <label for={uniqueId} title={collection.name}>{collection.name}</label>\n                                </Field>\n                            </div>\n                        {/each}\n                    </div>\n\n                    <!-- svelte-ignore a11y-no-noninteractive-tabindex -->\n                    <!-- svelte-ignore a11y-no-static-element-interactions -->\n                    <div\n                        bind:this={previewContainer}\n                        tabindex=\"0\"\n                        class=\"export-preview\"\n                        on:keydown={(e) => {\n                            // select all\n                            if (e.ctrlKey && e.code === \"KeyA\") {\n                                e.preventDefault();\n                                const selection = window.getSelection();\n                                const range = document.createRange();\n                                range.selectNodeContents(previewContainer);\n                                selection.removeAllRanges();\n                                selection.addRange(range);\n                            }\n                        }}\n                    >\n                        <button\n                            type=\"button\"\n                            class=\"btn btn-sm btn-transparent fade copy-schema\"\n                            disabled={!totalBulkSelected}\n                            on:click={() => copy()}\n                        >\n                            <span class=\"txt\">Copy</span>\n                        </button>\n\n                        <pre class=\"code-wrapper\">{schema}</pre>\n                    </div>\n                </div>\n\n                <div class=\"flex m-t-base\">\n                    <div class=\"flex-fill\" />\n                    <button\n                        type=\"button\"\n                        class=\"btn btn-expanded\"\n                        disabled={!totalBulkSelected}\n                        on:click={() => download()}\n                    >\n                        <i class=\"ri-download-line\" />\n                        <span class=\"txt\">Download as JSON</span>\n                    </button>\n                </div>\n            {/if}\n        </div>\n    </div>\n</PageWrapper>\n","<script>\n    import CommonHelper from \"@/utils/CommonHelper\";\n\n    export let collectionA = {};\n    export let collectionB = {};\n    export let deleteMissing = false;\n    let fieldsListA = [];\n    let fieldsListB = [];\n    let removedFields = [];\n    let sharedFields = [];\n    let addedFields = [];\n\n    $: isDeleteDiff = !collectionB?.id && !collectionB?.name;\n\n    $: isCreateDiff = !isDeleteDiff && !collectionA?.id;\n\n    $: fieldsListA = Array.isArray(collectionA?.fields) ? collectionA?.fields.concat() : [];\n\n    $: if (\n        typeof collectionA?.fields !== \"undefined\" ||\n        typeof collectionB?.fields !== \"undefined\" ||\n        typeof deleteMissing !== \"undefined\"\n    ) {\n        setFieldsListB();\n    }\n\n    $: removedFields = fieldsListA.filter((fieldA) => {\n        return !fieldsListB.find((fieldB) => fieldA.id == fieldB.id);\n    });\n\n    $: sharedFields = fieldsListB.filter((fieldB) => {\n        return fieldsListA.find((fieldA) => fieldA.id == fieldB.id);\n    });\n\n    $: addedFields = fieldsListB.filter((fieldB) => {\n        return !fieldsListA.find((fieldA) => fieldA.id == fieldB.id);\n    });\n\n    $: hasAnyChange = CommonHelper.hasCollectionChanges(collectionA, collectionB, deleteMissing);\n\n    $: mainModelProps = CommonHelper.mergeUnique(\n        Object.keys(collectionA || {}),\n        Object.keys(collectionB || {}),\n    ).filter((key) => {\n        return ![\"fields\", \"created\", \"updated\"].includes(key);\n    });\n\n    function setFieldsListB() {\n        fieldsListB = Array.isArray(collectionB?.fields) ? collectionB?.fields.concat() : [];\n\n        if (!deleteMissing) {\n            fieldsListB = fieldsListB.concat(\n                fieldsListA.filter((fieldA) => {\n                    return !fieldsListB.find((fieldB) => fieldA.id == fieldB.id);\n                }),\n            );\n        }\n    }\n\n    function getFieldById(fields, id) {\n        fields = fields || [];\n\n        for (let field of fields) {\n            if (field.id == id) {\n                return field;\n            }\n        }\n        return null;\n    }\n\n    function hasChanges(valA, valB) {\n        // direct match\n        if (valA === valB) {\n            return false;\n        }\n\n        return JSON.stringify(valA) !== JSON.stringify(valB);\n    }\n\n    function displayValue(value) {\n        if (typeof value === \"undefined\") {\n            return \"\";\n        }\n\n        return CommonHelper.isObject(value) ? JSON.stringify(value, null, 4) : value;\n    }\n</script>\n\n<div class=\"section-title\">\n    {#if !collectionA?.id}\n        <span class=\"label label-success\">Added</span>\n        <strong>{collectionB?.name}</strong>\n    {:else if !collectionB?.id}\n        <span class=\"label label-danger\">Deleted</span>\n        <strong>{collectionA?.name}</strong>\n    {:else}\n        <div class=\"inline-flex fleg-gap-5\">\n            {#if hasAnyChange}\n                <span class=\"label label-warning\">Changed</span>\n            {/if}\n            {#if collectionA.name !== collectionB.name}\n                <strong class=\"txt-strikethrough txt-hint\">{collectionA.name}</strong>\n                <i class=\"ri-arrow-right-line txt-sm\" />\n            {/if}\n            <strong class=\"txt\">{collectionB.name}</strong>\n        </div>\n    {/if}\n</div>\n\n<table class=\"table collections-diff-table m-b-base\">\n    <thead>\n        <tr>\n            <th>Props</th>\n            <th width=\"10%\">Old</th>\n            <th width=\"10%\">New</th>\n        </tr>\n    </thead>\n\n    <tbody>\n        {#each mainModelProps as prop}\n            <tr class:txt-primary={hasChanges(collectionA?.[prop], collectionB?.[prop])}>\n                <td class=\"min-width\">\n                    <span>{prop}</span>\n                </td>\n                <td\n                    class:changed-old-col={!isCreateDiff &&\n                        hasChanges(collectionA?.[prop], collectionB?.[prop])}\n                    class:changed-none-col={isCreateDiff}\n                >\n                    <pre class=\"txt diff-value\">{displayValue(collectionA?.[prop])}</pre>\n                </td>\n                <td\n                    class:changed-new-col={!isDeleteDiff &&\n                        hasChanges(collectionA?.[prop], collectionB?.[prop])}\n                    class:changed-none-col={isDeleteDiff}\n                >\n                    <pre class=\"txt diff-value\">{displayValue(collectionB?.[prop])}</pre>\n                </td>\n            </tr>\n        {/each}\n\n        {#if deleteMissing || isDeleteDiff}\n            {#each removedFields as field}\n                <tr>\n                    <th class=\"min-width\" colspan=\"3\">\n                        <span class=\"txt\">field: {field.name}</span>\n                        <span class=\"label label-danger m-l-5\">\n                            Deleted - <small>\n                                All stored data related to <strong>{field.name}</strong> will be deleted!\n                            </small>\n                        </span>\n                    </th>\n                </tr>\n\n                {#each Object.entries(field) as [key, value]}\n                    <tr class=\"txt-primary\">\n                        <td class=\"min-width field-key-col\">{key}</td>\n                        <td class=\"changed-old-col\">\n                            <pre class=\"txt\">{displayValue(value)}</pre>\n                        </td>\n                        <td class=\"changed-none-col\" />\n                    </tr>\n                {/each}\n            {/each}\n        {/if}\n\n        {#each sharedFields as field}\n            <tr>\n                <th class=\"min-width\" colspan=\"3\">\n                    <span class=\"txt\">field: {field.name}</span>\n                    {#if hasChanges(getFieldById(fieldsListA, field.id), getFieldById(fieldsListB, field.id))}\n                        <span class=\"label label-warning m-l-5\">Changed</span>\n                    {/if}\n                </th>\n            </tr>\n\n            {#each Object.entries(field) as [key, newValue]}\n                <tr class:txt-primary={hasChanges(getFieldById(fieldsListA, field.id)?.[key], newValue)}>\n                    <td class=\"min-width field-key-col\">{key}</td>\n                    <td\n                        class:changed-old-col={hasChanges(\n                            getFieldById(fieldsListA, field.id)?.[key],\n                            newValue,\n                        )}\n                    >\n                        <pre class=\"txt\">{displayValue(getFieldById(fieldsListA, field.id)?.[key])}</pre>\n                    </td>\n                    <td\n                        class:changed-new-col={hasChanges(\n                            getFieldById(fieldsListA, field.id)?.[key],\n                            newValue,\n                        )}\n                    >\n                        <pre class=\"txt\">{displayValue(newValue)}</pre>\n                    </td>\n                </tr>\n            {/each}\n        {/each}\n\n        {#each addedFields as field}\n            <tr>\n                <th class=\"min-width\" colspan=\"3\">\n                    <span class=\"txt\">field: {field.name}</span>\n                    <span class=\"label label-success m-l-5\">Added</span>\n                </th>\n            </tr>\n\n            {#each Object.entries(field) as [key, value]}\n                <tr class=\"txt-primary\">\n                    <td class=\"min-width field-key-col\">{key}</td>\n                    <td class=\"changed-none-col\" />\n                    <td class=\"changed-new-col\">\n                        <pre class=\"txt\">{displayValue(value)}</pre>\n                    </td>\n                </tr>\n            {/each}\n        {/each}\n    </tbody>\n</table>\n\n<style lang=\"scss\">\n    .collections-diff-table {\n        color: var(--txtHintColor);\n        border: 2px solid var(--primaryColor);\n        tr {\n            background: none;\n        }\n        th,\n        td {\n            height: auto;\n            padding: 2px 15px;\n            border-bottom: 1px solid rgba(#000, 0.07);\n        }\n        th {\n            height: 35px;\n            padding: 4px 15px;\n            color: var(--txtPrimaryColor);\n        }\n        thead tr {\n            background: var(--primaryColor);\n            th {\n                color: var(--baseColor);\n                background: none;\n            }\n        }\n        .label {\n            font-weight: normal;\n        }\n        .changed-none-col {\n            color: var(--txtDisabledColor);\n            background: var(--baseAlt1Color);\n        }\n        .changed-old-col {\n            color: var(--txtPrimaryColor);\n            background: var(--dangerAltColor);\n        }\n        .changed-new-col {\n            color: var(--txtPrimaryColor);\n            background: var(--successAltColor);\n        }\n        .field-key-col {\n            padding-left: 30px;\n        }\n        .diff-value {\n            white-space: break-spaces;\n        }\n    }\n</style>\n","<script>\n    import { createEventDispatcher } from \"svelte\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { addSuccessToast } from \"@/stores/toasts\";\n    import { confirm } from \"@/stores/confirmation\";\n    import OverlayPanel from \"@/components/base/OverlayPanel.svelte\";\n    import CollectionsDiffTable from \"@/components/collections/CollectionsDiffTable.svelte\";\n\n    const dispatch = createEventDispatcher();\n\n    let panel;\n    let oldCollections = [];\n    let newCollections = [];\n    let pairs = [];\n    let deleteMissing = false;\n    let isImporting = false;\n\n    $: if (Array.isArray(oldCollections) && Array.isArray(newCollections)) {\n        loadPairs();\n    }\n\n    export function show(oldCollectionsArg, newCollectionsArg, deleteMissingArg = false) {\n        oldCollections = oldCollectionsArg;\n        newCollections = newCollectionsArg;\n        deleteMissing = deleteMissingArg;\n\n        panel?.show();\n    }\n\n    export function hide() {\n        return panel?.hide();\n    }\n\n    function loadPairs() {\n        pairs = [];\n\n        // add modified and deleted (if deleteMissing is set)\n        for (const oldCollection of oldCollections) {\n            const newCollection = CommonHelper.findByKey(newCollections, \"id\", oldCollection.id) || null;\n            if (\n                (deleteMissing && !newCollection?.id) ||\n                (newCollection?.id &&\n                    CommonHelper.hasCollectionChanges(oldCollection, newCollection, deleteMissing))\n            ) {\n                pairs.push({\n                    old: oldCollection,\n                    new: newCollection,\n                });\n            }\n        }\n\n        // add only new collections\n        for (const newCollection of newCollections) {\n            const oldCollection = CommonHelper.findByKey(oldCollections, \"id\", newCollection.id) || null;\n            if (!oldCollection?.id) {\n                pairs.push({\n                    old: oldCollection,\n                    new: newCollection,\n                });\n            }\n        }\n    }\n\n    function submitConfirm() {\n        // find deleted fields\n        const deletedFieldNames = [];\n        if (deleteMissing) {\n            for (const old of oldCollections) {\n                const imported = CommonHelper.findByKey(newCollections, \"id\", old.id);\n                if (!imported) {\n                    // add all fields\n                    deletedFieldNames.push(old.name + \".*\");\n                } else {\n                    // add only deleted fields\n                    const fields = Array.isArray(old.fields) ? old.fields : [];\n                    for (const field of fields) {\n                        if (!CommonHelper.findByKey(imported.fields, \"id\", field.id)) {\n                            deletedFieldNames.push(`${old.name}.${field.name} (${field.id})`);\n                        }\n                    }\n                }\n            }\n        }\n\n        if (deletedFieldNames.length) {\n            confirm(\n                `Do you really want to delete the following collection fields and their related records data:\\n- ${deletedFieldNames.join(\n                    \"\\n- \",\n                )}`,\n                () => {\n                    submit();\n                },\n            );\n        } else {\n            submit();\n        }\n    }\n\n    async function submit() {\n        if (isImporting) {\n            return;\n        }\n\n        isImporting = true;\n\n        try {\n            await ApiClient.collections.import(newCollections, deleteMissing);\n            addSuccessToast(\"Successfully imported collections configuration.\");\n            dispatch(\"submit\");\n        } catch (err) {\n            ApiClient.error(err);\n        }\n\n        isImporting = false;\n\n        hide();\n    }\n</script>\n\n<OverlayPanel\n    bind:this={panel}\n    class=\"full-width-popup import-popup\"\n    overlayClose={false}\n    escClose={!isImporting}\n    beforeHide={() => !isImporting}\n    popup\n    on:show\n    on:hide\n>\n    <svelte:fragment slot=\"header\">\n        <h4 class=\"center txt-break\">Side-by-side diff</h4>\n    </svelte:fragment>\n\n    {#each pairs as pair}\n        <CollectionsDiffTable collectionA={pair.old} collectionB={pair.new} {deleteMissing} />\n    {/each}\n\n    <svelte:fragment slot=\"footer\">\n        <button type=\"button\" class=\"btn btn-transparent\" on:click={hide} disabled={isImporting}>Close</button\n        >\n        <button\n            type=\"button\"\n            class=\"btn btn-expanded\"\n            class:btn-loading={isImporting}\n            disabled={isImporting}\n            on:click={() => submitConfirm()}\n        >\n            <span class=\"txt\">Confirm and import</span>\n        </button>\n    </svelte:fragment>\n</OverlayPanel>\n","<script>\n    import Field from \"@/components/base/Field.svelte\";\n    import PageWrapper from \"@/components/base/PageWrapper.svelte\";\n    import ImportPopup from \"@/components/settings/ImportPopup.svelte\";\n    import SettingsSidebar from \"@/components/settings/SettingsSidebar.svelte\";\n    import { pageTitle } from \"@/stores/app\";\n    import { setErrors } from \"@/stores/errors\";\n    import { addErrorToast } from \"@/stores/toasts\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { tick } from \"svelte\";\n\n    $pageTitle = \"Import collections\";\n\n    let fileInput;\n    let importPopup;\n\n    let schemas = \"\";\n    let isLoadingFile = false;\n    let newCollections = [];\n    let oldCollections = [];\n    let deleteMissing = true;\n    let collectionsToUpdate = [];\n    let isLoadingOldCollections = false;\n    let mergeWithOldCollections = false; // an alternative to the default deleteMissing option\n\n    $: if (typeof schemas !== \"undefined\" && mergeWithOldCollections !== null) {\n        loadNewCollections(schemas);\n    }\n\n    $: isValid =\n        !!schemas &&\n        newCollections.length &&\n        newCollections.length === newCollections.filter((item) => !!item.id && !!item.name).length;\n\n    $: collectionsToDelete = oldCollections.filter((collection) => {\n        return (\n            isValid &&\n            !mergeWithOldCollections &&\n            deleteMissing &&\n            !CommonHelper.findByKey(newCollections, \"id\", collection.id)\n        );\n    });\n\n    $: collectionsToAdd = newCollections.filter((collection) => {\n        return isValid && !CommonHelper.findByKey(oldCollections, \"id\", collection.id);\n    });\n\n    $: if (typeof newCollections !== \"undefined\" || typeof deleteMissing !== \"undefined\") {\n        loadCollectionsToUpdate();\n    }\n\n    $: hasChanges =\n        !!schemas && (collectionsToDelete.length || collectionsToAdd.length || collectionsToUpdate.length);\n\n    $: canImport = !isLoadingOldCollections && isValid && hasChanges;\n\n    $: idReplacableCollections = newCollections.filter((collection) => {\n        let old =\n            CommonHelper.findByKey(oldCollections, \"name\", collection.name) ||\n            CommonHelper.findByKey(oldCollections, \"id\", collection.id);\n\n        if (!old) {\n            return false; // new\n        }\n\n        if (old.id != collection.id) {\n            return true;\n        }\n\n        // check for matching schema fields\n        const oldFields = Array.isArray(old.fields) ? old.fields : [];\n        const newFields = Array.isArray(collection.fields) ? collection.fields : [];\n        for (const field of newFields) {\n            const oldFieldById = CommonHelper.findByKey(oldFields, \"id\", field.id);\n            if (oldFieldById) {\n                continue; // no need to do any replacements\n            }\n\n            const oldFieldByName = CommonHelper.findByKey(oldFields, \"name\", field.name);\n            if (oldFieldByName && field.id != oldFieldByName.id) {\n                return true;\n            }\n        }\n\n        return false;\n    });\n\n    loadOldCollections();\n\n    async function loadOldCollections() {\n        isLoadingOldCollections = true;\n\n        try {\n            oldCollections = await ApiClient.collections.getFullList(200);\n            for (let collection of oldCollections) {\n                // delete timestamps\n                delete collection.created;\n                delete collection.updated;\n\n                // unset oauth2 providers\n                delete collection.oauth2?.providers;\n            }\n        } catch (err) {\n            ApiClient.error(err);\n        }\n\n        isLoadingOldCollections = false;\n    }\n\n    function loadCollectionsToUpdate() {\n        collectionsToUpdate = [];\n\n        if (!isValid) {\n            return;\n        }\n\n        for (let newCollection of newCollections) {\n            const oldCollection = CommonHelper.findByKey(oldCollections, \"id\", newCollection.id);\n            if (\n                // no old collection\n                !oldCollection?.id ||\n                // no changes\n                !CommonHelper.hasCollectionChanges(oldCollection, newCollection, deleteMissing)\n            ) {\n                continue;\n            }\n\n            collectionsToUpdate.push({\n                new: newCollection,\n                old: oldCollection,\n            });\n        }\n    }\n\n    function loadNewCollections() {\n        newCollections = [];\n\n        try {\n            newCollections = JSON.parse(schemas);\n        } catch (_) {}\n\n        if (!Array.isArray(newCollections)) {\n            newCollections = [];\n        } else {\n            newCollections = CommonHelper.filterDuplicatesByKey(newCollections);\n        }\n\n        // normalizations\n        for (let collection of newCollections) {\n            // delete timestamps\n            delete collection.created;\n            delete collection.updated;\n\n            // merge fields with duplicated ids\n            collection.fields = CommonHelper.filterDuplicatesByKey(collection.fields);\n        }\n    }\n\n    function replaceIds() {\n        for (let collection of newCollections) {\n            const old =\n                CommonHelper.findByKey(oldCollections, \"name\", collection.name) ||\n                CommonHelper.findByKey(oldCollections, \"id\", collection.id);\n\n            if (!old) {\n                continue;\n            }\n\n            const originalId = collection.id;\n            const replacedId = old.id;\n            collection.id = replacedId;\n\n            // replace field ids\n            const oldFields = Array.isArray(old.fields) ? old.fields : [];\n            const newFields = Array.isArray(collection.fields) ? collection.fields : [];\n            for (const field of newFields) {\n                const oldField = CommonHelper.findByKey(oldFields, \"name\", field.name);\n                if (oldField && oldField.id) {\n                    field.id = oldField.id;\n                }\n            }\n\n            // update references\n            for (let ref of newCollections) {\n                if (!Array.isArray(ref.fields)) {\n                    continue;\n                }\n                for (let field of ref.fields) {\n                    if (field.collectionId && field.collectionId === originalId) {\n                        field.collectionId = replacedId;\n                    }\n                }\n            }\n\n            // update index names that contains the collection id\n            for (let i = 0; i < collection.indexes?.length; i++) {\n                collection.indexes[i] = collection.indexes[i].replace(\n                    /create\\s+(?:unique\\s+)?\\s*index\\s*(?:if\\s+not\\s+exists\\s+)?(\\S*)\\s+on/gim,\n                    (v) => v.replace(originalId, replacedId),\n                );\n            }\n        }\n\n        schemas = JSON.stringify(newCollections, null, 4);\n    }\n\n    function loadFile(file) {\n        isLoadingFile = true;\n\n        const reader = new FileReader();\n\n        reader.onload = async (event) => {\n            isLoadingFile = false;\n            fileInput.value = \"\"; // reset\n\n            schemas = event.target.result;\n\n            await tick();\n\n            if (!newCollections.length) {\n                addErrorToast(\"Invalid collections configuration.\");\n                clear();\n            }\n        };\n\n        reader.onerror = (err) => {\n            console.warn(err);\n            addErrorToast(\"Failed to load the imported JSON.\");\n\n            isLoadingFile = false;\n            fileInput.value = \"\"; // reset\n        };\n\n        reader.readAsText(file);\n    }\n\n    function clear() {\n        schemas = \"\";\n        fileInput.value = \"\";\n        setErrors({});\n    }\n\n    function review() {\n        const collectionsToImport = !mergeWithOldCollections\n            ? newCollections\n            : CommonHelper.filterDuplicatesByKey(oldCollections.concat(newCollections));\n\n        importPopup?.show(oldCollections, collectionsToImport, deleteMissing);\n    }\n</script>\n\n<SettingsSidebar />\n\n<PageWrapper>\n    <header class=\"page-header\">\n        <nav class=\"breadcrumbs\">\n            <div class=\"breadcrumb-item\">Settings</div>\n            <div class=\"breadcrumb-item\">{$pageTitle}</div>\n        </nav>\n    </header>\n\n    <div class=\"wrapper\">\n        <div class=\"panel\">\n            {#if isLoadingOldCollections}\n                <div class=\"loader\" />\n            {:else}\n                <input\n                    bind:this={fileInput}\n                    type=\"file\"\n                    class=\"hidden\"\n                    accept=\".json\"\n                    on:change={() => {\n                        if (fileInput.files.length) {\n                            loadFile(fileInput.files[0]);\n                        }\n                    }}\n                />\n\n                <div class=\"content txt-xl m-b-base\">\n                    <p>\n                        Paste below the collections configuration you want to import or\n                        <button\n                            class=\"btn btn-outline btn-sm m-l-5\"\n                            class:btn-loading={isLoadingFile}\n                            on:click={() => {\n                                fileInput.click();\n                            }}\n                        >\n                            <span class=\"txt\">Load from JSON file</span>\n                        </button>\n                    </p>\n                </div>\n\n                <Field class=\"form-field {!isValid ? 'field-error' : ''}\" name=\"collections\" let:uniqueId>\n                    <label for={uniqueId} class=\"p-b-10\">Collections</label>\n                    <textarea\n                        id={uniqueId}\n                        class=\"code\"\n                        spellcheck=\"false\"\n                        rows=\"15\"\n                        required\n                        bind:value={schemas}\n                    />\n\n                    {#if !!schemas && !isValid}\n                        <div class=\"help-block help-block-error\">Invalid collections configuration.</div>\n                    {/if}\n                </Field>\n\n                {#if newCollections.length}\n                    <Field class=\"form-field form-field-toggle\" let:uniqueId>\n                        <input\n                            type=\"checkbox\"\n                            id={uniqueId}\n                            bind:checked={mergeWithOldCollections}\n                            disabled={!isValid}\n                        />\n                        <label for={uniqueId}>Merge with the existing collections</label>\n                    </Field>\n                {/if}\n\n                {#if false}\n                    <!-- for now hide the explicit delete control and eventually enable/remove based on the users feedback -->\n                    <Field class=\"form-field form-field-toggle\" let:uniqueId>\n                        <input\n                            type=\"checkbox\"\n                            id={uniqueId}\n                            bind:checked={deleteMissing}\n                            disabled={!isValid}\n                        />\n                        <label for={uniqueId}>Delete missing collections and schema fields</label>\n                    </Field>\n                {/if}\n\n                {#if isValid && newCollections.length && !hasChanges}\n                    <div class=\"alert alert-info\">\n                        <div class=\"icon\">\n                            <i class=\"ri-information-line\" />\n                        </div>\n                        <div class=\"content\">\n                            <string>Your collections configuration is already up-to-date!</string>\n                        </div>\n                    </div>\n                {/if}\n\n                {#if isValid && newCollections.length && hasChanges}\n                    <h5 class=\"section-title\">Detected changes</h5>\n\n                    <div class=\"list\">\n                        {#if collectionsToDelete.length}\n                            {#each collectionsToDelete as collection (collection.id)}\n                                <div class=\"list-item\">\n                                    <span class=\"label label-danger list-label\">Deleted</span>\n                                    <div class=\"inline-flex flex-gap-5\">\n                                        <strong>{collection.name}</strong>\n                                        {#if collection.id}\n                                            <small class=\"txt-hint\">{collection.id}</small>\n                                        {/if}\n                                    </div>\n                                </div>\n                            {/each}\n                        {/if}\n\n                        {#if collectionsToUpdate.length}\n                            {#each collectionsToUpdate as pair (pair.old.id + pair.new.id)}\n                                <div class=\"list-item\">\n                                    <span class=\"label label-warning list-label\">Changed</span>\n                                    <div class=\"inline-flex flex-gap-5\">\n                                        {#if pair.old.name !== pair.new.name}\n                                            <strong class=\"txt-strikethrough txt-hint\">\n                                                {pair.old.name}\n                                            </strong>\n                                            <i class=\"ri-arrow-right-line txt-sm\" />\n                                        {/if}\n                                        <strong>{pair.new.name}</strong>\n                                        {#if pair.new.id}\n                                            <small class=\"txt-hint\">{pair.new.id}</small>\n                                        {/if}\n                                    </div>\n                                </div>\n                            {/each}\n                        {/if}\n\n                        {#if collectionsToAdd.length}\n                            {#each collectionsToAdd as collection (collection.id)}\n                                <div class=\"list-item\">\n                                    <span class=\"label label-success list-label\">Added</span>\n                                    <div class=\"inline-flex flex-gap-5\">\n                                        <strong>{collection.name}</strong>\n                                        {#if collection.id}\n                                            <small class=\"txt-hint\">{collection.id}</small>\n                                        {/if}\n                                    </div>\n                                </div>\n                            {/each}\n                        {/if}\n                    </div>\n                {/if}\n\n                {#if idReplacableCollections.length}\n                    <div class=\"alert alert-warning m-t-base\">\n                        <div class=\"icon\">\n                            <i class=\"ri-error-warning-line\" />\n                        </div>\n                        <div class=\"content\">\n                            <string>\n                                Some of the imported collections share the same name and/or fields but are\n                                imported with different IDs. You can replace them in the import if you want\n                                to.\n                            </string>\n                        </div>\n                        <button\n                            type=\"button\"\n                            class=\"btn btn-warning btn-sm btn-outline\"\n                            on:click={() => replaceIds()}\n                        >\n                            <span class=\"txt\">Replace with original ids</span>\n                        </button>\n                    </div>\n                {/if}\n\n                <div class=\"flex m-t-base\">\n                    {#if !!schemas}\n                        <button type=\"button\" class=\"btn btn-transparent link-hint\" on:click={() => clear()}>\n                            <span class=\"txt\">Clear</span>\n                        </button>\n                    {/if}\n                    <div class=\"flex-fill\" />\n                    <button\n                        type=\"button\"\n                        class=\"btn btn-expanded btn-warning m-l-auto\"\n                        disabled={!canImport}\n                        on:click={review}\n                    >\n                        <span class=\"txt\">Review</span>\n                    </button>\n                </div>\n            {/if}\n        </div>\n    </div>\n</PageWrapper>\n\n<ImportPopup\n    bind:this={importPopup}\n    on:submit={() => {\n        clear();\n        loadOldCollections();\n    }}\n/>\n\n<style>\n    .list-label {\n        min-width: 65px;\n    }\n</style>\n","<script>\n    import tooltip from \"@/actions/tooltip\";\n    import Field from \"@/components/base/Field.svelte\";\n    import ObjectSelect from \"@/components/base/ObjectSelect.svelte\";\n    import PageWrapper from \"@/components/base/PageWrapper.svelte\";\n    import RedactedPasswordInput from \"@/components/base/RedactedPasswordInput.svelte\";\n    import EmailTestPopup from \"@/components/settings/EmailTestPopup.svelte\";\n    import SettingsSidebar from \"@/components/settings/SettingsSidebar.svelte\";\n    import { pageTitle } from \"@/stores/app\";\n    import { setErrors } from \"@/stores/errors\";\n    import { addSuccessToast } from \"@/stores/toasts\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { slide } from \"svelte/transition\";\n\n    const tlsOptions = [\n        { label: \"Auto (StartTLS)\", value: false },\n        { label: \"Always\", value: true },\n    ];\n\n    const authMethods = [\n        { label: \"PLAIN (default)\", value: \"PLAIN\" },\n        { label: \"LOGIN\", value: \"LOGIN\" },\n    ];\n\n    $pageTitle = \"Mail settings\";\n\n    let testPopup;\n    let originalFormSettings = {};\n    let formSettings = {};\n    let isLoading = false;\n    let isSaving = false;\n    let maskPassword = false;\n    let showMoreOptions = false;\n\n    $: initialHash = JSON.stringify(originalFormSettings);\n\n    $: hasChanges = initialHash != JSON.stringify(formSettings);\n\n    loadSettings();\n\n    async function loadSettings() {\n        isLoading = true;\n\n        try {\n            const settings = (await ApiClient.settings.getAll()) || {};\n            init(settings);\n        } catch (err) {\n            ApiClient.error(err);\n        }\n\n        isLoading = false;\n    }\n\n    async function save() {\n        if (isSaving || !hasChanges) {\n            return;\n        }\n\n        isSaving = true;\n\n        try {\n            const settings = await ApiClient.settings.update(CommonHelper.filterRedactedProps(formSettings));\n            init(settings);\n            setErrors({});\n            addSuccessToast(\"Successfully saved mail settings.\");\n        } catch (err) {\n            ApiClient.error(err);\n        }\n\n        isSaving = false;\n    }\n\n    function init(settings = {}) {\n        formSettings = {\n            meta: settings?.meta || {},\n            smtp: settings?.smtp || {},\n        };\n\n        if (!formSettings.smtp.authMethod) {\n            formSettings.smtp.authMethod = authMethods[0].value;\n        }\n\n        originalFormSettings = JSON.parse(JSON.stringify(formSettings));\n\n        maskPassword = !!formSettings.smtp.username;\n    }\n\n    function reset() {\n        formSettings = JSON.parse(JSON.stringify(originalFormSettings || {}));\n    }\n</script>\n\n<SettingsSidebar />\n\n<PageWrapper>\n    <header class=\"page-header\">\n        <nav class=\"breadcrumbs\">\n            <div class=\"breadcrumb-item\">Settings</div>\n            <div class=\"breadcrumb-item\">{$pageTitle}</div>\n        </nav>\n    </header>\n\n    <div class=\"wrapper\">\n        <form class=\"panel\" autocomplete=\"off\" on:submit|preventDefault={() => save()}>\n            <div class=\"content txt-xl m-b-base\">\n                <p>Configure common settings for sending emails.</p>\n            </div>\n\n            {#if isLoading}\n                <div class=\"loader\" />\n            {:else}\n                <div class=\"grid m-b-base\">\n                    <div class=\"col-lg-6\">\n                        <Field class=\"form-field required\" name=\"meta.senderName\" let:uniqueId>\n                            <label for={uniqueId}>Sender name</label>\n                            <input\n                                type=\"text\"\n                                id={uniqueId}\n                                required\n                                bind:value={formSettings.meta.senderName}\n                            />\n                        </Field>\n                    </div>\n\n                    <div class=\"col-lg-6\">\n                        <Field class=\"form-field required\" name=\"meta.senderAddress\" let:uniqueId>\n                            <label for={uniqueId}>Sender address</label>\n                            <input\n                                type=\"email\"\n                                id={uniqueId}\n                                required\n                                bind:value={formSettings.meta.senderAddress}\n                            />\n                        </Field>\n                    </div>\n                </div>\n\n                <Field class=\"form-field form-field-toggle m-b-sm\" let:uniqueId>\n                    <input type=\"checkbox\" id={uniqueId} required bind:checked={formSettings.smtp.enabled} />\n                    <label for={uniqueId}>\n                        <span class=\"txt\">Use SMTP mail server <strong>(recommended)</strong></span>\n                        <i\n                            class=\"ri-information-line link-hint\"\n                            use:tooltip={{\n                                text: 'By default PocketBase uses the unix \"sendmail\" command for sending emails. For better emails deliverability it is recommended to use a SMTP mail server.',\n                                position: \"top\",\n                            }}\n                        />\n                    </label>\n                </Field>\n\n                {#if formSettings.smtp.enabled}\n                    <div transition:slide={{ duration: 150 }}>\n                        <div class=\"grid\">\n                            <div class=\"col-lg-4\">\n                                <Field class=\"form-field required\" name=\"smtp.host\" let:uniqueId>\n                                    <label for={uniqueId}>SMTP server host</label>\n                                    <input\n                                        type=\"text\"\n                                        id={uniqueId}\n                                        required\n                                        bind:value={formSettings.smtp.host}\n                                    />\n                                </Field>\n                            </div>\n                            <div class=\"col-lg-2\">\n                                <Field class=\"form-field required\" name=\"smtp.port\" let:uniqueId>\n                                    <label for={uniqueId}>Port</label>\n                                    <input\n                                        type=\"number\"\n                                        id={uniqueId}\n                                        required\n                                        bind:value={formSettings.smtp.port}\n                                    />\n                                </Field>\n                            </div>\n                            <div class=\"col-lg-3\">\n                                <Field class=\"form-field\" name=\"smtp.username\" let:uniqueId>\n                                    <label for={uniqueId}>Username</label>\n                                    <input\n                                        type=\"text\"\n                                        id={uniqueId}\n                                        bind:value={formSettings.smtp.username}\n                                    />\n                                </Field>\n                            </div>\n                            <div class=\"col-lg-3\">\n                                <Field class=\"form-field\" name=\"smtp.password\" let:uniqueId>\n                                    <label for={uniqueId}>Password</label>\n                                    <RedactedPasswordInput\n                                        id={uniqueId}\n                                        bind:mask={maskPassword}\n                                        bind:value={formSettings.smtp.password}\n                                    />\n                                </Field>\n                            </div>\n                        </div>\n\n                        <button\n                            type=\"button\"\n                            class=\"btn btn-sm btn-secondary m-t-sm m-b-sm\"\n                            on:click|preventDefault={() => {\n                                showMoreOptions = !showMoreOptions;\n                            }}\n                        >\n                            {#if showMoreOptions}\n                                <span class=\"txt\">Hide more options</span>\n                                <i class=\"ri-arrow-up-s-line\" />\n                            {:else}\n                                <span class=\"txt\">Show more options</span>\n                                <i class=\"ri-arrow-down-s-line\" />\n                            {/if}\n                        </button>\n\n                        {#if showMoreOptions}\n                            <div class=\"grid\" transition:slide={{ duration: 150 }}>\n                                <div class=\"col-lg-3\">\n                                    <Field class=\"form-field\" name=\"smtp.tls\" let:uniqueId>\n                                        <label for={uniqueId}>TLS encryption</label>\n                                        <ObjectSelect\n                                            id={uniqueId}\n                                            items={tlsOptions}\n                                            bind:keyOfSelected={formSettings.smtp.tls}\n                                        />\n                                    </Field>\n                                </div>\n                                <div class=\"col-lg-3\">\n                                    <Field class=\"form-field\" name=\"smtp.authMethod\" let:uniqueId>\n                                        <label for={uniqueId}>AUTH method</label>\n                                        <ObjectSelect\n                                            id={uniqueId}\n                                            items={authMethods}\n                                            bind:keyOfSelected={formSettings.smtp.authMethod}\n                                        />\n                                    </Field>\n                                </div>\n                                <div class=\"col-lg-6\">\n                                    <Field class=\"form-field\" name=\"smtp.localName\" let:uniqueId>\n                                        <label for={uniqueId}>\n                                            <span class=\"txt\">EHLO/HELO domain</span>\n                                            <i\n                                                class=\"ri-information-line link-hint\"\n                                                use:tooltip={{\n                                                    text: \"Some SMTP servers, such as the Gmail SMTP-relay, requires a proper domain name in the inital EHLO/HELO exchange and will reject attempts to use localhost.\",\n                                                    position: \"top\",\n                                                }}\n                                            />\n                                        </label>\n                                        <input\n                                            type=\"text\"\n                                            id={uniqueId}\n                                            placeholder=\"Default to localhost\"\n                                            bind:value={formSettings.smtp.localName}\n                                        />\n                                    </Field>\n                                </div>\n                                <div class=\"col-lg-12\" />\n                            </div>\n                        {/if}\n                    </div>\n                {/if}\n\n                <div class=\"flex\">\n                    <div class=\"flex-fill\" />\n\n                    {#if hasChanges}\n                        <button\n                            type=\"button\"\n                            class=\"btn btn-transparent btn-hint\"\n                            disabled={isSaving}\n                            on:click={() => reset()}\n                        >\n                            <span class=\"txt\">Cancel</span>\n                        </button>\n                        <button\n                            type=\"submit\"\n                            class=\"btn btn-expanded\"\n                            class:btn-loading={isSaving}\n                            disabled={!hasChanges || isSaving}\n                            on:click={() => save()}\n                        >\n                            <span class=\"txt\">Save changes</span>\n                        </button>\n                    {:else}\n                        <button\n                            type=\"button\"\n                            class=\"btn btn-expanded btn-outline\"\n                            on:click={() => testPopup?.show()}\n                        >\n                            <i class=\"ri-mail-check-line\" />\n                            <span class=\"txt\">Send test email</span>\n                        </button>\n                    {/if}\n                </div>\n            {/if}\n        </form>\n    </div>\n</PageWrapper>\n\n<EmailTestPopup bind:this={testPopup} />\n","<script>\n    import { slide } from \"svelte/transition\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import { pageTitle } from \"@/stores/app\";\n    import { setErrors } from \"@/stores/errors\";\n    import { removeAllToasts, addSuccessToast } from \"@/stores/toasts\";\n    import tooltip from \"@/actions/tooltip\";\n    import PageWrapper from \"@/components/base/PageWrapper.svelte\";\n    import SettingsSidebar from \"@/components/settings/SettingsSidebar.svelte\";\n    import S3Fields from \"@/components/settings/S3Fields.svelte\";\n\n    $pageTitle = \"Files storage\";\n\n    const testRequestKey = \"s3_test_request\";\n\n    let originalFormSettings = {};\n    let formSettings = {};\n    let isLoading = false;\n    let isSaving = false;\n    let isTesting = false;\n    let testError = null;\n\n    $: initialHash = JSON.stringify(originalFormSettings);\n\n    $: hasChanges = initialHash != JSON.stringify(formSettings);\n\n    loadSettings();\n\n    async function loadSettings() {\n        isLoading = true;\n\n        try {\n            const settings = (await ApiClient.settings.getAll()) || {};\n            init(settings);\n        } catch (err) {\n            ApiClient.error(err);\n        }\n\n        isLoading = false;\n    }\n\n    async function save() {\n        if (isSaving || !hasChanges) {\n            return;\n        }\n\n        isSaving = true;\n\n        try {\n            ApiClient.cancelRequest(testRequestKey);\n            const settings = await ApiClient.settings.update(CommonHelper.filterRedactedProps(formSettings));\n            setErrors({});\n\n            await init(settings);\n\n            removeAllToasts();\n\n            addSuccessToast(\"Successfully saved storage settings.\");\n        } catch (err) {\n            ApiClient.error(err);\n        }\n\n        isSaving = false;\n    }\n\n    async function init(settings = {}) {\n        formSettings = {\n            s3: settings?.s3 || {},\n        };\n\n        originalFormSettings = JSON.parse(JSON.stringify(formSettings));\n    }\n\n    async function reset() {\n        formSettings = JSON.parse(JSON.stringify(originalFormSettings || {}));\n    }\n</script>\n\n<SettingsSidebar />\n\n<PageWrapper>\n    <header class=\"page-header\">\n        <nav class=\"breadcrumbs\">\n            <div class=\"breadcrumb-item\">Settings</div>\n            <div class=\"breadcrumb-item\">{$pageTitle}</div>\n        </nav>\n    </header>\n\n    <div class=\"wrapper\">\n        <form class=\"panel\" autocomplete=\"off\" on:submit|preventDefault={() => save()}>\n            <div class=\"content txt-xl m-b-base\">\n                <p>By default PocketBase uses the local file system to store uploaded files.</p>\n                <p>\n                    If you have limited disk space, you could optionally connect to an S3 compatible storage.\n                </p>\n            </div>\n\n            {#if isLoading}\n                <div class=\"loader\" />\n            {:else}\n                <S3Fields\n                    toggleLabel=\"Use S3 storage\"\n                    originalConfig={originalFormSettings.s3}\n                    bind:config={formSettings.s3}\n                    bind:isTesting\n                    bind:testError\n                >\n                    {#if originalFormSettings.s3?.enabled != formSettings.s3.enabled}\n                        <div transition:slide={{ duration: 150 }}>\n                            <div class=\"alert alert-warning m-0\">\n                                <div class=\"icon\">\n                                    <i class=\"ri-error-warning-line\" />\n                                </div>\n                                <div class=\"content\">\n                                    If you have existing uploaded files, you'll have to migrate them manually\n                                    from the\n                                    <strong>\n                                        {originalFormSettings.s3?.enabled\n                                            ? \"S3 storage\"\n                                            : \"local file system\"}\n                                    </strong>\n                                    to the\n                                    <strong\n                                        >{formSettings.s3.enabled\n                                            ? \"S3 storage\"\n                                            : \"local file system\"}</strong\n                                    >.\n                                    <br />\n                                    There are numerous command line tools that can help you, such as:\n                                    <a\n                                        href=\"https://github.com/rclone/rclone\"\n                                        target=\"_blank\"\n                                        rel=\"noopener noreferrer\"\n                                        class=\"txt-bold\"\n                                    >\n                                        rclone\n                                    </a>,\n                                    <a\n                                        href=\"https://github.com/peak/s5cmd\"\n                                        target=\"_blank\"\n                                        rel=\"noopener noreferrer\"\n                                        class=\"txt-bold\"\n                                    >\n                                        s5cmd\n                                    </a>, etc.\n                                </div>\n                            </div>\n                            <div class=\"clearfix m-t-base\" />\n                        </div>\n                    {/if}\n                </S3Fields>\n\n                <div class=\"flex\">\n                    <div class=\"flex-fill\" />\n\n                    {#if formSettings.s3?.enabled && !hasChanges && !isSaving}\n                        {#if isTesting}\n                            <span class=\"loader loader-sm\" />\n                        {:else if testError}\n                            <div\n                                class=\"label label-sm label-warning entrance-right\"\n                                use:tooltip={testError.data?.message}\n                            >\n                                <i class=\"ri-error-warning-line txt-warning\" />\n                                <span class=\"txt\">Failed to establish S3 connection</span>\n                            </div>\n                        {:else}\n                            <div class=\"label label-sm label-success entrance-right\">\n                                <i class=\"ri-checkbox-circle-line txt-success\" />\n                                <span class=\"txt\">S3 connected successfully</span>\n                            </div>\n                        {/if}\n                    {/if}\n\n                    {#if hasChanges}\n                        <button\n                            type=\"button\"\n                            class=\"btn btn-transparent btn-hint\"\n                            disabled={isSaving}\n                            on:click={() => reset()}\n                        >\n                            <span class=\"txt\">Reset</span>\n                        </button>\n                    {/if}\n\n                    <button\n                        type=\"submit\"\n                        class=\"btn btn-expanded\"\n                        class:btn-loading={isSaving}\n                        disabled={!hasChanges || isSaving}\n                        on:click={() => save()}\n                    >\n                        <span class=\"txt\">Save changes</span>\n                    </button>\n                </div>\n            {/if}\n        </form>\n    </div>\n</PageWrapper>\n","<script>\n    import PageWrapper from \"@/components/base/PageWrapper.svelte\";\n\n    export let nobranding = false;\n</script>\n\n<PageWrapper class=\"full-page\" center>\n    <div class=\"wrapper wrapper-sm m-b-xl panel-wrapper\">\n        {#if !nobranding}\n            <div class=\"block txt-center m-b-lg\">\n                <figure class=\"logo\">\n                    <img\n                        src=\"{import.meta.env.BASE_URL}images/logo.svg\"\n                        alt=\"PocketBase logo\"\n                        width=\"40\"\n                        height=\"40\"\n                    />\n                    <span class=\"txt\">Pocket<strong>Base</strong></span>\n                </figure>\n            </div>\n            <div class=\"clearfix\" />\n        {/if}\n\n        <slot />\n    </div>\n</PageWrapper>\n\n<style>\n    .panel-wrapper {\n        animation: slideIn 200ms;\n    }\n</style>\n","<script>\n    import { link, replace, querystring } from \"svelte-spa-router\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import FullPage from \"@/components/base/FullPage.svelte\";\n    import Field from \"@/components/base/Field.svelte\";\n    import { setErrors } from \"@/stores/errors\";\n    import { addErrorToast, removeAllToasts } from \"@/stores/toasts\";\n\n    const queryParams = new URLSearchParams($querystring);\n\n    let identity = queryParams.get(\"demoEmail\") || \"\";\n    let password = queryParams.get(\"demoPassword\") || \"\";\n\n    let authMethods = {};\n    let currentStep = 1;\n    let totalSteps = 1;\n\n    let passwordAuthSubmitting = false;\n    let otpRequestSubmitting = false;\n    let otpAuthSubmitting = false;\n    let isLoading = false;\n\n    let mfaId = \"\";\n    let otpId = \"\";\n    let lastOTPId = \"\";\n    let otpEmail = \"\";\n    let otpPassword = \"\";\n\n    $: {\n        totalSteps = 1;\n        currentStep = 1;\n\n        if (authMethods?.mfa?.enabled) {\n            totalSteps++;\n        }\n\n        if (authMethods?.otp?.enabled) {\n            totalSteps++;\n        }\n\n        if (mfaId != \"\") {\n            currentStep++;\n        }\n\n        if (otpId != \"\") {\n            currentStep++;\n        }\n    }\n\n    loadAuthMethods();\n\n    async function loadAuthMethods() {\n        if (isLoading) {\n            return;\n        }\n\n        isLoading = true;\n\n        try {\n            authMethods = await ApiClient.collection(\"_superusers\").listAuthMethods();\n        } catch (err) {\n            ApiClient.error(err);\n        }\n\n        isLoading = false;\n    }\n\n    async function authWithPassword() {\n        if (passwordAuthSubmitting) {\n            return;\n        }\n\n        passwordAuthSubmitting = true;\n\n        try {\n            await ApiClient.collection(\"_superusers\").authWithPassword(identity, password);\n            removeAllToasts();\n            setErrors({});\n            replace(\"/\");\n        } catch (err) {\n            if (err.status == 401) {\n                mfaId = err.response.mfaId;\n\n                // show the otp forms\n                if (\n                    // if the identity field is just the email use it to directly send an otp request\n                    authMethods?.password?.identityFields?.length == 1 &&\n                    authMethods.password.identityFields[0] == \"email\"\n                ) {\n                    // prefill and request\n                    otpEmail = identity;\n                    await requestOTP();\n                } else if (/^[^@\\s]+@[^@\\s]+$/.test(identity)) {\n                    // only prefill\n                    otpEmail = identity;\n                }\n            } else if (err.status != 400) {\n                ApiClient.error(err);\n            } else {\n                addErrorToast(\"Invalid login credentials.\");\n            }\n        }\n\n        passwordAuthSubmitting = false;\n    }\n\n    async function requestOTP() {\n        if (otpRequestSubmitting) {\n            return;\n        }\n\n        otpRequestSubmitting = true;\n\n        try {\n            const result = await ApiClient.collection(\"_superusers\").requestOTP(otpEmail);\n            otpId = result.otpId;\n            lastOTPId = otpId;\n            removeAllToasts();\n            setErrors({});\n        } catch (err) {\n            // reset the form\n            if (err.status == 429) {\n                otpId = lastOTPId;\n            }\n\n            ApiClient.error(err);\n        }\n\n        otpRequestSubmitting = false;\n    }\n\n    async function authWithOTP() {\n        if (otpAuthSubmitting) {\n            return;\n        }\n\n        otpAuthSubmitting = true;\n\n        try {\n            await ApiClient.collection(\"_superusers\").authWithOTP(otpId || lastOTPId, otpPassword, { mfaId });\n            removeAllToasts();\n            setErrors({});\n            replace(\"/\");\n        } catch (err) {\n            ApiClient.error(err);\n        }\n\n        otpAuthSubmitting = false;\n    }\n</script>\n\n<FullPage>\n    <div class=\"content txt-center m-b-base\">\n        <h4>\n            Superuser login\n            {#if totalSteps > 1}\n                ({currentStep}/{totalSteps})\n            {/if}\n        </h4>\n    </div>\n\n    {#if isLoading}\n        <div class=\"block txt-center\">\n            <span class=\"loader\" />\n        </div>\n    {:else if authMethods.password.enabled && !mfaId}\n        <!-- auth with password -->\n        <form class=\"block\" on:submit|preventDefault={authWithPassword}>\n            <Field class=\"form-field required\" name=\"identity\" let:uniqueId>\n                <label for={uniqueId}>\n                    {CommonHelper.sentenize(authMethods.password.identityFields.join(\" or \"), false)}\n                </label>\n                <!-- svelte-ignore a11y-autofocus -->\n                <input\n                    id={uniqueId}\n                    type={authMethods.password.identityFields.length == 1 &&\n                    authMethods.password.identityFields[0] == \"email\"\n                        ? \"email\"\n                        : \"text\"}\n                    value={identity}\n                    on:input={(e) => {\n                        identity = e.target.value;\n                    }}\n                    required\n                    autofocus\n                />\n            </Field>\n\n            <Field class=\"form-field required\" name=\"password\" let:uniqueId>\n                <label for={uniqueId}>Password</label>\n                <input type=\"password\" id={uniqueId} bind:value={password} required />\n                <div class=\"help-block\">\n                    <a href=\"/request-password-reset\" class=\"link-hint\" use:link>Forgotten password?</a>\n                </div>\n            </Field>\n\n            <button\n                type=\"submit\"\n                class=\"btn btn-lg btn-block btn-next\"\n                class:btn-disabled={passwordAuthSubmitting}\n                class:btn-loading={passwordAuthSubmitting}\n            >\n                <span class=\"txt\">{totalSteps > 1 ? \"Next\" : \"Login\"}</span>\n                <i class=\"ri-arrow-right-line\" />\n            </button>\n        </form>\n    {:else if authMethods.otp.enabled}\n        {#if !otpId}\n            <!-- request otp -->\n            <form class=\"block\" on:submit|preventDefault={requestOTP}>\n                <Field class=\"form-field required\" name=\"email\" let:uniqueId>\n                    <label for={uniqueId}>Email</label>\n                    <input type=\"email\" id={uniqueId} bind:value={otpEmail} required />\n                </Field>\n\n                <button\n                    type=\"submit\"\n                    class=\"btn btn-lg btn-block btn-next\"\n                    class:btn-disabled={otpRequestSubmitting}\n                    class:btn-loading={otpRequestSubmitting}\n                >\n                    <i class=\"ri-mail-send-line\" />\n                    <span class=\"txt\">Send OTP</span>\n                </button>\n            </form>\n        {:else}\n            {#if otpEmail}\n                <div class=\"content txt-center m-b-sm\">\n                    <p>\n                        Check your <strong>{otpEmail}</strong> inbox and enter in the input below the received\n                        One-time password (OTP).\n                    </p>\n                </div>\n            {/if}\n\n            <!-- auth with otp -->\n            <form class=\"block\" on:submit|preventDefault={authWithOTP}>\n                <Field class=\"form-field required\" name=\"otpId\" let:uniqueId>\n                    <label for={uniqueId}>Id</label>\n                    <input\n                        type=\"text\"\n                        id={uniqueId}\n                        value={otpId}\n                        placeholder={lastOTPId}\n                        on:change={(e) => {\n                            otpId = e.target.value || lastOTPId;\n                            e.target.value = otpId;\n                        }}\n                        required\n                    />\n                </Field>\n\n                <Field class=\"form-field required\" name=\"password\" let:uniqueId>\n                    <label for={uniqueId}>One-time password</label>\n                    <!-- svelte-ignore a11y-autofocus -->\n                    <input type=\"password\" id={uniqueId} bind:value={otpPassword} required autofocus />\n                </Field>\n\n                <button\n                    type=\"submit\"\n                    class=\"btn btn-lg btn-block btn-next\"\n                    class:btn-disabled={otpAuthSubmitting}\n                    class:btn-loading={otpAuthSubmitting}\n                >\n                    <span class=\"txt\">Login</span>\n                    <i class=\"ri-arrow-right-line\" />\n                </button>\n            </form>\n\n            <div class=\"content txt-center m-t-sm\">\n                <button\n                    type=\"button\"\n                    class=\"link-hint\"\n                    disabled={otpAuthSubmitting}\n                    on:click={() => {\n                        otpId = \"\";\n                    }}\n                >\n                    Request another OTP\n                </button>\n            </div>\n        {/if}\n    {/if}\n</FullPage>\n","<script>\n    \n    import { location } from \"svelte-spa-router\";\n    import { pageTitle } from \"@/stores/app\";\n    import {\n        collections,\n        loadCollections\n    } from \"@/stores/collections\";\n    import CollectionUpsertPanel from \"@/components/collections/CollectionUpsertPanel.svelte\";\n\n    $pageTitle = \"plugin page\";\n\n    let collectionUpsertPanel;\n    let iframe;\n\n    function listenIframe() {\n        window.addEventListener(\"message\", (event) => {\n            \n            const { data } = event;\n            const { source, action} = data;\n            if(source.startsWith(\"ui-plugin/\")) {\n                if (action === \"edit-collection\") {\n                    const { id } = data;\n                    showCollectionUpsertPanel(id);\n                }\n            }\n            \n        });\n    }\n\n    async function showCollectionUpsertPanel(id) {\n        if (!$collections) {\n            await loadCollections();\n        }\n\n        const collection = $collections.find((c) => c.id == id);\n        if (collection) {\n            collectionUpsertPanel.show(collection);\n        }\n    }\n\n    function notifyChanged() {\n        loadCollections();\n        iframe.contentWindow.postMessage({\n            source: \"ui-plugin-host\",\n            action: \"changed\",\n        }, \"*\");\n    }\n\n    \n    listenIframe();\n    loadCollections();\n\n</script>\n\n<div class=\"page-wrapper\">\n    {#if $location}\n    <iframe\n        bind:this={iframe}\n        src={$location}\n        title=\"Plugin Manager\"\n        class=\"plugin-iframe\"\n    />\n    {/if}\n</div>\n<CollectionUpsertPanel\n    bind:this={collectionUpsertPanel}\n    on:delete={() => {\n        notifyChanged()\n    }}\n    on:save={() => {\n        notifyChanged()\n    }}\n/>\n\n<style lang=\"scss\">\n    .plugin-iframe {\n        width: 100%;\n        height: 100%;\n        border: none;\n    }\n</style>\n\n\n","/**\n * @typedef {Object} WrappedComponent Object returned by the `wrap` method\n * @property {SvelteComponent} component - Component to load (this is always asynchronous)\n * @property {RoutePrecondition[]} [conditions] - Route pre-conditions to validate\n * @property {Object} [props] - Optional dictionary of static props\n * @property {Object} [userData] - Optional user data dictionary\n * @property {bool} _sveltesparouter - Internal flag; always set to true\n */\n\n/**\n * @callback AsyncSvelteComponent\n * @returns {Promise<SvelteComponent>} Returns a Promise that resolves with a Svelte component\n */\n\n/**\n * @callback RoutePrecondition\n * @param {RouteDetail} detail - Route detail object\n * @returns {boolean|Promise<boolean>} If the callback returns a false-y value, it's interpreted as the precondition failed, so it aborts loading the component (and won't process other pre-condition callbacks)\n */\n\n/**\n * @typedef {Object} WrapOptions Options object for the call to `wrap`\n * @property {SvelteComponent} [component] - Svelte component to load (this is incompatible with `asyncComponent`)\n * @property {AsyncSvelteComponent} [asyncComponent] - Function that returns a Promise that fulfills with a Svelte component (e.g. `{asyncComponent: () => import('Foo.svelte')}`)\n * @property {SvelteComponent} [loadingComponent] - Svelte component to be displayed while the async route is loading (as a placeholder); when unset or false-y, no component is shown while component\n * @property {object} [loadingParams] - Optional dictionary passed to the `loadingComponent` component as params (for an exported prop called `params`)\n * @property {object} [userData] - Optional object that will be passed to events such as `routeLoading`, `routeLoaded`, `conditionsFailed`\n * @property {object} [props] - Optional key-value dictionary of static props that will be passed to the component. The props are expanded with {...props}, so the key in the dictionary becomes the name of the prop.\n * @property {RoutePrecondition[]|RoutePrecondition} [conditions] - Route pre-conditions to add, which will be executed in order\n */\n\n/**\n * Wraps a component to enable multiple capabilities:\n * 1. Using dynamically-imported component, with (e.g. `{asyncComponent: () => import('Foo.svelte')}`), which also allows bundlers to do code-splitting.\n * 2. Adding route pre-conditions (e.g. `{conditions: [...]}`)\n * 3. Adding static props that are passed to the component\n * 4. Adding custom userData, which is passed to route events (e.g. route loaded events) or to route pre-conditions (e.g. `{userData: {foo: 'bar}}`)\n * \n * @param {WrapOptions} args - Arguments object\n * @returns {WrappedComponent} Wrapped component\n */\nexport function wrap(args) {\n    if (!args) {\n        throw Error('Parameter args is required')\n    }\n\n    // We need to have one and only one of component and asyncComponent\n    // This does a \"XNOR\"\n    if (!args.component == !args.asyncComponent) {\n        throw Error('One and only one of component and asyncComponent is required')\n    }\n\n    // If the component is not async, wrap it into a function returning a Promise\n    if (args.component) {\n        args.asyncComponent = () => Promise.resolve(args.component)\n    }\n\n    // Parameter asyncComponent and each item of conditions must be functions\n    if (typeof args.asyncComponent != 'function') {\n        throw Error('Parameter asyncComponent must be a function')\n    }\n    if (args.conditions) {\n        // Ensure it's an array\n        if (!Array.isArray(args.conditions)) {\n            args.conditions = [args.conditions]\n        }\n        for (let i = 0; i < args.conditions.length; i++) {\n            if (!args.conditions[i] || typeof args.conditions[i] != 'function') {\n                throw Error('Invalid parameter conditions[' + i + ']')\n            }\n        }\n    }\n\n    // Check if we have a placeholder component\n    if (args.loadingComponent) {\n        args.asyncComponent.loading = args.loadingComponent\n        args.asyncComponent.loadingParams = args.loadingParams || undefined\n    }\n\n    // Returns an object that contains all the functions to execute too\n    // The _sveltesparouter flag is to confirm the object was created by this router\n    const obj = {\n        component: args.asyncComponent,\n        userData: args.userData,\n        conditions: (args.conditions && args.conditions.length) ? args.conditions : undefined,\n        props: (args.props && Object.keys(args.props).length) ? args.props : {},\n        _sveltesparouter: true\n    }\n\n    return obj\n}\n\nexport default wrap\n","import PageIndex from \"@/components/PageIndex.svelte\";\nimport PageLogs from \"@/components/logs/PageLogs.svelte\";\nimport PageRecords from \"@/components/records/PageRecords.svelte\";\nimport PageApplication from \"@/components/settings/PageApplication.svelte\";\nimport PageBackups from \"@/components/settings/PageBackups.svelte\";\nimport PageCrons from \"@/components/settings/PageCrons.svelte\";\nimport PageExportCollections from \"@/components/settings/PageExportCollections.svelte\";\nimport PageImportCollections from \"@/components/settings/PageImportCollections.svelte\";\nimport PageMail from \"@/components/settings/PageMail.svelte\";\nimport PageStorage from \"@/components/settings/PageStorage.svelte\";\nimport PageSuperuserLogin from \"@/components/superusers/PageSuperuserLogin.svelte\";\nimport PagePlugin from \"@/components/ui-plugins/PageUIPlugin.svelte\";\nimport ApiClient from \"@/utils/ApiClient\";\nimport { isTokenExpired } from \"pocketbase\";\nimport { wrap } from \"svelte-spa-router/wrap\";\n\nconst routes = {\n    \"/pbinstal/:token\": wrap({\n        asyncComponent: () => import(\"@/components/base/PageInstaller.svelte\"),\n        conditions: [(details) => {\n            return details.params.token && !isTokenExpired(details.params.token)\n        }],\n        userData: { showAppSidebar: false },\n    }),\n\n    \"/login\": wrap({\n        component: PageSuperuserLogin,\n        conditions: [(_) => !ApiClient.authStore.isValid],\n        userData: { showAppSidebar: false },\n    }),\n\n    \"/request-password-reset\": wrap({\n        asyncComponent: () => import(\"@/components/superusers/PageSuperuserRequestPasswordReset.svelte\"),\n        conditions: [(_) => !ApiClient.authStore.isValid],\n        userData: { showAppSidebar: false },\n    }),\n\n    \"/confirm-password-reset/:token\": wrap({\n        asyncComponent: () => import(\"@/components/superusers/PageSuperuserConfirmPasswordReset.svelte\"),\n        conditions: [(_) => !ApiClient.authStore.isValid],\n        userData: { showAppSidebar: false },\n    }),\n\n    \"/collections\": wrap({\n        component: PageRecords,\n        conditions: [(_) => ApiClient.authStore.isValid],\n        userData: { showAppSidebar: true },\n    }),\n\n    \"/logs\": wrap({\n        component: PageLogs,\n        conditions: [(_) => ApiClient.authStore.isValid],\n        userData: { showAppSidebar: true },\n    }),\n\n    \"/ui-plugins/*\": wrap({\n        component: PagePlugin,\n        conditions: [(_) => ApiClient.authStore.isValid],\n        userData: { showAppSidebar: true },\n    }),\n\n    \"/settings\": wrap({\n        component: PageApplication,\n        conditions: [(_) => ApiClient.authStore.isValid],\n        userData: { showAppSidebar: true },\n    }),\n\n    \"/settings/mail\": wrap({\n        component: PageMail,\n        conditions: [(_) => ApiClient.authStore.isValid],\n        userData: { showAppSidebar: true },\n    }),\n\n    \"/settings/storage\": wrap({\n        component: PageStorage,\n        conditions: [(_) => ApiClient.authStore.isValid],\n        userData: { showAppSidebar: true },\n    }),\n\n    \"/settings/export-collections\": wrap({\n        component: PageExportCollections,\n        conditions: [(_) => ApiClient.authStore.isValid],\n        userData: { showAppSidebar: true },\n    }),\n\n    \"/settings/import-collections\": wrap({\n        component: PageImportCollections,\n        conditions: [(_) => ApiClient.authStore.isValid],\n        userData: { showAppSidebar: true },\n    }),\n\n    \"/settings/backups\": wrap({\n        component: PageBackups,\n        conditions: [(_) => ApiClient.authStore.isValid],\n        userData: { showAppSidebar: true },\n    }),\n\n    \"/settings/crons\": wrap({\n        component: PageCrons,\n        conditions: [(_) => ApiClient.authStore.isValid],\n        userData: { showAppSidebar: true },\n    }),\n\n    // ---------------------------------------------------------------\n    // Records email confirmation actions\n    // ---------------------------------------------------------------\n\n    // @deprecated\n    \"/users/confirm-password-reset/:token\": wrap({\n        asyncComponent: () => import(\"@/components/records/PageRecordConfirmPasswordReset.svelte\"),\n        userData: { showAppSidebar: false },\n    }),\n    \"/auth/confirm-password-reset/:token\": wrap({\n        asyncComponent: () => import(\"@/components/records/PageRecordConfirmPasswordReset.svelte\"),\n        userData: { showAppSidebar: false },\n    }),\n\n    // @deprecated\n    \"/users/confirm-verification/:token\": wrap({\n        asyncComponent: () => import(\"@/components/records/PageRecordConfirmVerification.svelte\"),\n        userData: { showAppSidebar: false },\n    }),\n    \"/auth/confirm-verification/:token\": wrap({\n        asyncComponent: () => import(\"@/components/records/PageRecordConfirmVerification.svelte\"),\n        userData: { showAppSidebar: false },\n    }),\n\n    // @deprecated\n    \"/users/confirm-email-change/:token\": wrap({\n        asyncComponent: () => import(\"@/components/records/PageRecordConfirmEmailChange.svelte\"),\n        userData: { showAppSidebar: false },\n    }),\n    \"/auth/confirm-email-change/:token\": wrap({\n        asyncComponent: () => import(\"@/components/records/PageRecordConfirmEmailChange.svelte\"),\n        userData: { showAppSidebar: false },\n    }),\n\n    \"/auth/oauth2-redirect-success\": wrap({\n        asyncComponent: () => import(\"@/components/records/PageOAuth2RedirectSuccess.svelte\"),\n        userData: { showAppSidebar: false },\n    }),\n\n    \"/auth/oauth2-redirect-failure\": wrap({\n        asyncComponent: () => import(\"@/components/records/PageOAuth2RedirectFailure.svelte\"),\n        userData: { showAppSidebar: false },\n    }),\n\n    // catch-all fallback\n    \"*\": wrap({\n        component: PageIndex,\n        userData: { showAppSidebar: false },\n    }),\n};\n\nexport default routes;\n","<script>\n    import { link } from \"svelte-spa-router\";\n    import active from \"svelte-spa-router/active\";\n    import tooltip from \"@/actions/tooltip\";\n    import { superuser } from \"@/stores/superuser\";\n    import ApiClient from \"@/utils/ApiClient\";\n\n    let plugins = [];\n\n    $: if ($superuser?.id) {\n        loadPlugins();\n    }\n\n    async function loadPlugins() {\n        try {\n            const loaded = await ApiClient.send(\"/api/ui-plugins\", {\n                method: \"GET\",\n                requestKey: \"ui-plugins\",\n            });\n            plugins = loaded.plugins || []\n        } catch (err) {\n            if (!err?.isAbort) {\n                console.warn(\"Failed to load UI plugins.\", err);\n            }\n        }\n    }\n</script>\n\n{#each plugins as plugin}\n    <a\n        href={`/ui-plugins/${plugin.base}/`}\n        class=\"menu-item\"\n        aria-label={plugin.name}\n        use:link\n        use:active={{ path: `/ui-plugins/${plugin.base}/?.*`, className: \"current-route\" }}\n        use:tooltip={{ text: plugin.name, position: \"right\" }}\n    >\n        <i class={plugin.icon} />\n    </a>\n{/each}\n","<script>\n    import \"./scss/main.scss\";\n\n    import tooltip from \"@/actions/tooltip\";\n    import Confirmation from \"@/components/base/Confirmation.svelte\";\n    import TinyMCE from \"@/components/base/TinyMCE.svelte\";\n    import Toasts from \"@/components/base/Toasts.svelte\";\n    import Toggler from \"@/components/base/Toggler.svelte\";\n    import { appName, hideControls, pageTitle } from \"@/stores/app\";\n    import { resetConfirmation } from \"@/stores/confirmation\";\n    import { setErrors } from \"@/stores/errors\";\n    import { superuser } from \"@/stores/superuser\";\n    import ApiClient from \"@/utils/ApiClient\";\n    import CommonHelper from \"@/utils/CommonHelper\";\n    import Router, { link, replace } from \"svelte-spa-router\";\n    import active from \"svelte-spa-router/active\";\n    import routes from \"./routes\";\n    import SidebarPluginLinks from \"@/components/ui-plugins/SidebarUIPluginLinks.svelte\";\n\n    let oldLocation = undefined;\n\n    let showAppSidebar = false;\n\n    let isTinyMCEPreloaded = false;\n\n    $: if ($superuser?.id) {\n        loadSettings();\n    }\n\n    function handleRouteLoading(e) {\n        if (e?.detail?.location === oldLocation) {\n            return; // not an actual change\n        }\n\n        showAppSidebar = !!e?.detail?.userData?.showAppSidebar;\n\n        oldLocation = e?.detail?.location;\n\n        // resets\n        $pageTitle = \"\";\n        setErrors({});\n        resetConfirmation();\n    }\n\n    function handleRouteFailure() {\n        replace(\"/\");\n    }\n\n    async function loadSettings() {\n        if (!$superuser?.id) {\n            return;\n        }\n\n        try {\n            const settings = await ApiClient.settings.getAll({\n                $cancelKey: \"initialAppSettings\",\n            });\n            $appName = settings?.meta?.appName || \"\";\n            $hideControls = !!settings?.meta?.hideControls;\n        } catch (err) {\n            if (!err?.isAbort) {\n                console.warn(\"Failed to load app settings.\", err);\n            }\n        }\n    }\n\n    function logout() {\n        ApiClient.logout();\n    }\n</script>\n\n<svelte:head>\n    <title>{CommonHelper.joinNonEmpty([$pageTitle, $appName, \"PocketBase\"], \" - \")}</title>\n\n    {#if window.location.protocol == \"https:\"}\n        <link\n            rel=\"shortcut icon\"\n            type=\"image/png\"\n            href=\"{import.meta.env.BASE_URL}images/favicon/favicon_prod.png\"\n        />\n    {/if}\n</svelte:head>\n\n<div class=\"app-layout\">\n    {#if $superuser?.id && showAppSidebar}\n        <aside class=\"app-sidebar\">\n            <a href=\"/\" class=\"logo logo-sm\" use:link>\n                <img\n                    src=\"{import.meta.env.BASE_URL}images/logo.svg\"\n                    alt=\"PocketBase logo\"\n                    width=\"40\"\n                    height=\"40\"\n                />\n            </a>\n\n            <nav class=\"main-menu\">\n                <a\n                    href=\"/collections\"\n                    class=\"menu-item\"\n                    aria-label=\"Collections\"\n                    use:link\n                    use:active={{ path: \"/collections/?.*\", className: \"current-route\" }}\n                    use:tooltip={{ text: \"Collections\", position: \"right\" }}\n                >\n                    <i class=\"ri-database-2-line\" />\n                </a>\n                <a\n                    href=\"/logs\"\n                    class=\"menu-item\"\n                    aria-label=\"Logs\"\n                    use:link\n                    use:active={{ path: \"/logs/?.*\", className: \"current-route\" }}\n                    use:tooltip={{ text: \"Logs\", position: \"right\" }}\n                >\n                    <i class=\"ri-line-chart-line\" />\n                </a>\n                <a\n                    href=\"/settings\"\n                    class=\"menu-item\"\n                    aria-label=\"Settings\"\n                    use:link\n                    use:active={{ path: \"/settings/?.*\", className: \"current-route\" }}\n                    use:tooltip={{ text: \"Settings\", position: \"right\" }}\n                >\n                    <i class=\"ri-tools-line\" />\n                </a>\n                <SidebarPluginLinks />\n            </nav>\n\n            <div\n                tabindex=\"0\"\n                role=\"button\"\n                aria-label=\"Logged superuser menu\"\n                class=\"thumb thumb-circle link-hint\"\n                title={$superuser.email}\n            >\n                <span class=\"initials\">{CommonHelper.getInitials($superuser.email)}</span>\n                <Toggler class=\"dropdown dropdown-nowrap dropdown-upside dropdown-left\">\n                    <div class=\"txt-ellipsis current-superuser\" title={$superuser.email}>\n                        {$superuser.email}\n                    </div>\n                    <hr />\n                    <a\n                        href=\"/collections?collection=_superusers\"\n                        class=\"dropdown-item closable\"\n                        role=\"menuitem\"\n                        use:link\n                    >\n                        <i class=\"ri-shield-user-line\" aria-hidden=\"true\" />\n                        <span class=\"txt\">Manage superusers</span>\n                    </a>\n                    <button type=\"button\" class=\"dropdown-item closable\" role=\"menuitem\" on:click={logout}>\n                        <i class=\"ri-logout-circle-line\" aria-hidden=\"true\" />\n                        <span class=\"txt\">Logout</span>\n                    </button>\n                </Toggler>\n            </div>\n        </aside>\n    {/if}\n\n    <div class=\"app-body\">\n        <Router {routes} on:routeLoading={handleRouteLoading} on:conditionsFailed={handleRouteFailure} />\n\n        <Toasts />\n    </div>\n</div>\n\n<Confirmation />\n\n{#if showAppSidebar && !isTinyMCEPreloaded}\n    <div class=\"tinymce-preloader hidden\">\n        <TinyMCE\n            conf={CommonHelper.defaultEditorOptions()}\n            on:init={() => {\n                isTinyMCEPreloaded = true;\n            }}\n        />\n    </div>\n{/if}\n\n<style>\n    .current-superuser {\n        padding: 10px;\n        max-width: 200px;\n        color: var(--txtHintColor);\n    }\n</style>\n","import App from './App.svelte'\n\nconst app = new App({\n  target: document.getElementById('app')\n});\n\nexport default app\n"],"file":"assets/index-Q2wdnhdj.js"}